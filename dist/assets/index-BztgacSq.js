var e8=Object.defineProperty;var FT=t=>{throw TypeError(t)};var t8=(t,e,n)=>e in t?e8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>t8(t,typeof e!="symbol"?e+"":e,n),n1=(t,e,n)=>e.has(t)||FT("Cannot "+n);var y=(t,e,n)=>(n1(t,e,"read from private field"),n?n.call(t):e.get(t)),B=(t,e,n)=>e.has(t)?FT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),D=(t,e,n,r)=>(n1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(n1(t,e,"access private method"),n);var cr=(t,e,n,r)=>({set _(i){D(t,e,i,n)},get _(){return y(t,e,r)}});function n8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nj={exports:{}},Nx={},rj={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=Symbol.for("react.element"),r8=Symbol.for("react.portal"),i8=Symbol.for("react.fragment"),a8=Symbol.for("react.strict_mode"),s8=Symbol.for("react.profiler"),o8=Symbol.for("react.provider"),l8=Symbol.for("react.context"),u8=Symbol.for("react.forward_ref"),c8=Symbol.for("react.suspense"),d8=Symbol.for("react.memo"),h8=Symbol.for("react.lazy"),zT=Symbol.iterator;function f8(t){return t===null||typeof t!="object"?null:(t=zT&&t[zT]||t["@@iterator"],typeof t=="function"?t:null)}var ij={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aj=Object.assign,sj={};function mf(t,e,n){this.props=t,this.context=e,this.refs=sj,this.updater=n||ij}mf.prototype.isReactComponent={};mf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oj(){}oj.prototype=mf.prototype;function DE(t,e,n){this.props=t,this.context=e,this.refs=sj,this.updater=n||ij}var $E=DE.prototype=new oj;$E.constructor=DE;aj($E,mf.prototype);$E.isPureReactComponent=!0;var BT=Array.isArray,lj=Object.prototype.hasOwnProperty,FE={current:null},uj={key:!0,ref:!0,__self:!0,__source:!0};function cj(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)lj.call(e,r)&&!uj.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:vy,type:t,key:a,ref:s,props:i,_owner:FE.current}}function p8(t,e){return{$$typeof:vy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zE(t){return typeof t=="object"&&t!==null&&t.$$typeof===vy}function m8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var UT=/\/+/g;function r1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m8(""+t.key):e.toString(36)}function Rv(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vy:case r8:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+r1(s,0):r,BT(i)?(n="",t!=null&&(n=t.replace(UT,"$&/")+"/"),Rv(i,e,n,"",function(u){return u})):i!=null&&(zE(i)&&(i=p8(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(UT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",BT(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+r1(a,o);s+=Rv(a,e,n,l,i)}else if(l=f8(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+r1(a,o++),s+=Rv(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function By(t,e,n){if(t==null)return t;var r=[],i=0;return Rv(t,r,"","",function(a){return e.call(n,a,i++)}),r}function g8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Lv={transition:null},y8={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Lv,ReactCurrentOwner:FE};function dj(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:By,forEach:function(t,e,n){By(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return By(t,function(){e++}),e},toArray:function(t){return By(t,function(e){return e})||[]},only:function(t){if(!zE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=mf;Je.Fragment=i8;Je.Profiler=s8;Je.PureComponent=DE;Je.StrictMode=a8;Je.Suspense=c8;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8;Je.act=dj;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aj({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=FE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)lj.call(e,l)&&!uj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:vy,type:t.type,key:i,ref:a,props:r,_owner:s}};Je.createContext=function(t){return t={$$typeof:l8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o8,_context:t},t.Consumer=t};Je.createElement=cj;Je.createFactory=function(t){var e=cj.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:u8,render:t}};Je.isValidElement=zE;Je.lazy=function(t){return{$$typeof:h8,_payload:{_status:-1,_result:t},_init:g8}};Je.memo=function(t,e){return{$$typeof:d8,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Lv.transition;Lv.transition={};try{t()}finally{Lv.transition=e}};Je.unstable_act=dj;Je.useCallback=function(t,e){return kr.current.useCallback(t,e)};Je.useContext=function(t){return kr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return kr.current.useEffect(t,e)};Je.useId=function(){return kr.current.useId()};Je.useImperativeHandle=function(t,e,n){return kr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return kr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return kr.current.useReducer(t,e,n)};Je.useRef=function(t){return kr.current.useRef(t)};Je.useState=function(t){return kr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return kr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return kr.current.useTransition()};Je.version="18.3.1";rj.exports=Je;var N=rj.exports;const re=ot(N),v8=n8({__proto__:null,default:re},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b8=N,x8=Symbol.for("react.element"),w8=Symbol.for("react.fragment"),S8=Object.prototype.hasOwnProperty,k8=b8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_8={key:!0,ref:!0,__self:!0,__source:!0};function hj(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)S8.call(e,r)&&!_8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x8,type:t,key:a,ref:s,props:i,_owner:k8.current}}Nx.Fragment=w8;Nx.jsx=hj;Nx.jsxs=hj;nj.exports=Nx;var _=nj.exports,fj={exports:{}},mi={},pj={exports:{}},mj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,W){var R=G.length;G.push(W);e:for(;0<R;){var V=R-1>>>1,H=G[V];if(0<i(H,W))G[V]=W,G[R]=H,R=V;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],R=G.pop();if(R!==W){G[0]=R;e:for(var V=0,H=G.length,$=H>>>1;V<$;){var ie=2*(V+1)-1,Z=G[ie],he=ie+1,we=G[he];if(0>i(Z,R))he<H&&0>i(we,Z)?(G[V]=we,G[he]=R,V=he):(G[V]=Z,G[ie]=R,V=ie);else if(he<H&&0>i(we,R))G[V]=we,G[he]=R,V=he;else break e}}return W}function i(G,W){var R=G.sortIndex-W.sortIndex;return R!==0?R:G.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=G)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function S(G){if(p=!1,x(G),!m)if(n(l)!==null)m=!0,X(w);else{var W=n(u);W!==null&&z(S,W.startTime-G)}}function w(G,W){m=!1,p&&(p=!1,g(E),E=-1),f=!0;var R=h;try{for(x(W),d=n(l);d!==null&&(!(d.expirationTime>W)||G&&!I());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var H=V(d.expirationTime<=W);W=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),x(W)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var ie=n(u);ie!==null&&z(S,ie.startTime-W),$=!1}return $}finally{d=null,h=R,f=!1}}var k=!1,A=null,E=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function T(){if(A!==null){var G=t.unstable_now();O=G;var W=!0;try{W=A(!0,G)}finally{W?j():(k=!1,A=null)}}else k=!1}var j;if(typeof b=="function")j=function(){b(T)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,L=C.port2;C.port1.onmessage=T,j=function(){L.postMessage(null)}}else j=function(){v(T,0)};function X(G){A=G,k||(k=!0,j())}function z(G,W){E=v(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,X(w))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var R=h;h=W;try{return G()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=h;h=G;try{return W()}finally{h=R}},t.unstable_scheduleCallback=function(G,W,R){var V=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?V+R:V):R=V,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,G={id:c++,callback:W,priorityLevel:G,startTime:R,expirationTime:H,sortIndex:-1},R>V?(G.sortIndex=R,e(u,G),n(l)===null&&G===n(u)&&(p?(g(E),E=-1):p=!0,z(S,R-V))):(G.sortIndex=H,e(l,G),m||f||(m=!0,X(w))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var W=h;return function(){var R=h;h=W;try{return G.apply(this,arguments)}finally{h=R}}}})(mj);pj.exports=mj;var A8=pj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E8=N,fi=A8;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gj=new Set,Qp={};function kc(t,e){Rh(t,e),Rh(t+"Capture",e)}function Rh(t,e){for(Qp[t]=e,t=0;t<e.length;t++)gj.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OS=Object.prototype.hasOwnProperty,C8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HT={},WT={};function P8(t){return OS.call(WT,t)?!0:OS.call(HT,t)?!1:C8.test(t)?WT[t]=!0:(HT[t]=!0,!1)}function T8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O8(t,e,n,r){if(e===null||typeof e>"u"||T8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var BE=/[\-:]([a-z])/g;function UE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(BE,UE);Vn[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(BE,UE);Vn[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(BE,UE);Vn[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function HE(t,e,n,r){var i=Vn.hasOwnProperty(e)?Vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(O8(e,n,i,r)&&(n=null),r||i===null?P8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var uo=E8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uy=Symbol.for("react.element"),rd=Symbol.for("react.portal"),id=Symbol.for("react.fragment"),WE=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),yj=Symbol.for("react.provider"),vj=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),NS=Symbol.for("react.suspense"),IS=Symbol.for("react.suspense_list"),GE=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),bj=Symbol.for("react.offscreen"),VT=Symbol.iterator;function Lf(t){return t===null||typeof t!="object"?null:(t=VT&&t[VT]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,i1;function lp(t){if(i1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);i1=e&&e[1]||""}return`
`+i1+t}var a1=!1;function s1(t,e){if(!t||a1)return"";a1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{a1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lp(t):""}function M8(t){switch(t.tag){case 5:return lp(t.type);case 16:return lp("Lazy");case 13:return lp("Suspense");case 19:return lp("SuspenseList");case 0:case 2:case 15:return t=s1(t.type,!1),t;case 11:return t=s1(t.type.render,!1),t;case 1:return t=s1(t.type,!0),t;default:return""}}function RS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case id:return"Fragment";case rd:return"Portal";case MS:return"Profiler";case WE:return"StrictMode";case NS:return"Suspense";case IS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vj:return(t.displayName||"Context")+".Consumer";case yj:return(t._context.displayName||"Context")+".Provider";case VE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GE:return e=t.displayName||null,e!==null?e:RS(t.type)||"Memo";case bo:e=t._payload,t=t._init;try{return RS(t(e))}catch{}}return null}function N8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RS(e);case 8:return e===WE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I8(t){var e=xj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hy(t){t._valueTracker||(t._valueTracker=I8(t))}function wj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function N0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function LS(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function GT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sj(t,e){e=e.checked,e!=null&&HE(t,"checked",e,!1)}function jS(t,e){Sj(t,e);var n=yl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?DS(t,e.type,n):e.hasOwnProperty("defaultValue")&&DS(t,e.type,yl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function DS(t,e,n){(e!=="number"||N0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var up=Array.isArray;function xd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $S(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(up(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yl(n)}}function kj(t,e){var n=yl(e.value),r=yl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _j(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_j(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wy,Aj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wy=Wy||document.createElement("div"),Wy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R8=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(t){R8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mp[e]=Mp[t]})});function Ej(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mp.hasOwnProperty(t)&&Mp[t]?(""+e).trim():e+"px"}function Cj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ej(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var L8=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zS(t,e){if(e){if(L8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function BS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var US=null;function qE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var HS=null,wd=null,Sd=null;function YT(t){if(t=wy(t)){if(typeof HS!="function")throw Error(be(280));var e=t.stateNode;e&&(e=Dx(e),HS(t.stateNode,t.type,e))}}function Pj(t){wd?Sd?Sd.push(t):Sd=[t]:wd=t}function Tj(){if(wd){var t=wd,e=Sd;if(Sd=wd=null,YT(t),e)for(t=0;t<e.length;t++)YT(e[t])}}function Oj(t,e){return t(e)}function Mj(){}var o1=!1;function Nj(t,e,n){if(o1)return t(e,n);o1=!0;try{return Oj(t,e,n)}finally{o1=!1,(wd!==null||Sd!==null)&&(Mj(),Tj())}}function em(t,e){var n=t.stateNode;if(n===null)return null;var r=Dx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var WS=!1;if(Js)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){WS=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{WS=!1}function j8(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Np=!1,I0=null,R0=!1,VS=null,D8={onError:function(t){Np=!0,I0=t}};function $8(t,e,n,r,i,a,s,o,l){Np=!1,I0=null,j8.apply(D8,arguments)}function F8(t,e,n,r,i,a,s,o,l){if($8.apply(this,arguments),Np){if(Np){var u=I0;Np=!1,I0=null}else throw Error(be(198));R0||(R0=!0,VS=u)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ij(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZT(t){if(_c(t)!==t)throw Error(be(188))}function z8(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ZT(i),t;if(a===r)return ZT(i),e;a=a.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function Rj(t){return t=z8(t),t!==null?Lj(t):null}function Lj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lj(t);if(e!==null)return e;t=t.sibling}return null}var jj=fi.unstable_scheduleCallback,QT=fi.unstable_cancelCallback,B8=fi.unstable_shouldYield,U8=fi.unstable_requestPaint,Jt=fi.unstable_now,H8=fi.unstable_getCurrentPriorityLevel,XE=fi.unstable_ImmediatePriority,Dj=fi.unstable_UserBlockingPriority,L0=fi.unstable_NormalPriority,W8=fi.unstable_LowPriority,$j=fi.unstable_IdlePriority,Ix=null,Ja=null;function V8(t){if(Ja&&typeof Ja.onCommitFiberRoot=="function")try{Ja.onCommitFiberRoot(Ix,t,void 0,(t.current.flags&128)===128)}catch{}}var xa=Math.clz32?Math.clz32:X8,G8=Math.log,q8=Math.LN2;function X8(t){return t>>>=0,t===0?32:31-(G8(t)/q8|0)|0}var Vy=64,Gy=4194304;function cp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=cp(o):(a&=s,a!==0&&(r=cp(a)))}else s=n&~i,s!==0?r=cp(s):a!==0&&(r=cp(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xa(e),i=1<<n,r|=t[n],e&=~i;return r}function K8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-xa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=K8(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function GS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fj(){var t=Vy;return Vy<<=1,!(Vy&4194240)&&(Vy=64),t}function l1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function by(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xa(e),t[e]=n}function Z8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function KE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function zj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bj,YE,Uj,Hj,Wj,qS=!1,qy=[],al=null,sl=null,ol=null,tm=new Map,nm=new Map,ko=[],Q8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JT(t,e){switch(t){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":tm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nm.delete(e.pointerId)}}function Df(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=wy(e),e!==null&&YE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J8(t,e,n,r,i){switch(e){case"focusin":return al=Df(al,t,e,n,r,i),!0;case"dragenter":return sl=Df(sl,t,e,n,r,i),!0;case"mouseover":return ol=Df(ol,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return tm.set(a,Df(tm.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,nm.set(a,Df(nm.get(a)||null,t,e,n,r,i)),!0}return!1}function Vj(t){var e=Zl(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=Ij(n),e!==null){t.blockedOn=e,Wj(t.priority,function(){Uj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=XS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);US=r,n.target.dispatchEvent(r),US=null}else return e=wy(n),e!==null&&YE(e),t.blockedOn=n,!1;e.shift()}return!0}function eO(t,e,n){jv(t)&&n.delete(e)}function eU(){qS=!1,al!==null&&jv(al)&&(al=null),sl!==null&&jv(sl)&&(sl=null),ol!==null&&jv(ol)&&(ol=null),tm.forEach(eO),nm.forEach(eO)}function $f(t,e){t.blockedOn===e&&(t.blockedOn=null,qS||(qS=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,eU)))}function rm(t){function e(i){return $f(i,t)}if(0<qy.length){$f(qy[0],t);for(var n=1;n<qy.length;n++){var r=qy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(al!==null&&$f(al,t),sl!==null&&$f(sl,t),ol!==null&&$f(ol,t),tm.forEach(e),nm.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)Vj(n),n.blockedOn===null&&ko.shift()}var kd=uo.ReactCurrentBatchConfig,D0=!0;function tU(t,e,n,r){var i=gt,a=kd.transition;kd.transition=null;try{gt=1,ZE(t,e,n,r)}finally{gt=i,kd.transition=a}}function nU(t,e,n,r){var i=gt,a=kd.transition;kd.transition=null;try{gt=4,ZE(t,e,n,r)}finally{gt=i,kd.transition=a}}function ZE(t,e,n,r){if(D0){var i=XS(t,e,n,r);if(i===null)v1(t,e,r,$0,n),JT(t,r);else if(J8(i,t,e,n,r))r.stopPropagation();else if(JT(t,r),e&4&&-1<Q8.indexOf(t)){for(;i!==null;){var a=wy(i);if(a!==null&&Bj(a),a=XS(t,e,n,r),a===null&&v1(t,e,r,$0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else v1(t,e,r,null,n)}}var $0=null;function XS(t,e,n,r){if($0=null,t=qE(r),t=Zl(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ij(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $0=t,null}function Gj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H8()){case XE:return 1;case Dj:return 4;case L0:case W8:return 16;case $j:return 536870912;default:return 16}default:return 16}}var tl=null,QE=null,Dv=null;function qj(){if(Dv)return Dv;var t,e=QE,n=e.length,r,i="value"in tl?tl.value:tl.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Dv=i.slice(t,1<r?1-r:void 0)}function $v(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xy(){return!0}function tO(){return!1}function gi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xy:tO,this.isPropagationStopped=tO,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xy)},persist:function(){},isPersistent:Xy}),e}var gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JE=gi(gf),xy=Gt({},gf,{view:0,detail:0}),rU=gi(xy),u1,c1,Ff,Rx=Gt({},xy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ff&&(Ff&&t.type==="mousemove"?(u1=t.screenX-Ff.screenX,c1=t.screenY-Ff.screenY):c1=u1=0,Ff=t),u1)},movementY:function(t){return"movementY"in t?t.movementY:c1}}),nO=gi(Rx),iU=Gt({},Rx,{dataTransfer:0}),aU=gi(iU),sU=Gt({},xy,{relatedTarget:0}),d1=gi(sU),oU=Gt({},gf,{animationName:0,elapsedTime:0,pseudoElement:0}),lU=gi(oU),uU=Gt({},gf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cU=gi(uU),dU=Gt({},gf,{data:0}),rO=gi(dU),hU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pU[t])?!!e[t]:!1}function eC(){return mU}var gU=Gt({},xy,{key:function(t){if(t.key){var e=hU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$v(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eC,charCode:function(t){return t.type==="keypress"?$v(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$v(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yU=gi(gU),vU=Gt({},Rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iO=gi(vU),bU=Gt({},xy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eC}),xU=gi(bU),wU=Gt({},gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),SU=gi(wU),kU=Gt({},Rx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_U=gi(kU),AU=[9,13,27,32],tC=Js&&"CompositionEvent"in window,Ip=null;Js&&"documentMode"in document&&(Ip=document.documentMode);var EU=Js&&"TextEvent"in window&&!Ip,Xj=Js&&(!tC||Ip&&8<Ip&&11>=Ip),aO=" ",sO=!1;function Kj(t,e){switch(t){case"keyup":return AU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ad=!1;function CU(t,e){switch(t){case"compositionend":return Yj(e);case"keypress":return e.which!==32?null:(sO=!0,aO);case"textInput":return t=e.data,t===aO&&sO?null:t;default:return null}}function PU(t,e){if(ad)return t==="compositionend"||!tC&&Kj(t,e)?(t=qj(),Dv=QE=tl=null,ad=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xj&&e.locale!=="ko"?null:e.data;default:return null}}var TU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TU[t.type]:e==="textarea"}function Zj(t,e,n,r){Pj(r),e=F0(e,"onChange"),0<e.length&&(n=new JE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rp=null,im=null;function OU(t){lD(t,0)}function Lx(t){var e=ld(t);if(wj(e))return t}function MU(t,e){if(t==="change")return e}var Qj=!1;if(Js){var h1;if(Js){var f1="oninput"in document;if(!f1){var lO=document.createElement("div");lO.setAttribute("oninput","return;"),f1=typeof lO.oninput=="function"}h1=f1}else h1=!1;Qj=h1&&(!document.documentMode||9<document.documentMode)}function uO(){Rp&&(Rp.detachEvent("onpropertychange",Jj),im=Rp=null)}function Jj(t){if(t.propertyName==="value"&&Lx(im)){var e=[];Zj(e,im,t,qE(t)),Nj(OU,e)}}function NU(t,e,n){t==="focusin"?(uO(),Rp=e,im=n,Rp.attachEvent("onpropertychange",Jj)):t==="focusout"&&uO()}function IU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lx(im)}function RU(t,e){if(t==="click")return Lx(e)}function LU(t,e){if(t==="input"||t==="change")return Lx(e)}function jU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sa=typeof Object.is=="function"?Object.is:jU;function am(t,e){if(Sa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!OS.call(e,i)||!Sa(t[i],e[i]))return!1}return!0}function cO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dO(t,e){var n=cO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cO(n)}}function eD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tD(){for(var t=window,e=N0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=N0(t.document)}return e}function nC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DU(t){var e=tD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eD(n.ownerDocument.documentElement,n)){if(r!==null&&nC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=dO(n,a);var s=dO(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $U=Js&&"documentMode"in document&&11>=document.documentMode,sd=null,KS=null,Lp=null,YS=!1;function hO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YS||sd==null||sd!==N0(r)||(r=sd,"selectionStart"in r&&nC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lp&&am(Lp,r)||(Lp=r,r=F0(KS,"onSelect"),0<r.length&&(e=new JE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sd)))}function Ky(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var od={animationend:Ky("Animation","AnimationEnd"),animationiteration:Ky("Animation","AnimationIteration"),animationstart:Ky("Animation","AnimationStart"),transitionend:Ky("Transition","TransitionEnd")},p1={},nD={};Js&&(nD=document.createElement("div").style,"AnimationEvent"in window||(delete od.animationend.animation,delete od.animationiteration.animation,delete od.animationstart.animation),"TransitionEvent"in window||delete od.transitionend.transition);function jx(t){if(p1[t])return p1[t];if(!od[t])return t;var e=od[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nD)return p1[t]=e[n];return t}var rD=jx("animationend"),iD=jx("animationiteration"),aD=jx("animationstart"),sD=jx("transitionend"),oD=new Map,fO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){oD.set(t,e),kc(e,[t])}for(var m1=0;m1<fO.length;m1++){var g1=fO[m1],FU=g1.toLowerCase(),zU=g1[0].toUpperCase()+g1.slice(1);kl(FU,"on"+zU)}kl(rD,"onAnimationEnd");kl(iD,"onAnimationIteration");kl(aD,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(sD,"onTransitionEnd");Rh("onMouseEnter",["mouseout","mouseover"]);Rh("onMouseLeave",["mouseout","mouseover"]);Rh("onPointerEnter",["pointerout","pointerover"]);Rh("onPointerLeave",["pointerout","pointerover"]);kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BU=new Set("cancel close invalid load scroll toggle".split(" ").concat(dp));function pO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F8(r,e,void 0,t),t.currentTarget=null}function lD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;pO(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;pO(i,o,u),a=l}}}if(R0)throw t=VS,R0=!1,VS=null,t}function Mt(t,e){var n=e[tk];n===void 0&&(n=e[tk]=new Set);var r=t+"__bubble";n.has(r)||(uD(e,t,2,!1),n.add(r))}function y1(t,e,n){var r=0;e&&(r|=4),uD(n,t,r,e)}var Yy="_reactListening"+Math.random().toString(36).slice(2);function sm(t){if(!t[Yy]){t[Yy]=!0,gj.forEach(function(n){n!=="selectionchange"&&(BU.has(n)||y1(n,!1,t),y1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yy]||(e[Yy]=!0,y1("selectionchange",!1,e))}}function uD(t,e,n,r){switch(Gj(e)){case 1:var i=tU;break;case 4:i=nU;break;default:i=ZE}n=i.bind(null,e,n,t),i=void 0,!WS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function v1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Zl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Nj(function(){var u=a,c=qE(n),d=[];e:{var h=oD.get(t);if(h!==void 0){var f=JE,m=t;switch(t){case"keypress":if($v(n)===0)break e;case"keydown":case"keyup":f=yU;break;case"focusin":m="focus",f=d1;break;case"focusout":m="blur",f=d1;break;case"beforeblur":case"afterblur":f=d1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=aU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xU;break;case rD:case iD:case aD:f=lU;break;case sD:f=SU;break;case"scroll":f=rU;break;case"wheel":f=_U;break;case"copy":case"cut":case"paste":f=cU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=iO}var p=(e&4)!==0,v=!p&&t==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=em(b,g),S!=null&&p.push(om(b,S,x)))),v)break;b=b.return}0<p.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==US&&(m=n.relatedTarget||n.fromElement)&&(Zl(m)||m[eo]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Zl(m):null,m!==null&&(v=_c(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=nO,S="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=iO,S="onPointerLeave",g="onPointerEnter",b="pointer"),v=f==null?h:ld(f),x=m==null?h:ld(m),h=new p(S,b+"leave",f,n,c),h.target=v,h.relatedTarget=x,S=null,Zl(c)===u&&(p=new p(g,b+"enter",m,n,c),p.target=x,p.relatedTarget=v,S=p),v=S,f&&m)t:{for(p=f,g=m,b=0,x=p;x;x=jc(x))b++;for(x=0,S=g;S;S=jc(S))x++;for(;0<b-x;)p=jc(p),b--;for(;0<x-b;)g=jc(g),x--;for(;b--;){if(p===g||g!==null&&p===g.alternate)break t;p=jc(p),g=jc(g)}p=null}else p=null;f!==null&&mO(d,h,f,p,!1),m!==null&&v!==null&&mO(d,v,m,p,!0)}}e:{if(h=u?ld(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=MU;else if(oO(h))if(Qj)w=LU;else{w=IU;var k=NU}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=RU);if(w&&(w=w(t,u))){Zj(d,w,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&DS(h,"number",h.value)}switch(k=u?ld(u):window,t){case"focusin":(oO(k)||k.contentEditable==="true")&&(sd=k,KS=u,Lp=null);break;case"focusout":Lp=KS=sd=null;break;case"mousedown":YS=!0;break;case"contextmenu":case"mouseup":case"dragend":YS=!1,hO(d,n,c);break;case"selectionchange":if($U)break;case"keydown":case"keyup":hO(d,n,c)}var A;if(tC)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ad?Kj(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Xj&&n.locale!=="ko"&&(ad||E!=="onCompositionStart"?E==="onCompositionEnd"&&ad&&(A=qj()):(tl=c,QE="value"in tl?tl.value:tl.textContent,ad=!0)),k=F0(u,E),0<k.length&&(E=new rO(E,t,null,n,c),d.push({event:E,listeners:k}),A?E.data=A:(A=Yj(n),A!==null&&(E.data=A)))),(A=EU?CU(t,n):PU(t,n))&&(u=F0(u,"onBeforeInput"),0<u.length&&(c=new rO("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}lD(d,e)})}function om(t,e,n){return{instance:t,listener:e,currentTarget:n}}function F0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=em(t,n),a!=null&&r.unshift(om(t,a,i)),a=em(t,e),a!=null&&r.push(om(t,a,i))),t=t.return}return r}function jc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mO(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=em(n,a),l!=null&&s.unshift(om(n,l,o))):i||(l=em(n,a),l!=null&&s.push(om(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var UU=/\r\n?/g,HU=/\u0000|\uFFFD/g;function gO(t){return(typeof t=="string"?t:""+t).replace(UU,`
`).replace(HU,"")}function Zy(t,e,n){if(e=gO(e),gO(t)!==e&&n)throw Error(be(425))}function z0(){}var ZS=null,QS=null;function JS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ek=typeof setTimeout=="function"?setTimeout:void 0,WU=typeof clearTimeout=="function"?clearTimeout:void 0,yO=typeof Promise=="function"?Promise:void 0,VU=typeof queueMicrotask=="function"?queueMicrotask:typeof yO<"u"?function(t){return yO.resolve(null).then(t).catch(GU)}:ek;function GU(t){setTimeout(function(){throw t})}function b1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rm(e)}function ll(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yf=Math.random().toString(36).slice(2),Ya="__reactFiber$"+yf,lm="__reactProps$"+yf,eo="__reactContainer$"+yf,tk="__reactEvents$"+yf,qU="__reactListeners$"+yf,XU="__reactHandles$"+yf;function Zl(t){var e=t[Ya];if(e)return e;for(var n=t.parentNode;n;){if(e=n[eo]||n[Ya]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vO(t);t!==null;){if(n=t[Ya])return n;t=vO(t)}return e}t=n,n=t.parentNode}return null}function wy(t){return t=t[Ya]||t[eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ld(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function Dx(t){return t[lm]||null}var nk=[],ud=-1;function _l(t){return{current:t}}function jt(t){0>ud||(t.current=nk[ud],nk[ud]=null,ud--)}function Tt(t,e){ud++,nk[ud]=t.current,t.current=e}var vl={},or=_l(vl),Dr=_l(!1),ic=vl;function Lh(t,e){var n=t.type.contextTypes;if(!n)return vl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $r(t){return t=t.childContextTypes,t!=null}function B0(){jt(Dr),jt(or)}function bO(t,e,n){if(or.current!==vl)throw Error(be(168));Tt(or,e),Tt(Dr,n)}function cD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,N8(t)||"Unknown",i));return Gt({},n,r)}function U0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vl,ic=or.current,Tt(or,t),Tt(Dr,Dr.current),!0}function xO(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=cD(t,e,ic),r.__reactInternalMemoizedMergedChildContext=t,jt(Dr),jt(or),Tt(or,t)):jt(Dr),Tt(Dr,n)}var ps=null,$x=!1,x1=!1;function dD(t){ps===null?ps=[t]:ps.push(t)}function KU(t){$x=!0,dD(t)}function Al(){if(!x1&&ps!==null){x1=!0;var t=0,e=gt;try{var n=ps;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ps=null,$x=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),jj(XE,Al),i}finally{gt=e,x1=!1}}return null}var cd=[],dd=0,H0=null,W0=0,Ti=[],Oi=0,ac=null,zs=1,Bs="";function $l(t,e){cd[dd++]=W0,cd[dd++]=H0,H0=t,W0=e}function hD(t,e,n){Ti[Oi++]=zs,Ti[Oi++]=Bs,Ti[Oi++]=ac,ac=t;var r=zs;t=Bs;var i=32-xa(r)-1;r&=~(1<<i),n+=1;var a=32-xa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zs=1<<32-xa(e)+i|n<<i|r,Bs=a+t}else zs=1<<a|n<<i|r,Bs=t}function rC(t){t.return!==null&&($l(t,1),hD(t,1,0))}function iC(t){for(;t===H0;)H0=cd[--dd],cd[dd]=null,W0=cd[--dd],cd[dd]=null;for(;t===ac;)ac=Ti[--Oi],Ti[Oi]=null,Bs=Ti[--Oi],Ti[Oi]=null,zs=Ti[--Oi],Ti[Oi]=null}var di=null,ui=null,$t=!1,pa=null;function fD(t,e){var n=Ri(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,di=t,ui=ll(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,di=t,ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ac!==null?{id:zs,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ri(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,di=t,ui=null,!0):!1;default:return!1}}function rk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ik(t){if($t){var e=ui;if(e){var n=e;if(!wO(t,e)){if(rk(t))throw Error(be(418));e=ll(n.nextSibling);var r=di;e&&wO(t,e)?fD(r,n):(t.flags=t.flags&-4097|2,$t=!1,di=t)}}else{if(rk(t))throw Error(be(418));t.flags=t.flags&-4097|2,$t=!1,di=t}}}function SO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;di=t}function Qy(t){if(t!==di)return!1;if(!$t)return SO(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!JS(t.type,t.memoizedProps)),e&&(e=ui)){if(rk(t))throw pD(),Error(be(418));for(;e;)fD(t,e),e=ll(e.nextSibling)}if(SO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ui=ll(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ui=null}}else ui=di?ll(t.stateNode.nextSibling):null;return!0}function pD(){for(var t=ui;t;)t=ll(t.nextSibling)}function jh(){ui=di=null,$t=!1}function aC(t){pa===null?pa=[t]:pa.push(t)}var YU=uo.ReactCurrentBatchConfig;function zf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Jy(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kO(t){var e=t._init;return e(t._payload)}function mD(t){function e(g,b){if(t){var x=g.deletions;x===null?(g.deletions=[b],g.flags|=16):x.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=hl(g,b),g.index=0,g.sibling=null,g}function a(g,b,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<b?(g.flags|=2,b):x):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,b,x,S){return b===null||b.tag!==6?(b=C1(x,g.mode,S),b.return=g,b):(b=i(b,x),b.return=g,b)}function l(g,b,x,S){var w=x.type;return w===id?c(g,b,x.props.children,S,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bo&&kO(w)===b.type)?(S=i(b,x.props),S.ref=zf(g,b,x),S.return=g,S):(S=Vv(x.type,x.key,x.props,null,g.mode,S),S.ref=zf(g,b,x),S.return=g,S)}function u(g,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=P1(x,g.mode,S),b.return=g,b):(b=i(b,x.children||[]),b.return=g,b)}function c(g,b,x,S,w){return b===null||b.tag!==7?(b=tc(x,g.mode,S,w),b.return=g,b):(b=i(b,x),b.return=g,b)}function d(g,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=C1(""+b,g.mode,x),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uy:return x=Vv(b.type,b.key,b.props,null,g.mode,x),x.ref=zf(g,null,b),x.return=g,x;case rd:return b=P1(b,g.mode,x),b.return=g,b;case bo:var S=b._init;return d(g,S(b._payload),x)}if(up(b)||Lf(b))return b=tc(b,g.mode,x,null),b.return=g,b;Jy(g,b)}return null}function h(g,b,x,S){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(g,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uy:return x.key===w?l(g,b,x,S):null;case rd:return x.key===w?u(g,b,x,S):null;case bo:return w=x._init,h(g,b,w(x._payload),S)}if(up(x)||Lf(x))return w!==null?null:c(g,b,x,S,null);Jy(g,x)}return null}function f(g,b,x,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,o(b,g,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uy:return g=g.get(S.key===null?x:S.key)||null,l(b,g,S,w);case rd:return g=g.get(S.key===null?x:S.key)||null,u(b,g,S,w);case bo:var k=S._init;return f(g,b,x,k(S._payload),w)}if(up(S)||Lf(S))return g=g.get(x)||null,c(b,g,S,w,null);Jy(b,S)}return null}function m(g,b,x,S){for(var w=null,k=null,A=b,E=b=0,P=null;A!==null&&E<x.length;E++){A.index>E?(P=A,A=null):P=A.sibling;var O=h(g,A,x[E],S);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(g,A),b=a(O,b,E),k===null?w=O:k.sibling=O,k=O,A=P}if(E===x.length)return n(g,A),$t&&$l(g,E),w;if(A===null){for(;E<x.length;E++)A=d(g,x[E],S),A!==null&&(b=a(A,b,E),k===null?w=A:k.sibling=A,k=A);return $t&&$l(g,E),w}for(A=r(g,A);E<x.length;E++)P=f(A,g,E,x[E],S),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?E:P.key),b=a(P,b,E),k===null?w=P:k.sibling=P,k=P);return t&&A.forEach(function(I){return e(g,I)}),$t&&$l(g,E),w}function p(g,b,x,S){var w=Lf(x);if(typeof w!="function")throw Error(be(150));if(x=w.call(x),x==null)throw Error(be(151));for(var k=w=null,A=b,E=b=0,P=null,O=x.next();A!==null&&!O.done;E++,O=x.next()){A.index>E?(P=A,A=null):P=A.sibling;var I=h(g,A,O.value,S);if(I===null){A===null&&(A=P);break}t&&A&&I.alternate===null&&e(g,A),b=a(I,b,E),k===null?w=I:k.sibling=I,k=I,A=P}if(O.done)return n(g,A),$t&&$l(g,E),w;if(A===null){for(;!O.done;E++,O=x.next())O=d(g,O.value,S),O!==null&&(b=a(O,b,E),k===null?w=O:k.sibling=O,k=O);return $t&&$l(g,E),w}for(A=r(g,A);!O.done;E++,O=x.next())O=f(A,g,E,O.value,S),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?E:O.key),b=a(O,b,E),k===null?w=O:k.sibling=O,k=O);return t&&A.forEach(function(T){return e(g,T)}),$t&&$l(g,E),w}function v(g,b,x,S){if(typeof x=="object"&&x!==null&&x.type===id&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Uy:e:{for(var w=x.key,k=b;k!==null;){if(k.key===w){if(w=x.type,w===id){if(k.tag===7){n(g,k.sibling),b=i(k,x.props.children),b.return=g,g=b;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bo&&kO(w)===k.type){n(g,k.sibling),b=i(k,x.props),b.ref=zf(g,k,x),b.return=g,g=b;break e}n(g,k);break}else e(g,k);k=k.sibling}x.type===id?(b=tc(x.props.children,g.mode,S,x.key),b.return=g,g=b):(S=Vv(x.type,x.key,x.props,null,g.mode,S),S.ref=zf(g,b,x),S.return=g,g=S)}return s(g);case rd:e:{for(k=x.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(g,b.sibling),b=i(b,x.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=P1(x,g.mode,S),b.return=g,g=b}return s(g);case bo:return k=x._init,v(g,b,k(x._payload),S)}if(up(x))return m(g,b,x,S);if(Lf(x))return p(g,b,x,S);Jy(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,x),b.return=g,g=b):(n(g,b),b=C1(x,g.mode,S),b.return=g,g=b),s(g)):n(g,b)}return v}var Dh=mD(!0),gD=mD(!1),V0=_l(null),G0=null,hd=null,sC=null;function oC(){sC=hd=G0=null}function lC(t){var e=V0.current;jt(V0),t._currentValue=e}function ak(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _d(t,e){G0=t,sC=hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rr=!0),t.firstContext=null)}function zi(t){var e=t._currentValue;if(sC!==t)if(t={context:t,memoizedValue:e,next:null},hd===null){if(G0===null)throw Error(be(308));hd=t,G0.dependencies={lanes:0,firstContext:t}}else hd=hd.next=t;return e}var Ql=null;function uC(t){Ql===null?Ql=[t]:Ql.push(t)}function yD(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uC(e)):(n.next=i.next,i.next=n),e.interleaved=n,to(t,r)}function to(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xo=!1;function cC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ul(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,to(t,n)}return i=r.interleaved,i===null?(e.next=e,uC(r)):(e.next=i.next,i.next=e),r.interleaved=e,to(t,n)}function Fv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KE(t,n)}}function _O(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function q0(t,e,n,r){var i=t.updateQueue;xo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,f=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(h=e,f=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Gt({},d,h);break e;case 2:xo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);oc|=s,t.lanes=s,t.memoizedState=d}}function AO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Sy={},es=_l(Sy),um=_l(Sy),cm=_l(Sy);function Jl(t){if(t===Sy)throw Error(be(174));return t}function dC(t,e){switch(Tt(cm,e),Tt(um,t),Tt(es,Sy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=FS(e,t)}jt(es),Tt(es,e)}function $h(){jt(es),jt(um),jt(cm)}function bD(t){Jl(cm.current);var e=Jl(es.current),n=FS(e,t.type);e!==n&&(Tt(um,t),Tt(es,n))}function hC(t){um.current===t&&(jt(es),jt(um))}var Wt=_l(0);function X0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var w1=[];function fC(){for(var t=0;t<w1.length;t++)w1[t]._workInProgressVersionPrimary=null;w1.length=0}var zv=uo.ReactCurrentDispatcher,S1=uo.ReactCurrentBatchConfig,sc=0,Vt=null,vn=null,Mn=null,K0=!1,jp=!1,dm=0,ZU=0;function qn(){throw Error(be(321))}function pC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sa(t[n],e[n]))return!1;return!0}function mC(t,e,n,r,i,a){if(sc=a,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zv.current=t===null||t.memoizedState===null?tH:nH,t=n(r,i),jp){a=0;do{if(jp=!1,dm=0,25<=a)throw Error(be(301));a+=1,Mn=vn=null,e.updateQueue=null,zv.current=rH,t=n(r,i)}while(jp)}if(zv.current=Y0,e=vn!==null&&vn.next!==null,sc=0,Mn=vn=Vt=null,K0=!1,e)throw Error(be(300));return t}function gC(){var t=dm!==0;return dm=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Vt.memoizedState=Mn=t:Mn=Mn.next=t,Mn}function Bi(){if(vn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=Mn===null?Vt.memoizedState:Mn.next;if(e!==null)Mn=e,vn=t;else{if(t===null)throw Error(be(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Mn===null?Vt.memoizedState=Mn=t:Mn=Mn.next=t}return Mn}function hm(t,e){return typeof e=="function"?e(t):e}function k1(t){var e=Bi(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((sc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Vt.lanes|=c,oc|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Sa(r,e.memoizedState)||(Rr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Vt.lanes|=a,oc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _1(t){var e=Bi(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Sa(a,e.memoizedState)||(Rr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function xD(){}function wD(t,e){var n=Vt,r=Bi(),i=e(),a=!Sa(r.memoizedState,i);if(a&&(r.memoizedState=i,Rr=!0),r=r.queue,yC(_D.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Mn!==null&&Mn.memoizedState.tag&1){if(n.flags|=2048,fm(9,kD.bind(null,n,r,i,e),void 0,null),Nn===null)throw Error(be(349));sc&30||SD(n,e,i)}return i}function SD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kD(t,e,n,r){e.value=n,e.getSnapshot=r,AD(e)&&ED(t)}function _D(t,e,n){return n(function(){AD(e)&&ED(t)})}function AD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sa(t,n)}catch{return!0}}function ED(t){var e=to(t,1);e!==null&&wa(e,t,1,-1)}function EO(t){var e=Ta();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:t},e.queue=t,t=t.dispatch=eH.bind(null,Vt,t),[e.memoizedState,t]}function fm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CD(){return Bi().memoizedState}function Bv(t,e,n,r){var i=Ta();Vt.flags|=t,i.memoizedState=fm(1|e,n,void 0,r===void 0?null:r)}function Fx(t,e,n,r){var i=Bi();r=r===void 0?null:r;var a=void 0;if(vn!==null){var s=vn.memoizedState;if(a=s.destroy,r!==null&&pC(r,s.deps)){i.memoizedState=fm(e,n,a,r);return}}Vt.flags|=t,i.memoizedState=fm(1|e,n,a,r)}function CO(t,e){return Bv(8390656,8,t,e)}function yC(t,e){return Fx(2048,8,t,e)}function PD(t,e){return Fx(4,2,t,e)}function TD(t,e){return Fx(4,4,t,e)}function OD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MD(t,e,n){return n=n!=null?n.concat([t]):null,Fx(4,4,OD.bind(null,e,t),n)}function vC(){}function ND(t,e){var n=Bi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ID(t,e){var n=Bi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RD(t,e,n){return sc&21?(Sa(n,e)||(n=Fj(),Vt.lanes|=n,oc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rr=!0),t.memoizedState=n)}function QU(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=S1.transition;S1.transition={};try{t(!1),e()}finally{gt=n,S1.transition=r}}function LD(){return Bi().memoizedState}function JU(t,e,n){var r=dl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jD(t))DD(e,n);else if(n=yD(t,e,n,r),n!==null){var i=br();wa(n,t,r,i),$D(n,e,r)}}function eH(t,e,n){var r=dl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jD(t))DD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Sa(o,s)){var l=e.interleaved;l===null?(i.next=i,uC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=yD(t,e,i,r),n!==null&&(i=br(),wa(n,t,r,i),$D(n,e,r))}}function jD(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function DD(t,e){jp=K0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $D(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KE(t,n)}}var Y0={readContext:zi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},tH={readContext:zi,useCallback:function(t,e){return Ta().memoizedState=[t,e===void 0?null:e],t},useContext:zi,useEffect:CO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bv(4194308,4,OD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bv(4,2,t,e)},useMemo:function(t,e){var n=Ta();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ta();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JU.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=Ta();return t={current:t},e.memoizedState=t},useState:EO,useDebugValue:vC,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=EO(!1),e=t[0];return t=QU.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,i=Ta();if($t){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),Nn===null)throw Error(be(349));sc&30||SD(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,CO(_D.bind(null,r,a,t),[t]),r.flags|=2048,fm(9,kD.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ta(),e=Nn.identifierPrefix;if($t){var n=Bs,r=zs;n=(r&~(1<<32-xa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nH={readContext:zi,useCallback:ND,useContext:zi,useEffect:yC,useImperativeHandle:MD,useInsertionEffect:PD,useLayoutEffect:TD,useMemo:ID,useReducer:k1,useRef:CD,useState:function(){return k1(hm)},useDebugValue:vC,useDeferredValue:function(t){var e=Bi();return RD(e,vn.memoizedState,t)},useTransition:function(){var t=k1(hm)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:xD,useSyncExternalStore:wD,useId:LD,unstable_isNewReconciler:!1},rH={readContext:zi,useCallback:ND,useContext:zi,useEffect:yC,useImperativeHandle:MD,useInsertionEffect:PD,useLayoutEffect:TD,useMemo:ID,useReducer:_1,useRef:CD,useState:function(){return _1(hm)},useDebugValue:vC,useDeferredValue:function(t){var e=Bi();return vn===null?e.memoizedState=t:RD(e,vn.memoizedState,t)},useTransition:function(){var t=_1(hm)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:xD,useSyncExternalStore:wD,useId:LD,unstable_isNewReconciler:!1};function Ki(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zx={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=br(),i=dl(t),a=Vs(r,i);a.payload=e,n!=null&&(a.callback=n),e=ul(t,a,i),e!==null&&(wa(e,t,i,r),Fv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=br(),i=dl(t),a=Vs(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ul(t,a,i),e!==null&&(wa(e,t,i,r),Fv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=br(),r=dl(t),i=Vs(n,r);i.tag=2,e!=null&&(i.callback=e),e=ul(t,i,r),e!==null&&(wa(e,t,r,n),Fv(e,t,r))}};function PO(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!am(n,r)||!am(i,a):!0}function FD(t,e,n){var r=!1,i=vl,a=e.contextType;return typeof a=="object"&&a!==null?a=zi(a):(i=$r(e)?ic:or.current,r=e.contextTypes,a=(r=r!=null)?Lh(t,i):vl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function TO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zx.enqueueReplaceState(e,e.state,null)}function ok(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cC(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=zi(a):(a=$r(e)?ic:or.current,i.context=Lh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(sk(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zx.enqueueReplaceState(i,i.state,null),q0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fh(t,e){try{var n="",r=e;do n+=M8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function A1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iH=typeof WeakMap=="function"?WeakMap:Map;function zD(t,e,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Q0||(Q0=!0,vk=r),lk(t,e)},n}function BD(t,e,n){n=Vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lk(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lk(t,e),typeof r!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function OO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vH.bind(null,t,e,n),e.then(t,t))}function MO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vs(-1,1),e.tag=2,ul(n,e,1))),n.lanes|=1),t)}var aH=uo.ReactCurrentOwner,Rr=!1;function fr(t,e,n,r){e.child=t===null?gD(e,null,n,r):Dh(e,t.child,n,r)}function IO(t,e,n,r,i){n=n.render;var a=e.ref;return _d(e,i),r=mC(t,e,n,r,a,i),n=gC(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):($t&&n&&rC(e),e.flags|=1,fr(t,e,r,i),e.child)}function RO(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!EC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,UD(t,e,a,r,i)):(t=Vv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:am,n(s,r)&&t.ref===e.ref)return no(t,e,i)}return e.flags|=1,t=hl(a,r),t.ref=e.ref,t.return=e,e.child=t}function UD(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(am(a,r)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,no(t,e,i)}return uk(t,e,n,r,i)}function HD(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(pd,ii),ii|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(pd,ii),ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Tt(pd,ii),ii|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Tt(pd,ii),ii|=r;return fr(t,e,i,n),e.child}function WD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uk(t,e,n,r,i){var a=$r(n)?ic:or.current;return a=Lh(e,a),_d(e,i),n=mC(t,e,n,r,a,i),r=gC(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):($t&&r&&rC(e),e.flags|=1,fr(t,e,n,i),e.child)}function LO(t,e,n,r,i){if($r(n)){var a=!0;U0(e)}else a=!1;if(_d(e,i),e.stateNode===null)Uv(t,e),FD(e,n,r),ok(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=zi(u):(u=$r(n)?ic:or.current,u=Lh(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&TO(e,s,r,u),xo=!1;var h=e.memoizedState;s.state=h,q0(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Dr.current||xo?(typeof c=="function"&&(sk(e,n,c,r),l=e.memoizedState),(o=xo||PO(e,n,o,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,vD(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ki(e.type,o),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=zi(l):(l=$r(n)?ic:or.current,l=Lh(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&TO(e,s,r,l),xo=!1,h=e.memoizedState,s.state=h,q0(e,r,s,i);var m=e.memoizedState;o!==d||h!==m||Dr.current||xo?(typeof f=="function"&&(sk(e,n,f,r),m=e.memoizedState),(u=xo||PO(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ck(t,e,n,r,a,i)}function ck(t,e,n,r,i,a){WD(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xO(e,n,!1),no(t,e,a);r=e.stateNode,aH.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Dh(e,t.child,null,a),e.child=Dh(e,null,o,a)):fr(t,e,o,a),e.memoizedState=r.state,i&&xO(e,n,!0),e.child}function VD(t){var e=t.stateNode;e.pendingContext?bO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bO(t,e.context,!1),dC(t,e.containerInfo)}function jO(t,e,n,r,i){return jh(),aC(i),e.flags|=256,fr(t,e,n,r),e.child}var dk={dehydrated:null,treeContext:null,retryLane:0};function hk(t){return{baseLanes:t,cachePool:null,transitions:null}}function GD(t,e,n){var r=e.pendingProps,i=Wt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt(Wt,i&1),t===null)return ik(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Hx(s,r,0,null),t=tc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=hk(n),e.memoizedState=dk,t):bC(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return sH(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=hl(o,a):(a=tc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?hk(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=dk,r}return a=t.child,t=a.sibling,r=hl(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bC(t,e){return e=Hx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ev(t,e,n,r){return r!==null&&aC(r),Dh(e,t.child,null,n),t=bC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sH(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=A1(Error(be(422))),ev(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Hx({mode:"visible",children:r.children},i,0,null),a=tc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Dh(e,t.child,null,s),e.child.memoizedState=hk(s),e.memoizedState=dk,a);if(!(e.mode&1))return ev(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(be(419)),r=A1(a,r,void 0),ev(t,e,s,r)}if(o=(s&t.childLanes)!==0,Rr||o){if(r=Nn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,to(t,i),wa(r,t,i,-1))}return AC(),r=A1(Error(be(421))),ev(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ui=ll(i.nextSibling),di=e,$t=!0,pa=null,t!==null&&(Ti[Oi++]=zs,Ti[Oi++]=Bs,Ti[Oi++]=ac,zs=t.id,Bs=t.overflow,ac=e),e=bC(e,r.children),e.flags|=4096,e)}function DO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ak(t.return,e,n)}function E1(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qD(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(fr(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DO(t,n,e);else if(t.tag===19)DO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&X0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),E1(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&X0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}E1(e,!0,n,null,a);break;case"together":E1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function no(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=hl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oH(t,e,n){switch(e.tag){case 3:VD(e),jh();break;case 5:bD(e);break;case 1:$r(e.type)&&U0(e);break;case 4:dC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(V0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?GD(t,e,n):(Tt(Wt,Wt.current&1),t=no(t,e,n),t!==null?t.sibling:null);Tt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,HD(t,e,n)}return no(t,e,n)}var XD,fk,KD,YD;XD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fk=function(){};KD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jl(es.current);var a=null;switch(n){case"input":i=LS(t,i),r=LS(t,r),a=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),a=[];break;case"textarea":i=$S(t,i),r=$S(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=z0)}zS(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Mt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};YD=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bf(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lH(t,e,n){var r=e.pendingProps;switch(iC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return $r(e.type)&&B0(),Xn(e),null;case 3:return r=e.stateNode,$h(),jt(Dr),jt(or),fC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pa!==null&&(wk(pa),pa=null))),fk(t,e),Xn(e),null;case 5:hC(e);var i=Jl(cm.current);if(n=e.type,t!==null&&e.stateNode!=null)KD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Xn(e),null}if(t=Jl(es.current),Qy(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ya]=e,r[lm]=a,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<dp.length;i++)Mt(dp[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":GT(r,a),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mt("invalid",r);break;case"textarea":XT(r,a),Mt("invalid",r)}zS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Zy(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Zy(r.textContent,o,t),i=["children",""+o]):Qp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Mt("scroll",r)}switch(n){case"input":Hy(r),qT(r,a,!0);break;case"textarea":Hy(r),KT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=z0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_j(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ya]=e,t[lm]=r,XD(t,e,!1,!1),e.stateNode=t;e:{switch(s=BS(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<dp.length;i++)Mt(dp[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":GT(t,r),i=LS(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":XT(t,r),i=$S(t,r),Mt("invalid",t);break;default:i=r}zS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Cj(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Aj(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jp(t,l):typeof l=="number"&&Jp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Mt("scroll",t):l!=null&&HE(t,a,l,s))}switch(n){case"input":Hy(t),qT(t,r,!1);break;case"textarea":Hy(t),KT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?xd(t,!!r.multiple,a,!1):r.defaultValue!=null&&xd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=z0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)YD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=Jl(cm.current),Jl(es.current),Qy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ya]=e,(a=r.nodeValue!==n)&&(t=di,t!==null))switch(t.tag){case 3:Zy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zy(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ya]=e,e.stateNode=r}return Xn(e),null;case 13:if(jt(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&ui!==null&&e.mode&1&&!(e.flags&128))pD(),jh(),e.flags|=98560,a=!1;else if(a=Qy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(be(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(be(317));a[Ya]=e}else jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),a=!1}else pa!==null&&(wk(pa),pa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?xn===0&&(xn=3):AC())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return $h(),fk(t,e),t===null&&sm(e.stateNode.containerInfo),Xn(e),null;case 10:return lC(e.type._context),Xn(e),null;case 17:return $r(e.type)&&B0(),Xn(e),null;case 19:if(jt(Wt),a=e.memoizedState,a===null)return Xn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Bf(a,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=X0(t),s!==null){for(e.flags|=128,Bf(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Wt,Wt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Jt()>zh&&(e.flags|=128,r=!0,Bf(a,!1),e.lanes=4194304)}else{if(!r)if(t=X0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!$t)return Xn(e),null}else 2*Jt()-a.renderingStartTime>zh&&n!==1073741824&&(e.flags|=128,r=!0,Bf(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,n=Wt.current,Tt(Wt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return _C(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ii&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function uH(t,e){switch(iC(e),e.tag){case 1:return $r(e.type)&&B0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $h(),jt(Dr),jt(or),fC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hC(e),null;case 13:if(jt(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));jh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Wt),null;case 4:return $h(),null;case 10:return lC(e.type._context),null;case 22:case 23:return _C(),null;case 24:return null;default:return null}}var tv=!1,nr=!1,cH=typeof WeakSet=="function"?WeakSet:Set,Te=null;function fd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function pk(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var $O=!1;function dH(t,e){if(ZS=D0,t=tD(),nC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(QS={focusedElem:t,selectionRange:n},D0=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ki(e.type,p),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(S){Kt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return m=$O,$O=!1,m}function Dp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&pk(e,n,a)}i=i.next}while(i!==r)}}function Bx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZD(t){var e=t.alternate;e!==null&&(t.alternate=null,ZD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ya],delete e[lm],delete e[tk],delete e[qU],delete e[XU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QD(t){return t.tag===5||t.tag===3||t.tag===4}function FO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=z0));else if(r!==4&&(t=t.child,t!==null))for(gk(t,e,n),t=t.sibling;t!==null;)gk(t,e,n),t=t.sibling}function yk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yk(t,e,n),t=t.sibling;t!==null;)yk(t,e,n),t=t.sibling}var Bn=null,ca=!1;function mo(t,e,n){for(n=n.child;n!==null;)JD(t,e,n),n=n.sibling}function JD(t,e,n){if(Ja&&typeof Ja.onCommitFiberUnmount=="function")try{Ja.onCommitFiberUnmount(Ix,n)}catch{}switch(n.tag){case 5:nr||fd(n,e);case 6:var r=Bn,i=ca;Bn=null,mo(t,e,n),Bn=r,ca=i,Bn!==null&&(ca?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(ca?(t=Bn,n=n.stateNode,t.nodeType===8?b1(t.parentNode,n):t.nodeType===1&&b1(t,n),rm(t)):b1(Bn,n.stateNode));break;case 4:r=Bn,i=ca,Bn=n.stateNode.containerInfo,ca=!0,mo(t,e,n),Bn=r,ca=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&pk(n,e,s),i=i.next}while(i!==r)}mo(t,e,n);break;case 1:if(!nr&&(fd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Kt(n,e,o)}mo(t,e,n);break;case 21:mo(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,mo(t,e,n),nr=r):mo(t,e,n);break;default:mo(t,e,n)}}function zO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cH),e.forEach(function(r){var i=xH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Bn=o.stateNode,ca=!1;break e;case 3:Bn=o.stateNode.containerInfo,ca=!0;break e;case 4:Bn=o.stateNode.containerInfo,ca=!0;break e}o=o.return}if(Bn===null)throw Error(be(160));JD(a,s,i),Bn=null,ca=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Kt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e$(e,t),e=e.sibling}function e$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),Ca(t),r&4){try{Dp(3,t,t.return),Bx(3,t)}catch(p){Kt(t,t.return,p)}try{Dp(5,t,t.return)}catch(p){Kt(t,t.return,p)}}break;case 1:Gi(e,t),Ca(t),r&512&&n!==null&&fd(n,n.return);break;case 5:if(Gi(e,t),Ca(t),r&512&&n!==null&&fd(n,n.return),t.flags&32){var i=t.stateNode;try{Jp(i,"")}catch(p){Kt(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Sj(i,a),BS(o,s);var u=BS(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Cj(i,d):c==="dangerouslySetInnerHTML"?Aj(i,d):c==="children"?Jp(i,d):HE(i,c,d,u)}switch(o){case"input":jS(i,a);break;case"textarea":kj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?xd(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?xd(i,!!a.multiple,a.defaultValue,!0):xd(i,!!a.multiple,a.multiple?[]:"",!1))}i[lm]=a}catch(p){Kt(t,t.return,p)}}break;case 6:if(Gi(e,t),Ca(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){Kt(t,t.return,p)}}break;case 3:if(Gi(e,t),Ca(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rm(e.containerInfo)}catch(p){Kt(t,t.return,p)}break;case 4:Gi(e,t),Ca(t);break;case 13:Gi(e,t),Ca(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(SC=Jt())),r&4&&zO(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(u=nr)||c,Gi(e,t),nr=u):Gi(e,t),Ca(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Te=t,c=t.child;c!==null;){for(d=Te=c;Te!==null;){switch(h=Te,f=h.child,h.tag){case 0:case 11:case 14:case 15:Dp(4,h,h.return);break;case 1:fd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Kt(r,n,p)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){UO(d);continue}}f!==null?(f.return=h,Te=f):UO(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ej("display",s))}catch(p){Kt(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Kt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gi(e,t),Ca(t),r&4&&zO(t);break;case 21:break;default:Gi(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QD(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jp(i,""),r.flags&=-33);var a=FO(t);yk(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=FO(t);gk(t,o,s);break;default:throw Error(be(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hH(t,e,n){Te=t,t$(t)}function t$(t,e,n){for(var r=(t.mode&1)!==0;Te!==null;){var i=Te,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||tv;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||nr;o=tv;var u=nr;if(tv=s,(nr=l)&&!u)for(Te=i;Te!==null;)s=Te,l=s.child,s.tag===22&&s.memoizedState!==null?HO(i):l!==null?(l.return=s,Te=l):HO(i);for(;a!==null;)Te=a,t$(a),a=a.sibling;Te=i,tv=o,nr=u}BO(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Te=a):BO(t)}}function BO(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||Bx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ki(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&AO(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AO(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&rm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}nr||e.flags&512&&mk(e)}catch(h){Kt(e,e.return,h)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function UO(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function HO(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bx(4,e)}catch(l){Kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kt(e,i,l)}}var a=e.return;try{mk(e)}catch(l){Kt(e,a,l)}break;case 5:var s=e.return;try{mk(e)}catch(l){Kt(e,s,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){Te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Te=o;break}Te=e.return}}var fH=Math.ceil,Z0=uo.ReactCurrentDispatcher,xC=uo.ReactCurrentOwner,ji=uo.ReactCurrentBatchConfig,at=0,Nn=null,un=null,Hn=0,ii=0,pd=_l(0),xn=0,pm=null,oc=0,Ux=0,wC=0,$p=null,Ir=null,SC=0,zh=1/0,ds=null,Q0=!1,vk=null,cl=null,nv=!1,nl=null,J0=0,Fp=0,bk=null,Hv=-1,Wv=0;function br(){return at&6?Jt():Hv!==-1?Hv:Hv=Jt()}function dl(t){return t.mode&1?at&2&&Hn!==0?Hn&-Hn:YU.transition!==null?(Wv===0&&(Wv=Fj()),Wv):(t=gt,t!==0||(t=window.event,t=t===void 0?16:Gj(t.type)),t):1}function wa(t,e,n,r){if(50<Fp)throw Fp=0,bk=null,Error(be(185));by(t,n,r),(!(at&2)||t!==Nn)&&(t===Nn&&(!(at&2)&&(Ux|=n),xn===4&&_o(t,Hn)),Fr(t,r),n===1&&at===0&&!(e.mode&1)&&(zh=Jt()+500,$x&&Al()))}function Fr(t,e){var n=t.callbackNode;Y8(t,e);var r=j0(t,t===Nn?Hn:0);if(r===0)n!==null&&QT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QT(n),e===1)t.tag===0?KU(WO.bind(null,t)):dD(WO.bind(null,t)),VU(function(){!(at&6)&&Al()}),n=null;else{switch(zj(r)){case 1:n=XE;break;case 4:n=Dj;break;case 16:n=L0;break;case 536870912:n=$j;break;default:n=L0}n=u$(n,n$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n$(t,e){if(Hv=-1,Wv=0,at&6)throw Error(be(327));var n=t.callbackNode;if(Ad()&&t.callbackNode!==n)return null;var r=j0(t,t===Nn?Hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eb(t,r);else{e=r;var i=at;at|=2;var a=i$();(Nn!==t||Hn!==e)&&(ds=null,zh=Jt()+500,ec(t,e));do try{gH();break}catch(o){r$(t,o)}while(!0);oC(),Z0.current=a,at=i,un!==null?e=0:(Nn=null,Hn=0,e=xn)}if(e!==0){if(e===2&&(i=GS(t),i!==0&&(r=i,e=xk(t,i))),e===1)throw n=pm,ec(t,0),_o(t,r),Fr(t,Jt()),n;if(e===6)_o(t,r);else{if(i=t.current.alternate,!(r&30)&&!pH(i)&&(e=eb(t,r),e===2&&(a=GS(t),a!==0&&(r=a,e=xk(t,a))),e===1))throw n=pm,ec(t,0),_o(t,r),Fr(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:Fl(t,Ir,ds);break;case 3:if(_o(t,r),(r&130023424)===r&&(e=SC+500-Jt(),10<e)){if(j0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ek(Fl.bind(null,t,Ir,ds),e);break}Fl(t,Ir,ds);break;case 4:if(_o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-xa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fH(r/1960))-r,10<r){t.timeoutHandle=ek(Fl.bind(null,t,Ir,ds),r);break}Fl(t,Ir,ds);break;case 5:Fl(t,Ir,ds);break;default:throw Error(be(329))}}}return Fr(t,Jt()),t.callbackNode===n?n$.bind(null,t):null}function xk(t,e){var n=$p;return t.current.memoizedState.isDehydrated&&(ec(t,e).flags|=256),t=eb(t,e),t!==2&&(e=Ir,Ir=n,e!==null&&wk(e)),t}function wk(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function pH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Sa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _o(t,e){for(e&=~wC,e&=~Ux,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xa(e),r=1<<n;t[n]=-1,e&=~r}}function WO(t){if(at&6)throw Error(be(327));Ad();var e=j0(t,0);if(!(e&1))return Fr(t,Jt()),null;var n=eb(t,e);if(t.tag!==0&&n===2){var r=GS(t);r!==0&&(e=r,n=xk(t,r))}if(n===1)throw n=pm,ec(t,0),_o(t,e),Fr(t,Jt()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fl(t,Ir,ds),Fr(t,Jt()),null}function kC(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(zh=Jt()+500,$x&&Al())}}function lc(t){nl!==null&&nl.tag===0&&!(at&6)&&Ad();var e=at;at|=1;var n=ji.transition,r=gt;try{if(ji.transition=null,gt=1,t)return t()}finally{gt=r,ji.transition=n,at=e,!(at&6)&&Al()}}function _C(){ii=pd.current,jt(pd)}function ec(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WU(n)),un!==null)for(n=un.return;n!==null;){var r=n;switch(iC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&B0();break;case 3:$h(),jt(Dr),jt(or),fC();break;case 5:hC(r);break;case 4:$h();break;case 13:jt(Wt);break;case 19:jt(Wt);break;case 10:lC(r.type._context);break;case 22:case 23:_C()}n=n.return}if(Nn=t,un=t=hl(t.current,null),Hn=ii=e,xn=0,pm=null,wC=Ux=oc=0,Ir=$p=null,Ql!==null){for(e=0;e<Ql.length;e++)if(n=Ql[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ql=null}return t}function r$(t,e){do{var n=un;try{if(oC(),zv.current=Y0,K0){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}K0=!1}if(sc=0,Mn=vn=Vt=null,jp=!1,dm=0,xC.current=null,n===null||n.return===null){xn=1,pm=e,un=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Hn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=MO(s);if(f!==null){f.flags&=-257,NO(f,s,o,a,e),f.mode&1&&OO(a,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){OO(a,u,e),AC();break e}l=Error(be(426))}}else if($t&&o.mode&1){var v=MO(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),NO(v,s,o,a,e),aC(Fh(l,o));break e}}a=l=Fh(l,o),xn!==4&&(xn=2),$p===null?$p=[a]:$p.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=zD(a,l,e);_O(a,g);break e;case 1:o=l;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cl===null||!cl.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=BD(a,o,e);_O(a,S);break e}}a=a.return}while(a!==null)}s$(n)}catch(w){e=w,un===n&&n!==null&&(un=n=n.return);continue}break}while(!0)}function i$(){var t=Z0.current;return Z0.current=Y0,t===null?Y0:t}function AC(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(oc&268435455)&&!(Ux&268435455)||_o(Nn,Hn)}function eb(t,e){var n=at;at|=2;var r=i$();(Nn!==t||Hn!==e)&&(ds=null,ec(t,e));do try{mH();break}catch(i){r$(t,i)}while(!0);if(oC(),at=n,Z0.current=r,un!==null)throw Error(be(261));return Nn=null,Hn=0,xn}function mH(){for(;un!==null;)a$(un)}function gH(){for(;un!==null&&!B8();)a$(un)}function a$(t){var e=l$(t.alternate,t,ii);t.memoizedProps=t.pendingProps,e===null?s$(t):un=e,xC.current=null}function s$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uH(n,e),n!==null){n.flags&=32767,un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,un=null;return}}else if(n=lH(n,e,ii),n!==null){un=n;return}if(e=e.sibling,e!==null){un=e;return}un=e=t}while(e!==null);xn===0&&(xn=5)}function Fl(t,e,n){var r=gt,i=ji.transition;try{ji.transition=null,gt=1,yH(t,e,n,r)}finally{ji.transition=i,gt=r}return null}function yH(t,e,n,r){do Ad();while(nl!==null);if(at&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Z8(t,a),t===Nn&&(un=Nn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nv||(nv=!0,u$(L0,function(){return Ad(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ji.transition,ji.transition=null;var s=gt;gt=1;var o=at;at|=4,xC.current=null,dH(t,n),e$(n,t),DU(QS),D0=!!ZS,QS=ZS=null,t.current=n,hH(n),U8(),at=o,gt=s,ji.transition=a}else t.current=n;if(nv&&(nv=!1,nl=t,J0=i),a=t.pendingLanes,a===0&&(cl=null),V8(n.stateNode),Fr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Q0)throw Q0=!1,t=vk,vk=null,t;return J0&1&&t.tag!==0&&Ad(),a=t.pendingLanes,a&1?t===bk?Fp++:(Fp=0,bk=t):Fp=0,Al(),null}function Ad(){if(nl!==null){var t=zj(J0),e=ji.transition,n=gt;try{if(ji.transition=null,gt=16>t?16:t,nl===null)var r=!1;else{if(t=nl,nl=null,J0=0,at&6)throw Error(be(331));var i=at;for(at|=4,Te=t.current;Te!==null;){var a=Te,s=a.child;if(Te.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Te=u;Te!==null;){var c=Te;switch(c.tag){case 0:case 11:case 15:Dp(8,c,a)}var d=c.child;if(d!==null)d.return=c,Te=d;else for(;Te!==null;){c=Te;var h=c.sibling,f=c.return;if(ZD(c),c===u){Te=null;break}if(h!==null){h.return=f,Te=h;break}Te=f}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Te=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Te=s;else e:for(;Te!==null;){if(a=Te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dp(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Te=g;break e}Te=a.return}}var b=t.current;for(Te=b;Te!==null;){s=Te;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Te=x;else e:for(s=b;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bx(9,o)}}catch(w){Kt(o,o.return,w)}if(o===s){Te=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Te=S;break e}Te=o.return}}if(at=i,Al(),Ja&&typeof Ja.onPostCommitFiberRoot=="function")try{Ja.onPostCommitFiberRoot(Ix,t)}catch{}r=!0}return r}finally{gt=n,ji.transition=e}}return!1}function VO(t,e,n){e=Fh(n,e),e=zD(t,e,1),t=ul(t,e,1),e=br(),t!==null&&(by(t,1,e),Fr(t,e))}function Kt(t,e,n){if(t.tag===3)VO(t,t,n);else for(;e!==null;){if(e.tag===3){VO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cl===null||!cl.has(r))){t=Fh(n,t),t=BD(e,t,1),e=ul(e,t,1),t=br(),e!==null&&(by(e,1,t),Fr(e,t));break}}e=e.return}}function vH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=br(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(Hn&n)===n&&(xn===4||xn===3&&(Hn&130023424)===Hn&&500>Jt()-SC?ec(t,0):wC|=n),Fr(t,e)}function o$(t,e){e===0&&(t.mode&1?(e=Gy,Gy<<=1,!(Gy&130023424)&&(Gy=4194304)):e=1);var n=br();t=to(t,e),t!==null&&(by(t,e,n),Fr(t,n))}function bH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o$(t,n)}function xH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),o$(t,n)}var l$;l$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dr.current)Rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rr=!1,oH(t,e,n);Rr=!!(t.flags&131072)}else Rr=!1,$t&&e.flags&1048576&&hD(e,W0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uv(t,e),t=e.pendingProps;var i=Lh(e,or.current);_d(e,n),i=mC(null,e,r,t,i,n);var a=gC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(r)?(a=!0,U0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cC(e),i.updater=zx,e.stateNode=i,i._reactInternals=e,ok(e,r,t,n),e=ck(null,e,r,!0,a,n)):(e.tag=0,$t&&a&&rC(e),fr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SH(r),t=Ki(r,t),i){case 0:e=uk(null,e,r,t,n);break e;case 1:e=LO(null,e,r,t,n);break e;case 11:e=IO(null,e,r,t,n);break e;case 14:e=RO(null,e,r,Ki(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),uk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),LO(t,e,r,i,n);case 3:e:{if(VD(e),t===null)throw Error(be(387));r=e.pendingProps,a=e.memoizedState,i=a.element,vD(t,e),q0(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Fh(Error(be(423)),e),e=jO(t,e,r,n,i);break e}else if(r!==i){i=Fh(Error(be(424)),e),e=jO(t,e,r,n,i);break e}else for(ui=ll(e.stateNode.containerInfo.firstChild),di=e,$t=!0,pa=null,n=gD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jh(),r===i){e=no(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return bD(e),t===null&&ik(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,JS(r,i)?s=null:a!==null&&JS(r,a)&&(e.flags|=32),WD(t,e),fr(t,e,s,n),e.child;case 6:return t===null&&ik(e),null;case 13:return GD(t,e,n);case 4:return dC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dh(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),IO(t,e,r,i,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Tt(V0,r._currentValue),r._currentValue=s,a!==null)if(Sa(a.value,s)){if(a.children===i.children&&!Dr.current){e=no(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Vs(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ak(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(be(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ak(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}fr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_d(e,n),i=zi(i),r=r(i),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,i=Ki(r,e.pendingProps),i=Ki(r.type,i),RO(t,e,r,i,n);case 15:return UD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),Uv(t,e),e.tag=1,$r(r)?(t=!0,U0(e)):t=!1,_d(e,n),FD(e,r,i),ok(e,r,i,n),ck(null,e,r,!0,t,n);case 19:return qD(t,e,n);case 22:return HD(t,e,n)}throw Error(be(156,e.tag))};function u$(t,e){return jj(t,e)}function wH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(t,e,n,r){return new wH(t,e,n,r)}function EC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SH(t){if(typeof t=="function")return EC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VE)return 11;if(t===GE)return 14}return 2}function hl(t,e){var n=t.alternate;return n===null?(n=Ri(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")EC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case id:return tc(n.children,i,a,e);case WE:s=8,i|=8;break;case MS:return t=Ri(12,n,e,i|2),t.elementType=MS,t.lanes=a,t;case NS:return t=Ri(13,n,e,i),t.elementType=NS,t.lanes=a,t;case IS:return t=Ri(19,n,e,i),t.elementType=IS,t.lanes=a,t;case bj:return Hx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yj:s=10;break e;case vj:s=9;break e;case VE:s=11;break e;case GE:s=14;break e;case bo:s=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=Ri(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function tc(t,e,n,r){return t=Ri(7,t,r,e),t.lanes=n,t}function Hx(t,e,n,r){return t=Ri(22,t,r,e),t.elementType=bj,t.lanes=n,t.stateNode={isHidden:!1},t}function C1(t,e,n){return t=Ri(6,t,null,e),t.lanes=n,t}function P1(t,e,n){return e=Ri(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l1(0),this.expirationTimes=l1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CC(t,e,n,r,i,a,s,o,l){return t=new kH(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ri(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cC(a),t}function _H(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c$(t){if(!t)return vl;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if($r(n))return cD(t,n,e)}return e}function d$(t,e,n,r,i,a,s,o,l){return t=CC(n,r,!0,t,i,a,s,o,l),t.context=c$(null),n=t.current,r=br(),i=dl(n),a=Vs(r,i),a.callback=e??null,ul(n,a,i),t.current.lanes=i,by(t,i,r),Fr(t,r),t}function Wx(t,e,n,r){var i=e.current,a=br(),s=dl(i);return n=c$(n),e.context===null?e.context=n:e.pendingContext=n,e=Vs(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ul(i,e,s),t!==null&&(wa(t,i,s,a),Fv(t,i,s)),s}function tb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function PC(t,e){GO(t,e),(t=t.alternate)&&GO(t,e)}function AH(){return null}var h$=typeof reportError=="function"?reportError:function(t){console.error(t)};function TC(t){this._internalRoot=t}Vx.prototype.render=TC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));Wx(t,e,null,null)};Vx.prototype.unmount=TC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lc(function(){Wx(null,t,null,null)}),e[eo]=null}};function Vx(t){this._internalRoot=t}Vx.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&Vj(t)}};function OC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qO(){}function EH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=tb(s);a.call(u)}}var s=d$(e,r,t,0,null,!1,!1,"",qO);return t._reactRootContainer=s,t[eo]=s.current,sm(t.nodeType===8?t.parentNode:t),lc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=tb(l);o.call(u)}}var l=CC(t,0,!1,null,null,!1,!1,"",qO);return t._reactRootContainer=l,t[eo]=l.current,sm(t.nodeType===8?t.parentNode:t),lc(function(){Wx(e,l,n,r)}),l}function qx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=tb(s);o.call(l)}}Wx(e,s,t,i)}else s=EH(n,e,t,i,r);return tb(s)}Bj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cp(e.pendingLanes);n!==0&&(KE(e,n|1),Fr(e,Jt()),!(at&6)&&(zh=Jt()+500,Al()))}break;case 13:lc(function(){var r=to(t,1);if(r!==null){var i=br();wa(r,t,1,i)}}),PC(t,1)}};YE=function(t){if(t.tag===13){var e=to(t,134217728);if(e!==null){var n=br();wa(e,t,134217728,n)}PC(t,134217728)}};Uj=function(t){if(t.tag===13){var e=dl(t),n=to(t,e);if(n!==null){var r=br();wa(n,t,e,r)}PC(t,e)}};Hj=function(){return gt};Wj=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};HS=function(t,e,n){switch(e){case"input":if(jS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dx(r);if(!i)throw Error(be(90));wj(r),jS(r,i)}}}break;case"textarea":kj(t,n);break;case"select":e=n.value,e!=null&&xd(t,!!n.multiple,e,!1)}};Oj=kC;Mj=lc;var CH={usingClientEntryPoint:!1,Events:[wy,ld,Dx,Pj,Tj,kC]},Uf={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PH={bundleType:Uf.bundleType,version:Uf.version,rendererPackageName:Uf.rendererPackageName,rendererConfig:Uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rj(t),t===null?null:t.stateNode},findFiberByHostInstance:Uf.findFiberByHostInstance||AH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rv.isDisabled&&rv.supportsFiber)try{Ix=rv.inject(PH),Ja=rv}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CH;mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OC(e))throw Error(be(200));return _H(t,e,null,n)};mi.createRoot=function(t,e){if(!OC(t))throw Error(be(299));var n=!1,r="",i=h$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CC(t,1,!1,null,null,n,!1,r,i),t[eo]=e.current,sm(t.nodeType===8?t.parentNode:t),new TC(e)};mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=Rj(e),t=t===null?null:t.stateNode,t};mi.flushSync=function(t){return lc(t)};mi.hydrate=function(t,e,n){if(!Gx(e))throw Error(be(200));return qx(null,t,e,!0,n)};mi.hydrateRoot=function(t,e,n){if(!OC(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=h$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=d$(e,null,t,1,n??null,i,!1,a,s),t[eo]=e.current,sm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vx(e)};mi.render=function(t,e,n){if(!Gx(e))throw Error(be(200));return qx(null,t,e,!1,n)};mi.unmountComponentAtNode=function(t){if(!Gx(t))throw Error(be(40));return t._reactRootContainer?(lc(function(){qx(null,null,t,!1,function(){t._reactRootContainer=null,t[eo]=null})}),!0):!1};mi.unstable_batchedUpdates=kC;mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gx(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return qx(t,e,n,!1,r)};mi.version="18.3.1-next-f1338f8080-20240426";function f$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f$)}catch(t){console.error(t)}}f$(),fj.exports=mi;var TH=fj.exports,p$,XO=TH;p$=XO.createRoot,XO.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}var rl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rl||(rl={}));const KO="popstate";function OH(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Sk("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nb(i)}return NH(e,n,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MH(){return Math.random().toString(36).substr(2,8)}function YO(t,e){return{usr:t.state,key:t.key,idx:e}}function Sk(t,e,n,r){return n===void 0&&(n=null),mm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vf(e):e,{state:n,key:e&&e.key||r||MH()})}function nb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=rl.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(mm({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=rl.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:o,location:p.location,delta:g})}function h(v,g){o=rl.Push;let b=Sk(p.location,v,g);u=c()+1;let x=YO(b,u),S=p.createHref(b);try{s.pushState(x,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&l&&l({action:o,location:p.location,delta:1})}function f(v,g){o=rl.Replace;let b=Sk(p.location,v,g);u=c();let x=YO(b,u),S=p.createHref(b);s.replaceState(x,"",S),a&&l&&l({action:o,location:p.location,delta:0})}function m(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:nb(v);return b=b.replace(/ $/,"%20"),tn(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let p={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KO,d),l=v,()=>{i.removeEventListener(KO,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(v){return s.go(v)}};return p}var ZO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZO||(ZO={}));function IH(t,e,n){return n===void 0&&(n="/"),RH(t,e,n)}function RH(t,e,n,r){let i=typeof e=="string"?vf(e):e,a=NC(i.pathname||"/",n);if(a==null)return null;let s=m$(t);LH(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=qH(a);o=WH(s[l],u)}return o}function m$(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fl([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(tn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),m$(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:UH(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of g$(a.path))i(a,s,l)}),e}function g$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=g$(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function LH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jH=/^:[\w-]+$/,DH=3,$H=2,FH=1,zH=10,BH=-2,QO=t=>t==="*";function UH(t,e){let n=t.split("/"),r=n.length;return n.some(QO)&&(r+=BH),e&&(r+=$H),n.filter(i=>!QO(i)).reduce((i,a)=>i+(jH.test(a)?DH:a===""?FH:zH),r)}function HH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WH(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=VH({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:fl([a,d.pathname]),pathnameBase:QH(fl([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=fl([a,d.pathnameBase]))}return s}function VH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=o[d]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function GH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const XH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KH=t=>XH.test(t);function YH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vf(t):t,a;if(n)if(KH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),MC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=JO(n.substring(1),"/"):a=JO(n,e)}else a=e;return{pathname:a,search:JH(r),hash:eW(i)}}function JO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function T1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IC(t,e){let n=ZH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vf(t):(i=mm({},t),tn(!i.pathname||!i.pathname.includes("?"),T1("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),T1("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),T1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=YH(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fl=t=>t.join("/").replace(/\/\/+/g,"/"),QH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y$=["post","put","patch","delete"];new Set(y$);const nW=["get",...y$];new Set(nW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}const LC=N.createContext(null),rW=N.createContext(null),El=N.createContext(null),Xx=N.createContext(null),as=N.createContext({outlet:null,matches:[],isDataRoute:!1}),v$=N.createContext(null);function iW(t,e){let{relative:n}=e===void 0?{}:e;bf()||tn(!1);let{basename:r,navigator:i}=N.useContext(El),{hash:a,pathname:s,search:o}=x$(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:fl([r,s])),i.createHref({pathname:l,search:o,hash:a})}function bf(){return N.useContext(Xx)!=null}function ky(){return bf()||tn(!1),N.useContext(Xx).location}function b$(t){N.useContext(El).static||N.useLayoutEffect(t)}function Kx(){let{isDataRoute:t}=N.useContext(as);return t?bW():aW()}function aW(){bf()||tn(!1);let t=N.useContext(LC),{basename:e,future:n,navigator:r}=N.useContext(El),{matches:i}=N.useContext(as),{pathname:a}=ky(),s=JSON.stringify(IC(i,n.v7_relativeSplatPath)),o=N.useRef(!1);return b$(()=>{o.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=RC(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fl([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,a,t])}const sW=N.createContext(null);function oW(t){let e=N.useContext(as).outlet;return e&&N.createElement(sW.Provider,{value:t},e)}function jC(){let{matches:t}=N.useContext(as),e=t[t.length-1];return e?e.params:{}}function x$(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(El),{matches:i}=N.useContext(as),{pathname:a}=ky(),s=JSON.stringify(IC(i,r.v7_relativeSplatPath));return N.useMemo(()=>RC(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function lW(t,e){return uW(t,e)}function uW(t,e,n,r){bf()||tn(!1);let{navigator:i}=N.useContext(El),{matches:a}=N.useContext(as),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ky(),c;if(e){var d;let v=typeof e=="string"?vf(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||tn(!1),c=v}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=IH(t,{pathname:f}),p=pW(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:fl([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:fl([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&p?N.createElement(Xx.Provider,{value:{location:gm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:rl.Pop}},p):p}function cW(){let t=vW(),e=tW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const dW=N.createElement(cW,null);class hW extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(as.Provider,{value:this.props.routeContext},N.createElement(v$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fW(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(LC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(as.Provider,{value:e},r)}function pW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||tn(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,m=!1,p=null,v=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||dW,l&&(u<0&&h===0?(xW("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),b=()=>{let x;return f?x=p:m?x=v:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,N.createElement(fW,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(hW,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var w$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(w$||{}),S$=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(S$||{});function mW(t){let e=N.useContext(LC);return e||tn(!1),e}function gW(t){let e=N.useContext(rW);return e||tn(!1),e}function yW(t){let e=N.useContext(as);return e||tn(!1),e}function k$(t){let e=yW(),n=e.matches[e.matches.length-1];return n.route.id||tn(!1),n.route.id}function vW(){var t;let e=N.useContext(v$),n=gW(),r=k$();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bW(){let{router:t}=mW(w$.UseNavigateStable),e=k$(S$.UseNavigateStable),n=N.useRef(!1);return b$(()=>{n.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gm({fromRouteId:e},a)))},[t,e])}const e2={};function xW(t,e,n){e2[t]||(e2[t]=!0)}function wW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function rb(t){let{to:e,replace:n,state:r,relative:i}=t;bf()||tn(!1);let{future:a,static:s}=N.useContext(El),{matches:o}=N.useContext(as),{pathname:l}=ky(),u=Kx(),c=RC(e,IC(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function SW(t){return oW(t.context)}function zl(t){tn(!1)}function kW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=rl.Pop,navigator:a,static:s=!1,future:o}=t;bf()&&tn(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:s,future:gm({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=vf(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=N.useMemo(()=>{let v=NC(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return p==null?null:N.createElement(El.Provider,{value:u},N.createElement(Xx.Provider,{children:n,value:p}))}function _W(t){let{children:e,location:n}=t;return lW(kk(e),n)}new Promise(()=>{});function kk(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){n.push.apply(n,kk(r.props.children,a));return}r.type!==zl&&tn(!1),!r.props.index||!r.props.children||tn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=kk(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _k(){return _k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_k.apply(this,arguments)}function AW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CW(t,e){return t.button===0&&(!e||e==="_self")&&!EW(t)}const PW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TW="6";try{window.__reactRouterVersion=TW}catch{}const OW="startTransition",t2=v8[OW];function MW(t){let{basename:e,children:n,future:r,window:i}=t,a=N.useRef();a.current==null&&(a.current=OH({window:i,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=N.useCallback(d=>{u&&t2?t2(()=>l(d)):l(d)},[l,u]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.useEffect(()=>wW(r),[r]),N.createElement(kW,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const NW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bh=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=AW(e,PW),{basename:f}=N.useContext(El),m,p=!1;if(typeof u=="string"&&IW.test(u)&&(m=u,NW))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),w=NC(S.pathname,f);S.origin===x.origin&&w!=null?u=w+S.search+S.hash:p=!0}catch{}let v=iW(u,{relative:i}),g=RW(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(x){r&&r(x),x.defaultPrevented||g(x)}return N.createElement("a",_k({},h,{href:m||v,onClick:p||a?r:b,ref:n,target:l}))});var n2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n2||(n2={}));var r2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r2||(r2={}));function RW(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Kx(),u=ky(),c=x$(t,{relative:s});return N.useCallback(d=>{if(CW(d,n)){d.preventDefault();let h=r!==void 0?r:nb(u)===nb(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,t,a,s,o])}const LW="studyhub-db",jW=2;let iv=null;function _y(){return iv||(iv=new Promise((t,e)=>{const n=indexedDB.open(LW,jW);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{const r=n.result;if(r.objectStoreNames.contains("workspace")){if(r.objectStoreNames.contains("workspace")){const i=n.transaction.objectStore("workspace");i.indexNames.contains("workspaceId")||i.createIndex("workspaceId","workspaceId",{unique:!1})}}else{const i=r.createObjectStore("workspace",{keyPath:"id"});i.createIndex("kind","kind",{unique:!1}),i.createIndex("folderId","folderId",{unique:!1}),i.createIndex("parentId","parentId",{unique:!1}),i.createIndex("workspaceId","workspaceId",{unique:!1})}r.objectStoreNames.contains("tabs")||r.createObjectStore("tabs",{keyPath:"id"}),r.objectStoreNames.contains("study")||r.createObjectStore("study",{keyPath:"id"}),r.objectStoreNames.contains("csvPrefs")||r.createObjectStore("csvPrefs",{keyPath:"fileId"})}}),iv)}async function _a(t,e){const n=await _y();return new Promise((r,i)=>{const s=n.transaction(t,"readonly").objectStore(t).get(e);s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async function DC(t){const e=await _y();return new Promise((n,r)=>{const a=e.transaction(t,"readonly").objectStore(t).getAll();a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)})}async function DW(t,e,n){const r=await _y();return new Promise((i,a)=>{const u=r.transaction(t,"readonly").objectStore(t).index(e).getAll(n);u.onsuccess=()=>i(u.result),u.onerror=()=>a(u.error)})}async function Br(t,e){const n=await _y();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).put(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async function uc(t,e){const n=await _y();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).delete(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}const $C="studyapp_";function lr(t){return typeof window>"u"?null:localStorage.getItem($C+t)}function Ar(t,e){typeof window>"u"||localStorage.setItem($C+t,e)}function ib(t){typeof window>"u"||localStorage.removeItem($C+t)}const $W=["light","dark","cyberpunk","octopus"];function FW(){const t=lr("theme");return t==="light"||t==="dark"||t==="cyberpunk"||t==="octopus"?t:"light"}function zW(t){Ar("theme",t)}function BW(){return lr("compact")==="true"}function UW(t){Ar("compact",t?"true":"false")}function HW(){return lr("sidebar_collapsed")==="true"}function WW(t){Ar("sidebar_collapsed",t?"true":"false")}const _$="study_last_mode";function i2(){const t=lr(_$);return t&&["pomodoro","timer","flashcards","5217","timeboxing","spacedrep"].includes(t)?t:null}function VW(t){Ar(_$,t)}const A$="reduce_motion";function E$(){const t=lr(A$);return t==="true"||t==="false"?t==="true":!1}function GW(t){Ar(A$,t?"true":"false")}function pl(){try{const t=lr("media_links");return t?JSON.parse(t):{}}catch{return{}}}function ym(t){Ar("media_links",JSON.stringify(t))}const C$="workspace_expanded";function qW(){try{const t=lr(C$);return t?JSON.parse(t):{}}catch{return{}}}function XW(t){Ar(C$,JSON.stringify(t))}const FC="media_spotify_youtube";function Ak(){return lr(FC)}function P$(t){Ar(FC,t)}function T$(){ib(FC)}const O$="spotify_youtube_cache";function M$(){try{const t=lr(O$);return t?JSON.parse(t):{}}catch{return{}}}function KW(t,e){const n=M$();n[t]=e,Ar(O$,JSON.stringify(n))}const Ek="user_avatar";function Ck(){return lr(Ek)}function N$(t){t==null?ib(Ek):Ar(Ek,t)}const I$="recent_files";function Pk(){try{const t=lr(I$);return t?JSON.parse(t):[]}catch{return[]}}function YW(t){const e=Pk(),n=e.find(i=>i.fileId===t);n?n.openedAt=Date.now():e.push({fileId:t,openedAt:Date.now()}),e.sort((i,a)=>a.openedAt-i.openedAt);const r=e.slice(0,10);Ar(I$,JSON.stringify(r))}const R$="workspace_list",L$="active_workspace_id";function hp(){try{const t=lr(R$);return t?JSON.parse(t):[]}catch{return[]}}function Gv(t){Ar(R$,JSON.stringify(t))}function O1(){return lr(L$)}function qv(t){Ar(L$,t)}const ZW="file_annotations_";function a2(t){try{const e=lr(ZW+t);return e?JSON.parse(e):[]}catch{return[]}}const j$=N.createContext(null);function s2(){if(typeof window>"u")return!1;const t=E$(),e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;return t||e}function QW({children:t}){const[e,n]=N.useState(()=>FW()),[r,i]=N.useState(()=>BW()),[a,s]=N.useState(()=>HW()),[o,l]=N.useState(()=>E$());N.useEffect(()=>{document.documentElement.classList.remove("theme-light","theme-dark","theme-cyberpunk","theme-octopus"),document.documentElement.classList.add(`theme-${e}`),e==="dark"||e==="cyberpunk"||e==="octopus"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),N.useEffect(()=>{r?document.documentElement.classList.add("compact"):document.documentElement.classList.remove("compact")},[r]),N.useEffect(()=>{s2()?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[o]),N.useEffect(()=>{const f=window.matchMedia("(prefers-reduced-motion: reduce)"),m=()=>{s2()?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[o]);const u=N.useCallback(f=>{n(f),zW(f)},[]),c=N.useCallback(f=>{i(f),UW(f)},[]),d=N.useCallback(f=>{s(f),WW(f)},[]),h=N.useCallback(f=>{l(f),GW(f)},[]);return _.jsx(j$.Provider,{value:{theme:e,setTheme:u,compact:r,setCompact:c,sidebarCollapsed:a,setSidebarCollapsed:d,reduceMotion:o,setReduceMotion:h},children:t})}function D$(){const t=N.useContext(j$);if(!t)throw new Error("useSettings must be used within SettingsProvider");return t}const JW={success:"bg-green-600 text-white dark:bg-green-700",info:"bg-blue-600 text-white dark:bg-blue-700",error:"bg-red-600 text-white dark:bg-red-700"};function eV({id:t,message:e,variant:n="info",duration:r=4e3,onClose:i}){return N.useEffect(()=>{if(r<=0)return;const a=setTimeout(()=>i(t),r);return()=>clearTimeout(a)},[t,r,i]),_.jsxs("div",{className:`flex items-center justify-between gap-3 rounded-lg px-4 py-3 shadow-lg animate-toast-enter ${JW[n]}`,role:"status",children:[_.jsx("span",{className:"text-sm font-medium",children:e}),_.jsx("button",{type:"button",className:"rounded p-1 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close",onClick:()=>i(t),children:""})]})}const $$=N.createContext(null);let tV=0;function nV(){return`toast-${++tV}`}function rV({children:t}){const[e,n]=N.useState([]),r=N.useCallback(a=>{n(s=>s.filter(o=>o.id!==a))},[]),i=N.useCallback((a,s="info",o=4e3)=>{const l=nV();n(u=>[...u,{id:l,message:a,variant:s,duration:o}])},[]);return _.jsxs($$.Provider,{value:{showToast:i},children:[t,_.jsx("div",{className:"fixed right-4 top-4 z-50 flex max-w-sm flex-col gap-2","aria-live":"polite",children:e.map(a=>_.jsx(eV,{id:a.id,message:a.message,variant:a.variant,duration:a.duration,onClose:r},a.id))})]})}function iV(){const t=N.useContext($$);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const aV={query:"",setQuery:()=>{}},F$=N.createContext(aV);function sV({children:t}){const[e,n]=N.useState("");return _.jsx(F$.Provider,{value:{query:e,setQuery:n},children:t})}function z$(){return N.useContext(F$)}const oV="studyhub-db",lV="studyapp_";async function uV(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n!=null&&n.startsWith(lV)&&t.push(n)}return t.forEach(e=>localStorage.removeItem(e)),new Promise((e,n)=>{const r=indexedDB.deleteDatabase(oV);r.onsuccess=()=>e(),r.onerror=()=>n(r.error),r.onblocked=()=>e()})}class cV extends N.Component{constructor(n){super(n);$e(this,"handleGoToWorkspace",()=>{window.location.href="/app/workspace"});$e(this,"handleReload",()=>{window.location.reload()});$e(this,"handleClearData",async()=>{await uV(),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?_.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-slate-100 p-6 dark:bg-slate-900",children:[_.jsx("h1",{className:"text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Something went wrong."}),_.jsx("p",{className:"text-center text-slate-600 dark:text-slate-400",children:"An unexpected error occurred. You can go to the workspace, reload the app, or clear local data and start over."}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white hover:bg-blue-700",onClick:this.handleGoToWorkspace,children:"Go to Workspace"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-4 py-2 font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",onClick:this.handleReload,children:"Reload App"}),_.jsx("button",{type:"button",className:"rounded-lg border border-red-300 bg-white px-4 py-2 font-medium text-red-700 hover:bg-red-50 dark:border-red-700 dark:bg-slate-800 dark:text-red-300 dark:hover:bg-red-900/20",onClick:this.handleClearData,children:"Clear Local Data"})]})]}):this.props.children}}function B$(){return lr("logged_in")==="true"}function dV(t){Ar("logged_in","true")}function U$(){return lr("user_name")}function hV(t){Ar("user_name",t)}function fV(){ib("logged_in"),ib("user_name"),N$(null)}const pV=[{id:"workspace",title:"Workspace",description:"Organise files and folders. Import documents and open them in tabs.",icon:""},{id:"study",title:"Study Modes",description:"Pomodoro timer, custom countdown, and flashcards to study effectively.",icon:""},{id:"media",title:"Media Player Hub",description:"Embed Spotify and YouTube. Keep your last link per provider.",icon:""},{id:"csv",title:"CSV Visualizer",description:"Open CSV files, view as table, and build bar or line charts from your data.",icon:""},{id:"settings",title:"Settings",description:"Theme, compact mode, and sidebar preferences that persist across sessions.",icon:""}];function mV(){const t=Kx(),e=B$();N.useEffect(()=>{e&&t("/app",{replace:!0})},[e,t]);const n=()=>{dV(),t("/app")};return _.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:_.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-16 sm:py-24",children:[_.jsxs("section",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-800 dark:text-slate-100 sm:text-5xl",children:"Study Hub"}),_.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-400",children:"Organise, study, and focus in one place. Files, timers, flashcards, and music  all in your browser."}),_.jsxs("div",{className:"mt-8",children:[_.jsx("button",{type:"button",onClick:n,className:"rounded-xl bg-blue-600 px-6 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",children:"Get Started"}),_.jsx("button",{type:"button",onClick:n,className:"ml-4 rounded-xl border border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Login"})]})]}),_.jsxs("section",{className:"mt-20",children:[_.jsx("h2",{className:"text-center text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Everything you need to study"}),_.jsx("div",{className:"mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:pV.map(r=>_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("span",{className:"text-2xl","aria-hidden":!0,children:r.icon}),_.jsx("h3",{className:"mt-3 font-semibold text-slate-800 dark:text-slate-100",children:r.title}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:r.description})]},r.id))})]})]})})}function gV(t,e){const n=getComputedStyle(t),r=parseFloat(n.fontSize);return e*r}function yV(t,e){const n=getComputedStyle(t.ownerDocument.body),r=parseFloat(n.fontSize);return e*r}function vV(t){return t/100*window.innerHeight}function bV(t){return t/100*window.innerWidth}function xV(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function av({groupSize:t,panelElement:e,styleProp:n}){let r;const[i,a]=xV(n);switch(a){case"%":{r=i/100*t;break}case"px":{r=i;break}case"rem":{r=yV(e,i);break}case"em":{r=gV(e,i);break}case"vh":{r=vV(i);break}case"vw":{r=bV(i);break}}return r}function ya(t){return parseFloat(t.toFixed(3))}function Uh({group:t}){const{orientation:e,panels:n}=t;return n.reduce((r,i)=>(r+=e==="horizontal"?i.element.offsetWidth:i.element.offsetHeight,r),0)}function Tk(t){const{panels:e}=t,n=Uh({group:t});return n===0?e.map(r=>({collapsedSize:0,collapsible:r.panelConstraints.collapsible===!0,defaultSize:void 0,disabled:r.panelConstraints.disabled,minSize:0,maxSize:100,panelId:r.id})):e.map(r=>{const{element:i,panelConstraints:a}=r;let s=0;if(a.collapsedSize!==void 0){const c=av({groupSize:n,panelElement:i,styleProp:a.collapsedSize});s=ya(c/n*100)}let o;if(a.defaultSize!==void 0){const c=av({groupSize:n,panelElement:i,styleProp:a.defaultSize});o=ya(c/n*100)}let l=0;if(a.minSize!==void 0){const c=av({groupSize:n,panelElement:i,styleProp:a.minSize});l=ya(c/n*100)}let u=100;if(a.maxSize!==void 0){const c=av({groupSize:n,panelElement:i,styleProp:a.maxSize});u=ya(c/n*100)}return{collapsedSize:s,collapsible:a.collapsible===!0,defaultSize:o,disabled:a.disabled,minSize:l,maxSize:u,panelId:r.id}})}function pt(t,e="Assertion error"){if(!t)throw Error(e)}function Ok(t,e){return Array.from(e).sort(t==="horizontal"?wV:SV)}function wV(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function SV(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function H$(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function W$(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function kV({orientation:t,rects:e,targetRect:n}){const r={x:n.x+n.width/2,y:n.y+n.height/2};let i,a=Number.MAX_VALUE;for(const s of e){const{x:o,y:l}=W$(r,s),u=t==="horizontal"?o:l;u<a&&(a=u,i=s)}return pt(i,"No rect found"),i}let sv;function _V(){return sv===void 0&&(typeof matchMedia=="function"?sv=!!matchMedia("(pointer:coarse)").matches:sv=!1),sv}function V$(t){const{element:e,orientation:n,panels:r,separators:i}=t,a=Ok(n,Array.from(e.children).filter(H$).map(m=>({element:m}))).map(({element:m})=>m),s=[];let o=!1,l=!1,u=-1,c=-1,d=0,h,f=[];{let m=-1;for(const p of a)p.hasAttribute("data-panel")&&(m++,p.ariaDisabled===null&&(d++,u===-1&&(u=m),c=m))}if(d>1){let m=-1;for(const p of a)if(p.hasAttribute("data-panel")){m++;const v=r.find(g=>g.element===p);if(v){if(h){const g=h.element.getBoundingClientRect(),b=p.getBoundingClientRect();let x;if(l){const S=n==="horizontal"?new DOMRect(g.right,g.top,0,g.height):new DOMRect(g.left,g.bottom,g.width,0),w=n==="horizontal"?new DOMRect(b.left,b.top,0,b.height):new DOMRect(b.left,b.top,b.width,0);switch(f.length){case 0:{x=[S,w];break}case 1:{const k=f[0],A=kV({orientation:n,rects:[g,b],targetRect:k.element.getBoundingClientRect()});x=[k,A===g?w:S];break}default:{x=f;break}}}else f.length?x=f:x=[n==="horizontal"?new DOMRect(g.right,b.top,b.left-g.right,b.height):new DOMRect(b.left,g.bottom,b.width,b.top-g.bottom)];for(const S of x){let w="width"in S?S:S.element.getBoundingClientRect();const k=_V()?t.resizeTargetMinimumSize.coarse:t.resizeTargetMinimumSize.fine;if(w.width<k){const E=k-w.width;w=new DOMRect(w.x-E/2,w.y,w.width+E,w.height)}if(w.height<k){const E=k-w.height;w=new DOMRect(w.x,w.y-E/2,w.width,w.height+E)}const A=m<=u||m>c;!o&&!A&&s.push({group:t,groupSize:Uh({group:t}),panels:[h,v],separator:"width"in S?void 0:S,rect:w}),o=!1}}l=!1,h=v,f=[]}}else if(p.hasAttribute("data-separator")){p.ariaDisabled!==null&&(o=!0);const v=i.find(g=>g.element===p);v?f.push(v):(h=void 0,f=[])}else l=!0}return s}var Co;class AV{constructor(){B(this,Co,{})}addListener(e,n){const r=y(this,Co)[e];return r===void 0?y(this,Co)[e]=[n]:r.includes(n)||r.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const r=y(this,Co)[e];if(r!==void 0)if(r.length===1)r[0].call(null,n);else{let i=!1,a=null;const s=Array.from(r);for(let o=0;o<s.length;o++){const l=s[o];try{l.call(null,n)}catch(u){a===null&&(i=!0,a=u)}}if(i)throw a}}removeAllListeners(){D(this,Co,{})}removeListener(e,n){const r=y(this,Co)[e];if(r!==void 0){const i=r.indexOf(n);i>=0&&r.splice(i,1)}}}Co=new WeakMap;function pr(t,e,n=0){return Math.abs(ya(t)-ya(e))<=n}let Si={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Gs=new AV;function gr(){return Si}function yr(t){const e=typeof t=="function"?t(Si):t;if(Si===e)return Si;const n=Si;return Si={...Si,...e},e.cursorFlags!==void 0&&Gs.emit("cursorFlagsChange",Si.cursorFlags),e.interactionState!==void 0&&Gs.emit("interactionStateChange",Si.interactionState),e.mountedGroups!==void 0&&(Si.mountedGroups.forEach((r,i)=>{r.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:s}=n.mountedGroups.get(i)??{};if(s){const o=pr(a.collapsedSize,r.layout[a.panelId]),l=pr(a.collapsedSize,s[a.panelId]);o&&!l&&(i.inMemoryLastExpandedPanelSizes[a.panelId]=s[a.panelId])}}})}),Gs.emit("mountedGroupsChange",Si.mountedGroups)),Si}function EV(t,e,n){let r,i={x:1/0,y:1/0};for(const a of e){const s=W$(n,a.rect);switch(t){case"horizontal":{s.x<=i.x&&(r=a,i=s);break}case"vertical":{s.y<=i.y&&(r=a,i=s);break}}}return r?{distance:i,hitRegion:r}:void 0}function CV(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function PV(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:u2(t),b:u2(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)r=n.a.pop(),n.b.pop();pt(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:l2(o2(n.a)),b:l2(o2(n.b))};if(i.a===i.b){const a=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let o=a.length;for(;o--;){const l=a[o];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const TV=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function OV(t){const e=getComputedStyle(G$(t)??t).display;return e==="flex"||e==="inline-flex"}function MV(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||OV(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||TV.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function o2(t){let e=t.length;for(;e--;){const n=t[e];if(pt(n,"Missing node"),MV(n))return n}return null}function l2(t){return t&&Number(getComputedStyle(t).zIndex)||0}function u2(t){const e=[];for(;t;)e.push(t),t=G$(t);return e}function G$(t){const{parentNode:e}=t;return CV(e)?e.host:e}function NV(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function IV({groupElement:t,hitRegion:e,pointerEventTarget:n}){if(!H$(n)||n.contains(t)||t.contains(n))return!0;if(PV(n,t)>0){let r=n;for(;r;){if(r.contains(t))return!0;if(NV(r.getBoundingClientRect(),e))return!1;r=r.parentElement}}return!0}function zC(t,e){const n=[];return e.forEach((r,i)=>{if(i.disabled)return;const a=V$(i),s=EV(i.orientation,a,{x:t.clientX,y:t.clientY});s&&s.distance.x<=0&&s.distance.y<=0&&IV({groupElement:i.element,hitRegion:s.hitRegion.rect,pointerEventTarget:t.target})&&n.push(s.hitRegion)}),n}function RV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Ma(t,e){return pr(t,e)?0:t>e?1:-1}function md({overrideDisabledPanels:t,panelConstraints:e,prevSize:n,size:r}){const{collapsedSize:i=0,collapsible:a,disabled:s,maxSize:o=100,minSize:l=0}=e;if(s&&!t)return n;if(Ma(r,l)<0)if(a){const u=(i+l)/2;Ma(r,u)<0?r=i:r=l}else r=l;return r=Math.min(o,r),r=ya(r),r}function vm({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:a}){if(pr(t,0))return e;const s=a==="imperative-api",o=Object.values(e),l=Object.values(i),u=[...o],[c,d]=r;pt(c!=null,"Invalid first pivot index"),pt(d!=null,"Invalid second pivot index");let h=0;switch(a){case"keyboard":{{const p=t<0?d:c,v=n[p];pt(v,`Panel constraints not found for index ${p}`);const{collapsedSize:g=0,collapsible:b,minSize:x=0}=v;if(b){const S=o[p];if(pt(S!=null,`Previous layout not found for panel index ${p}`),pr(S,g)){const w=x-S;Ma(w,Math.abs(t))>0&&(t=t<0?0-w:w)}}}{const p=t<0?c:d,v=n[p];pt(v,`No panel constraints found for index ${p}`);const{collapsedSize:g=0,collapsible:b,minSize:x=0}=v;if(b){const S=o[p];if(pt(S!=null,`Previous layout not found for panel index ${p}`),pr(S,x)){const w=S-g;Ma(w,Math.abs(t))>0&&(t=t<0?0-w:w)}}}break}default:{const p=t<0?d:c,v=n[p];pt(v,`Panel constraints not found for index ${p}`);const g=o[p],{collapsible:b,collapsedSize:x,minSize:S}=v;if(b&&Ma(g,S)<0)if(t>0){const w=S-x,k=w/2,A=g+t;Ma(A,S)<0&&(t=Ma(t,k)<=0?0:w)}else{const w=S-x,k=100-w/2,A=g-t;Ma(A,S)<0&&(t=Ma(100+t,k)>0?0:-w)}break}}{const p=t<0?1:-1;let v=t<0?d:c,g=0;for(;;){const x=o[v];pt(x!=null,`Previous layout not found for panel index ${v}`);const S=md({overrideDisabledPanels:s,panelConstraints:n[v],prevSize:x,size:100})-x;if(g+=S,v+=p,v<0||v>=n.length)break}const b=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-b:b}{let p=t<0?c:d;for(;p>=0&&p<n.length;){const v=Math.abs(t)-Math.abs(h),g=o[p];pt(g!=null,`Previous layout not found for panel index ${p}`);const b=g-v,x=md({overrideDisabledPanels:s,panelConstraints:n[p],prevSize:g,size:b});if(!pr(g,x)&&(h+=g-x,u[p]=x,h.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?p--:p++}}if(RV(l,u))return i;{const p=t<0?d:c,v=o[p];pt(v!=null,`Previous layout not found for panel index ${p}`);const g=v+h,b=md({overrideDisabledPanels:s,panelConstraints:n[p],prevSize:v,size:g});if(u[p]=b,!pr(b,g)){let x=g-b,S=t<0?d:c;for(;S>=0&&S<n.length;){const w=u[S];pt(w!=null,`Previous layout not found for panel index ${S}`);const k=w+x,A=md({overrideDisabledPanels:s,panelConstraints:n[S],prevSize:w,size:k});if(pr(w,A)||(x-=A-w,u[S]=A),pr(x,0))break;t>0?S--:S++}}}const f=Object.values(u).reduce((p,v)=>v+p,0);if(!pr(f,100,.1))return i;const m=Object.keys(i);return u.reduce((p,v,g)=>(p[m[g]]=v,p),{})}function cc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(e[n]===void 0||Ma(t[n],e[n])!==0)return!1;return!0}function dc({layout:t,panelConstraints:e}){const n=Object.values(t),r=[...n],i=r.reduce((o,l)=>o+l,0);if(r.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${r.map(o=>`${o}%`).join(", ")}`);if(!pr(i,100)&&r.length>0)for(let o=0;o<e.length;o++){const l=r[o];pt(l!=null,`No layout data found for index ${o}`);const u=100/i*l;r[o]=u}let a=0;for(let o=0;o<e.length;o++){const l=n[o];pt(l!=null,`No layout data found for index ${o}`);const u=r[o];pt(u!=null,`No layout data found for index ${o}`);const c=md({overrideDisabledPanels:!0,panelConstraints:e[o],prevSize:l,size:u});u!=c&&(a+=u-c,r[o]=c)}if(!pr(a,0))for(let o=0;o<e.length;o++){const l=r[o];pt(l!=null,`No layout data found for index ${o}`);const u=l+a,c=md({overrideDisabledPanels:!0,panelConstraints:e[o],prevSize:l,size:u});if(l!==c&&(a-=c-l,r[o]=c,pr(a,0)))break}const s=Object.keys(t);return r.reduce((o,l,u)=>(o[s[u]]=l,o),{})}function q$({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:o}=gr();for(const[l,{defaultLayoutDeferred:u,derivedPanelConstraints:c,layout:d,separatorToPanels:h}]of o)if(l.id===t)return{defaultLayoutDeferred:u,derivedPanelConstraints:c,group:l,layout:d,separatorToPanels:h};throw Error(`Group ${t} not found`)},r=()=>{const o=n().derivedPanelConstraints.find(l=>l.panelId===e);if(o!==void 0)return o;throw Error(`Panel constraints not found for Panel ${e}`)},i=()=>{const o=n().group.panels.find(l=>l.id===e);if(o!==void 0)return o;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const o=n().layout[e];if(o!==void 0)return o;throw Error(`Layout not found for Panel ${e}`)},s=o=>{const l=a();if(o===l)return;const{defaultLayoutDeferred:u,derivedPanelConstraints:c,group:d,layout:h,separatorToPanels:f}=n(),m=d.panels.findIndex(b=>b.id===e),p=m===d.panels.length-1,v=vm({delta:p?l-o:o-l,initialLayout:h,panelConstraints:c,pivotIndices:p?[m-1,m]:[m,m+1],prevLayout:h,trigger:"imperative-api"}),g=dc({layout:v,panelConstraints:c});cc(h,g)||yr(b=>({mountedGroups:new Map(b.mountedGroups).set(d,{defaultLayoutDeferred:u,derivedPanelConstraints:c,layout:g,separatorToPanels:f})}))};return{collapse:()=>{const{collapsible:o,collapsedSize:l}=r(),{mutableValues:u}=i(),c=a();o&&c!==l&&(u.expandToSize=c,s(l))},expand:()=>{const{collapsible:o,collapsedSize:l,minSize:u}=r(),{mutableValues:c}=i(),d=a();if(o&&d===l){let h=c.expandToSize??u;h===0&&(h=1),s(h)}},getSize:()=>{const{group:o}=n(),l=a(),{element:u}=i(),c=o.orientation==="horizontal"?u.offsetWidth:u.offsetHeight;return{asPercentage:l,inPixels:c}},isCollapsed:()=>{const{collapsible:o,collapsedSize:l}=r(),u=a();return o&&pr(l,u)},resize:o=>{if(a()!==o){let l;switch(typeof o){case"number":{const{group:u}=n(),c=Uh({group:u});l=ya(o/c*100);break}case"string":{l=parseFloat(o);break}}s(l)}}}}function c2(t){if(t.defaultPrevented)return;const{mountedGroups:e}=gr();zC(t,e).forEach(n=>{if(n.separator){const r=n.panels.find(i=>i.panelConstraints.defaultSize!==void 0);if(r){const i=r.panelConstraints.defaultSize,a=q$({groupId:n.group.id,panelId:r.id});a&&i!==void 0&&(a.resize(i),t.preventDefault())}}})}function Xv(t){const{mountedGroups:e}=gr();for(const[n]of e)if(n.separators.some(r=>r.element===t))return n;throw Error("Could not find parent Group for separator element")}function X$({groupId:t}){const e=()=>{const{mountedGroups:n}=gr();for(const[r,i]of n)if(r.id===t)return{group:r,...i};throw Error(`Could not find Group with id "${t}"`)};return{getLayout(){const{defaultLayoutDeferred:n,layout:r}=e();return n?{}:r},setLayout(n){const{defaultLayoutDeferred:r,derivedPanelConstraints:i,group:a,layout:s,separatorToPanels:o}=e(),l=dc({layout:n,panelConstraints:i});if(r)return s;if(!cc(s,l)){yr(c=>({mountedGroups:new Map(c.mountedGroups).set(a,{defaultLayoutDeferred:r,derivedPanelConstraints:i,layout:l,separatorToPanels:o})}));const u=a.panels.map(({id:c})=>c).join(",");a.inMemoryLayouts[u]=l}return l}}}function K$(t){const{mountedGroups:e}=gr(),n=e.get(t);return pt(n,`Mounted Group ${t.id} not found`),n}function Rl(t,e){const n=Xv(t),r=K$(n),i=n.separators.find(c=>c.element===t);pt(i,"Matching separator not found");const a=r.separatorToPanels.get(i);pt(a,"Matching panels not found");const s=a.map(c=>n.panels.indexOf(c)),o=X$({groupId:n.id}).getLayout(),l=vm({delta:e,initialLayout:o,panelConstraints:r.derivedPanelConstraints,pivotIndices:s,prevLayout:o,trigger:"keyboard"}),u=dc({layout:l,panelConstraints:r.derivedPanelConstraints});cc(o,u)||yr(c=>({mountedGroups:new Map(c.mountedGroups).set(n,{defaultLayoutDeferred:r.defaultLayoutDeferred,derivedPanelConstraints:r.derivedPanelConstraints,layout:u,separatorToPanels:r.separatorToPanels})}))}function d2(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=Xv(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Rl(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Rl(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Rl(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Rl(e,-5);break}case"End":{t.preventDefault(),Rl(e,100);break}case"Enter":{t.preventDefault();const r=Xv(e),{derivedPanelConstraints:i,layout:a,separatorToPanels:s}=K$(r),o=r.separators.find(d=>d.element===e);pt(o,"Matching separator not found");const l=s.get(o);pt(l,"Matching panels not found");const u=l[0],c=i.find(d=>d.panelId===u.id);if(pt(c,"Panel metadata not found"),c.collapsible){const d=a[u.id],h=c.collapsedSize===d?r.inMemoryLastExpandedPanelSizes[u.id]??c.minSize:c.collapsedSize;Rl(e,h-d)}break}case"F6":{t.preventDefault();const r=Xv(e).separators.map(s=>s.element),i=Array.from(r).findIndex(s=>s===t.currentTarget);pt(i!==null,"Index not found");const a=t.shiftKey?i>0?i-1:r.length-1:i+1<r.length?i+1:0;r[a].focus();break}case"Home":{t.preventDefault(),Rl(e,-100);break}}}function h2(t){if(t.defaultPrevented||t.pointerType==="mouse"&&t.button>0)return;const{mountedGroups:e}=gr(),n=zC(t,e),r=new Map;let i=!1;n.forEach(a=>{a.separator&&(i||(i=!0,a.separator.element.focus()));const s=e.get(a.group);s&&r.set(a.group,s.layout)}),yr({interactionState:{hitRegions:n,initialLayoutMap:r,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}const LV=t=>t,M1=()=>{},Y$=1,Z$=2,Q$=4,J$=8,f2=3,p2=12;let ov;function m2(){return ov===void 0&&(ov=!1,typeof window<"u"&&(window.navigator.userAgent.includes("Chrome")||window.navigator.userAgent.includes("Firefox"))&&(ov=!0)),ov}function jV({cursorFlags:t,groups:e,state:n}){let r=0,i=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{r++;break}case"vertical":{i++;break}}})}if(!(r===0&&i===0)){switch(n){case"active":{if(t&&m2()){const a=(t&Y$)!==0,s=(t&Z$)!==0,o=(t&Q$)!==0,l=(t&J$)!==0;if(a)return o?"se-resize":l?"ne-resize":"e-resize";if(s)return o?"sw-resize":l?"nw-resize":"w-resize";if(o)return"s-resize";if(l)return"n-resize"}break}}return m2()?r>0&&i>0?"move":r>0?"ew-resize":"ns-resize":r>0&&i>0?"grab":r>0?"col-resize":"row-resize"}}const g2=new WeakMap;function BC(t){if(t.defaultView===null||t.defaultView===void 0)return;let{prevStyle:e,styleSheet:n}=g2.get(t)??{};n===void 0&&(n=new t.defaultView.CSSStyleSheet,t.adoptedStyleSheets.push(n));const{cursorFlags:r,interactionState:i}=gr();switch(i.state){case"active":case"hover":{const a=jV({cursorFlags:r,groups:i.hitRegions.map(o=>o.group),state:i.state}),s=`*, *:hover {cursor: ${a} !important; ${i.state==="active"?"touch-action: none;":""} }`;if(e===s)return;e=s,a?n.cssRules.length===0?n.insertRule(s):n.replaceSync(s):n.cssRules.length===1&&n.deleteRule(0);break}case"inactive":{e=void 0,n.cssRules.length===1&&n.deleteRule(0);break}}g2.set(t,{prevStyle:e,styleSheet:n})}function eF({document:t,event:e,hitRegions:n,initialLayoutMap:r,mountedGroups:i,pointerDownAtPoint:a,prevCursorFlags:s}){let o=0;const l=new Map(i);n.forEach(c=>{const{group:d,groupSize:h}=c,{disableCursor:f,orientation:m,panels:p}=d;let v=0;a?m==="horizontal"?v=(e.clientX-a.x)/h*100:v=(e.clientY-a.y)/h*100:m==="horizontal"?v=e.clientX<0?-100:100:v=e.clientY<0?-100:100;const g=r.get(d),{defaultLayoutDeferred:b,derivedPanelConstraints:x,layout:S,separatorToPanels:w}=i.get(d)??{defaultLayoutDeferred:!1};if(x&&g&&S&&w){const k=vm({delta:v,initialLayout:g,panelConstraints:x,pivotIndices:c.panels.map(A=>p.indexOf(A)),prevLayout:S,trigger:"mouse-or-touch"});if(cc(k,S)){if(v!==0&&!f)switch(m){case"horizontal":{o|=v<0?Y$:Z$;break}case"vertical":{o|=v<0?Q$:J$;break}}}else{l.set(c.group,{defaultLayoutDeferred:b,derivedPanelConstraints:x,layout:k,separatorToPanels:w});const A=c.group.panels.map(({id:E})=>E).join(",");c.group.inMemoryLayouts[A]=k}}});let u=0;e.movementX===0?u|=s&f2:u|=o&f2,e.movementY===0?u|=s&p2:u|=o&p2,yr({cursorFlags:u,mountedGroups:l}),BC(t)}function y2(t){const{cursorFlags:e,interactionState:n,mountedGroups:r}=gr();switch(n.state){case"active":eF({document:t.currentTarget,event:t,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:r,prevCursorFlags:e})}}function v2(t){if(t.defaultPrevented)return;const{cursorFlags:e,interactionState:n,mountedGroups:r}=gr();switch(n.state){case"active":{if(t.buttons===0){yr(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}}),yr(i=>({mountedGroups:new Map(i.mountedGroups)}));return}eF({document:t.currentTarget,event:t,hitRegions:n.hitRegions,initialLayoutMap:n.initialLayoutMap,mountedGroups:r,pointerDownAtPoint:n.pointerDownAtPoint,prevCursorFlags:e});break}default:{const i=zC(t,r);i.length===0?n.state!=="inactive"&&yr({interactionState:{state:"inactive"}}):yr({interactionState:{hitRegions:i,state:"hover"}}),BC(t.currentTarget);break}}}function b2(t){if(t.relatedTarget instanceof HTMLIFrameElement){const{interactionState:e}=gr();switch(e.state){case"hover":yr({interactionState:{state:"inactive"}})}}}function x2(t){if(t.defaultPrevented||t.pointerType==="mouse"&&t.button>0)return;const{interactionState:e}=gr();switch(e.state){case"active":yr({cursorFlags:0,interactionState:{state:"inactive"}}),e.hitRegions.length>0&&(BC(t.currentTarget),yr(n=>({mountedGroups:new Map(n.mountedGroups)})),t.preventDefault())}}function w2(t){let e=0,n=0;const r={};for(const a of t)if(a.defaultSize!==void 0){e++;const s=ya(a.defaultSize);n+=s,r[a.panelId]=s}else r[a.panelId]=void 0;const i=t.length-e;if(i!==0){const a=ya((100-n)/i);for(const s of t)s.defaultSize===void 0&&(r[s.panelId]=a)}return r}function DV(t,e,n){if(!n[0])return;const r=t.panels.find(l=>l.element===e);if(!r||!r.onResize)return;const i=Uh({group:t}),a=t.orientation==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,s=r.mutableValues.prevSize,o={asPercentage:ya(a/i*100),inPixels:a};r.mutableValues.prevSize=o,r.onResize(o,r.id,s)}function $V(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function FV(t,e){const n=t.map(i=>i.id),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(!r.includes(i))return!1;return!0}const Dc=new Map;function zV(t){let e=!0;pt(t.element.ownerDocument.defaultView,"Cannot register an unmounted Group");const n=t.element.ownerDocument.defaultView.ResizeObserver,r=new Set,i=new Set,a=new n(m=>{for(const p of m){const{borderBoxSize:v,target:g}=p;if(g===t.element){if(e){if(Uh({group:t})===0)return;yr(b=>{const x=b.mountedGroups.get(t);if(x){const S=Tk(t),w=x.defaultLayoutDeferred?w2(S):x.layout,k=dc({layout:w,panelConstraints:S});return!x.defaultLayoutDeferred&&cc(w,k)&&$V(x.derivedPanelConstraints,S)?b:{mountedGroups:new Map(b.mountedGroups).set(t,{defaultLayoutDeferred:!1,derivedPanelConstraints:S,layout:k,separatorToPanels:x.separatorToPanels})}}return b})}}else DV(t,g,v)}});a.observe(t.element),t.panels.forEach(m=>{pt(!r.has(m.id),`Panel ids must be unique; id "${m.id}" was used more than once`),r.add(m.id),m.onResize&&a.observe(m.element)});const s=Uh({group:t}),o=Tk(t),l=t.panels.map(({id:m})=>m).join(",");let u=t.defaultLayout;u&&(FV(t.panels,u)||(u=void 0));const c=t.inMemoryLayouts[l]??u??w2(o),d=dc({layout:c,panelConstraints:o}),h=V$(t),f=t.element.ownerDocument;return yr(m=>{const p=new Map;return Dc.set(f,(Dc.get(f)??0)+1),h.forEach(v=>{v.separator&&p.set(v.separator,v.panels)}),{mountedGroups:new Map(m.mountedGroups).set(t,{defaultLayoutDeferred:s===0,derivedPanelConstraints:o,layout:d,separatorToPanels:p})}}),t.separators.forEach(m=>{pt(!i.has(m.id),`Separator ids must be unique; id "${m.id}" was used more than once`),i.add(m.id),m.element.addEventListener("keydown",d2)}),Dc.get(f)===1&&(f.addEventListener("dblclick",c2,!0),f.addEventListener("pointerdown",h2,!0),f.addEventListener("pointerleave",y2),f.addEventListener("pointermove",v2),f.addEventListener("pointerout",b2),f.addEventListener("pointerup",x2,!0)),function(){e=!1,Dc.set(f,Math.max(0,(Dc.get(f)??0)-1)),yr(m=>{const p=new Map(m.mountedGroups);return p.delete(t),{mountedGroups:p}}),t.separators.forEach(m=>{m.element.removeEventListener("keydown",d2)}),Dc.get(f)||(f.removeEventListener("dblclick",c2,!0),f.removeEventListener("pointerdown",h2,!0),f.removeEventListener("pointerleave",y2),f.removeEventListener("pointermove",v2),f.removeEventListener("pointerout",b2),f.removeEventListener("pointerup",x2,!0)),a.disconnect()}}function BV(){const[t,e]=N.useState({}),n=N.useCallback(()=>e({}),[]);return[t,n]}function UC(t){const e=N.useId();return`${t??e}`}const Ac=typeof window<"u"?N.useLayoutEffect:N.useEffect;function zp(t){const e=N.useRef(t);return Ac(()=>{e.current=t},[t]),N.useCallback((...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[e])}function HC(...t){return zp(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}function WC(t){const e=N.useRef({...t});return Ac(()=>{for(const n in t)e.current[n]=t[n]},[t]),e.current}const tF=N.createContext(null);function UV(t,e){const n=N.useRef({getLayout:()=>({}),setLayout:LV});N.useImperativeHandle(e,()=>n.current,[]),Ac(()=>{Object.assign(n.current,X$({groupId:t}))})}function Yx({children:t,className:e,defaultLayout:n,disableCursor:r,disabled:i,elementRef:a,groupRef:s,id:o,onLayoutChange:l,onLayoutChanged:u,orientation:c="horizontal",resizeTargetMinimumSize:d={coarse:20,fine:10},style:h,...f}){const m=N.useRef({onLayoutChange:{},onLayoutChanged:{}}),p=zp(I=>{cc(m.current.onLayoutChange,I)||(m.current.onLayoutChange=I,l==null||l(I))}),v=zp(I=>{cc(m.current.onLayoutChanged,I)||(m.current.onLayoutChanged=I,u==null||u(I))}),g=UC(o),b=N.useRef(null),[x,S]=BV(),w=N.useRef({lastExpandedPanelSizes:{},layouts:{},panels:[],resizeTargetMinimumSize:d,separators:[]}),k=HC(b,a);UV(g,s);const A=zp((I,T)=>{const{interactionState:j,mountedGroups:C}=gr();for(const L of C.keys())if(L.id===I){const X=C.get(L);if(X){let z=!1;switch(j.state){case"active":{z=j.hitRegions.some(G=>G.group===L);break}}return{flexGrow:X.layout[T]??1,pointerEvents:z?"none":void 0}}}return{flexGrow:(n==null?void 0:n[T])??1}}),E=WC({defaultLayout:n,disableCursor:r}),P=N.useMemo(()=>({get disableCursor(){return!!E.disableCursor},getPanelStyles:A,id:g,orientation:c,registerPanel:I=>{const T=w.current;return T.panels=Ok(c,[...T.panels,I]),S(),()=>{T.panels=T.panels.filter(j=>j!==I),S()}},registerSeparator:I=>{const T=w.current;return T.separators=Ok(c,[...T.separators,I]),S(),()=>{T.separators=T.separators.filter(j=>j!==I),S()}},togglePanelDisabled:(I,T)=>{const j=w.current.panels.find(L=>L.id===I);j&&(j.panelConstraints.disabled=T);const{mountedGroups:C}=gr();for(const L of C.keys())if(L.id===g){const X=C.get(L);X&&(X.derivedPanelConstraints=Tk(L))}},toggleSeparatorDisabled:(I,T)=>{const j=w.current.separators.find(C=>C.id===I);j&&(j.disabled=T)}}),[A,g,S,c,E]),O=N.useRef(null);return Ac(()=>{const I=b.current;if(I===null)return;const T=w.current;let j;if(E.defaultLayout!==void 0&&Object.keys(E.defaultLayout).length===T.panels.length){j={};for(const W of T.panels){const R=E.defaultLayout[W.id];R!==void 0&&(j[W.id]=R)}}const C={defaultLayout:j,disableCursor:!!E.disableCursor,disabled:!!i,element:I,id:g,inMemoryLastExpandedPanelSizes:w.current.lastExpandedPanelSizes,inMemoryLayouts:w.current.layouts,orientation:c,panels:T.panels,resizeTargetMinimumSize:T.resizeTargetMinimumSize,separators:T.separators};O.current=C;const L=zV(C),X=gr().mountedGroups.get(C);if(X){const{defaultLayoutDeferred:W,derivedPanelConstraints:R,layout:V}=X;!W&&R.length>0&&(p(V),v(V))}const z=Gs.addListener("interactionStateChange",W=>{W.state}),G=Gs.addListener("mountedGroupsChange",W=>{const R=W.get(C);if(R){const{defaultLayoutDeferred:V,derivedPanelConstraints:H,layout:$}=R;if(V||H.length===0)return;const{interactionState:ie}=gr(),Z=ie.state!=="active";p($),Z&&v($)}});return()=>{O.current=null,L(),z(),G()}},[i,g,v,p,c,x,E]),N.useEffect(()=>{const I=O.current;I&&(I.defaultLayout=n,I.disableCursor=!!r)}),_.jsx(tF.Provider,{value:P,children:_.jsx("div",{...f,className:e,"data-group":!0,"data-testid":g,id:g,ref:k,style:{height:"100%",width:"100%",overflow:"hidden",...h,display:"flex",flexDirection:c==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}Yx.displayName="Group";function VC(){const t=N.useContext(tF);return pt(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function HV(t,e){const{id:n}=VC(),r=N.useRef({collapse:M1,expand:M1,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:M1});N.useImperativeHandle(e,()=>r.current,[]),Ac(()=>{Object.assign(r.current,q$({groupId:n,panelId:t}))})}function hc({children:t,className:e,collapsedSize:n="0%",collapsible:r=!1,defaultSize:i,disabled:a,elementRef:s,id:o,maxSize:l="100%",minSize:u="0%",onResize:c,panelRef:d,style:h,...f}){const m=!!o,p=UC(o),v=WC({disabled:a}),g=N.useRef(null),b=HC(g,s),{getPanelStyles:x,id:S,registerPanel:w,togglePanelDisabled:k}=VC(),A=c!==null,E=zp((O,I,T)=>{c==null||c(O,o,T)});Ac(()=>{const O=g.current;if(O!==null){const I={element:O,id:p,idIsStable:m,mutableValues:{expandToSize:void 0,prevSize:void 0},onResize:A?E:void 0,panelConstraints:{collapsedSize:n,collapsible:r,defaultSize:i,disabled:v.disabled,maxSize:l,minSize:u}};return w(I)}},[n,r,i,A,p,m,l,u,E,w,v]),N.useEffect(()=>{k(p,!!a)},[a,p,k]),HV(p,d);const P=N.useSyncExternalStore(O=>(Gs.addListener("mountedGroupsChange",O),()=>{Gs.removeListener("mountedGroupsChange",O)}),()=>JSON.stringify(x(S,p)),()=>JSON.stringify(x(S,p)));return _.jsx("div",{...f,"aria-disabled":a||void 0,"data-panel":!0,"data-testid":p,id:p,ref:b,style:{...WV,display:"flex",flexBasis:0,flexShrink:1,overflow:"hidden",...JSON.parse(P)},children:_.jsx("div",{className:e,style:{maxHeight:"100%",maxWidth:"100%",flexGrow:1,...h},children:t})})}hc.displayName="Panel";const WV={minHeight:0,maxHeight:"100%",height:"auto",minWidth:0,maxWidth:"100%",width:"auto",border:"none",borderWidth:0,padding:0,margin:0};function VV({layout:t,panelConstraints:e,panelId:n,panelIndex:r}){let i,a;const s=t[n],o=e.find(l=>l.panelId===n);if(o){const l=o.maxSize,u=o.collapsible?o.collapsedSize:o.minSize,c=[r,r+1];a=dc({layout:vm({delta:u-s,initialLayout:t,panelConstraints:e,pivotIndices:c,prevLayout:t}),panelConstraints:e})[n],i=dc({layout:vm({delta:l-s,initialLayout:t,panelConstraints:e,pivotIndices:c,prevLayout:t}),panelConstraints:e})[n]}return{valueControls:n,valueMax:i,valueMin:a,valueNow:s}}function Zx({children:t,className:e,disabled:n,elementRef:r,id:i,style:a,...s}){const o=UC(i),l=WC({disabled:n}),[u,c]=N.useState({}),[d,h]=N.useState("inactive"),f=N.useRef(null),m=HC(f,r),{disableCursor:p,id:v,orientation:g,registerSeparator:b,toggleSeparatorDisabled:x}=VC(),S=g==="horizontal"?"vertical":"horizontal";Ac(()=>{const k=f.current;if(k!==null){const A={disabled:l.disabled,element:k,id:o},E=b(A),P=Gs.addListener("interactionStateChange",I=>{h(I.state!=="inactive"&&I.hitRegions.some(T=>T.separator===A)?I.state:"inactive")}),O=Gs.addListener("mountedGroupsChange",I=>{I.forEach(({derivedPanelConstraints:T,layout:j,separatorToPanels:C},L)=>{if(L.id===v){const X=C.get(A);if(X){const z=X[0],G=L.panels.indexOf(z);c(VV({layout:j,panelConstraints:T,panelId:z.id,panelIndex:G}))}}})});return()=>{P(),O(),E()}}},[v,o,b,l]),N.useEffect(()=>{x(o,!!n)},[n,o,x]);let w;return n&&!p&&(w="not-allowed"),_.jsx("div",{...s,"aria-controls":u.valueControls,"aria-disabled":n||void 0,"aria-orientation":S,"aria-valuemax":u.valueMax,"aria-valuemin":u.valueMin,"aria-valuenow":u.valueNow,children:t,className:e,"data-separator":n?"disabled":d,"data-testid":o,id:o,ref:m,role:"separator",style:{flexBasis:"auto",cursor:w,...a,flexGrow:0,flexShrink:0},tabIndex:n?void 0:0})}Zx.displayName="Separator";const nF=N.createContext(null);function GV({children:t}){const[e,n]=N.useState(!1);return _.jsx(nF.Provider,{value:{mobileMenuOpen:e,setMobileMenuOpen:n},children:t})}function rF(){return N.useContext(nF)??{mobileMenuOpen:!1,setMobileMenuOpen:()=>{}}}const qV={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 disabled:opacity-50",secondary:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 disabled:opacity-50",ghost:"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"},XV={sm:"rounded px-2 py-1 text-xs",md:"rounded-lg px-4 py-2 text-sm",lg:"rounded-xl px-6 py-3 text-base"};function Rt({variant:t="secondary",size:e="md",className:n="",disabled:r,type:i="button",...a}){return _.jsx("button",{type:i,disabled:r,className:`font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${qV[t]} ${XV[e]} ${n}`,...a})}function KV({open:t,onClose:e}){const[n,r]=N.useState(""),[i,a]=N.useState(null),s=N.useRef(null);N.useEffect(()=>{t&&(r(U$()??""),a(Ck()))},[t]);const o=()=>{const c=n.trim();c&&hV(c),N$(i),e(!0)},l=c=>{var f;const d=(f=c.target.files)==null?void 0:f[0];if(!d||!d.type.startsWith("image/"))return;const h=new FileReader;h.onload=()=>{const m=h.result;a(m)},h.readAsDataURL(d),c.target.value=""},u=()=>{a(null)};return t?_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"profile-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:()=>e()}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"profile-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Profile"}),_.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display name"}),_.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Your name"}),_.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Profile picture"}),_.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[_.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-600 dark:bg-slate-700",children:i?_.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover"}):_.jsx("div",{className:"flex h-full w-full items-center justify-center text-2xl text-slate-400",children:n.trim()?n.trim().charAt(0).toUpperCase():"?"})}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:l}),_.jsx(Rt,{variant:"secondary",size:"sm",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:"Upload"}),i&&_.jsx(Rt,{variant:"ghost",size:"sm",onClick:u,children:"Remove"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(Rt,{variant:"secondary",onClick:()=>e(),children:"Cancel"}),_.jsx(Rt,{variant:"primary",onClick:o,children:"Save"})]})]})]}):null}function YV(){const t=Kx(),e=U$(),{query:n,setQuery:r}=z$(),{setMobileMenuOpen:i}=rF(),[a,s]=N.useState(!1),[o,l]=N.useState(!1),[u,c]=N.useState(()=>Ck()),d=N.useRef(null);N.useEffect(()=>{function f(m){d.current&&!d.current.contains(m.target)&&s(!1)}if(a)return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[a]);const h=()=>{fV(),t("/")};return _.jsxs("header",{className:"flex h-14 items-center justify-between border-b border-slate-200 bg-white px-4 dark:border-slate-700 dark:bg-slate-900",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",className:"md:hidden rounded p-2 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(!0),"aria-label":"Open menu",children:_.jsx("span",{className:"text-xl",children:""})}),_.jsx(Bh,{to:"/app/workspace",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Study Hub"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("input",{type:"search",placeholder:"Search workspace...",value:n,onChange:f=>r(f.target.value),className:"rounded-lg border border-slate-300 bg-slate-50 px-3 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Search workspace"}),_.jsxs("div",{className:"relative",ref:d,children:[_.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800","aria-haspopup":"true","aria-expanded":a,"aria-label":"User menu",onClick:f=>{f.stopPropagation(),s(m=>!m)},children:[u?_.jsx("img",{src:u,alt:"",className:"h-8 w-8 rounded-full object-cover"}):_.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-sm font-medium text-white",children:(e||"U").charAt(0).toUpperCase()}),_.jsx("span",{className:"hidden text-sm text-slate-700 dark:text-slate-300 sm:inline",children:e||"User"})]}),a&&_.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 min-w-[140px] rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{s(!1),l(!0)},children:"Profile"}),_.jsx(Bh,{to:"/app/settings",className:"block px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>s(!1),children:"Settings"}),_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:h,children:"Logout"})]}),_.jsx(KV,{open:o,onClose:f=>{l(!1),f&&c(Ck())}})]})]})]})}const ZV=[{id:"workspace",label:"Workspace"},{id:"study",label:"Study Modes"},{id:"media",label:"Media Player Hub"},{id:"csv",label:"CSV Visualizer"},{id:"settings",label:"Settings"}],ka="workspace";async function Mk(t){return await DW(ka,"workspaceId",t)}async function QV(){return DC(ka)}async function S2(t){return _a(ka,t)}async function k2(t){await Br(ka,t)}async function $c(t){await Br(ka,t)}async function JV(t,e){const n=await _a(ka,t);(n==null?void 0:n.kind)==="file"&&await Br(ka,{...n,content:e})}async function eG(t,e){const n=await _a(ka,t);if(!n||n.kind!=="file")return;const r={...n,folderId:e,updatedAt:Date.now()};return await Br(ka,r),r}async function tG(t){await uc(ka,t)}async function nG(t){const e=await Mk(t);for(const n of e)await uc(ka,n.id)}function Fc(){return crypto.randomUUID()}const GC="tabs";function qC(t){return`tabs_${t}`}async function rG(t){const e=qC(t);return await _a(GC,e)??{id:e,openTabIds:[],activeTabId:null}}async function iF(t,e){const n=qC(t);await Br(GC,{...e,id:n})}async function iG(t){await uc(GC,qC(t))}const aG="workspace",_2="tabs",lv="default";async function sG(){if(hp().length>0)return;const e=Date.now();Gv([{id:lv,name:"Default",createdAt:e,updatedAt:e}]),qv(lv);const r=await QV();for(const a of r){const s=a;(s.workspaceId==null||s.workspaceId===void 0)&&await Br(aG,{...a,workspaceId:lv})}const i=await _a(_2,"tabs");i&&Array.isArray(i.openTabIds)&&(await iF(lv,{openTabIds:i.openTabIds,activeTabId:i.activeTabId??null}),await uc(_2,"tabs"))}const aF=N.createContext(null);function oG({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState("default"),[a,s]=N.useState(!1);N.useEffect(()=>{sG().then(()=>{n(hp()),i(O1()??"default"),s(!0)})},[]);const o=N.useCallback(h=>{i(h),qv(h)},[]),l=N.useCallback(h=>{const f=crypto.randomUUID(),m=Date.now(),p={id:f,name:h||"New workspace",createdAt:m,updatedAt:m};return n(v=>[...v,p]),Gv([...hp(),p]),i(f),qv(f),f},[]),u=N.useCallback((h,f)=>{const m=hp().map(p=>p.id===h?{...p,name:f||p.name,updatedAt:Date.now()}:p);n(m),Gv(m)},[]),c=N.useCallback(async h=>{const f=hp();if(f.length<=1)return;await nG(h),await iG(h);const m=f.filter(p=>p.id!==h);if(Gv(m),n(m),O1()===h){const p=m[0];i(p.id),qv(p.id)}},[]),d={workspaceList:e,activeWorkspaceId:a?r:O1()??"default",setActiveWorkspace:o,createWorkspace:l,renameWorkspace:u,deleteWorkspace:c};return _.jsx(aF.Provider,{value:d,children:t})}function Qx(){const t=N.useContext(aF);if(!t)throw new Error("useActiveWorkspace must be used within WorkspaceProvider");return t}function Nk({open:t,title:e,label:n,defaultValue:r="",submitLabel:i="Save",cancelLabel:a="Cancel",onSubmit:s,onCancel:o}){const[l,u]=N.useState(r);if(N.useEffect(()=>{t&&(console.log(" InputModal opened with defaultValue:",r),u(r))},[t,r]),!t)return null;console.log(" InputModal rendering, open:",t,"value:",l);const c=()=>{const h=l.trim();h&&s(h),o()},d=()=>{u(r),o()};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"input-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200","aria-hidden":!0,onClick:d}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl transition-[transform,opacity] duration-200 ease-out dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"input-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),_.jsx("label",{htmlFor:"input-modal-field",className:"mt-3 block text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),_.jsx("input",{id:"input-modal-field",type:"text",value:l,onChange:h=>u(h.target.value),onKeyDown:h=>{h.key==="Enter"&&l.trim()&&c(),h.key==="Escape"&&d()},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(Rt,{variant:"secondary",onClick:d,children:a}),_.jsx(Rt,{variant:"primary",onClick:c,disabled:!l.trim(),children:i})]})]})]})}function Jx({open:t,title:e,message:n,confirmLabel:r,cancelLabel:i="Cancel",variant:a="primary",onConfirm:s,onCancel:o}){return t?_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200","aria-hidden":!0,onClick:o}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl transition-[transform,opacity] duration-200 ease-out dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"confirm-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),_.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:n}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(Rt,{variant:"secondary",onClick:o,children:i}),_.jsx(Rt,{variant:a,onClick:()=>s(),children:r})]})]})]}):null}const lG={workspace:"",study:"",media:"",csv:"",settings:""};function uG(){var C;const{section:t}=jC(),e=t??"workspace",{sidebarCollapsed:n,setSidebarCollapsed:r}=D$(),{mobileMenuOpen:i,setMobileMenuOpen:a}=rF(),{workspaceList:s,activeWorkspaceId:o,setActiveWorkspace:l,createWorkspace:u,renameWorkspace:c,deleteWorkspace:d}=Qx(),[h,f]=N.useState(!1),[m,p]=N.useState(!1),[v,g]=N.useState(!1),[b,x]=N.useState(null),[S,w]=N.useState(!1),[k,A]=N.useState(null),E=N.useRef(null),P=()=>a(!1),O=s.find(L=>L.id===o),I=(O==null?void 0:O.name)??"Workspace",T=s.length>1;N.useEffect(()=>{function L(X){E.current&&!E.current.contains(X.target)&&f(!1)}if(h)return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[h]);const j=_.jsx("nav",{className:"flex flex-col gap-0.5 p-2","aria-label":"Main navigation",children:ZV.map(({id:L,label:X})=>_.jsxs(Bh,{to:`/app/${L}`,title:n?X:void 0,className:`flex items-center gap-2 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${e===L?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200":"text-slate-700 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"} ${n?"justify-center px-2":""}`,onClick:P,children:[_.jsx("span",{"aria-hidden":!0,children:lG[L]}),!n&&_.jsx("span",{children:X})]},L))});return _.jsxs(_.Fragment,{children:[i&&_.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden","aria-hidden":!0,onClick:P}),_.jsxs("aside",{className:`flex flex-col border-r border-slate-200 bg-slate-50 transition-[width] duration-200 ease-out dark:border-slate-700 dark:bg-slate-800/50 h-full
          ${n?"w-14":"w-full"}
          md:relative
          fixed inset-y-0 left-0 z-50 mt-14 md:mt-0
          ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[_.jsxs("div",{className:"flex items-center justify-between p-2",children:[_.jsx("button",{type:"button",className:"rounded p-2 hover:bg-slate-200 dark:hover:bg-slate-700",onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",title:n?"Expand sidebar":"Collapse sidebar",children:n?"":""}),_.jsx("button",{type:"button",className:"rounded p-2 hover:bg-slate-200 dark:hover:bg-slate-700 md:hidden",onClick:P,"aria-label":"Close menu",children:""})]}),!n&&_.jsxs("div",{className:"relative px-2 pb-2",ref:E,children:[_.jsxs("button",{type:"button",className:"flex w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm font-medium text-slate-800 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",onClick:()=>f(L=>!L),"aria-haspopup":"true","aria-expanded":h,children:[_.jsx("span",{className:"truncate",children:I}),_.jsx("span",{className:"text-slate-400",children:""})]}),h&&_.jsxs("div",{className:"absolute left-2 right-2 top-full z-10 mt-1 max-h-64 overflow-auto rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{f(!1),p(!0)},children:"Create workspace"}),_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{f(!1),x(o),g(!0)},children:"Rename workspace"}),T&&_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",onClick:()=>{f(!1),A(o),w(!0)},children:"Delete workspace"}),_.jsx("div",{className:"my-1 border-t border-slate-200 dark:border-slate-600"}),s.map(L=>_.jsx("button",{type:"button",className:`block w-full truncate px-3 py-2 text-left text-sm ${L.id===o?"bg-blue-50 font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-200":"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"}`,onClick:()=>{l(L.id),f(!1)},children:L.name},L.id))]})]}),j,_.jsx(Nk,{open:m,title:"Create workspace",label:"Workspace name",defaultValue:"",submitLabel:"Create",onSubmit:L=>{u(L),p(!1)},onCancel:()=>p(!1)}),_.jsx(Nk,{open:v,title:"Rename workspace",label:"Workspace name",defaultValue:b?((C=s.find(L=>L.id===b))==null?void 0:C.name)??"":"",submitLabel:"Save",onSubmit:L=>{b&&c(b,L),g(!1),x(null)},onCancel:()=>{g(!1),x(null)}}),_.jsx(Jx,{open:S,title:"Delete workspace",message:"Delete this workspace and all its files? This cannot be undone.",confirmLabel:"Delete",variant:"danger",onConfirm:async()=>{k&&await d(k),w(!1),A(null)},onCancel:()=>{w(!1),A(null)}})]})]})}const cG="media-player-sync";let N1=null;function XC(){return N1||(N1=new BroadcastChannel(cG)),N1}function dG(){XC().postMessage({type:"popout-opened"})}function hG(){XC().postMessage({type:"clear-requested"})}function fG(t){const e=XC(),n=r=>{t(r.data)};return e.addEventListener("message",n),()=>e.removeEventListener("message",n)}const sF=N.createContext(null);function pG({children:t}){const[e,n]=N.useState(""),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState("main");N.useEffect(()=>{const f=pl();n(f.spotify??""),i(Ak())},[]),N.useEffect(()=>fG(m=>{m.type==="popout-opened"?l("popout"):m.type==="popout-closed"&&l("main")}),[]);const u=N.useCallback(f=>{n(f),ym({...pl(),spotify:f})},[]),c=N.useCallback(f=>{i(f),f?P$(f):T$()},[]),d=N.useCallback(f=>{s(f)},[]),h=N.useCallback(f=>{l(f)},[]);return _.jsx(sF.Provider,{value:{spotifyUrl:e,youtubeVideoId:r,trackMetadata:a,playerOwner:o,setSpotifyUrl:u,setYoutubeVideoId:c,setTrackMetadata:d,setPlayerOwner:h},children:t})}function KC(){const t=N.useContext(sF);if(!t)throw new Error("useMedia must be used within MediaProvider");return t}function mG(t,e){const n=typeof window<"u"?window.location.origin:"",r=e==="youtube"?"YouTube":"Spotify";return`${n}/popout-player.html?url=${encodeURIComponent(t)}&title=${encodeURIComponent(r)}`}function gG(t){if(!t.trim())return null;try{const e=new URL(t.trim().startsWith("http")?t.trim():`https://${t.trim()}`);if(e.hostname.includes("open.spotify.com"))return`https://open.spotify.com/embed${e.pathname}${e.search}`}catch{}return null}function yG(){const{spotifyUrl:t,youtubeVideoId:e,trackMetadata:n,playerOwner:r}=KC(),[i,a]=N.useState(!0),s=!!e,o=gG(t);if(!s&&!!!o)return null;const u=s?`https://www.youtube.com/embed/${e}`:o,c=s?"youtube":"spotify",d=s?"YouTube":"Spotify",h=()=>{const m=c==="youtube"?640:420,p=c==="youtube"?390:320,v=Math.max(0,(window.screen.width-m)/2),g=Math.max(0,(window.screen.height-p)/2);window.open(mG(u,c),"popout-player",`width=${m},height=${p},left=${v},top=${g},scrollbars=no`),dG()},f=c==="youtube"?"YouTube embed PiP is limited in browsers. Pop out opens a floating player window.":"Pop out opens a floating player window.";return _.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-40 border-t border-slate-200 bg-white/95 shadow-lg transition-all duration-300 ease-in-out dark:border-slate-700 dark:bg-slate-800/95 ",children:[_.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[_.jsx("button",{type:"button",onClick:()=>a(!i),className:"flex-shrink-0 text-lg hover:opacity-70 transition-transform duration-200","aria-label":i?"Collapse player":"Expand player",title:i?"Collapse player":"Expand player",children:i?"":""}),_.jsx("div",{className:"min-w-0 flex-1",children:n?_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"truncate text-sm font-medium text-slate-800 dark:text-slate-200",children:n.title}),n.artist&&_.jsx("div",{className:"truncate text-xs text-slate-600 dark:text-slate-400",children:n.artist})]}):_.jsx("span",{className:"truncate text-sm font-medium text-slate-800 dark:text-slate-200",children:d})}),(!i||r==="popout")&&_.jsxs(_.Fragment,{children:[_.jsx("button",{type:"button",onClick:h,title:f,className:"flex-shrink-0 rounded border border-slate-300 px-2 py-1 text-xs text-slate-700 hover:bg-slate-100 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-700",children:"Pop out"}),_.jsx(Bh,{to:"/app/media",className:"flex-shrink-0 rounded bg-blue-600 px-3 py-1.5 text-sm text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:"Open"})]}),i&&r!=="popout"&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:h,title:f,className:"flex-shrink-0 rounded border border-slate-300 px-2 py-1 text-xs text-slate-700 hover:bg-slate-100 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-700",children:"Pop out"}),_.jsx(Bh,{to:"/app/media",className:"flex-shrink-0 rounded bg-blue-600 px-3 py-1.5 text-sm text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:"Open"})]})]}),i&&_.jsx("div",{className:"border-t border-slate-200 p-3 dark:border-slate-700 transition-all duration-300",children:r==="popout"?_.jsx("div",{className:"flex items-center justify-center rounded bg-slate-100 px-4 py-8 dark:bg-slate-700",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Playing in pop-out window"})}):_.jsxs("div",{className:"flex items-start gap-3",children:[(n==null?void 0:n.artwork)&&_.jsx("img",{src:n.artwork,alt:"Album artwork",className:"h-20 w-20 flex-shrink-0 rounded shadow-md"}),_.jsx("div",{className:"min-w-0 flex-1 overflow-hidden rounded bg-slate-900",style:{width:"100%",maxWidth:c==="spotify"?"400px":"560px",height:c==="spotify"?"152px":"315px"},children:_.jsx("iframe",{title:`${d} player`,src:u,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})]})})]})}const vG=["workspace","study","media","csv","settings"];function bG(){const{section:t}=jC();if(!B$())return _.jsx(rb,{to:"/",replace:!0});const e=(t??"workspace").toLowerCase(),n=vG.includes(e)?e:"workspace";return _.jsx(oG,{children:_.jsx(pG,{children:_.jsx(GV,{children:_.jsxs("div",{className:"flex h-screen flex-col bg-slate-100 dark:bg-slate-900",children:[_.jsx(YV,{}),_.jsxs(Yx,{orientation:"horizontal",className:"flex-1 overflow-hidden",children:[_.jsx(hc,{defaultSize:15,minSize:10,maxSize:30,children:_.jsx(uG,{})}),_.jsx(Zx,{className:"w-1.5 bg-slate-200 hover:bg-blue-400 active:bg-blue-500 transition-colors dark:bg-slate-700 dark:hover:bg-blue-600 dark:active:bg-blue-700 cursor-col-resize"}),_.jsx(hc,{defaultSize:85,minSize:50,children:_.jsxs("div",{className:"relative flex h-full min-w-0 flex-col",children:[_.jsx("main",{className:"flex-1 overflow-auto p-4 pb-24 min-w-0","aria-label":"Main content",children:_.jsx(SW,{context:{section:n}})}),_.jsx(yG,{})]})})]})]})})})})}function xG(){return _.jsx(rb,{to:"/app/workspace",replace:!0})}function oF(){const{activeWorkspaceId:t}=Qx(),[e,n]=N.useState([]),[r,i]=N.useState(!0),a=N.useCallback(async()=>{i(!0);const g=await Mk(t);n(g),i(!1)},[t]);N.useEffect(()=>{a()},[a]);const s=N.useCallback(async(g,b)=>{const x={id:Fc(),kind:"folder",workspaceId:t,name:b||"New folder",parentId:g,createdAt:Date.now()};return await k2(x),await a(),x.id},[a,t]),o=N.useCallback(async(g,b,x,S)=>{const w={id:Fc(),kind:"file",workspaceId:t,folderId:g,name:b,fileType:x,content:S,createdAt:Date.now()};return await $c(w),await a(),w.id},[a,t]),l=N.useCallback(async(g,b,x,S)=>{const w=Date.now(),k={id:Fc(),kind:"file",workspaceId:t,folderId:g,name:b,fileType:"docx",content:x,createdAt:w,size:S,updatedAt:w};return await $c(k),await a(),k.id},[a,t]),u=N.useCallback(async(g,b,x,S)=>{const w=Date.now(),k={id:Fc(),kind:"file",workspaceId:t,folderId:g,name:b,fileType:"pdf",content:x,createdAt:w,size:S,updatedAt:w};return await $c(k),await a(),k.id},[a,t]),c=N.useCallback(async(g,b,x,S)=>{const w=Date.now(),k={id:Fc(),kind:"file",workspaceId:t,folderId:g,name:b,fileType:"image",content:x,createdAt:w,size:S,updatedAt:w};return await $c(k),await a(),k.id},[a,t]),d=N.useCallback(async(g,b)=>{const x=b.name&&b.artists?`${b.name}  ${b.artists}`:b.name||"Spotify track",S={id:Fc(),kind:"file",workspaceId:t,folderId:g,name:x,fileType:"spotify",content:JSON.stringify(b),createdAt:Date.now()};return await $c(S),await a(),S.id},[a,t]),h=N.useCallback(async(g,b)=>{const x=await S2(g);x&&(x.kind==="folder"?await k2({...x,name:b}):await $c({...x,name:b}),await a())},[a]),f=N.useCallback(async g=>{const b=await S2(g);if(!b)return[];const x=new Set;if(b.kind==="folder"){const S=await Mk(t),w=k=>{x.add(k),S.filter(A=>A.kind==="folder"?A.parentId===k:A.folderId===k).forEach(A=>{A.kind==="folder"?w(A.id):x.add(A.id)})};w(g)}else x.add(g);for(const S of x)await tG(S);return await a(),Array.from(x)},[a,t]),m=N.useCallback(g=>e.find(b=>b.id===g),[e]),p=N.useCallback(async(g,b)=>{await JV(g,b),await a()},[a]),v=N.useCallback(async(g,b)=>{const x=await eG(g,b);return x&&await a(),!!x},[a]);return{items:e,loading:r,load:a,createFolder:s,addFile:o,addDocxFile:l,addPdfFile:u,addImageFile:c,addSpotifyTrackFile:d,renameItem:h,deleteItem:f,getItem:m,updateFileContent:p,moveFile:v}}function wG(){const{activeWorkspaceId:t}=Qx(),[e,n]=N.useState([]),[r,i]=N.useState(null),[a,s]=N.useState(!1);N.useEffect(()=>{s(!1),rG(t).then(d=>{n(d.openTabIds),i(d.activeTabId),s(!0)})},[t]),N.useEffect(()=>{a&&iF(t,{openTabIds:e,activeTabId:r}).catch(()=>{})},[a,t,e,r]);const o=N.useCallback(d=>{n(h=>h.includes(d)?h:[...h,d]),i(d)},[]),l=N.useCallback(d=>{n(h=>{const f=h.filter(m=>m!==d);return i(m=>{if(m!==d)return m;const p=h.indexOf(d);return f[p]??f[f.length-1]??null}),f})},[]),u=N.useCallback(d=>{const h=new Set(d);n(f=>{const m=f.filter(p=>!h.has(p));return i(p=>!p||!h.has(p)?p:m[0]??null),m})},[]),c=N.useCallback(d=>{i(d)},[]);return{openTabIds:e,activeTabId:r,openTab:o,closeTab:l,closeTabs:u,setActiveTab:c}}function SG(t,e=!0){N.useEffect(()=>{if(!e)return;const n=r=>{for(const i of t){const a=i.ctrl===void 0||i.ctrl===(r.ctrlKey||r.metaKey),s=i.shift===void 0||i.shift===r.shiftKey,o=i.alt===void 0||i.alt===r.altKey,l=i.meta===void 0||i.meta===r.metaKey,u=i.key.toLowerCase()===r.key.toLowerCase();if(a&&s&&o&&l&&u){i.preventDefault!==!1&&r.preventDefault(),i.handler(r);break}}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,e])}const A2=[{id:"study-notes",name:"Study Notes",fileType:"text",extension:".md",content:`# Study Notes

## Date: ${new Date().toLocaleDateString()}

### Topic

### Key Points
- 
- 
- 

### Summary


### Questions
- 

`},{id:"flashcard-import",name:"Flashcard Import (CSV)",fileType:"csv",extension:".csv",content:`front,back
"Question 1","Answer 1"
"Question 2","Answer 2"
"Question 3","Answer 3"
`},{id:"study-plan",name:"Study Plan",fileType:"text",extension:".md",content:`# Study Plan

## Week of ${new Date().toLocaleDateString()}

### Monday
- [ ] Task 1
- [ ] Task 2

### Tuesday
- [ ] Task 1
- [ ] Task 2

### Wednesday
- [ ] Task 1
- [ ] Task 2

### Thursday
- [ ] Task 1
- [ ] Task 2

### Friday
- [ ] Task 1
- [ ] Task 2

### Weekend Review
- [ ] Review notes
- [ ] Practice problems
- [ ] Prepare for next week

`},{id:"lecture-notes",name:"Lecture Notes",fileType:"text",extension:".md",content:`# Lecture Notes

**Course:** 
**Date:** ${new Date().toLocaleDateString()}
**Topic:** 

## Main Concepts


## Key Terms
- **Term 1:** Definition
- **Term 2:** Definition

## Examples


## Questions to Review


## Action Items
- [ ] 
- [ ] 

`},{id:"todo-list",name:"To-Do List",fileType:"text",extension:".md",content:`# To-Do List

## ${new Date().toLocaleDateString()}

### High Priority
- [ ] 
- [ ] 

### Medium Priority
- [ ] 
- [ ] 

### Low Priority
- [ ] 
- [ ] 

### Completed
- [x] Created to-do list

`}];function Hf({fileName:t,hasUnsavedChanges:e,onSave:n,onDownload:r,onDownloadWithNotes:i,onDownloadNotes:a,canSave:s=!0}){return _.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 bg-slate-50 px-3 py-2 dark:border-slate-700 dark:bg-slate-800/50",children:[_.jsx("span",{className:"truncate text-sm font-medium text-slate-700 dark:text-slate-300",title:t,children:t}),e?_.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Unsaved changes"}):_.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Saved"}),s&&n&&_.jsx(Rt,{variant:"primary",size:"sm",onClick:n,disabled:!e,children:"Save"}),r&&_.jsx(Rt,{variant:"secondary",size:"sm",onClick:r,children:"Download"}),i&&_.jsx(Rt,{variant:"secondary",size:"sm",onClick:i,children:"Download with notes"}),a&&_.jsx(Rt,{variant:"secondary",size:"sm",onClick:a,children:"Download notes"})]})}const kG=5*1024*1024,_G=5*1024*1024,AG=5*1024*1024;function Kv(t){return t.kind==="folder"}function ki(t){return t.kind==="file"}const I1="application/x-workspace-file-id";function EG(t,e){const n=t.filter(a=>a.kind==="folder"&&a.parentId===e),r=t.filter(a=>a.kind==="file"&&a.folderId===e),i=a=>a.updatedAt??a.createdAt;return[...n.sort((a,s)=>a.name.localeCompare(s.name)),...r.sort((a,s)=>i(a)-i(s))]}function E2({item:t,depth:e,onOpenFile:n,onRename:r,onDelete:i,onRequestDelete:a,onOpenFolder:s,onToggleExpand:o,selectedFolderId:l,isExpanded:u,isDragging:c,onDragStart:d,onDragEnd:h,isDropTarget:f,onDragOver:m,onDragLeave:p,onDrop:v}){const[g,b]=N.useState(!1),[x,S]=N.useState(t.name),w=N.useRef(null),k=Kv(t),A=k&&t.id===l,E=()=>{const j=x.trim();j&&r(t.id,j),b(!1)};N.useEffect(()=>{var j;g&&((j=w.current)==null||j.focus())},[g]),N.useEffect(()=>{S(t.name)},[t.name]);const P=j=>{j.key==="Enter"&&E(),j.key==="Escape"&&(S(t.name),b(!1))},O=()=>{a?a(t):k?i(t.id,!0):i(t.id,!1)},I=()=>{c||(k?s(t.id):n(t.id))},T=_.jsx("div",{className:`flex items-center gap-1 rounded px-2 py-1.5 text-sm transition-[box-shadow,background-color] duration-150 ${f?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""} ${A?"bg-blue-100 dark:bg-blue-900/40":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,style:{paddingLeft:`${e*12+8}px`},onDragOver:k?m:void 0,onDragLeave:k?p:void 0,onDrop:k?v:void 0,children:g?_.jsx("input",{ref:w,type:"text",value:x,onChange:j=>S(j.target.value),onBlur:E,onKeyDown:P,className:"min-w-0 flex-1 rounded border border-slate-300 bg-white px-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0,"aria-label":"Rename"}):_.jsxs(_.Fragment,{children:[k&&_.jsx("button",{type:"button",className:"flex shrink-0 items-center justify-center rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:j=>{j.stopPropagation(),o(t.id)},"aria-label":u?"Collapse":"Expand",children:_.jsx("span",{className:"inline-block transition-transform",style:{transform:u?"rotate(90deg)":"rotate(0deg)"},"aria-hidden":!0,children:""})}),_.jsxs("button",{type:"button",className:"min-w-0 flex-1 truncate text-left",onClick:I,children:[_.jsx("span",{className:"mr-1","aria-hidden":!0,children:k?"":""}),t.name]}),_.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100",children:[_.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:j=>{j.stopPropagation(),b(!0)},"aria-label":"Rename",children:""}),_.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-red-200 dark:hover:bg-red-900/50",onClick:j=>{j.stopPropagation(),O()},"aria-label":"Delete",children:""})]})]})});return k?_.jsx("div",{className:"group",children:T}):_.jsx("div",{className:"group cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:d,onDragEnd:h,children:T})}function CG({workspaceName:t,items:e,selectedFolderId:n,expandedFolders:r,onToggleExpand:i,onSelectFolder:a,onOpenFile:s,onCreateFolder:o,onImportFiles:l,onRename:u,onDelete:c,moveFile:d,getItem:h,onMoveFeedback:f,isDragging:m,setDragging:p}){const[v,g]=N.useState(null),[b,x]=N.useState(null),S=v==="root",w=(j,C)=>{j.dataTransfer.setData(I1,C),j.dataTransfer.effectAllowed="move",p(!0)},k=()=>{p(!1),g(null)},A=(j,C)=>{j.preventDefault(),j.dataTransfer.dropEffect="move",g(C)},E=async(j,C)=>{j.preventDefault();const L=j.dataTransfer.getData(I1);if(g(null),p(!1),!L)return;const X=h(L);if(!X||X.kind!=="file"||X.folderId===C)return;if(await d(L,C)){const G=h(C);f(`Moved to ${(G==null?void 0:G.kind)==="folder"?G.name:t}`),r[C]===!1&&i(C)}},P=j=>{j.preventDefault(),j.dataTransfer.dropEffect="move",g("root")},O=async j=>{j.preventDefault(),j.stopPropagation();const C=j.dataTransfer.getData(I1);if(g(null),p(!1),!C)return;const L=h(C);if(!L||L.kind!=="file"||L.folderId===null)return;await d(C,null)&&f(`Moved to ${t}`)},I=j=>{j.currentTarget===j.target&&g(null)};function T(j,C){return EG(e,j).map(X=>{if(X.kind==="folder"){const z=r[X.id]!==!1,G=z?T(X.id,C+1):null,W=v===X.id;return _.jsxs("div",{children:[_.jsx(E2,{item:X,depth:C,onOpenFile:s,onRename:u,onDelete:c,onRequestDelete:x,onOpenFolder:a,onToggleExpand:i,selectedFolderId:n,isExpanded:z,isDragging:m,isDropTarget:W,onDragOver:R=>A(R,X.id),onDragLeave:()=>g(null),onDrop:R=>E(R,X.id)}),G]},X.id)}return _.jsx(E2,{item:X,depth:C,onOpenFile:s,onRename:u,onDelete:c,onRequestDelete:x,onOpenFolder:a,onToggleExpand:i,selectedFolderId:n,isDragging:m,onDragStart:z=>w(z,X.id),onDragEnd:k},X.id)})}return _.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[_.jsx(Rt,{variant:"secondary",size:"md",onClick:()=>{console.log(" New folder button clicked, selectedFolderId:",n),o(n)},children:"New folder"}),_.jsx(Rt,{variant:"secondary",size:"md",onClick:()=>l(n),children:"Import file(s)"})]}),_.jsxs("div",{className:"min-h-0 flex-1 overflow-auto p-1",onDragOver:P,onDragLeave:I,onDrop:O,children:[_.jsx("div",{className:`mb-2 rounded px-2 py-1.5 text-sm ${S?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""}`,children:_.jsx("button",{type:"button",className:"w-full rounded px-2 py-1.5 text-left hover:bg-slate-200 dark:hover:bg-slate-700",onClick:()=>a(null),children:t})}),T(null,0)]}),_.jsx(Jx,{open:b!==null,title:b&&Kv(b)?"Delete folder":"Delete file",message:b?Kv(b)?`Delete folder "${b.name}" and all its contents? This cannot be undone.`:`Delete file "${b.name}"? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:()=>{b&&(c(b.id,Kv(b)),x(null))},onCancel:()=>x(null)})]})}function PG(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const TG=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OG=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MG={};function C2(t,e){return(MG.jsx?OG:TG).test(t)}const NG=/[ \t\n\f\r]/g;function IG(t){return typeof t=="object"?t.type==="text"?P2(t.value):!1:P2(t)}function P2(t){return t.replace(NG,"")===""}class Ay{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ay.prototype.normal={};Ay.prototype.property={};Ay.prototype.space=void 0;function lF(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ay(n,r,e)}function Ik(t){return t.toLowerCase()}class Ur{constructor(e,n){this.attribute=n,this.property=e}}Ur.prototype.attribute="";Ur.prototype.booleanish=!1;Ur.prototype.boolean=!1;Ur.prototype.commaOrSpaceSeparated=!1;Ur.prototype.commaSeparated=!1;Ur.prototype.defined=!1;Ur.prototype.mustUseProperty=!1;Ur.prototype.number=!1;Ur.prototype.overloadedBoolean=!1;Ur.prototype.property="";Ur.prototype.spaceSeparated=!1;Ur.prototype.space=void 0;let RG=0;const We=Ec(),sn=Ec(),Rk=Ec(),Se=Ec(),Ct=Ec(),Ed=Ec(),Gr=Ec();function Ec(){return 2**++RG}const Lk=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:sn,commaOrSpaceSeparated:Gr,commaSeparated:Ed,number:Se,overloadedBoolean:Rk,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),R1=Object.keys(Lk);class YC extends Ur{constructor(e,n,r,i){let a=-1;if(super(e,n),T2(this,"space",i),typeof r=="number")for(;++a<R1.length;){const s=R1[a];T2(this,R1[a],(r&Lk[s])===Lk[s])}}}YC.prototype.defined=!0;function T2(t,e,n){n&&(t[e]=n)}function xf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new YC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Ik(r)]=r,n[Ik(a.attribute)]=r}return new Ay(e,n,t.space)}const uF=xf({properties:{ariaActiveDescendant:null,ariaAtomic:sn,ariaAutoComplete:null,ariaBusy:sn,ariaChecked:sn,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:sn,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:sn,ariaFlowTo:Ct,ariaGrabbed:sn,ariaHasPopup:null,ariaHidden:sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:Se,ariaLive:null,ariaModal:sn,ariaMultiLine:sn,ariaMultiSelectable:sn,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:sn,ariaReadOnly:sn,ariaRelevant:null,ariaRequired:sn,ariaRoleDescription:Ct,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:sn,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function cF(t,e){return e in t?t[e]:e}function dF(t,e){return cF(t,e.toLowerCase())}const LG=xf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ed,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:Ct,autoFocus:We,autoPlay:We,blocking:Ct,capture:null,charSet:null,checked:We,cite:null,className:Ct,cols:Se,colSpan:null,content:null,contentEditable:sn,controls:We,controlsList:Ct,coords:Se|Ed,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:Rk,draggable:sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:Ct,height:Se,hidden:Rk,high:Se,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:We,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:Se,pattern:null,ping:Ct,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:Ct,required:We,reversed:We,rows:Se,rowSpan:Se,sandbox:Ct,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:sn,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:sn,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:dF}),jG=xf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gr,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ed,g2:Ed,glyphName:Ed,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:Gr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gr,rev:Gr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gr,requiredFeatures:Gr,requiredFonts:Gr,requiredFormats:Gr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:Gr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gr,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:cF}),hF=xf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),fF=xf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:dF}),pF=xf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),DG={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$G=/[A-Z]/g,O2=/-[a-z]/g,FG=/^data[-\w.:]+$/i;function zG(t,e){const n=Ik(e);let r=e,i=Ur;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FG.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(O2,UG);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!O2.test(a)){let s=a.replace($G,BG);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=YC}return new i(r,e)}function BG(t){return"-"+t.toLowerCase()}function UG(t){return t.charAt(1).toUpperCase()}const HG=lF([uF,LG,hF,fF,pF],"html"),ZC=lF([uF,jG,hF,fF,pF],"svg");function WG(t){return t.join(" ").trim()}var QC={},M2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,VG=/\n/g,GG=/^\s*/,qG=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,XG=/^:\s*/,KG=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,YG=/^[;\s]*/,ZG=/^\s+|\s+$/g,QG=`
`,N2="/",I2="*",Xl="",JG="comment",e7="declaration";function t7(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var p=m.match(VG);p&&(n+=p.length);var v=m.lastIndexOf(QG);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(p){return p.position=new s(m),u(),p}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var p=new Error(e.source+":"+n+":"+r+": "+m);if(p.reason=m,p.filename=e.source,p.line=n,p.column=r,p.source=t,!e.silent)throw p}function l(m){var p=m.exec(t);if(p){var v=p[0];return i(v),t=t.slice(v.length),p}}function u(){l(GG)}function c(m){var p;for(m=m||[];p=d();)p!==!1&&m.push(p);return m}function d(){var m=a();if(!(N2!=t.charAt(0)||I2!=t.charAt(1))){for(var p=2;Xl!=t.charAt(p)&&(I2!=t.charAt(p)||N2!=t.charAt(p+1));)++p;if(p+=2,Xl===t.charAt(p-1))return o("End of comment missing");var v=t.slice(2,p-2);return r+=2,i(v),t=t.slice(p),r+=2,m({type:JG,comment:v})}}function h(){var m=a(),p=l(qG);if(p){if(d(),!l(XG))return o("property missing ':'");var v=l(KG),g=m({type:e7,property:R2(p[0].replace(M2,Xl)),value:v?R2(v[0].replace(M2,Xl)):Xl});return l(YG),g}}function f(){var m=[];c(m);for(var p;p=h();)p!==!1&&(m.push(p),c(m));return m}return u(),f()}function R2(t){return t?t.replace(ZG,Xl):Xl}var n7=t7,r7=li&&li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QC,"__esModule",{value:!0});QC.default=a7;const i7=r7(n7);function a7(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,i7.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var ew={};Object.defineProperty(ew,"__esModule",{value:!0});ew.camelCase=void 0;var s7=/^--[a-zA-Z0-9_-]+$/,o7=/-([a-z])/g,l7=/^[^-]+$/,u7=/^-(webkit|moz|ms|o|khtml)-/,c7=/^-(ms)-/,d7=function(t){return!t||l7.test(t)||s7.test(t)},h7=function(t,e){return e.toUpperCase()},L2=function(t,e){return"".concat(e,"-")},f7=function(t,e){return e===void 0&&(e={}),d7(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(c7,L2):t=t.replace(u7,L2),t.replace(o7,h7))};ew.camelCase=f7;var p7=li&&li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},m7=p7(QC),g7=ew;function jk(t,e){var n={};return!t||typeof t!="string"||(0,m7.default)(t,function(r,i){r&&i&&(n[(0,g7.camelCase)(r,e)]=i)}),n}jk.default=jk;var y7=jk;const v7=ot(y7),mF=gF("end"),JC=gF("start");function gF(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function b7(t){const e=JC(t),n=mF(t);if(e&&n)return{start:e,end:n}}function Bp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?j2(t.position):"start"in t||"end"in t?j2(t):"line"in t||"column"in t?Dk(t):""}function Dk(t){return D2(t&&t.line)+":"+D2(t&&t.column)}function j2(t){return Dk(t&&t.start)+"-"+Dk(t&&t.end)}function D2(t){return t&&typeof t=="number"?t:1}class ur extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Bp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ur.prototype.file="";ur.prototype.name="";ur.prototype.reason="";ur.prototype.message="";ur.prototype.stack="";ur.prototype.column=void 0;ur.prototype.line=void 0;ur.prototype.ancestors=void 0;ur.prototype.cause=void 0;ur.prototype.fatal=void 0;ur.prototype.place=void 0;ur.prototype.ruleId=void 0;ur.prototype.source=void 0;const eP={}.hasOwnProperty,x7=new Map,w7=/[A-Z]/g,S7=new Set(["table","tbody","thead","tfoot","tr"]),k7=new Set(["td","th"]),yF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _7(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=N7(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=M7(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ZC:HG,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=vF(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function vF(t,e,n){if(e.type==="element")return A7(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return E7(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return P7(t,e,n);if(e.type==="mdxjsEsm")return C7(t,e);if(e.type==="root")return T7(t,e,n);if(e.type==="text")return O7(t,e)}function A7(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ZC,t.schema=i),t.ancestors.push(e);const a=xF(t,e.tagName,!1),s=I7(t,e);let o=nP(t,e);return S7.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!IG(l):!0})),bF(t,s,a,e),tP(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function E7(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}bm(t,e.position)}function C7(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);bm(t,e.position)}function P7(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ZC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:xF(t,e.name,!0),s=R7(t,e),o=nP(t,e);return bF(t,s,a,e),tP(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function T7(t,e,n){const r={};return tP(r,nP(t,e)),t.create(e,t.Fragment,r,n)}function O7(t,e){return e.value}function bF(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function tP(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function M7(t,e,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:e;return o?u(a,s,o):u(a,s)}}function N7(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=JC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function I7(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&eP.call(e.properties,i)){const a=L7(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&k7.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function R7(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else bm(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else bm(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function nP(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:x7;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=vF(t,a,s);o!==void 0&&n.push(o)}return n}function L7(t,e,n){const r=zG(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PG(n):WG(n)),r.property==="style"){let i=typeof n=="object"?n:j7(t,String(n));return t.stylePropertyNameCase==="css"&&(i=D7(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?DG[r.property]||r.property:r.attribute,n]}}function j7(t,e){try{return v7(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ur("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=yF+"#cannot-parse-style-attribute",i}}function xF(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=C2(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=C2(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return eP.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);bm(t)}function bm(t,e){const n=new ur("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=yF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function D7(t){const e={};let n;for(n in t)eP.call(t,n)&&(e[$7(n)]=t[n]);return e}function $7(t){let e=t.replace(w7,F7);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function F7(t){return"-"+t.toLowerCase()}const L1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},z7={};function B7(t,e){const n=z7,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wF(t,r,i)}function wF(t,e,n){if(U7(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $2(t.children,e,n)}return Array.isArray(t)?$2(t,e,n):""}function $2(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=wF(t[i],e,n);return r.join("")}function U7(t){return!!(t&&typeof t=="object")}const F2=document.createElement("i");function rP(t){const e="&"+t+";";F2.innerHTML=e;const n=F2.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function rs(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Mi(t,e){return t.length>0?(rs(t,t.length,0,e),t):e}const z2={}.hasOwnProperty;function H7(t){const e={};let n=-1;for(;++n<t.length;)W7(e,t[n]);return e}function W7(t,e){let n;for(n in e){const i=(z2.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){z2.call(i,s)||(i[s]=[]);const o=a[s];V7(i[s],Array.isArray(o)?o:o?[o]:[])}}}function V7(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);rs(t,0,0,r)}function SF(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Cd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Za=Cl(/[A-Za-z]/),ci=Cl(/[\dA-Za-z]/),G7=Cl(/[#-'*+\--9=?A-Z^-~]/);function $k(t){return t!==null&&(t<32||t===127)}const Fk=Cl(/\d/),q7=Cl(/[\dA-Fa-f]/),X7=Cl(/[!-/:-@[-`{-~]/);function Fe(t){return t!==null&&t<-2}function zr(t){return t!==null&&(t<0||t===32)}function ut(t){return t===-2||t===-1||t===32}const K7=Cl(new RegExp("\\p{P}|\\p{S}","u")),Y7=Cl(/\s/);function Cl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&ci(t.charCodeAt(n+1))&&ci(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ot(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return ut(l)?(t.enter(n),o(l)):e(l)}function o(l){return ut(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const Z7={tokenize:Q7};function Q7(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ot(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Fe(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const J7={tokenize:e9},B2={tokenize:t9};function e9(t){const e=this,n=[];let r=0,i,a,s;return o;function o(x){if(r<n.length){const S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const S=e.events.length;let w=S,k;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){k=e.events[w][1].end;break}g(r);let A=S;for(;A<e.events.length;)e.events[A][1].end={...k},A++;return rs(e.events,w+1,0,e.events.slice(S)),e.events.length=A,u(x)}return o(x)}function u(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(B2,c,d)(x)}function c(x){return i&&b(),g(r),h(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(x)}function h(x){return e.containerState={},t.attempt(B2,f,m)(x)}function f(x){return r++,n.push([e.currentConstruct,e.containerState]),h(x)}function m(x){if(x===null){i&&b(),g(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),p(x)}function p(x){if(x===null){v(t.exit("chunkFlow"),!0),g(0),t.consume(x);return}return Fe(x)?(t.consume(x),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(x),p)}function v(x,S){const w=e.sliceStream(x);if(S&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),e.parser.lazy[x.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const A=e.events.length;let E=A,P,O;for(;E--;)if(e.events[E][0]==="exit"&&e.events[E][1].type==="chunkFlow"){if(P){O=e.events[E][1].end;break}P=!0}for(g(r),k=A;k<e.events.length;)e.events[k][1].end={...O},k++;rs(e.events,E+1,0,e.events.slice(A)),e.events.length=k}}function g(x){let S=n.length;for(;S-- >x;){const w=n[S];e.containerState=w[1],w[0].exit.call(e,t)}n.length=x}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function t9(t,e,n){return Ot(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function U2(t){if(t===null||zr(t)||Y7(t))return 1;if(K7(t))return 2}function iP(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const zk={name:"attention",resolveAll:n9,tokenize:r9};function n9(t,e){let n=-1,r,i,a,s,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};H2(d,-l),H2(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Mi(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Mi(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=Mi(u,iP(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Mi(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Mi(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,rs(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function r9(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=U2(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),c=U2(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?d:d&&(i||!h)),u._close=!!(a===42?h:h&&(c||!d)),e(l)}}function H2(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const i9={name:"autolink",tokenize:a9};function a9(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(f){return Za(f)?(t.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||ci(f)?(r=1,o(f)):u(f)}function o(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||ci(f))&&r++<32?(t.consume(f),o):(r=0,u(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||$k(f)?n(f):(t.consume(f),l)}function u(f){return f===64?(t.consume(f),c):G7(f)?(t.consume(f),u):n(f)}function c(f){return ci(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,c):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||ci(f))&&r++<63){const m=f===45?h:d;return t.consume(f),m}return n(f)}}const tw={partial:!0,tokenize:s9};function s9(t,e,n){return r;function r(a){return ut(a)?Ot(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Fe(a)?e(a):n(a)}}const kF={continuation:{tokenize:l9},exit:u9,name:"blockQuote",tokenize:o9};function o9(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return ut(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function l9(t,e,n){const r=this;return i;function i(s){return ut(s)?Ot(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(kF,e,n)(s)}}function u9(t){t.exit("blockQuote")}const _F={name:"characterEscape",tokenize:c9};function c9(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return X7(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const AF={name:"characterReference",tokenize:d9};function d9(t,e,n){const r=this;let i=0,a,s;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=ci,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=q7,c):(t.enter("characterReferenceValue"),a=7,s=Fk,c(d))}function c(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===ci&&!rP(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<a?(t.consume(d),c):n(d)}}const W2={partial:!0,tokenize:f9},V2={concrete:!0,name:"codeFenced",tokenize:h9};function h9(t,e,n){const r=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(k){return u(k)}function u(k){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===o?(s++,t.consume(k),c):s<3?n(k):(t.exit("codeFencedFenceSequence"),ut(k)?Ot(t,d,"whitespace")(k):d(k))}function d(k){return k===null||Fe(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(W2,p,S)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||Fe(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):ut(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ot(t,f,"whitespace")(k)):k===96&&k===o?n(k):(t.consume(k),h)}function f(k){return k===null||Fe(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||Fe(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===o?n(k):(t.consume(k),m)}function p(k){return t.attempt(i,S,v)(k)}function v(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),g}function g(k){return a>0&&ut(k)?Ot(t,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||Fe(k)?t.check(W2,p,S)(k):(t.enter("codeFlowValue"),x(k))}function x(k){return k===null||Fe(k)?(t.exit("codeFlowValue"),b(k)):(t.consume(k),x)}function S(k){return t.exit("codeFenced"),e(k)}function w(k,A,E){let P=0;return O;function O(L){return k.enter("lineEnding"),k.consume(L),k.exit("lineEnding"),I}function I(L){return k.enter("codeFencedFence"),ut(L)?Ot(k,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):T(L)}function T(L){return L===o?(k.enter("codeFencedFenceSequence"),j(L)):E(L)}function j(L){return L===o?(P++,k.consume(L),j):P>=s?(k.exit("codeFencedFenceSequence"),ut(L)?Ot(k,C,"whitespace")(L):C(L)):E(L)}function C(L){return L===null||Fe(L)?(k.exit("codeFencedFence"),A(L)):E(L)}}}function f9(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const j1={name:"codeIndented",tokenize:m9},p9={partial:!0,tokenize:g9};function m9(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Ot(t,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Fe(u)?t.attempt(p9,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Fe(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function g9(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Ot(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Fe(s)?i(s):n(s)}}const y9={name:"codeText",previous:b9,resolve:v9,tokenize:x9};function v9(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function b9(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function x9(t,e,n){let r=0,i,a;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(a=t.enter("codeTextSequence"),i=0,c(d)):Fe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Fe(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(a.type="codeTextData",u(d))}}class w9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Wf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Wf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Wf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Wf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Wf(this.left,n.reverse())}}}function Wf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function EF(t){const e={};let n=-1,r,i,a,s,o,l,u;const c=new w9(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,S9(c,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return rs(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function S9(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,d,h=-1,f=n,m=0,p=0;const v=[p];for(;f;){for(;t.get(++i)[1]!==f;);a.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(p=h+1,v.push(p),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),h=v.length;h--;){const g=o.slice(v[h],v[h+1]),b=a.pop();l.push([b,b+g.length-1]),t.splice(b,2,g)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const k9={resolve:A9,tokenize:E9},_9={partial:!0,tokenize:C9};function A9(t){return EF(t),t}function E9(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Fe(o)?t.check(_9,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function C9(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Ot(t,a,"linePrefix")}function a(s){if(s===null||Fe(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function CF(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(g){return g===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(g),t.exit(a),h):g===null||g===32||g===41||$k(g)?n(g):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),p(g))}function h(g){return g===62?(t.enter(a),t.consume(g),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===62?(t.exit("chunkString"),t.exit(o),h(g)):g===null||g===60||Fe(g)?n(g):(t.consume(g),g===92?m:f)}function m(g){return g===60||g===62||g===92?(t.consume(g),f):f(g)}function p(g){return!c&&(g===null||g===41||zr(g))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(g)):c<u&&g===40?(t.consume(g),c++,p):g===41?(t.consume(g),c--,p):g===null||g===32||g===40||$k(g)?n(g):(t.consume(g),g===92?v:p)}function v(g){return g===40||g===41||g===92?(t.consume(g),p):p(g)}}function PF(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(a),c}function c(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(a),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):Fe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Fe(f)||o++>999?(t.exit("chunkString"),c(f)):(t.consume(f),l||(l=!ut(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),o++,d):d(f)}}function TF(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),u(h))}function u(h){return h===s?(t.exit(a),l(s)):h===null?n(h):Fe(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ot(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||Fe(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(t.consume(h),c):c(h)}}function Up(t,e){let n;return r;function r(i){return Fe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ut(i)?Ot(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const P9={name:"definition",tokenize:O9},T9={partial:!0,tokenize:M9};function O9(t,e,n){const r=this;let i;return a;function a(f){return t.enter("definition"),s(f)}function s(f){return PF.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=Cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return zr(f)?Up(t,u)(f):u(f)}function u(f){return CF(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return t.attempt(T9,d,d)(f)}function d(f){return ut(f)?Ot(t,h,"whitespace")(f):h(f)}function h(f){return f===null||Fe(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function M9(t,e,n){return r;function r(o){return zr(o)?Up(t,i)(o):n(o)}function i(o){return TF(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return ut(o)?Ot(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Fe(o)?e(o):n(o)}}const N9={name:"hardBreakEscape",tokenize:I9};function I9(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Fe(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const R9={name:"headingAtx",resolve:L9,tokenize:j9};function L9(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},rs(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function j9(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),a(c)}function a(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||zr(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Fe(c)?(t.exit("atxHeading"),e(c)):ut(c)?Ot(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||zr(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const D9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],G2=["pre","script","style","textarea"],$9={concrete:!0,name:"htmlFlow",resolveTo:B9,tokenize:U9},F9={partial:!0,tokenize:W9},z9={partial:!0,tokenize:H9};function B9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function U9(t,e,n){const r=this;let i,a,s,o,l;return u;function u($){return c($)}function c($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),d}function d($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,p):$===63?(t.consume($),i=3,r.interrupt?e:R):Za($)?(t.consume($),s=String.fromCharCode($),v):n($)}function h($){return $===45?(t.consume($),i=2,f):$===91?(t.consume($),i=5,o=0,m):Za($)?(t.consume($),i=4,r.interrupt?e:R):n($)}function f($){return $===45?(t.consume($),r.interrupt?e:R):n($)}function m($){const ie="CDATA[";return $===ie.charCodeAt(o++)?(t.consume($),o===ie.length?r.interrupt?e:T:m):n($)}function p($){return Za($)?(t.consume($),s=String.fromCharCode($),v):n($)}function v($){if($===null||$===47||$===62||zr($)){const ie=$===47,Z=s.toLowerCase();return!ie&&!a&&G2.includes(Z)?(i=1,r.interrupt?e($):T($)):D9.includes(s.toLowerCase())?(i=6,ie?(t.consume($),g):r.interrupt?e($):T($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?b($):x($))}return $===45||ci($)?(t.consume($),s+=String.fromCharCode($),v):n($)}function g($){return $===62?(t.consume($),r.interrupt?e:T):n($)}function b($){return ut($)?(t.consume($),b):O($)}function x($){return $===47?(t.consume($),O):$===58||$===95||Za($)?(t.consume($),S):ut($)?(t.consume($),x):O($)}function S($){return $===45||$===46||$===58||$===95||ci($)?(t.consume($),S):w($)}function w($){return $===61?(t.consume($),k):ut($)?(t.consume($),w):x($)}function k($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):ut($)?(t.consume($),k):E($)}function A($){return $===l?(t.consume($),l=null,P):$===null||Fe($)?n($):(t.consume($),A)}function E($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||zr($)?w($):(t.consume($),E)}function P($){return $===47||$===62||ut($)?x($):n($)}function O($){return $===62?(t.consume($),I):n($)}function I($){return $===null||Fe($)?T($):ut($)?(t.consume($),I):n($)}function T($){return $===45&&i===2?(t.consume($),X):$===60&&i===1?(t.consume($),z):$===62&&i===4?(t.consume($),V):$===63&&i===3?(t.consume($),R):$===93&&i===5?(t.consume($),W):Fe($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(F9,H,j)($)):$===null||Fe($)?(t.exit("htmlFlowData"),j($)):(t.consume($),T)}function j($){return t.check(z9,C,H)($)}function C($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),L}function L($){return $===null||Fe($)?j($):(t.enter("htmlFlowData"),T($))}function X($){return $===45?(t.consume($),R):T($)}function z($){return $===47?(t.consume($),s="",G):T($)}function G($){if($===62){const ie=s.toLowerCase();return G2.includes(ie)?(t.consume($),V):T($)}return Za($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),G):T($)}function W($){return $===93?(t.consume($),R):T($)}function R($){return $===62?(t.consume($),V):$===45&&i===2?(t.consume($),R):T($)}function V($){return $===null||Fe($)?(t.exit("htmlFlowData"),H($)):(t.consume($),V)}function H($){return t.exit("htmlFlow"),e($)}}function H9(t,e,n){const r=this;return i;function i(s){return Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function W9(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(tw,e,n)}}const V9={name:"htmlText",tokenize:G9};function G9(t,e,n){const r=this;let i,a,s;return o;function o(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),w):R===63?(t.consume(R),x):Za(R)?(t.consume(R),E):n(R)}function u(R){return R===45?(t.consume(R),c):R===91?(t.consume(R),a=0,m):Za(R)?(t.consume(R),b):n(R)}function c(R){return R===45?(t.consume(R),f):n(R)}function d(R){return R===null?n(R):R===45?(t.consume(R),h):Fe(R)?(s=d,z(R)):(t.consume(R),d)}function h(R){return R===45?(t.consume(R),f):d(R)}function f(R){return R===62?X(R):R===45?h(R):d(R)}function m(R){const V="CDATA[";return R===V.charCodeAt(a++)?(t.consume(R),a===V.length?p:m):n(R)}function p(R){return R===null?n(R):R===93?(t.consume(R),v):Fe(R)?(s=p,z(R)):(t.consume(R),p)}function v(R){return R===93?(t.consume(R),g):p(R)}function g(R){return R===62?X(R):R===93?(t.consume(R),g):p(R)}function b(R){return R===null||R===62?X(R):Fe(R)?(s=b,z(R)):(t.consume(R),b)}function x(R){return R===null?n(R):R===63?(t.consume(R),S):Fe(R)?(s=x,z(R)):(t.consume(R),x)}function S(R){return R===62?X(R):x(R)}function w(R){return Za(R)?(t.consume(R),k):n(R)}function k(R){return R===45||ci(R)?(t.consume(R),k):A(R)}function A(R){return Fe(R)?(s=A,z(R)):ut(R)?(t.consume(R),A):X(R)}function E(R){return R===45||ci(R)?(t.consume(R),E):R===47||R===62||zr(R)?P(R):n(R)}function P(R){return R===47?(t.consume(R),X):R===58||R===95||Za(R)?(t.consume(R),O):Fe(R)?(s=P,z(R)):ut(R)?(t.consume(R),P):X(R)}function O(R){return R===45||R===46||R===58||R===95||ci(R)?(t.consume(R),O):I(R)}function I(R){return R===61?(t.consume(R),T):Fe(R)?(s=I,z(R)):ut(R)?(t.consume(R),I):P(R)}function T(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,j):Fe(R)?(s=T,z(R)):ut(R)?(t.consume(R),T):(t.consume(R),C)}function j(R){return R===i?(t.consume(R),i=void 0,L):R===null?n(R):Fe(R)?(s=j,z(R)):(t.consume(R),j)}function C(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||zr(R)?P(R):(t.consume(R),C)}function L(R){return R===47||R===62||zr(R)?P(R):n(R)}function X(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function z(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),G}function G(R){return ut(R)?Ot(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):W(R)}function W(R){return t.enter("htmlTextData"),s(R)}}const aP={name:"labelEnd",resolveAll:Y9,resolveTo:Z9,tokenize:Q9},q9={tokenize:J9},X9={tokenize:eq},K9={tokenize:tq};function Y9(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&rs(t,0,t.length,n),t}function Z9(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Mi(o,t.slice(a+1,a+r+3)),o=Mi(o,[["enter",c,e]]),o=Mi(o,iP(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Mi(o,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),o=Mi(o,t.slice(s+1)),o=Mi(o,[["exit",l,e]]),rs(t,a,t.length,o),t}function Q9(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?d(h):(s=r.parser.defined.includes(Cd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(q9,c,s?c:d)(h):h===91?t.attempt(X9,c,s?u:d)(h):s?c(h):d(h)}function u(h){return t.attempt(K9,c,d)(h)}function c(h){return e(h)}function d(h){return a._balanced=!0,n(h)}}function J9(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return zr(d)?Up(t,a)(d):a(d)}function a(d){return d===41?c(d):CF(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return zr(d)?Up(t,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?TF(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return zr(d)?Up(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function eq(t,e,n){const r=this;return i;function i(o){return PF.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function tq(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const nq={name:"labelStartImage",resolveAll:aP.resolveAll,tokenize:rq};function rq(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const iq={name:"labelStartLink",resolveAll:aP.resolveAll,tokenize:aq};function aq(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const D1={name:"lineEnding",tokenize:sq};function sq(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ot(t,e,"linePrefix")}}const Yv={name:"thematicBreak",tokenize:oq};function oq(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Fe(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),ut(u)?Ot(t,o,"whitespace")(u):o(u))}}const Cr={continuation:{tokenize:dq},exit:fq,name:"list",tokenize:cq},lq={partial:!0,tokenize:pq},uq={partial:!0,tokenize:hq};function cq(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Fk(f)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Yv,n,u)(f):u(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return Fk(f)&&++s<10?(t.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),u(f)):n(f)}function u(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(tw,r.interrupt?n:c,t.attempt(lq,h,d))}function c(f){return r.containerState.initialBlankLine=!0,a++,h(f)}function d(f){return ut(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function dq(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(tw,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ot(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!ut(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(uq,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ot(t,t.attempt(Cr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function hq(t,e,n){const r=this;return Ot(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function fq(t){t.exit(this.containerState.type)}function pq(t,e,n){const r=this;return Ot(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!ut(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const q2={name:"setextUnderline",resolveTo:mq,tokenize:gq};function mq(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function gq(t,e,n){const r=this;let i;return a;function a(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),ut(u)?Ot(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Fe(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const yq={tokenize:vq};function vq(t){const e=this,n=t.attempt(tw,r,t.attempt(this.parser.constructs.flowInitial,i,Ot(t,t.attempt(this.parser.constructs.flow,i,t.attempt(k9,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const bq={resolveAll:MF()},xq=OF("string"),wq=OF("text");function OF(t){return{resolveAll:MF(t==="text"?Sq:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function MF(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Sq(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const kq={42:Cr,43:Cr,45:Cr,48:Cr,49:Cr,50:Cr,51:Cr,52:Cr,53:Cr,54:Cr,55:Cr,56:Cr,57:Cr,62:kF},_q={91:P9},Aq={[-2]:j1,[-1]:j1,32:j1},Eq={35:R9,42:Yv,45:[q2,Yv],60:$9,61:q2,95:Yv,96:V2,126:V2},Cq={38:AF,92:_F},Pq={[-5]:D1,[-4]:D1,[-3]:D1,33:nq,38:AF,42:zk,60:[i9,V9],91:iq,92:[N9,_F],93:aP,95:zk,96:y9},Tq={null:[zk,bq]},Oq={null:[42,95]},Mq={null:[]},Nq=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Oq,contentInitial:_q,disable:Mq,document:kq,flow:Eq,flowInitial:Aq,insideSpan:Tq,string:Cq,text:Pq},Symbol.toStringTag,{value:"Module"}));function Iq(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(w),check:A(k),consume:b,enter:x,exit:S,interrupt:A(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:f,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function d(I){return s=Mi(s,I),v(),s[s.length-1]!==null?[]:(E(e,0),u.events=iP(a,u.events,u),u.events)}function h(I,T){return Lq(f(I),T)}function f(I){return Rq(s,I)}function m(){const{_bufferIndex:I,_index:T,line:j,column:C,offset:L}=r;return{_bufferIndex:I,_index:T,line:j,column:C,offset:L}}function p(I){i[I.line]=I.column,O()}function v(){let I;for(;r._index<s.length;){const T=s[r._index];if(typeof T=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<T.length;)g(T.charCodeAt(r._bufferIndex));else g(T)}}function g(I){c=c(I)}function b(I){Fe(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,O()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function x(I,T){const j=T||{};return j.type=I,j.start=m(),u.events.push(["enter",j,u]),o.push(j),j}function S(I){const T=o.pop();return T.end=m(),u.events.push(["exit",T,u]),T}function w(I,T){E(I,T.from)}function k(I,T){T.restore()}function A(I,T){return j;function j(C,L,X){let z,G,W,R;return Array.isArray(C)?H(C):"tokenize"in C?H([C]):V(C);function V(he){return we;function we(me){const ae=me!==null&&he[me],fe=me!==null&&he.null,pe=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return H(pe)(me)}}function H(he){return z=he,G=0,he.length===0?X:$(he[G])}function $(he){return we;function we(me){return R=P(),W=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?Z():he.tokenize.call(T?Object.assign(Object.create(u),T):u,l,ie,Z)(me)}}function ie(he){return I(W,R),L}function Z(he){return R.restore(),++G<z.length?$(z[G]):X}}}function E(I,T){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&rs(u.events,T,u.events.length-T,I.resolve(u.events.slice(T),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function P(){const I=m(),T=u.previous,j=u.currentConstruct,C=u.events.length,L=Array.from(o);return{from:C,restore:X};function X(){r=I,u.previous=T,u.currentConstruct=j,u.events.length=C,o=L,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Rq(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Lq(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function jq(t){const r={constructs:H7([Nq,...(t||{}).extensions||[]]),content:i(Z7),defined:[],document:i(J7),flow:i(yq),lazy:{},string:i(xq),text:i(wq)};return r;function i(a){return s;function s(o){return Iq(r,a,o)}}}function Dq(t){for(;!EF(t););return t}const X2=/[\0\t\n\r]/g;function $q(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,d,h,f;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),d=0,e="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(X2.lastIndex=d,u=X2.exec(a),h=u&&u.index!==void 0?u.index:a.length,f=a.charCodeAt(h),!u){e=a.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(a.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Fq=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zq(t){return t.replace(Fq,Bq)}function Bq(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return SF(n.slice(a?2:1),a?16:10)}return rP(n)||t}const NF={}.hasOwnProperty;function Uq(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Hq(n)(Dq(jq(n).document().write($q()(t,e,!0))))}function Hq(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Y),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(te),blockQuote:a(fe),characterEscape:P,characterReference:P,codeFenced:a(pe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(pe,s),codeText:a(se,s),codeTextData:P,data:P,codeFlowValue:P,definition:a(_e),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(M),hardBreakEscape:a(K),hardBreakTrailing:a(K),htmlFlow:a(q,s),htmlFlowData:P,htmlText:a(q,s),htmlTextData:P,image:a(U),label:s,link:a(Y),listItem:a(de),listItemValue:h,listOrdered:a(Q,d),listUnordered:a(Q),paragraph:a(ne),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(te),strong:a(ye),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ae,autolinkProtocol:me,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:he,characterReference:we,codeFenced:l(v),codeFencedFence:p,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:O,codeIndented:l(g),codeText:l(L),codeTextData:O,data:O,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(j),htmlFlowData:O,htmlText:l(C),htmlTextData:O,image:l(z),label:W,labelText:G,lineEnding:I,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ie,resourceDestinationString:R,resourceTitleString:V,resource:H,setextHeading:l(E),setextHeadingLineSequence:A,setextHeadingText:k,strong:l(),thematicBreak:l()}};IF(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let ue={type:"root",children:[]};const ve={stack:[ue],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:c,data:n},oe=[];let ke=-1;for(;++ke<ee.length;)if(ee[ke][1].type==="listOrdered"||ee[ke][1].type==="listUnordered")if(ee[ke][0]==="enter")oe.push(ke);else{const Le=oe.pop();ke=i(ee,Le,ke)}for(ke=-1;++ke<ee.length;){const Le=e[ee[ke][0]];NF.call(Le,ee[ke][1].type)&&Le[ee[ke][1].type].call(Object.assign({sliceSerialize:ee[ke][2].sliceSerialize},ve),ee[ke][1])}if(ve.tokenStack.length>0){const Le=ve.tokenStack[ve.tokenStack.length-1];(Le[1]||K2).call(ve,void 0,Le[0])}for(ue.position={start:go(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:go(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<e.transforms.length;)ue=e.transforms[ke](ue)||ue;return ue}function i(ee,ue,ve){let oe=ue-1,ke=-1,Le=!1,De,Me,Ie,kt;for(;++oe<=ve;){const Ue=ee[oe];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?ke++:ke--,kt=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(De&&!kt&&!ke&&!Ie&&(Ie=oe),kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kt=void 0}if(!ke&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||ke===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(De){let it=oe;for(Me=void 0;it--;){const _t=ee[it];if(_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;Me&&(ee[Me][1].type="lineEndingBlank",Le=!0),_t[1].type="lineEnding",Me=it}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break}Ie&&(!Me||Ie<Me)&&(De._spread=!0),De.end=Object.assign({},Me?ee[Me][1].start:Ue[1].end),ee.splice(Me||oe,0,["exit",De,Ue[2]]),oe++,ve++}if(Ue[1].type==="listItemPrefix"){const it={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};De=it,ee.splice(oe,0,["enter",it,Ue[2]]),oe++,ve++,Ie=void 0,kt=!0}}}return ee[ue][1]._spread=Le,ve}function a(ee,ue){return ve;function ve(oe){o.call(this,ee(oe),oe),ue&&ue.call(this,oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ee,ue,ve){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([ue,ve||void 0]),ee.position={start:go(ue.start),end:void 0}}function l(ee){return ue;function ue(ve){ee&&ee.call(this,ve),u.call(this,ve)}}function u(ee,ue){const ve=this.stack.pop(),oe=this.tokenStack.pop();if(oe)oe[0].type!==ee.type&&(ue?ue.call(this,ee,oe[0]):(oe[1]||K2).call(this,ee,oe[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Bp({start:ee.start,end:ee.end})+"): its not open");ve.position.end=go(ee.end)}function c(){return B7(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ee){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=ee}function m(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=ee}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/(\r?\n|\r)$/g,"")}function b(ee){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ue,ve.identifier=Cd(this.sliceSerialize(ee)).toLowerCase()}function x(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function S(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function w(ee){const ue=this.stack[this.stack.length-1];if(!ue.depth){const ve=this.sliceSerialize(ee).length;ue.depth=ve}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function A(ee){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function P(ee){const ve=this.stack[this.stack.length-1].children;let oe=ve[ve.length-1];(!oe||oe.type!=="text")&&(oe=xe(),oe.position={start:go(ee.start),end:void 0},ve.push(oe)),this.stack.push(oe)}function O(ee){const ue=this.stack.pop();ue.value+=this.sliceSerialize(ee),ue.position.end=go(ee.end)}function I(ee){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ue.children[ue.children.length-1];ve.position.end=go(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ue.type)&&(P.call(this,ee),O.call(this,ee))}function T(){this.data.atHardBreak=!0}function j(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function C(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function L(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function X(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function z(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function G(ee){const ue=this.sliceSerialize(ee),ve=this.stack[this.stack.length-2];ve.label=zq(ue),ve.identifier=Cd(ue).toLowerCase()}function W(){const ee=this.stack[this.stack.length-1],ue=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const oe=ee.children;ve.children=oe}else ve.alt=ue}function R(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function V(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function H(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ie(ee){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ue,ve.identifier=Cd(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Z(ee){this.data.characterReferenceType=ee.type}function he(ee){const ue=this.sliceSerialize(ee),ve=this.data.characterReferenceType;let oe;ve?(oe=SF(ue,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):oe=rP(ue);const ke=this.stack[this.stack.length-1];ke.value+=oe}function we(ee){const ue=this.stack.pop();ue.position.end=go(ee.end)}function me(ee){O.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(ee)}function ae(ee){O.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(ee)}function fe(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function _e(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function M(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function K(){return{type:"break"}}function q(){return{type:"html",value:""}}function U(){return{type:"image",title:null,url:"",alt:null}}function Y(){return{type:"link",title:null,url:"",children:[]}}function Q(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function de(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function ne(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function go(t){return{line:t.line,column:t.column,offset:t.offset}}function IF(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?IF(t,r):Wq(t,r)}}function Wq(t,e){let n;for(n in e)if(NF.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function K2(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bp({start:e.start,end:e.end})+") is still open")}function Vq(t){const e=this;e.parser=n;function n(r){return Uq(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Gq(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function qq(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Xq(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function Kq(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Yq(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zq(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=wf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function Qq(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jq(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function RF(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function eX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return RF(t,e);const i={src:wf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function tX(t,e){const n={src:wf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function nX(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function rX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return RF(t,e);const i={href:wf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function iX(t,e){const n={href:wf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function aX(t,e,n){const r=t.all(e),i=n?sX(n):LF(e),a={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function sX(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=LF(n[r])}return e}function LF(t){const e=t.spread;return e??t.children.length>1}function oX(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function lX(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uX(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function cX(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dX(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=JC(e.children[1]),l=mF(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function hX(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],h={},f=s?s[l]:void 0;f&&(h.align=f);let m={type:"element",tagName:a,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function fX(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Y2=9,Z2=32;function pX(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(Q2(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(Q2(e.slice(i),i>0,!1)),a.join("")}function Q2(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===Y2||a===Z2;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===Y2||a===Z2;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function mX(t,e){const n={type:"text",value:pX(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function gX(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const yX={blockquote:Gq,break:qq,code:Xq,delete:Kq,emphasis:Yq,footnoteReference:Zq,heading:Qq,html:Jq,imageReference:eX,image:tX,inlineCode:nX,linkReference:rX,link:iX,listItem:aX,list:oX,paragraph:lX,root:uX,strong:cX,table:dX,tableCell:fX,tableRow:hX,text:mX,thematicBreak:gX,toml:uv,yaml:uv,definition:uv,footnoteDefinition:uv};function uv(){}const jF=-1,nw=0,Hp=1,ab=2,sP=3,oP=4,lP=5,uP=6,DF=7,$F=8,J2=typeof self=="object"?self:globalThis,vX=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case nw:case jF:return n(s,i);case Hp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case ab:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case sP:return n(new Date(s),i);case oP:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case lP:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case uP:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case DF:{const{name:o,message:l}=s;return n(new J2[o](l),i)}case $F:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new J2[a](s),i)};return r},eM=t=>vX(new Map,t)(0),zc="",{toString:bX}={},{keys:xX}=Object,Vf=t=>{const e=typeof t;if(e!=="object"||!t)return[nw,e];const n=bX.call(t).slice(8,-1);switch(n){case"Array":return[Hp,zc];case"Object":return[ab,zc];case"Date":return[sP,zc];case"RegExp":return[oP,zc];case"Map":return[lP,zc];case"Set":return[uP,zc];case"DataView":return[Hp,n]}return n.includes("Array")?[Hp,n]:n.includes("Error")?[DF,n]:[ab,n]},cv=([t,e])=>t===nw&&(e==="function"||e==="symbol"),wX=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Vf(s);switch(o){case nw:{let c=s;switch(l){case"bigint":o=$F,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([jF],s)}return i([o,c],s)}case Hp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([o,c],s);for(const h of s)c.push(a(h));return d}case ab:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const c=[],d=i([o,c],s);for(const h of xX(s))(t||!cv(Vf(s[h])))&&c.push([a(h),a(s[h])]);return d}case sP:return i([o,s.toISOString()],s);case oP:{const{source:c,flags:d}=s;return i([o,{source:c,flags:d}],s)}case lP:{const c=[],d=i([o,c],s);for(const[h,f]of s)(t||!(cv(Vf(h))||cv(Vf(f))))&&c.push([a(h),a(f)]);return d}case uP:{const c=[],d=i([o,c],s);for(const h of s)(t||!cv(Vf(h)))&&c.push(a(h));return d}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},tM=(t,{json:e,lossy:n}={})=>{const r=[];return wX(!(e||n),!!e,new Map,r)(t),r},sb=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eM(tM(t,e)):structuredClone(t):(t,e)=>eM(tM(t,e));function SX(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function kX(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _X(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||SX,r=t.options.footnoteBackLabel||kX,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),h=wf(d.toLowerCase());let f=0;const m=[],p=t.footnoteCounts.get(d);for(;p!==void 0&&++f<=p;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,f);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=c[c.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else c.push(...m);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(c,!0)};t.patch(u,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...sb(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const FF=function(t){if(t==null)return PX;if(typeof t=="function")return rw(t);if(typeof t=="object")return Array.isArray(t)?AX(t):EX(t);if(typeof t=="string")return CX(t);throw new Error("Expected function, string, or object as test")};function AX(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=FF(t[n]);return rw(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function EX(t){const e=t;return rw(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function CX(t){return rw(e);function e(n){return n&&n.type===t}}function rw(t){return e;function e(n,r,i){return!!(TX(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function PX(){return!0}function TX(t){return t!==null&&typeof t=="object"&&"type"in t}const zF=[],OX=!0,nM=!1,MX="skip";function NX(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=FF(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=zF,m,p,v;if((!e||a(l,u,c[c.length-1]||void 0))&&(f=IX(n(l,c)),f[0]===nM))return f;if("children"in l&&l.children){const g=l;if(g.children&&f[0]!==MX)for(p=(r?g.children.length:-1)+s,v=c.concat(g);p>-1&&p<g.children.length;){const b=g.children[p];if(m=o(b,p,v)(),m[0]===nM)return m;p=typeof m[1]=="number"?m[1]:p+s}}return f}}}function IX(t){return Array.isArray(t)?t:typeof t=="number"?[OX,t]:t==null?zF:[t]}function BF(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),NX(t,a,o,i);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const Bk={}.hasOwnProperty,RX={};function LX(t,e){const n=e||RX,r=new Map,i=new Map,a=new Map,s={...yX,...n.handlers},o={all:u,applyData:DX,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:jX,wrap:FX};return BF(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),o;function l(c,d){const h=c.type,f=o.handlers[h];if(Bk.call(o.handlers,h)&&f)return f(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in c){const{children:p,...v}=c,g=sb(v);return g.children=o.all(c),g}return sb(c)}return(o.options.unknownHandler||$X)(o,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let f=-1;for(;++f<h.length;){const m=o.one(h[f],c);if(m){if(f&&h[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=rM(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=rM(p.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function jX(t,e){t.position&&(e.position=b7(t))}function DX(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,sb(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function $X(t,e){const n=e.data||{},r="value"in e&&!(Bk.call(n,"hProperties")||Bk.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function FX(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rM(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function iM(t,e){const n=LX(t,e),r=n.one(t,void 0),i=_X(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function zX(t,e){return t&&"run"in t?async function(n,r){const i=iM(n,{file:r,...e});await t.run(i,r)}:function(n,r){return iM(n,{file:r,...t||e})}}function aM(t){if(t)throw t}var Zv=Object.prototype.hasOwnProperty,UF=Object.prototype.toString,sM=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,lM=function(e){return typeof Array.isArray=="function"?Array.isArray(e):UF.call(e)==="[object Array]"},uM=function(e){if(!e||UF.call(e)!=="[object Object]")return!1;var n=Zv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Zv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Zv.call(e,i)},cM=function(e,n){sM&&n.name==="__proto__"?sM(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},dM=function(e,n){if(n==="__proto__")if(Zv.call(e,n)){if(oM)return oM(e,n).value}else return;return e[n]},BX=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=dM(o,n),i=dM(e,n),o!==i&&(c&&i&&(uM(i)||(a=lM(i)))?(a?(a=!1,s=r&&lM(r)?r:[]):s=r&&uM(r)?r:{},cM(o,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&cM(o,{name:n,newValue:i}));return o};const $1=ot(BX);function Uk(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UX(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=t[++a];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?HX(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function HX(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Oa={basename:WX,dirname:VX,extname:GX,join:qX,sep:"/"};function WX(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ey(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function VX(t){if(Ey(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function GX(t){Ey(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function qX(...t){let e=-1,n;for(;++e<t.length;)Ey(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":XX(n)}function XX(t){Ey(t);const e=t.codePointAt(0)===47;let n=KX(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function KX(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Ey(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const YX={cwd:ZX};function ZX(){return"/"}function Hk(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QX(t){if(typeof t=="string")t=new URL(t);else if(!Hk(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return JX(t)}function JX(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const F1=["history","path","basename","stem","extname","dirname"];class HF{constructor(e){let n;e?Hk(e)?n={path:e}:typeof e=="string"||eK(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":YX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<F1.length;){const a=F1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)F1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Oa.basename(this.path):void 0}set basename(e){B1(e,"basename"),z1(e,"basename"),this.path=Oa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Oa.dirname(this.path):void 0}set dirname(e){hM(this.basename,"dirname"),this.path=Oa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Oa.extname(this.path):void 0}set extname(e){if(z1(e,"extname"),hM(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Hk(e)&&(e=QX(e)),B1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Oa.basename(this.path,this.extname):void 0}set stem(e){B1(e,"stem"),z1(e,"stem"),this.path=Oa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ur(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function z1(t,e){if(t&&t.includes(Oa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Oa.sep+"`")}function B1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hM(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function eK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tK=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},nK={}.hasOwnProperty;class cP extends tK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=UX()}copy(){const e=new cP;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data($1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(W1("data",this.frozen),this.namespace[e]=n,this):nK.call(this.namespace,e)&&this.namespace[e]||void 0:e?(W1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=dv(e),r=this.parser||this.Parser;return U1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),U1("process",this.parser||this.Parser),H1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=dv(e),l=r.parse(o);r.run(l,o,function(c,d,h){if(c||!d||!h)return u(c);const f=d,m=r.stringify(f,h);aK(m)?h.value=m:h.result=m,u(c,h)});function u(c,d){c||!d?s(c):a?a(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),U1("processSync",this.parser||this.Parser),H1("processSync",this.compiler||this.Compiler),this.process(e,i),pM("processSync","process",n),r;function i(a,s){n=!0,aM(a),r=s}}run(e,n,r){fM(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=dv(n);i.run(e,l,u);function u(c,d,h){const f=d||e;c?o(c):s?s(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),pM("runSync","run",r),i;function a(s,o){aM(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=dv(n),i=this.compiler||this.Compiler;return H1("stringify",i),fM(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(W1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=$1(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[f,...m]=c;const p=r[h][1];Uk(p)&&Uk(f)&&(f=$1(!0,p,f)),r[h]=[u,f,...m]}}}}const rK=new cP().freeze();function U1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function H1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function W1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fM(t){if(!Uk(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function pM(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function dv(t){return iK(t)?t:new HF(t)}function iK(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aK(t){return typeof t=="string"||sK(t)}function sK(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oK="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mM=[],gM={allowDangerousHtml:!0},lK=/^(https?|ircs?|mailto|xmpp)$/i,uK=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cK(t){const e=dK(t),n=hK(t);return fK(e.runSync(e.parse(n),n),t)}function dK(t){const e=t.rehypePlugins||mM,n=t.remarkPlugins||mM,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gM}:gM;return rK().use(Vq).use(n).use(zX,r).use(e)}function hK(t){const e=t.children||"",n=new HF;return typeof e=="string"&&(n.value=e),n}function fK(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||pK;for(const c of uK)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+oK+c.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),BF(t,u),_7(t,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let f;for(f in L1)if(Object.hasOwn(L1,f)&&Object.hasOwn(c.properties,f)){const m=c.properties[f],p=L1[f];(p===null||p.includes(c.tagName))&&(c.properties[f]=l(String(m||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(c,d,h)),f&&h&&typeof d=="number")return o&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function pK(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||lK.test(t.slice(0,e))?t:""}const mK=500,gK=N.forwardRef(function({content:e,fileType:n,fileName:r,onSave:i,onDirtyChange:a},s){const[o,l]=N.useState(e),[u,c]=N.useState(e),[d,h]=N.useState(!1),f=N.useRef(null);N.useEffect(()=>{l(e),c(e)},[e]);const m=o!==u;N.useEffect(()=>{a==null||a(m)},[m,a]);const p=N.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null),c(o),i(o)},[o,i]);N.useImperativeHandle(s,()=>({saveNow:p,getContent:()=>o,hasUnsavedChanges:()=>o!==u}),[o,u,p]);const v=N.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c(o),i(o),f.current=null},mK)},[o,i]);N.useEffect(()=>{if(o!==u)return v(),()=>{f.current&&clearTimeout(f.current)}},[o,u,v]);const g=()=>{f.current&&(clearTimeout(f.current),f.current=null,c(o),i(o))},b=r.toLowerCase().endsWith(".md");return n==="csv"?_.jsxs("div",{className:"flex h-full flex-col",children:[_.jsx("p",{className:"mb-2 text-xs text-slate-500",children:"Edit CSV here. Use the CSV Visualizer section to view table and charts."}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:o,onChange:x=>l(x.target.value),onBlur:g,spellCheck:"false","aria-label":"CSV content"})})]}):_.jsxs("div",{className:"flex h-full flex-col",children:[b&&_.jsxs("div",{className:"mb-2 flex gap-2",children:[_.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${d?"bg-slate-200 dark:bg-slate-700":"bg-blue-100 dark:bg-blue-900/50"}`,onClick:()=>h(!1),children:"Edit"}),_.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${d?"bg-blue-100 dark:bg-blue-900/50":"bg-slate-200 dark:bg-slate-700"}`,onClick:()=>h(!0),children:"Preview"})]}),_.jsx("div",{className:"min-h-0 flex-1",children:d&&b?_.jsx("div",{className:"prose prose-slate max-w-none rounded border border-slate-200 bg-white p-4 dark:prose-invert dark:border-slate-700 dark:bg-slate-800",children:_.jsx(cK,{children:o})}):_.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:o,onChange:x=>l(x.target.value),onBlur:g,spellCheck:"false","aria-label":"Document content"})})]})});function hv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WF={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof hv=="function"&&hv;if(!c&&d)return d(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(m){var p=r[u][1][m];return s(p||m)},f,f.exports,n,r,i,a)}return i[u].exports}for(var o=typeof hv=="function"&&hv,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,h,f,m,p,v=[],g=0,b=l.length,x=b,S=a.getTypeOf(l)!=="string";g<l.length;)x=b-g,d=S?(u=l[g++],c=g<b?l[g++]:0,g<b?l[g++]:0):(u=l.charCodeAt(g++),c=g<b?l.charCodeAt(g++):0,g<b?l.charCodeAt(g++):0),h=u>>2,f=(3&u)<<4|c>>4,m=1<x?(15&c)<<2|d>>6:64,p=2<x?63&d:64,v.push(o.charAt(h)+o.charAt(f)+o.charAt(m)+o.charAt(p));return v.join("")},i.decode=function(l){var u,c,d,h,f,m,p=0,v=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|x):new Array(0|x);p<l.length;)u=o.indexOf(l.charAt(p++))<<2|(h=o.indexOf(l.charAt(p++)))>>4,c=(15&h)<<4|(f=o.indexOf(l.charAt(p++)))>>2,d=(3&f)<<6|(m=o.indexOf(l.charAt(p++))),b[v++]=u,f!==64&&(b[v++]=c),m!==64&&(b[v++]=d);return b}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,h,f,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,h){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,d,h){var f=s,m=h+d;u^=-1;for(var p=h;p<m;p++)u=u>>>8^f[255&(u^c[p])];return-1^u}(0|l,o,o.length,0):function(u,c,d,h){var f=s,m=h+d;u^=-1;for(var p=h;p<m;p++)u=u>>>8^f[255&(u^c.charCodeAt(p))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(f,m){var p,v="";for(p=0;p<m;p++)v+=String.fromCharCode(255&f),f>>>=8;return v}function s(f,m,p,v,g,b){var x,S,w=f.file,k=f.compression,A=b!==u.utf8encode,E=o.transformTo("string",b(w.name)),P=o.transformTo("string",u.utf8encode(w.name)),O=w.comment,I=o.transformTo("string",b(O)),T=o.transformTo("string",u.utf8encode(O)),j=P.length!==w.name.length,C=T.length!==O.length,L="",X="",z="",G=w.dir,W=w.date,R={crc32:0,compressedSize:0,uncompressedSize:0};m&&!p||(R.crc32=f.crc32,R.compressedSize=f.compressedSize,R.uncompressedSize=f.uncompressedSize);var V=0;m&&(V|=8),A||!j&&!C||(V|=2048);var H=0,$=0;G&&(H|=16),g==="UNIX"?($=798,H|=function(Z,he){var we=Z;return Z||(we=he?16893:33204),(65535&we)<<16}(w.unixPermissions,G)):($=20,H|=function(Z){return 63&(Z||0)}(w.dosPermissions)),x=W.getUTCHours(),x<<=6,x|=W.getUTCMinutes(),x<<=5,x|=W.getUTCSeconds()/2,S=W.getUTCFullYear()-1980,S<<=4,S|=W.getUTCMonth()+1,S<<=5,S|=W.getUTCDate(),j&&(X=a(1,1)+a(c(E),4)+P,L+="up"+a(X.length,2)+X),C&&(z=a(1,1)+a(c(I),4)+T,L+="uc"+a(z.length,2)+z);var ie="";return ie+=`
\0`,ie+=a(V,2),ie+=k.magic,ie+=a(x,2),ie+=a(S,2),ie+=a(R.crc32,4),ie+=a(R.compressedSize,4),ie+=a(R.uncompressedSize,4),ie+=a(E.length,2),ie+=a(L.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ie+E+L,dirRecord:d.CENTRAL_FILE_HEADER+a($,2)+ie+a(I.length,2)+"\0\0\0\0"+a(H,4)+a(v,4)+E+L+I}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function h(f,m,p,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=p,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var m=f.meta.percent||0,p=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(m+100*(p-v-1))/p:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var p=s(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,p=s(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),m)this.push({data:function(v){return d.DATA_DESCRIPTOR+a(v.crc32,4)+a(v.compressedSize,4)+a(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var p=this.bytesWritten-f,v=function(g,b,x,S,w){var k=o.transformTo("string",w(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(b,4)+a(x,4)+a(k.length,2)+k}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(p){m.processChunk(p)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(p){m.error(p)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var m=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<m.length;p++)try{m[p].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{o.forEach(function(h,f){d++;var m=function(b,x){var S=b||x,w=a[S];if(!w)throw new Error(S+" is not a valid compression method !");return w}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},v=f.dir,g=f.date;f._compressWorker(m,p).withStreamInfo("file",{name:h,dir:v,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(h){return new s.Promise(function(f,m){var p=h.decompressed.getContentWorker().pipe(new u);p.on("error",function(v){m(v)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var m=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(p){var v=new l(f);return v.load(p),v}).then(function(p){var v=[s.Promise.resolve(p)],g=p.files;if(f.checkCRC32)for(var b=0;b<g.length;b++)v.push(d(g[b]));return s.Promise.all(v)}).then(function(p){for(var v=p.shift(),g=v.files,b=0;b<g.length;b++){var x=g[b],S=x.fileNameStr,w=a.resolve(x.fileNameStr);m.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(m.file(w).unsafeOriginalName=S)}return v.zipComment.length&&(m.comment=v.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(d,h){c.push(d)||c._helper.pause(),u&&u(h)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(w,k,A){var E,P=o.getTypeOf(k),O=o.extend(A||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=g(w)),O.createFolders&&(E=v(w))&&b.call(this,E,!0);var I=P==="string"&&O.binary===!1&&O.base64===!1;A&&A.binary!==void 0||(O.binary=!I),(k instanceof d&&k.uncompressedSize===0||O.dir||!k||k.length===0)&&(O.base64=!1,O.binary=!0,k="",O.compression="STORE",P="string");var T=null;T=k instanceof d||k instanceof l?k:m.isNode&&m.isStream(k)?new p(w,k):o.prepareContent(w,k,O.binary,O.optimizedBinaryString,O.base64);var j=new h(w,T,O);this.files[w]=j}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),m=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),v=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var k=w.lastIndexOf("/");return 0<k?w.substring(0,k):""},g=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,k){return k=k!==void 0?k:c.createFolders,w=g(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:k}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var k,A,E;for(k in this.files)E=this.files[k],(A=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&w(A,E)},filter:function(w){var k=[];return this.forEach(function(A,E){w(A,E)&&k.push(E)}),k},file:function(w,k,A){if(arguments.length!==1)return w=this.root+w,a.call(this,w,k,A),this;if(x(w)){var E=w;return this.filter(function(O,I){return!I.dir&&E.test(O)})}var P=this.files[this.root+w];return P&&!P.dir?P:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(P,O){return O.dir&&w.test(P)});var k=this.root+w,A=b.call(this,k),E=this.clone();return E.root=A.name,E},remove:function(w){w=this.root+w;var k=this.files[w];if(k||(w.slice(-1)!=="/"&&(w+="/"),k=this.files[w]),k&&!k.dir)delete this.files[w];else for(var A=this.filter(function(P,O){return O.name.slice(0,w.length)===w}),E=0;E<A.length;E++)delete this.files[A[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var k,A={};try{if((A=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var E=A.comment||this.comment||"";k=f.generateWorker(this,A,E)}catch(P){(k=new l("error")).error(P)}return new u(k,A.type||"string",A.mimeType)},generateAsync:function(w,k){return this.generateInternalStream(w).accumulate(k)},generateNodeStream:function(w,k){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(k)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),d=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===d)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),d=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&d===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var h=a.getTypeOf(d);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(d):s.uint8array?new c(a.transformTo("uint8array",d)):new o(a.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(m,p){return new c.Promise(function(v,g){var b=[],x=m._internalType,S=m._outputType,w=m._mimeType;m.on("data",function(k,A){b.push(k),p&&p(A)}).on("error",function(k){b=[],g(k)}).on("end",function(){try{var k=function(A,E,P){switch(A){case"blob":return a.newBlob(a.transformTo("arraybuffer",E),P);case"base64":return l.encode(E);default:return a.transformTo(A,E)}}(S,function(A,E){var P,O=0,I=null,T=0;for(P=0;P<E.length;P++)T+=E[P].length;switch(A){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(I=new Uint8Array(T),P=0;P<E.length;P++)I.set(E[P],O),O+=E[P].length;return I;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,b),w);v(k)}catch(A){g(A)}b=[]}).resume()})}function f(m,p,v){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=v,a.checkSupport(g),this._worker=m.pipe(new s(g)),m.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}f.prototype={accumulate:function(m){return h(this,m)},on:function(m,p){var v=this;return m==="data"?this._worker.on(m,function(g){p.call(v,g.data,g.meta)}):this._worker.on(m,function(){a.delay(p,arguments,v)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(m){var p,v,g,b,x,S=m.length,w=0;for(b=0;b<S;b++)(64512&(v=m.charCodeAt(b)))==55296&&b+1<S&&(64512&(g=m.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),b++),w+=v<128?1:v<2048?2:v<65536?3:4;for(p=s.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(v=m.charCodeAt(b)))==55296&&b+1<S&&(64512&(g=m.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),b++),v<128?p[x++]=v:(v<2048?p[x++]=192|v>>>6:(v<65536?p[x++]=224|v>>>12:(p[x++]=240|v>>>18,p[x++]=128|v>>>12&63),p[x++]=128|v>>>6&63),p[x++]=128|63&v);return p}(f)},i.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(m){var p,v,g,b,x=m.length,S=new Array(2*x);for(p=v=0;p<x;)if((g=m[p++])<128)S[v++]=g;else if(4<(b=u[g]))S[v++]=65533,p+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&p<x;)g=g<<6|63&m[p++],b--;1<b?S[v++]=65533:g<65536?S[v++]=g:(g-=65536,S[v++]=55296|g>>10&1023,S[v++]=56320|1023&g)}return S.length!==v&&(S.subarray?S=S.subarray(0,v):S.length=v),a.applyFromCharCode(S)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(d,l),d.prototype.processChunk=function(f){var m=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=m;(m=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),m.set(p,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var v=function(b,x){var S;for((x=x||b.length)>b.length&&(x=b.length),S=x-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?x:S+u[b[S]]>x?S:x}(m),g=m;v!==m.length&&(s.uint8array?(g=m.subarray(0,v),this.leftOver=m.subarray(v,m.length)):(g=m.slice(0,v),this.leftOver=m.slice(v,m.length))),this.push({data:i.utf8decode(g),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,a.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,v){for(var g=0;g<p.length;++g)v[g]=255&p.charCodeAt(g);return v}n("setimmediate"),i.newBlob=function(p,v){i.checkSupport("blob");try{return new Blob([p],{type:v})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,v,g){var b=[],x=0,S=p.length;if(S<=g)return String.fromCharCode.apply(null,p);for(;x<S;)v==="array"||v==="nodebuffer"?b.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+g,S)))):b.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+g,S)))),x+=g;return b.join("")},stringifyByChar:function(p){for(var v="",g=0;g<p.length;g++)v+=String.fromCharCode(p[g]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(p){var v=65536,g=i.getTypeOf(p),b=!0;if(g==="uint8array"?b=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<v;)try{return d.stringifyByChunk(p,g,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(p)}function f(p,v){for(var g=0;g<p.length;g++)v[g]=p[g];return v}i.applyFromCharCode=h;var m={};m.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return m.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,o.allocBuffer(p.length))}},m.array={string:h,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},m.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},m.uint8array={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return o.newBufferFrom(p)}},m.nodebuffer={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return m.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,v){if(v=v||"",!p)return v;i.checkSupport(p);var g=i.getTypeOf(v);return m[g][p](v)},i.resolve=function(p){for(var v=p.split("/"),g=[],b=0;b<v.length;b++){var x=v[b];x==="."||x===""&&b!==0&&b!==v.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var v,g,b="";for(g=0;g<(p||"").length;g++)b+="\\x"+((v=p.charCodeAt(g))<16?"0":"")+v.toString(16).toUpperCase();return b},i.delay=function(p,v,g){setImmediate(function(){p.apply(g||null,v||[])})},i.inherits=function(p,v){function g(){}g.prototype=v.prototype,p.prototype=new g},i.extend=function(){var p,v,g={};for(p=0;p<arguments.length;p++)for(v in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],v)&&g[v]===void 0&&(g[v]=arguments[p][v]);return g},i.prepareContent=function(p,v,g,b,x){return l.Promise.resolve(v).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,k){var A=new FileReader;A.onload=function(E){w(E.target.result)},A.onerror=function(E){k(E.target.error)},A.readAsArrayBuffer(S)}):S}).then(function(S){var w=i.getTypeOf(S);return w?(w==="arraybuffer"?S=i.transformTo("uint8array",S):w==="string"&&(x?S=s.decode(S):g&&b!==!0&&(S=function(k){return c(k,a.uint8array?new Uint8Array(k.length):new Array(k.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===h;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=s.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=h-f;if(0<m)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function h(f,m){this.options=f,this.loadOptions=m}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(v){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===v)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,p,v,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)m=f.readInt(2),p=f.readInt(2),v=f.readData(p),this.extraFields[m]={id:m,length:p,value:v};f.setIndex(g)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var p=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var g=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=a(f.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=a(f.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(m,p,v){this.name=m,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=p,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(m){var p=null,v="string";try{if(!m)throw new Error("No output type specified.");var g=(v=m.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),p=this._decompressWorker();var b=!this._dataBinary;b&&!g&&(p=p.pipe(new l.Utf8EncodeWorker)),!b&&g&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(x){(p=new c("error")).error(x)}return new s(p,v,"")},async:function(m,p){return this.internalStream(m).accumulate(p)},nodeStream:function(m,p){return this.internalStream(m||"nodebuffer").toNodejsStream(p)},_compressWorker:function(m,p){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(v,m,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)a.prototype[d[f]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=a.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){m(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(m,0)};else{var h=new a.MessageChannel;h.port1.onmessage=m,s=function(){h.port2.postMessage(0)}}var f=[];function m(){var p,v;o=!0;for(var g=f.length;g;){for(v=f,f=[],p=-1;++p<g;)v[p]();g=f.length}o=!1}r.exports=function(p){f.push(p)!==1||o||s()}}).call(this,typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==s&&p(this,g)}function h(g,b,x){this.promise=g,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(g,b,x){a(function(){var S;try{S=b(x)}catch(w){return o.reject(g,w)}S===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,S)})}function m(g){var b=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof b=="function")return function(){b.apply(g,arguments)}}function p(g,b){var x=!1;function S(A){x||(x=!0,o.reject(g,A))}function w(A){x||(x=!0,o.resolve(g,A))}var k=v(function(){b(w,S)});k.status==="error"&&S(k.value)}function v(g,b){var x={};try{x.value=g(b),x.status="success"}catch(S){x.status="error",x.value=S}return x}(r.exports=d).prototype.finally=function(g){if(typeof g!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(g()).then(function(){return x})},function(x){return b.resolve(g()).then(function(){throw x})})},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,b){if(typeof g!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==c?f(x,this.state===u?g:b,this.outcome):this.queue.push(new h(x,g,b)),x},h.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){o.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},o.resolve=function(g,b){var x=v(m,b);if(x.status==="error")return o.reject(g,x.value);var S=x.value;if(S)p(g,S);else{g.state=u,g.outcome=b;for(var w=-1,k=g.queue.length;++w<k;)g.queue[w].callFulfilled(b)}return g},o.reject=function(g,b){g.state=l,g.outcome=b;for(var x=-1,S=g.queue.length;++x<S;)g.queue[x].callRejected(b);return g},d.resolve=function(g){return g instanceof this?g:o.resolve(new this(s),g)},d.reject=function(g){var b=new this(s);return o.reject(b,g)},d.all=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,S=!1;if(!x)return this.resolve([]);for(var w=new Array(x),k=0,A=-1,E=new this(s);++A<x;)P(g[A],A);return E;function P(O,I){b.resolve(O).then(function(T){w[I]=T,++k!==x||S||(S=!0,o.resolve(E,w))},function(T){S||(S=!0,o.reject(E,T))})}},d.race=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,S=!1;if(!x)return this.resolve([]);for(var w=-1,k=new this(s);++w<x;)A=g[w],b.resolve(A).then(function(E){S||(S=!0,o.resolve(k,E))},function(E){S||(S=!0,o.reject(k,E))});var A;return k}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,h=-1,f=0,m=8;function p(g){if(!(this instanceof p))return new p(g);this.options=s.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==d)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?o.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,S))!==d)throw new Error(l[x]);this._dict_set=!0}}function v(g,b){var x=new p(b);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(g,b){var x,S,w=this.strm,k=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof g=="string"?w.input=o.string2buf(g):c.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(k),w.next_out=0,w.avail_out=k),(x=a.deflate(w,S))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return S===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):S!==2||(this.onEnd(d),!(w.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=p,i.deflate=v,i.deflateRaw=function(g,b){return(b=b||{}).raw=!0,v(g,b)},i.gzip=function(g,b){return(b=b||{}).gzip=!0,v(g,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||p&&p.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,v.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function m(p,v){var g=new f(v);if(g.push(p,!0),g.err)throw g.msg||u[g.err];return g.result}f.prototype.push=function(p,v){var g,b,x,S,w,k,A=this.strm,E=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?A.input=o.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(E),A.next_out=0,A.avail_out=E),(g=a.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(k=typeof P=="string"?o.string2buf(P):h.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,g=a.inflateSetDictionary(this.strm,k)),g===l.Z_BUF_ERROR&&O===!0&&(g=l.Z_OK,O=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&g!==l.Z_STREAM_END&&(A.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(A.output,A.next_out),S=A.next_out-x,w=o.buf2string(A.output,x),A.next_out=S,A.avail_out=E-S,S&&s.arraySet(A.output,A.output,x,S,0),this.onData(w)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(O=!0)}while((0<A.avail_in||A.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=m,i.inflateRaw=function(p,v){return(v=v||{}).raw=!0,m(p,v)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),h);else for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){var u,c,d,h,f,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=h=0,c=l.length;u<c;u++)f=l[u],m.set(f,h),h+=f.length;return m}},o={arraySet:function(l,u,c,d,h){for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,h){if(h<65537&&(d.subarray&&o||!d.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(d,h));for(var f="",m=0;m<h;m++)f+=String.fromCharCode(d[m]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,m,p,v,g=d.length,b=0;for(p=0;p<g;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<g&&(64512&(m=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),b+=f<128?1:f<2048?2:f<65536?3:4;for(h=new a.Buf8(b),p=v=0;v<b;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<g&&(64512&(m=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),f<128?h[v++]=f:(f<2048?h[v++]=192|f>>>6:(f<65536?h[v++]=224|f>>>12:(h[v++]=240|f>>>18,h[v++]=128|f>>>12&63),h[v++]=128|f>>>6&63),h[v++]=128|63&f);return h},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var h=new a.Buf8(d.length),f=0,m=h.length;f<m;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,m,p,v,g=h||d.length,b=new Array(2*g);for(f=m=0;f<g;)if((p=d[f++])<128)b[m++]=p;else if(4<(v=l[p]))b[m++]=65533,f+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&f<g;)p=p<<6|63&d[f++],v--;1<v?b[m++]=65533:p<65536?b[m++]=p:(p-=65536,b[m++]=55296|p>>10&1023,b[m++]=56320|1023&p)}return c(b,m)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var c=a,d=u+l;s^=-1;for(var h=u;h<d;h++)s=s>>>8^c[255&(s^o[h])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,h=4,f=0,m=-2,p=-1,v=4,g=2,b=8,x=9,S=286,w=30,k=19,A=2*S+1,E=15,P=3,O=258,I=O+P+1,T=42,j=113,C=1,L=2,X=3,z=4;function G(M,te){return M.msg=c[te],te}function W(M){return(M<<1)-(4<M?9:0)}function R(M){for(var te=M.length;0<=--te;)M[te]=0}function V(M){var te=M.state,K=te.pending;K>M.avail_out&&(K=M.avail_out),K!==0&&(s.arraySet(M.output,te.pending_buf,te.pending_out,K,M.next_out),M.next_out+=K,te.pending_out+=K,M.total_out+=K,M.avail_out-=K,te.pending-=K,te.pending===0&&(te.pending_out=0))}function H(M,te){o._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,te),M.block_start=M.strstart,V(M.strm)}function $(M,te){M.pending_buf[M.pending++]=te}function ie(M,te){M.pending_buf[M.pending++]=te>>>8&255,M.pending_buf[M.pending++]=255&te}function Z(M,te){var K,q,U=M.max_chain_length,Y=M.strstart,Q=M.prev_length,de=M.nice_match,ne=M.strstart>M.w_size-I?M.strstart-(M.w_size-I):0,ye=M.window,xe=M.w_mask,ge=M.prev,ee=M.strstart+O,ue=ye[Y+Q-1],ve=ye[Y+Q];M.prev_length>=M.good_match&&(U>>=2),de>M.lookahead&&(de=M.lookahead);do if(ye[(K=te)+Q]===ve&&ye[K+Q-1]===ue&&ye[K]===ye[Y]&&ye[++K]===ye[Y+1]){Y+=2,K++;do;while(ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&Y<ee);if(q=O-(ee-Y),Y=ee-O,Q<q){if(M.match_start=te,de<=(Q=q))break;ue=ye[Y+Q-1],ve=ye[Y+Q]}}while((te=ge[te&xe])>ne&&--U!=0);return Q<=M.lookahead?Q:M.lookahead}function he(M){var te,K,q,U,Y,Q,de,ne,ye,xe,ge=M.w_size;do{if(U=M.window_size-M.lookahead-M.strstart,M.strstart>=ge+(ge-I)){for(s.arraySet(M.window,M.window,ge,ge,0),M.match_start-=ge,M.strstart-=ge,M.block_start-=ge,te=K=M.hash_size;q=M.head[--te],M.head[te]=ge<=q?q-ge:0,--K;);for(te=K=ge;q=M.prev[--te],M.prev[te]=ge<=q?q-ge:0,--K;);U+=ge}if(M.strm.avail_in===0)break;if(Q=M.strm,de=M.window,ne=M.strstart+M.lookahead,ye=U,xe=void 0,xe=Q.avail_in,ye<xe&&(xe=ye),K=xe===0?0:(Q.avail_in-=xe,s.arraySet(de,Q.input,Q.next_in,xe,ne),Q.state.wrap===1?Q.adler=l(Q.adler,de,xe,ne):Q.state.wrap===2&&(Q.adler=u(Q.adler,de,xe,ne)),Q.next_in+=xe,Q.total_in+=xe,xe),M.lookahead+=K,M.lookahead+M.insert>=P)for(Y=M.strstart-M.insert,M.ins_h=M.window[Y],M.ins_h=(M.ins_h<<M.hash_shift^M.window[Y+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[Y+P-1])&M.hash_mask,M.prev[Y&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=Y,Y++,M.insert--,!(M.lookahead+M.insert<P)););}while(M.lookahead<I&&M.strm.avail_in!==0)}function we(M,te){for(var K,q;;){if(M.lookahead<I){if(he(M),M.lookahead<I&&te===d)return C;if(M.lookahead===0)break}if(K=0,M.lookahead>=P&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+P-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),K!==0&&M.strstart-K<=M.w_size-I&&(M.match_length=Z(M,K)),M.match_length>=P)if(q=o._tr_tally(M,M.strstart-M.match_start,M.match_length-P),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=P){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+P-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else q=o._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(q&&(H(M,!1),M.strm.avail_out===0))return C}return M.insert=M.strstart<P-1?M.strstart:P-1,te===h?(H(M,!0),M.strm.avail_out===0?X:z):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?C:L}function me(M,te){for(var K,q,U;;){if(M.lookahead<I){if(he(M),M.lookahead<I&&te===d)return C;if(M.lookahead===0)break}if(K=0,M.lookahead>=P&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+P-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=P-1,K!==0&&M.prev_length<M.max_lazy_match&&M.strstart-K<=M.w_size-I&&(M.match_length=Z(M,K),M.match_length<=5&&(M.strategy===1||M.match_length===P&&4096<M.strstart-M.match_start)&&(M.match_length=P-1)),M.prev_length>=P&&M.match_length<=M.prev_length){for(U=M.strstart+M.lookahead-P,q=o._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-P),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=U&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+P-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=P-1,M.strstart++,q&&(H(M,!1),M.strm.avail_out===0))return C}else if(M.match_available){if((q=o._tr_tally(M,0,M.window[M.strstart-1]))&&H(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return C}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(q=o._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<P-1?M.strstart:P-1,te===h?(H(M,!0),M.strm.avail_out===0?X:z):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?C:L}function ae(M,te,K,q,U){this.good_length=M,this.max_lazy=te,this.nice_length=K,this.max_chain=q,this.func=U}function fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*k+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*S+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(M){var te;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=g,(te=M.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?T:j,M.adler=te.wrap===2?0:1,te.last_flush=d,o._tr_init(te),f):G(M,m)}function se(M){var te=pe(M);return te===f&&function(K){K.window_size=2*K.w_size,R(K.head),K.max_lazy_match=a[K.level].max_lazy,K.good_match=a[K.level].good_length,K.nice_match=a[K.level].nice_length,K.max_chain_length=a[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=P-1,K.match_available=0,K.ins_h=0}(M.state),te}function _e(M,te,K,q,U,Y){if(!M)return m;var Q=1;if(te===p&&(te=6),q<0?(Q=0,q=-q):15<q&&(Q=2,q-=16),U<1||x<U||K!==b||q<8||15<q||te<0||9<te||Y<0||v<Y)return G(M,m);q===8&&(q=9);var de=new fe;return(M.state=de).strm=M,de.wrap=Q,de.gzhead=null,de.w_bits=q,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=U+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+P-1)/P),de.window=new s.Buf8(2*de.w_size),de.head=new s.Buf16(de.hash_size),de.prev=new s.Buf16(de.w_size),de.lit_bufsize=1<<U+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new s.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=te,de.strategy=Y,de.method=K,se(M)}a=[new ae(0,0,0,0,function(M,te){var K=65535;for(K>M.pending_buf_size-5&&(K=M.pending_buf_size-5);;){if(M.lookahead<=1){if(he(M),M.lookahead===0&&te===d)return C;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var q=M.block_start+K;if((M.strstart===0||M.strstart>=q)&&(M.lookahead=M.strstart-q,M.strstart=q,H(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-I&&(H(M,!1),M.strm.avail_out===0))return C}return M.insert=0,te===h?(H(M,!0),M.strm.avail_out===0?X:z):(M.strstart>M.block_start&&(H(M,!1),M.strm.avail_out),C)}),new ae(4,4,8,4,we),new ae(4,5,16,8,we),new ae(4,6,32,32,we),new ae(4,4,16,16,me),new ae(8,16,32,32,me),new ae(8,16,128,128,me),new ae(8,32,128,256,me),new ae(32,128,258,1024,me),new ae(32,258,258,4096,me)],i.deflateInit=function(M,te){return _e(M,te,b,15,8,0)},i.deflateInit2=_e,i.deflateReset=se,i.deflateResetKeep=pe,i.deflateSetHeader=function(M,te){return M&&M.state?M.state.wrap!==2?m:(M.state.gzhead=te,f):m},i.deflate=function(M,te){var K,q,U,Y;if(!M||!M.state||5<te||te<0)return M?G(M,m):m;if(q=M.state,!M.output||!M.input&&M.avail_in!==0||q.status===666&&te!==h)return G(M,M.avail_out===0?-5:m);if(q.strm=M,K=q.last_flush,q.last_flush=te,q.status===T)if(q.wrap===2)M.adler=0,$(q,31),$(q,139),$(q,8),q.gzhead?($(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),$(q,255&q.gzhead.time),$(q,q.gzhead.time>>8&255),$(q,q.gzhead.time>>16&255),$(q,q.gzhead.time>>24&255),$(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),$(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&($(q,255&q.gzhead.extra.length),$(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(M.adler=u(M.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):($(q,0),$(q,0),$(q,0),$(q,0),$(q,0),$(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),$(q,3),q.status=j);else{var Q=b+(q.w_bits-8<<4)<<8;Q|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(Q|=32),Q+=31-Q%31,q.status=j,ie(q,Q),q.strstart!==0&&(ie(q,M.adler>>>16),ie(q,65535&M.adler)),M.adler=1}if(q.status===69)if(q.gzhead.extra){for(U=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),V(M),U=q.pending,q.pending!==q.pending_buf_size));)$(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){U=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),V(M),U=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,$(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),Y===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){U=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),V(M),U=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,$(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>U&&(M.adler=u(M.adler,q.pending_buf,q.pending-U,U)),Y===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&V(M),q.pending+2<=q.pending_buf_size&&($(q,255&M.adler),$(q,M.adler>>8&255),M.adler=0,q.status=j)):q.status=j),q.pending!==0){if(V(M),M.avail_out===0)return q.last_flush=-1,f}else if(M.avail_in===0&&W(te)<=W(K)&&te!==h)return G(M,-5);if(q.status===666&&M.avail_in!==0)return G(M,-5);if(M.avail_in!==0||q.lookahead!==0||te!==d&&q.status!==666){var de=q.strategy===2?function(ne,ye){for(var xe;;){if(ne.lookahead===0&&(he(ne),ne.lookahead===0)){if(ye===d)return C;break}if(ne.match_length=0,xe=o._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,xe&&(H(ne,!1),ne.strm.avail_out===0))return C}return ne.insert=0,ye===h?(H(ne,!0),ne.strm.avail_out===0?X:z):ne.last_lit&&(H(ne,!1),ne.strm.avail_out===0)?C:L}(q,te):q.strategy===3?function(ne,ye){for(var xe,ge,ee,ue,ve=ne.window;;){if(ne.lookahead<=O){if(he(ne),ne.lookahead<=O&&ye===d)return C;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=P&&0<ne.strstart&&(ge=ve[ee=ne.strstart-1])===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]){ue=ne.strstart+O;do;while(ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ge===ve[++ee]&&ee<ue);ne.match_length=O-(ue-ee),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=P?(xe=o._tr_tally(ne,1,ne.match_length-P),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(xe=o._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),xe&&(H(ne,!1),ne.strm.avail_out===0))return C}return ne.insert=0,ye===h?(H(ne,!0),ne.strm.avail_out===0?X:z):ne.last_lit&&(H(ne,!1),ne.strm.avail_out===0)?C:L}(q,te):a[q.level].func(q,te);if(de!==X&&de!==z||(q.status=666),de===C||de===X)return M.avail_out===0&&(q.last_flush=-1),f;if(de===L&&(te===1?o._tr_align(q):te!==5&&(o._tr_stored_block(q,0,0,!1),te===3&&(R(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),V(M),M.avail_out===0))return q.last_flush=-1,f}return te!==h?f:q.wrap<=0?1:(q.wrap===2?($(q,255&M.adler),$(q,M.adler>>8&255),$(q,M.adler>>16&255),$(q,M.adler>>24&255),$(q,255&M.total_in),$(q,M.total_in>>8&255),$(q,M.total_in>>16&255),$(q,M.total_in>>24&255)):(ie(q,M.adler>>>16),ie(q,65535&M.adler)),V(M),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?f:1)},i.deflateEnd=function(M){var te;return M&&M.state?(te=M.state.status)!==T&&te!==69&&te!==73&&te!==91&&te!==103&&te!==j&&te!==666?G(M,m):(M.state=null,te===j?G(M,-3):f):m},i.deflateSetDictionary=function(M,te){var K,q,U,Y,Q,de,ne,ye,xe=te.length;if(!M||!M.state||(Y=(K=M.state).wrap)===2||Y===1&&K.status!==T||K.lookahead)return m;for(Y===1&&(M.adler=l(M.adler,te,xe,0)),K.wrap=0,xe>=K.w_size&&(Y===0&&(R(K.head),K.strstart=0,K.block_start=0,K.insert=0),ye=new s.Buf8(K.w_size),s.arraySet(ye,te,xe-K.w_size,K.w_size,0),te=ye,xe=K.w_size),Q=M.avail_in,de=M.next_in,ne=M.input,M.avail_in=xe,M.next_in=0,M.input=te,he(K);K.lookahead>=P;){for(q=K.strstart,U=K.lookahead-(P-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[q+P-1])&K.hash_mask,K.prev[q&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=q,q++,--U;);K.strstart=q,K.lookahead=P-1,he(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=P-1,K.match_available=0,M.next_in=de,M.input=ne,M.avail_in=Q,K.wrap=Y,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,u,c,d,h,f,m,p,v,g,b,x,S,w,k,A,E,P,O,I,T,j,C,L;o=a.state,l=a.next_in,C=a.input,u=l+(a.avail_in-5),c=a.next_out,L=a.output,d=c-(s-a.avail_out),h=c+(a.avail_out-257),f=o.dmax,m=o.wsize,p=o.whave,v=o.wnext,g=o.window,b=o.hold,x=o.bits,S=o.lencode,w=o.distcode,k=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{x<15&&(b+=C[l++]<<x,x+=8,b+=C[l++]<<x,x+=8),E=S[b&k];t:for(;;){if(b>>>=P=E>>>24,x-=P,(P=E>>>16&255)===0)L[c++]=65535&E;else{if(!(16&P)){if(!(64&P)){E=S[(65535&E)+(b&(1<<P)-1)];continue t}if(32&P){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}O=65535&E,(P&=15)&&(x<P&&(b+=C[l++]<<x,x+=8),O+=b&(1<<P)-1,b>>>=P,x-=P),x<15&&(b+=C[l++]<<x,x+=8,b+=C[l++]<<x,x+=8),E=w[b&A];n:for(;;){if(b>>>=P=E>>>24,x-=P,!(16&(P=E>>>16&255))){if(!(64&P)){E=w[(65535&E)+(b&(1<<P)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(I=65535&E,x<(P&=15)&&(b+=C[l++]<<x,(x+=8)<P&&(b+=C[l++]<<x,x+=8)),f<(I+=b&(1<<P)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=P,x-=P,(P=c-d)<I){if(p<(P=I-P)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(j=g,(T=0)===v){if(T+=m-P,P<O){for(O-=P;L[c++]=g[T++],--P;);T=c-I,j=L}}else if(v<P){if(T+=m+v-P,(P-=v)<O){for(O-=P;L[c++]=g[T++],--P;);if(T=0,v<O){for(O-=P=v;L[c++]=g[T++],--P;);T=c-I,j=L}}}else if(T+=v-P,P<O){for(O-=P;L[c++]=g[T++],--P;);T=c-I,j=L}for(;2<O;)L[c++]=j[T++],L[c++]=j[T++],L[c++]=j[T++],O-=3;O&&(L[c++]=j[T++],1<O&&(L[c++]=j[T++]))}else{for(T=c-I;L[c++]=L[T++],L[c++]=L[T++],L[c++]=L[T++],2<(O-=3););O&&(L[c++]=L[T++],1<O&&(L[c++]=L[T++]))}break}}break}}while(l<u&&c<h);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<h?h-c+257:257-(c-h),o.hold=b,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,h=0,f=-2,m=1,p=852,v=592;function g(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(T){var j;return T&&T.state?(j=T.state,T.total_in=T.total_out=j.total=0,T.msg="",j.wrap&&(T.adler=1&j.wrap),j.mode=m,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new a.Buf32(p),j.distcode=j.distdyn=new a.Buf32(v),j.sane=1,j.back=-1,h):f}function S(T){var j;return T&&T.state?((j=T.state).wsize=0,j.whave=0,j.wnext=0,x(T)):f}function w(T,j){var C,L;return T&&T.state?(L=T.state,j<0?(C=0,j=-j):(C=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?f:(L.window!==null&&L.wbits!==j&&(L.window=null),L.wrap=C,L.wbits=j,S(T))):f}function k(T,j){var C,L;return T?(L=new b,(T.state=L).window=null,(C=w(T,j))!==h&&(T.state=null),C):f}var A,E,P=!0;function O(T){if(P){var j;for(A=new a.Buf32(512),E=new a.Buf32(32),j=0;j<144;)T.lens[j++]=8;for(;j<256;)T.lens[j++]=9;for(;j<280;)T.lens[j++]=7;for(;j<288;)T.lens[j++]=8;for(u(c,T.lens,0,288,A,0,T.work,{bits:9}),j=0;j<32;)T.lens[j++]=5;u(d,T.lens,0,32,E,0,T.work,{bits:5}),P=!1}T.lencode=A,T.lenbits=9,T.distcode=E,T.distbits=5}function I(T,j,C,L){var X,z=T.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new a.Buf8(z.wsize)),L>=z.wsize?(a.arraySet(z.window,j,C-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(L<(X=z.wsize-z.wnext)&&(X=L),a.arraySet(z.window,j,C-L,X,z.wnext),(L-=X)?(a.arraySet(z.window,j,C-L,L,0),z.wnext=L,z.whave=z.wsize):(z.wnext+=X,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=X))),0}i.inflateReset=S,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(T){return k(T,15)},i.inflateInit2=k,i.inflate=function(T,j){var C,L,X,z,G,W,R,V,H,$,ie,Z,he,we,me,ae,fe,pe,se,_e,M,te,K,q,U=0,Y=new a.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(C=T.state).mode===12&&(C.mode=13),G=T.next_out,X=T.output,R=T.avail_out,z=T.next_in,L=T.input,W=T.avail_in,V=C.hold,H=C.bits,$=W,ie=R,te=h;e:for(;;)switch(C.mode){case m:if(C.wrap===0){C.mode=13;break}for(;H<16;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(2&C.wrap&&V===35615){Y[C.check=0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0),H=V=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&V)<<8)+(V>>8))%31){T.msg="incorrect header check",C.mode=30;break}if((15&V)!=8){T.msg="unknown compression method",C.mode=30;break}if(H-=4,M=8+(15&(V>>>=4)),C.wbits===0)C.wbits=M;else if(M>C.wbits){T.msg="invalid window size",C.mode=30;break}C.dmax=1<<M,T.adler=C.check=1,C.mode=512&V?10:12,H=V=0;break;case 2:for(;H<16;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(C.flags=V,(255&C.flags)!=8){T.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){T.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=V>>8&1),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),H=V=0,C.mode=3;case 3:for(;H<32;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.head&&(C.head.time=V),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,Y[2]=V>>>16&255,Y[3]=V>>>24&255,C.check=o(C.check,Y,4,0)),H=V=0,C.mode=4;case 4:for(;H<16;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.head&&(C.head.xflags=255&V,C.head.os=V>>8),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),H=V=0,C.mode=5;case 5:if(1024&C.flags){for(;H<16;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.length=V,C.head&&(C.head.extra_len=V),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),H=V=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(W<(Z=C.length)&&(Z=W),Z&&(C.head&&(M=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),a.arraySet(C.head.extra,L,z,Z,M)),512&C.flags&&(C.check=o(C.check,L,Z,z)),W-=Z,z+=Z,C.length-=Z),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(W===0)break e;for(Z=0;M=L[z+Z++],C.head&&M&&C.length<65536&&(C.head.name+=String.fromCharCode(M)),M&&Z<W;);if(512&C.flags&&(C.check=o(C.check,L,Z,z)),W-=Z,z+=Z,M)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(W===0)break e;for(Z=0;M=L[z+Z++],C.head&&M&&C.length<65536&&(C.head.comment+=String.fromCharCode(M)),M&&Z<W;);if(512&C.flags&&(C.check=o(C.check,L,Z,z)),W-=Z,z+=Z,M)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;H<16;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(V!==(65535&C.check)){T.msg="header crc mismatch",C.mode=30;break}H=V=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),T.adler=C.check=0,C.mode=12;break;case 10:for(;H<32;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}T.adler=C.check=g(V),H=V=0,C.mode=11;case 11:if(C.havedict===0)return T.next_out=G,T.avail_out=R,T.next_in=z,T.avail_in=W,C.hold=V,C.bits=H,2;T.adler=C.check=1,C.mode=12;case 12:if(j===5||j===6)break e;case 13:if(C.last){V>>>=7&H,H-=7&H,C.mode=27;break}for(;H<3;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}switch(C.last=1&V,H-=1,3&(V>>>=1)){case 0:C.mode=14;break;case 1:if(O(C),C.mode=20,j!==6)break;V>>>=2,H-=2;break e;case 2:C.mode=17;break;case 3:T.msg="invalid block type",C.mode=30}V>>>=2,H-=2;break;case 14:for(V>>>=7&H,H-=7&H;H<32;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if((65535&V)!=(V>>>16^65535)){T.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&V,H=V=0,C.mode=15,j===6)break e;case 15:C.mode=16;case 16:if(Z=C.length){if(W<Z&&(Z=W),R<Z&&(Z=R),Z===0)break e;a.arraySet(X,L,z,Z,G),W-=Z,z+=Z,R-=Z,G+=Z,C.length-=Z;break}C.mode=12;break;case 17:for(;H<14;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(C.nlen=257+(31&V),V>>>=5,H-=5,C.ndist=1+(31&V),V>>>=5,H-=5,C.ncode=4+(15&V),V>>>=4,H-=4,286<C.nlen||30<C.ndist){T.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;H<3;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.lens[Q[C.have++]]=7&V,V>>>=3,H-=3}for(;C.have<19;)C.lens[Q[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,K={bits:C.lenbits},te=u(0,C.lens,0,19,C.lencode,0,C.work,K),C.lenbits=K.bits,te){T.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;ae=(U=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,fe=65535&U,!((me=U>>>24)<=H);){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(fe<16)V>>>=me,H-=me,C.lens[C.have++]=fe;else{if(fe===16){for(q=me+2;H<q;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(V>>>=me,H-=me,C.have===0){T.msg="invalid bit length repeat",C.mode=30;break}M=C.lens[C.have-1],Z=3+(3&V),V>>>=2,H-=2}else if(fe===17){for(q=me+3;H<q;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}H-=me,M=0,Z=3+(7&(V>>>=me)),V>>>=3,H-=3}else{for(q=me+7;H<q;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}H-=me,M=0,Z=11+(127&(V>>>=me)),V>>>=7,H-=7}if(C.have+Z>C.nlen+C.ndist){T.msg="invalid bit length repeat",C.mode=30;break}for(;Z--;)C.lens[C.have++]=M}}if(C.mode===30)break;if(C.lens[256]===0){T.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,K={bits:C.lenbits},te=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,K),C.lenbits=K.bits,te){T.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,K={bits:C.distbits},te=u(d,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,K),C.distbits=K.bits,te){T.msg="invalid distances set",C.mode=30;break}if(C.mode=20,j===6)break e;case 20:C.mode=21;case 21:if(6<=W&&258<=R){T.next_out=G,T.avail_out=R,T.next_in=z,T.avail_in=W,C.hold=V,C.bits=H,l(T,ie),G=T.next_out,X=T.output,R=T.avail_out,z=T.next_in,L=T.input,W=T.avail_in,V=C.hold,H=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;ae=(U=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,fe=65535&U,!((me=U>>>24)<=H);){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(ae&&!(240&ae)){for(pe=me,se=ae,_e=fe;ae=(U=C.lencode[_e+((V&(1<<pe+se)-1)>>pe)])>>>16&255,fe=65535&U,!(pe+(me=U>>>24)<=H);){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}V>>>=pe,H-=pe,C.back+=pe}if(V>>>=me,H-=me,C.back+=me,C.length=fe,ae===0){C.mode=26;break}if(32&ae){C.back=-1,C.mode=12;break}if(64&ae){T.msg="invalid literal/length code",C.mode=30;break}C.extra=15&ae,C.mode=22;case 22:if(C.extra){for(q=C.extra;H<q;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.length+=V&(1<<C.extra)-1,V>>>=C.extra,H-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;ae=(U=C.distcode[V&(1<<C.distbits)-1])>>>16&255,fe=65535&U,!((me=U>>>24)<=H);){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(!(240&ae)){for(pe=me,se=ae,_e=fe;ae=(U=C.distcode[_e+((V&(1<<pe+se)-1)>>pe)])>>>16&255,fe=65535&U,!(pe+(me=U>>>24)<=H);){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}V>>>=pe,H-=pe,C.back+=pe}if(V>>>=me,H-=me,C.back+=me,64&ae){T.msg="invalid distance code",C.mode=30;break}C.offset=fe,C.extra=15&ae,C.mode=24;case 24:if(C.extra){for(q=C.extra;H<q;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}C.offset+=V&(1<<C.extra)-1,V>>>=C.extra,H-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){T.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(R===0)break e;if(Z=ie-R,C.offset>Z){if((Z=C.offset-Z)>C.whave&&C.sane){T.msg="invalid distance too far back",C.mode=30;break}he=Z>C.wnext?(Z-=C.wnext,C.wsize-Z):C.wnext-Z,Z>C.length&&(Z=C.length),we=C.window}else we=X,he=G-C.offset,Z=C.length;for(R<Z&&(Z=R),R-=Z,C.length-=Z;X[G++]=we[he++],--Z;);C.length===0&&(C.mode=21);break;case 26:if(R===0)break e;X[G++]=C.length,R--,C.mode=21;break;case 27:if(C.wrap){for(;H<32;){if(W===0)break e;W--,V|=L[z++]<<H,H+=8}if(ie-=R,T.total_out+=ie,C.total+=ie,ie&&(T.adler=C.check=C.flags?o(C.check,X,ie,G-ie):s(C.check,X,ie,G-ie)),ie=R,(C.flags?V:g(V))!==C.check){T.msg="incorrect data check",C.mode=30;break}H=V=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;H<32;){if(W===0)break e;W--,V+=L[z++]<<H,H+=8}if(V!==(4294967295&C.total)){T.msg="incorrect length check",C.mode=30;break}H=V=0}C.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=G,T.avail_out=R,T.next_in=z,T.avail_in=W,C.hold=V,C.bits=H,(C.wsize||ie!==T.avail_out&&C.mode<30&&(C.mode<27||j!==4))&&I(T,T.output,T.next_out,ie-T.avail_out)?(C.mode=31,-4):($-=T.avail_in,ie-=T.avail_out,T.total_in+=$,T.total_out+=ie,C.total+=ie,C.wrap&&ie&&(T.adler=C.check=C.flags?o(C.check,X,ie,T.next_out-ie):s(C.check,X,ie,T.next_out-ie)),T.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),($==0&&ie===0||j===4)&&te===h&&(te=-5),te)},i.inflateEnd=function(T){if(!T||!T.state)return f;var j=T.state;return j.window&&(j.window=null),T.state=null,h},i.inflateGetHeader=function(T,j){var C;return T&&T.state&&2&(C=T.state).wrap?((C.head=j).done=!1,h):f},i.inflateSetDictionary=function(T,j){var C,L=j.length;return T&&T.state?(C=T.state).wrap!==0&&C.mode!==11?f:C.mode===11&&s(1,j,L,0)!==C.check?-3:I(T,j,L,L)?(C.mode=31,-4):(C.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,h,f,m,p,v,g){var b,x,S,w,k,A,E,P,O,I=g.bits,T=0,j=0,C=0,L=0,X=0,z=0,G=0,W=0,R=0,V=0,H=null,$=0,ie=new a.Buf16(16),Z=new a.Buf16(16),he=null,we=0;for(T=0;T<=15;T++)ie[T]=0;for(j=0;j<f;j++)ie[d[h+j]]++;for(X=I,L=15;1<=L&&ie[L]===0;L--);if(L<X&&(X=L),L===0)return m[p++]=20971520,m[p++]=20971520,g.bits=1,0;for(C=1;C<L&&ie[C]===0;C++);for(X<C&&(X=C),T=W=1;T<=15;T++)if(W<<=1,(W-=ie[T])<0)return-1;if(0<W&&(c===0||L!==1))return-1;for(Z[1]=0,T=1;T<15;T++)Z[T+1]=Z[T]+ie[T];for(j=0;j<f;j++)d[h+j]!==0&&(v[Z[d[h+j]]++]=j);if(A=c===0?(H=he=v,19):c===1?(H=s,$-=257,he=o,we-=257,256):(H=l,he=u,-1),T=C,k=p,G=j=V=0,S=-1,w=(R=1<<(z=X))-1,c===1&&852<R||c===2&&592<R)return 1;for(;;){for(E=T-G,O=v[j]<A?(P=0,v[j]):v[j]>A?(P=he[we+v[j]],H[$+v[j]]):(P=96,0),b=1<<T-G,C=x=1<<z;m[k+(V>>G)+(x-=b)]=E<<24|P<<16|O|0,x!==0;);for(b=1<<T-1;V&b;)b>>=1;if(b!==0?(V&=b-1,V+=b):V=0,j++,--ie[T]==0){if(T===L)break;T=d[h+v[j]]}if(X<T&&(V&w)!==S){for(G===0&&(G=X),k+=C,W=1<<(z=T-G);z+G<L&&!((W-=ie[z+G])<=0);)z++,W<<=1;if(R+=1<<z,c===1&&852<R||c===2&&592<R)return 1;m[S=V&w]=X<<24|z<<16|k-p|0}}return V!==0&&(m[k+V]=T-G<<24|64<<16|0),g.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(U){for(var Y=U.length;0<=--Y;)U[Y]=0}var u=0,c=29,d=256,h=d+1+c,f=30,m=19,p=2*h+1,v=15,g=16,b=7,x=256,S=16,w=17,k=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(h+2));l(I);var T=new Array(2*f);l(T);var j=new Array(512);l(j);var C=new Array(256);l(C);var L=new Array(c);l(L);var X,z,G,W=new Array(f);function R(U,Y,Q,de,ne){this.static_tree=U,this.extra_bits=Y,this.extra_base=Q,this.elems=de,this.max_length=ne,this.has_stree=U&&U.length}function V(U,Y){this.dyn_tree=U,this.max_code=0,this.stat_desc=Y}function H(U){return U<256?j[U]:j[256+(U>>>7)]}function $(U,Y){U.pending_buf[U.pending++]=255&Y,U.pending_buf[U.pending++]=Y>>>8&255}function ie(U,Y,Q){U.bi_valid>g-Q?(U.bi_buf|=Y<<U.bi_valid&65535,$(U,U.bi_buf),U.bi_buf=Y>>g-U.bi_valid,U.bi_valid+=Q-g):(U.bi_buf|=Y<<U.bi_valid&65535,U.bi_valid+=Q)}function Z(U,Y,Q){ie(U,Q[2*Y],Q[2*Y+1])}function he(U,Y){for(var Q=0;Q|=1&U,U>>>=1,Q<<=1,0<--Y;);return Q>>>1}function we(U,Y,Q){var de,ne,ye=new Array(v+1),xe=0;for(de=1;de<=v;de++)ye[de]=xe=xe+Q[de-1]<<1;for(ne=0;ne<=Y;ne++){var ge=U[2*ne+1];ge!==0&&(U[2*ne]=he(ye[ge]++,ge))}}function me(U){var Y;for(Y=0;Y<h;Y++)U.dyn_ltree[2*Y]=0;for(Y=0;Y<f;Y++)U.dyn_dtree[2*Y]=0;for(Y=0;Y<m;Y++)U.bl_tree[2*Y]=0;U.dyn_ltree[2*x]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ae(U){8<U.bi_valid?$(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function fe(U,Y,Q,de){var ne=2*Y,ye=2*Q;return U[ne]<U[ye]||U[ne]===U[ye]&&de[Y]<=de[Q]}function pe(U,Y,Q){for(var de=U.heap[Q],ne=Q<<1;ne<=U.heap_len&&(ne<U.heap_len&&fe(Y,U.heap[ne+1],U.heap[ne],U.depth)&&ne++,!fe(Y,de,U.heap[ne],U.depth));)U.heap[Q]=U.heap[ne],Q=ne,ne<<=1;U.heap[Q]=de}function se(U,Y,Q){var de,ne,ye,xe,ge=0;if(U.last_lit!==0)for(;de=U.pending_buf[U.d_buf+2*ge]<<8|U.pending_buf[U.d_buf+2*ge+1],ne=U.pending_buf[U.l_buf+ge],ge++,de===0?Z(U,ne,Y):(Z(U,(ye=C[ne])+d+1,Y),(xe=A[ye])!==0&&ie(U,ne-=L[ye],xe),Z(U,ye=H(--de),Q),(xe=E[ye])!==0&&ie(U,de-=W[ye],xe)),ge<U.last_lit;);Z(U,x,Y)}function _e(U,Y){var Q,de,ne,ye=Y.dyn_tree,xe=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,ee=Y.stat_desc.elems,ue=-1;for(U.heap_len=0,U.heap_max=p,Q=0;Q<ee;Q++)ye[2*Q]!==0?(U.heap[++U.heap_len]=ue=Q,U.depth[Q]=0):ye[2*Q+1]=0;for(;U.heap_len<2;)ye[2*(ne=U.heap[++U.heap_len]=ue<2?++ue:0)]=1,U.depth[ne]=0,U.opt_len--,ge&&(U.static_len-=xe[2*ne+1]);for(Y.max_code=ue,Q=U.heap_len>>1;1<=Q;Q--)pe(U,ye,Q);for(ne=ee;Q=U.heap[1],U.heap[1]=U.heap[U.heap_len--],pe(U,ye,1),de=U.heap[1],U.heap[--U.heap_max]=Q,U.heap[--U.heap_max]=de,ye[2*ne]=ye[2*Q]+ye[2*de],U.depth[ne]=(U.depth[Q]>=U.depth[de]?U.depth[Q]:U.depth[de])+1,ye[2*Q+1]=ye[2*de+1]=ne,U.heap[1]=ne++,pe(U,ye,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],function(ve,oe){var ke,Le,De,Me,Ie,kt,Ue=oe.dyn_tree,it=oe.max_code,_t=oe.stat_desc.static_tree,Rn=oe.stat_desc.has_stree,Wr=oe.stat_desc.extra_bits,po=oe.stat_desc.extra_base,At=oe.stat_desc.max_length,Ea=0;for(Me=0;Me<=v;Me++)ve.bl_count[Me]=0;for(Ue[2*ve.heap[ve.heap_max]+1]=0,ke=ve.heap_max+1;ke<p;ke++)At<(Me=Ue[2*Ue[2*(Le=ve.heap[ke])+1]+1]+1)&&(Me=At,Ea++),Ue[2*Le+1]=Me,it<Le||(ve.bl_count[Me]++,Ie=0,po<=Le&&(Ie=Wr[Le-po]),kt=Ue[2*Le],ve.opt_len+=kt*(Me+Ie),Rn&&(ve.static_len+=kt*(_t[2*Le+1]+Ie)));if(Ea!==0){do{for(Me=At-1;ve.bl_count[Me]===0;)Me--;ve.bl_count[Me]--,ve.bl_count[Me+1]+=2,ve.bl_count[At]--,Ea-=2}while(0<Ea);for(Me=At;Me!==0;Me--)for(Le=ve.bl_count[Me];Le!==0;)it<(De=ve.heap[--ke])||(Ue[2*De+1]!==Me&&(ve.opt_len+=(Me-Ue[2*De+1])*Ue[2*De],Ue[2*De+1]=Me),Le--)}}(U,Y),we(ye,ue,U.bl_count)}function M(U,Y,Q){var de,ne,ye=-1,xe=Y[1],ge=0,ee=7,ue=4;for(xe===0&&(ee=138,ue=3),Y[2*(Q+1)+1]=65535,de=0;de<=Q;de++)ne=xe,xe=Y[2*(de+1)+1],++ge<ee&&ne===xe||(ge<ue?U.bl_tree[2*ne]+=ge:ne!==0?(ne!==ye&&U.bl_tree[2*ne]++,U.bl_tree[2*S]++):ge<=10?U.bl_tree[2*w]++:U.bl_tree[2*k]++,ye=ne,ue=(ge=0)===xe?(ee=138,3):ne===xe?(ee=6,3):(ee=7,4))}function te(U,Y,Q){var de,ne,ye=-1,xe=Y[1],ge=0,ee=7,ue=4;for(xe===0&&(ee=138,ue=3),de=0;de<=Q;de++)if(ne=xe,xe=Y[2*(de+1)+1],!(++ge<ee&&ne===xe)){if(ge<ue)for(;Z(U,ne,U.bl_tree),--ge!=0;);else ne!==0?(ne!==ye&&(Z(U,ne,U.bl_tree),ge--),Z(U,S,U.bl_tree),ie(U,ge-3,2)):ge<=10?(Z(U,w,U.bl_tree),ie(U,ge-3,3)):(Z(U,k,U.bl_tree),ie(U,ge-11,7));ye=ne,ue=(ge=0)===xe?(ee=138,3):ne===xe?(ee=6,3):(ee=7,4)}}l(W);var K=!1;function q(U,Y,Q,de){ie(U,(u<<1)+(de?1:0),3),function(ne,ye,xe,ge){ae(ne),$(ne,xe),$(ne,~xe),a.arraySet(ne.pending_buf,ne.window,ye,xe,ne.pending),ne.pending+=xe}(U,Y,Q)}i._tr_init=function(U){K||(function(){var Y,Q,de,ne,ye,xe=new Array(v+1);for(ne=de=0;ne<c-1;ne++)for(L[ne]=de,Y=0;Y<1<<A[ne];Y++)C[de++]=ne;for(C[de-1]=ne,ne=ye=0;ne<16;ne++)for(W[ne]=ye,Y=0;Y<1<<E[ne];Y++)j[ye++]=ne;for(ye>>=7;ne<f;ne++)for(W[ne]=ye<<7,Y=0;Y<1<<E[ne]-7;Y++)j[256+ye++]=ne;for(Q=0;Q<=v;Q++)xe[Q]=0;for(Y=0;Y<=143;)I[2*Y+1]=8,Y++,xe[8]++;for(;Y<=255;)I[2*Y+1]=9,Y++,xe[9]++;for(;Y<=279;)I[2*Y+1]=7,Y++,xe[7]++;for(;Y<=287;)I[2*Y+1]=8,Y++,xe[8]++;for(we(I,h+1,xe),Y=0;Y<f;Y++)T[2*Y+1]=5,T[2*Y]=he(Y,5);X=new R(I,A,d+1,h,v),z=new R(T,E,0,f,v),G=new R(new Array(0),P,0,m,b)}(),K=!0),U.l_desc=new V(U.dyn_ltree,X),U.d_desc=new V(U.dyn_dtree,z),U.bl_desc=new V(U.bl_tree,G),U.bi_buf=0,U.bi_valid=0,me(U)},i._tr_stored_block=q,i._tr_flush_block=function(U,Y,Q,de){var ne,ye,xe=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=function(ge){var ee,ue=4093624447;for(ee=0;ee<=31;ee++,ue>>>=1)if(1&ue&&ge.dyn_ltree[2*ee]!==0)return s;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return o;for(ee=32;ee<d;ee++)if(ge.dyn_ltree[2*ee]!==0)return o;return s}(U)),_e(U,U.l_desc),_e(U,U.d_desc),xe=function(ge){var ee;for(M(ge,ge.dyn_ltree,ge.l_desc.max_code),M(ge,ge.dyn_dtree,ge.d_desc.max_code),_e(ge,ge.bl_desc),ee=m-1;3<=ee&&ge.bl_tree[2*O[ee]+1]===0;ee--);return ge.opt_len+=3*(ee+1)+5+5+4,ee}(U),ne=U.opt_len+3+7>>>3,(ye=U.static_len+3+7>>>3)<=ne&&(ne=ye)):ne=ye=Q+5,Q+4<=ne&&Y!==-1?q(U,Y,Q,de):U.strategy===4||ye===ne?(ie(U,2+(de?1:0),3),se(U,I,T)):(ie(U,4+(de?1:0),3),function(ge,ee,ue,ve){var oe;for(ie(ge,ee-257,5),ie(ge,ue-1,5),ie(ge,ve-4,4),oe=0;oe<ve;oe++)ie(ge,ge.bl_tree[2*O[oe]+1],3);te(ge,ge.dyn_ltree,ee-1),te(ge,ge.dyn_dtree,ue-1)}(U,U.l_desc.max_code+1,U.d_desc.max_code+1,xe+1),se(U,U.dyn_ltree,U.dyn_dtree)),me(U),de&&ae(U)},i._tr_tally=function(U,Y,Q){return U.pending_buf[U.d_buf+2*U.last_lit]=Y>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&Y,U.pending_buf[U.l_buf+U.last_lit]=255&Q,U.last_lit++,Y===0?U.dyn_ltree[2*Q]++:(U.matches++,Y--,U.dyn_ltree[2*(C[Q]+d+1)]++,U.dyn_dtree[2*H(Y)]++),U.last_lit===U.lit_bufsize-1},i._tr_align=function(U){ie(U,2,3),Z(U,x,I),function(Y){Y.bi_valid===16?($(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(U)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,d,h=1,f={},m=!1,p=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){b(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,w=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=w,S}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(S){s.postMessage(d+S,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(S){b(S.data)},function(S){c.port2.postMessage(S)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(S){var w=p.createElement("script");w.onreadystatechange=function(){b(S),w.onreadystatechange=null,u.removeChild(w),w=null},u.appendChild(w)}):function(S){setTimeout(b,0,S)},v.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var w=new Array(arguments.length-1),k=0;k<w.length;k++)w[k]=arguments[k+1];var A={callback:S,args:w};return f[h]=A,l(h),h++},v.clearImmediate=g}function g(S){delete f[S]}function b(S){if(m)setTimeout(b,0,S);else{var w=f[S];if(w){m=!0;try{(function(k){var A=k.callback,E=k.args;switch(E.length){case 0:A();break;case 1:A(E[0]);break;case 2:A(E[0],E[1]);break;case 3:A(E[0],E[1],E[2]);break;default:A.apply(o,E)}})(w)}finally{g(S),m=!1}}}}function x(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(d)===0&&b(+S.data.slice(d.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(WF);var yK=WF.exports;const vK=ot(yK);/*
 * @license
 * docx-preview <https://github.com/VolodymyrBaydalka/docxjs>
 * Released under Apache License 2.0  <https://github.com/VolodymyrBaydalka/docxjs/blob/master/LICENSE>
 * Copyright Volodymyr Baydalka
 */var Qt;(function(t){t.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",t.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",t.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",t.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",t.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",t.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",t.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",t.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",t.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",t.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",t.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",t.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",t.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",t.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",t.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",t.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties",t.Comments="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",t.CommentsExtended="http://schemas.microsoft.com/office/2011/relationships/commentsExtended",t.AltChunk="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"})(Qt||(Qt={}));function bK(t,e){return e.elements(t).map(n=>({id:e.attr(n,"Id"),type:e.attr(n,"Type"),target:e.attr(n,"Target"),targetMode:e.attr(n,"TargetMode")}))}function xK(t){return t==null?void 0:t.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()}function Wk(t){return/^[^"'].*\s.*[^"']$/.test(t)?`'${t}'`:t}function Qv(t){let e=t.lastIndexOf("/")+1,n=e==0?"":t.substring(0,e),r=e==0?t:t.substring(e);return[n,r]}function V1(t,e){try{const n="http://docx/";return new URL(t,n+e).toString().substring(n.length)}catch{return`${e}${t}`}}function wo(t,e){return t.reduce((n,r)=>(n[e(r)]=r,n),{})}function wK(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(),r.readAsDataURL(t)})}function G1(t){return t&&typeof t=="object"&&!Array.isArray(t)}function SK(t){return typeof t=="string"||t instanceof String}function ob(t,...e){if(!e.length)return t;const n=e.shift();if(G1(t)&&G1(n))for(const r in n)if(G1(n[r])){const i=t[r]??(t[r]={});ob(i,n[r])}else t[r]=n[r];return ob(t,...e)}function Gf(t){return Array.isArray(t)?t:[t]}function kK(t,e,n){return e>t?e:n<t?n:t}const VF={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},ln={Dxa:{mul:.05,unit:"pt"},Emu:{mul:1/12700,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt",min:.25,max:12},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"}};function GF(t,e=ln.Dxa){if(t==null||/.+(p[xt]|[%])$/.test(t))return t;var n=parseInt(t)*e.mul;return e.min&&e.max&&(n=kK(n,e.min,e.max)),`${n.toFixed(2)}${e.unit}`}function _K(t,e=!1){switch(t){case"1":return!0;case"0":return!1;case"on":return!0;case"off":return!1;case"true":return!0;case"false":return!1;default:return e}}function qF(t,e,n){if(t.namespaceURI!=VF.wordml)return!1;switch(t.localName){case"color":e.color=n.attr(t,"val");break;case"sz":e.fontSize=n.lengthAttr(t,"val",ln.FontSize);break;default:return!1}return!0}function AK(t,e=!1){e&&(t=t.replace(/<[?].*[?]>/,"")),t=CK(t);const n=new DOMParser().parseFromString(t,"application/xml"),r=EK(n);if(r)throw new Error(r);return n}function EK(t){var e;return(e=t.getElementsByTagName("parsererror")[0])==null?void 0:e.textContent}function CK(t){return t.charCodeAt(0)===65279?t.substring(1):t}function PK(t){return new XMLSerializer().serializeToString(t)}class XF{elements(e,n=null){const r=[];for(let i=0,a=e.childNodes.length;i<a;i++){let s=e.childNodes.item(i);s.nodeType==Node.ELEMENT_NODE&&(n==null||s.localName==n)&&r.push(s)}return r}element(e,n){for(let r=0,i=e.childNodes.length;r<i;r++){let a=e.childNodes.item(r);if(a.nodeType==1&&a.localName==n)return a}return null}elementAttr(e,n,r){var i=this.element(e,n);return i?this.attr(i,r):void 0}attrs(e){return Array.from(e.attributes)}attr(e,n){for(let r=0,i=e.attributes.length;r<i;r++){let a=e.attributes.item(r);if(a.localName==n)return a.value}return null}intAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i):r}hexAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i,16):r}floatAttr(e,n,r=null){var i=this.attr(e,n);return i?parseFloat(i):r}boolAttr(e,n,r=null){return _K(this.attr(e,n),r)}lengthAttr(e,n,r=ln.Dxa){return GF(this.attr(e,n),r)}}const J=new XF;class yi{constructor(e,n){this._package=e,this.path=n}async load(){this.rels=await this._package.loadRelationships(this.path);const e=await this._package.load(this.path),n=this._package.parseXmlDocument(e);this._package.options.keepOrigin&&(this._xmlDocument=n),this.parseXml(n.firstElementChild)}save(){this._package.update(this.path,PK(this._xmlDocument))}parseXml(e){}}const TK={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function OK(t,e){return e.elements(t).map(n=>MK(n,e))}function MK(t,e){let n={name:e.attr(t,"name"),embedFontRefs:[]};for(let r of e.elements(t))switch(r.localName){case"family":n.family=e.attr(r,"val");break;case"altName":n.altName=e.attr(r,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":n.embedFontRefs.push(NK(r,e));break}return n}function NK(t,e){return{id:e.attr(t,"id"),key:e.attr(t,"fontKey"),type:TK[t.localName]}}class IK extends yi{parseXml(e){this.fonts=OK(e,this._package.xmlParser)}}class dP{constructor(e,n){this._zip=e,this.options=n,this.xmlParser=new XF}get(e){const n=RK(e);return this._zip.files[n]??this._zip.files[n.replace(/\//g,"\\")]}update(e,n){this._zip.file(e,n)}static async load(e,n){const r=await vK.loadAsync(e);return new dP(r,n)}save(e="blob"){return this._zip.generateAsync({type:e})}load(e,n="string"){var r;return((r=this.get(e))==null?void 0:r.async(n))??Promise.resolve(null)}async loadRelationships(e=null){let n="_rels/.rels";if(e!=null){const[i,a]=Qv(e);n=`${i}_rels/${a}.rels`}const r=await this.load(n);return r?bK(this.parseXmlDocument(r).firstElementChild,this.xmlParser):null}parseXmlDocument(e){return AK(e,this.options.trimXmlDeclaration)}}function RK(t){return t.startsWith("/")?t.substr(1):t}class LK extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.body=this._documentParser.parseDocumentFile(e)}}function fv(t,e){return{type:e.attr(t,"val"),color:e.attr(t,"color"),size:e.lengthAttr(t,"sz",ln.Border),offset:e.lengthAttr(t,"space",ln.Point),frame:e.boolAttr(t,"frame"),shadow:e.boolAttr(t,"shadow")}}function jK(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"left":n.left=fv(r,e);break;case"top":n.top=fv(r,e);break;case"right":n.right=fv(r,e);break;case"bottom":n.bottom=fv(r,e);break}return n}var yM;(function(t){t.Continuous="continuous",t.NextPage="nextPage",t.NextColumn="nextColumn",t.EvenPage="evenPage",t.OddPage="oddPage"})(yM||(yM={}));function KF(t,e=J){var n={};for(let r of e.elements(t))switch(r.localName){case"pgSz":n.pageSize={width:e.lengthAttr(r,"w"),height:e.lengthAttr(r,"h"),orientation:e.attr(r,"orient")};break;case"type":n.type=e.attr(r,"val");break;case"pgMar":n.pageMargins={left:e.lengthAttr(r,"left"),right:e.lengthAttr(r,"right"),top:e.lengthAttr(r,"top"),bottom:e.lengthAttr(r,"bottom"),header:e.lengthAttr(r,"header"),footer:e.lengthAttr(r,"footer"),gutter:e.lengthAttr(r,"gutter")};break;case"cols":n.columns=DK(r,e);break;case"headerReference":(n.headerRefs??(n.headerRefs=[])).push(vM(r,e));break;case"footerReference":(n.footerRefs??(n.footerRefs=[])).push(vM(r,e));break;case"titlePg":n.titlePage=e.boolAttr(r,"val",!0);break;case"pgBorders":n.pageBorders=jK(r,e);break;case"pgNumType":n.pageNumber=$K(r,e);break}return n}function DK(t,e){return{numberOfColumns:e.intAttr(t,"num"),space:e.lengthAttr(t,"space"),separator:e.boolAttr(t,"sep"),equalWidth:e.boolAttr(t,"equalWidth",!0),columns:e.elements(t,"col").map(n=>({width:e.lengthAttr(n,"w"),space:e.lengthAttr(n,"space")}))}}function $K(t,e){return{chapSep:e.attr(t,"chapSep"),chapStyle:e.attr(t,"chapStyle"),format:e.attr(t,"fmt"),start:e.intAttr(t,"start")}}function vM(t,e){return{id:e.attr(t,"id"),type:e.attr(t,"type")}}function FK(t,e){return{before:e.lengthAttr(t,"before"),after:e.lengthAttr(t,"after"),line:e.intAttr(t,"line"),lineRule:e.attr(t,"lineRule")}}function hP(t,e){let n={};for(let r of e.elements(t))zK(r,n,e);return n}function zK(t,e,n){return!!qF(t,e,n)}function YF(t,e){let n={};for(let r of e.elements(t))ZF(r,n,e);return n}function ZF(t,e,n){if(t.namespaceURI!=VF.wordml)return!1;if(qF(t,e,n))return!0;switch(t.localName){case"tabs":e.tabs=BK(t,n);break;case"sectPr":e.sectionProps=KF(t,n);break;case"numPr":e.numbering=UK(t,n);break;case"spacing":return e.lineSpacing=FK(t,n),!1;case"textAlignment":return e.textAlignment=n.attr(t,"val"),!1;case"keepLines":e.keepLines=n.boolAttr(t,"val",!0);break;case"keepNext":e.keepNext=n.boolAttr(t,"val",!0);break;case"pageBreakBefore":e.pageBreakBefore=n.boolAttr(t,"val",!0);break;case"outlineLvl":e.outlineLevel=n.intAttr(t,"val");break;case"pStyle":e.styleName=n.attr(t,"val");break;case"rPr":e.runProps=hP(t,n);break;default:return!1}return!0}function BK(t,e){return e.elements(t,"tab").map(n=>({position:e.lengthAttr(n,"pos"),leader:e.attr(n,"leader"),style:e.attr(n,"val")}))}function UK(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"numId":n.id=e.attr(r,"val");break;case"ilvl":n.level=e.intAttr(r,"val");break}return n}function HK(t,e){let n={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let r of e.elements(t))switch(r.localName){case"num":n.numberings.push(WK(r,e));break;case"abstractNum":n.abstractNumberings.push(VK(r,e));break;case"numPicBullet":n.bulletPictures.push(qK(r,e));break}return n}function WK(t,e){let n={id:e.attr(t,"numId"),overrides:[]};for(let r of e.elements(t))switch(r.localName){case"abstractNumId":n.abstractId=e.attr(r,"val");break;case"lvlOverride":n.overrides.push(GK(r,e));break}return n}function VK(t,e){let n={id:e.attr(t,"abstractNumId"),levels:[]};for(let r of e.elements(t))switch(r.localName){case"name":n.name=e.attr(r,"val");break;case"multiLevelType":n.multiLevelType=e.attr(r,"val");break;case"numStyleLink":n.numberingStyleLink=e.attr(r,"val");break;case"styleLink":n.styleLink=e.attr(r,"val");break;case"lvl":n.levels.push(QF(r,e));break}return n}function QF(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"start":n.start=e.attr(r,"val");break;case"lvlRestart":n.restart=e.intAttr(r,"val");break;case"numFmt":n.format=e.attr(r,"val");break;case"lvlText":n.text=e.attr(r,"val");break;case"lvlJc":n.justification=e.attr(r,"val");break;case"lvlPicBulletId":n.bulletPictureId=e.attr(r,"val");break;case"pStyle":n.paragraphStyle=e.attr(r,"val");break;case"pPr":n.paragraphProps=YF(r,e);break;case"rPr":n.runProps=hP(r,e);break}return n}function GK(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"startOverride":n.start=e.intAttr(r,"val");break;case"lvl":n.numberingLevel=QF(r,e);break}return n}function qK(t,e){var n=e.element(t,"pict"),r=n&&e.element(n,"shape"),i=r&&e.element(r,"imagedata");return i?{id:e.attr(t,"numPicBulletId"),referenceId:e.attr(i,"id"),style:e.attr(r,"style")}:null}class XK extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){Object.assign(this,HK(e,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(e)}}class KK extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.styles=this._documentParser.parseStylesFile(e)}}var le;(function(t){t.Document="document",t.Paragraph="paragraph",t.Run="run",t.Break="break",t.NoBreakHyphen="noBreakHyphen",t.Table="table",t.Row="row",t.Cell="cell",t.Hyperlink="hyperlink",t.SmartTag="smartTag",t.Drawing="drawing",t.Image="image",t.Text="text",t.Tab="tab",t.Symbol="symbol",t.BookmarkStart="bookmarkStart",t.BookmarkEnd="bookmarkEnd",t.Footer="footer",t.Header="header",t.FootnoteReference="footnoteReference",t.EndnoteReference="endnoteReference",t.Footnote="footnote",t.Endnote="endnote",t.SimpleField="simpleField",t.ComplexField="complexField",t.Instruction="instruction",t.VmlPicture="vmlPicture",t.MmlMath="mmlMath",t.MmlMathParagraph="mmlMathParagraph",t.MmlFraction="mmlFraction",t.MmlFunction="mmlFunction",t.MmlFunctionName="mmlFunctionName",t.MmlNumerator="mmlNumerator",t.MmlDenominator="mmlDenominator",t.MmlRadical="mmlRadical",t.MmlBase="mmlBase",t.MmlDegree="mmlDegree",t.MmlSuperscript="mmlSuperscript",t.MmlSubscript="mmlSubscript",t.MmlPreSubSuper="mmlPreSubSuper",t.MmlSubArgument="mmlSubArgument",t.MmlSuperArgument="mmlSuperArgument",t.MmlNary="mmlNary",t.MmlDelimiter="mmlDelimiter",t.MmlRun="mmlRun",t.MmlEquationArray="mmlEquationArray",t.MmlLimit="mmlLimit",t.MmlLimitLower="mmlLimitLower",t.MmlMatrix="mmlMatrix",t.MmlMatrixRow="mmlMatrixRow",t.MmlBox="mmlBox",t.MmlBar="mmlBar",t.MmlGroupChar="mmlGroupChar",t.VmlElement="vmlElement",t.Inserted="inserted",t.Deleted="deleted",t.DeletedText="deletedText",t.Comment="comment",t.CommentReference="commentReference",t.CommentRangeStart="commentRangeStart",t.CommentRangeEnd="commentRangeEnd",t.AltChunk="altChunk"})(le||(le={}));class Cc{constructor(){this.children=[],this.cssStyle={}}}class YK extends Cc{constructor(){super(...arguments),this.type=le.Header}}class ZK extends Cc{constructor(){super(...arguments),this.type=le.Footer}}class JF extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(e)}}class QK extends JF{createRootElement(){return new YK}}class JK extends JF{createRootElement(){return new ZK}}function eY(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"Template":n.template=r.textContent;break;case"Pages":n.pages=qf(r.textContent);break;case"Words":n.words=qf(r.textContent);break;case"Characters":n.characters=qf(r.textContent);break;case"Application":n.application=r.textContent;break;case"Lines":n.lines=qf(r.textContent);break;case"Paragraphs":n.paragraphs=qf(r.textContent);break;case"Company":n.company=r.textContent;break;case"AppVersion":n.appVersion=r.textContent;break}return n}function qf(t){if(!(typeof t>"u"))return parseInt(t)}class tY extends yi{parseXml(e){this.props=eY(e,this._package.xmlParser)}}function nY(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"title":n.title=r.textContent;break;case"description":n.description=r.textContent;break;case"subject":n.subject=r.textContent;break;case"creator":n.creator=r.textContent;break;case"keywords":n.keywords=r.textContent;break;case"language":n.language=r.textContent;break;case"lastModifiedBy":n.lastModifiedBy=r.textContent;break;case"revision":r.textContent&&(n.revision=parseInt(r.textContent));break}return n}class rY extends yi{parseXml(e){this.props=nY(e,this._package.xmlParser)}}class iY{}function aY(t,e){var n=new iY,r=e.element(t,"themeElements");for(let i of e.elements(r))switch(i.localName){case"clrScheme":n.colorScheme=sY(i,e);break;case"fontScheme":n.fontScheme=oY(i,e);break}return n}function sY(t,e){var n={name:e.attr(t,"name"),colors:{}};for(let a of e.elements(t)){var r=e.element(a,"srgbClr"),i=e.element(a,"sysClr");r?n.colors[a.localName]=e.attr(r,"val"):i&&(n.colors[a.localName]=e.attr(i,"lastClr"))}return n}function oY(t,e){var n={name:e.attr(t,"name")};for(let r of e.elements(t))switch(r.localName){case"majorFont":n.majorFont=bM(r,e);break;case"minorFont":n.minorFont=bM(r,e);break}return n}function bM(t,e){return{latinTypeface:e.elementAttr(t,"latin","typeface"),eaTypeface:e.elementAttr(t,"ea","typeface"),csTypeface:e.elementAttr(t,"cs","typeface")}}class lY extends yi{constructor(e,n){super(e,n)}parseXml(e){this.theme=aY(e,this._package.xmlParser)}}class e3{}class uY extends e3{constructor(){super(...arguments),this.type=le.Footnote}}class cY extends e3{constructor(){super(...arguments),this.type=le.Endnote}}class t3 extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}}class dY extends t3{constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"footnote",uY)}}class hY extends t3{constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"endnote",cY)}}function fY(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"defaultTabStop":n.defaultTabStop=e.lengthAttr(r,"val");break;case"footnotePr":n.footnoteProps=xM(r,e);break;case"endnotePr":n.endnoteProps=xM(r,e);break;case"autoHyphenation":n.autoHyphenation=e.boolAttr(r,"val");break}return n}function xM(t,e){var n={defaultNoteIds:[]};for(let r of e.elements(t))switch(r.localName){case"numFmt":n.nummeringFormat=e.attr(r,"val");break;case"footnote":case"endnote":n.defaultNoteIds.push(e.attr(r,"id"));break}return n}class pY extends yi{constructor(e,n){super(e,n)}parseXml(e){this.settings=fY(e,this._package.xmlParser)}}function mY(t,e){return e.elements(t,"property").map(n=>{const r=n.firstChild;return{formatId:e.attr(n,"fmtid"),name:e.attr(n,"name"),type:r.nodeName,value:r.textContent}})}class gY extends yi{parseXml(e){this.props=mY(e,this._package.xmlParser)}}class yY extends yi{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.comments=this._documentParser.parseComments(e),this.commentMap=wo(this.comments,n=>n.id)}}class vY extends yi{constructor(e,n){super(e,n),this.comments=[]}parseXml(e){const n=this._package.xmlParser;for(let r of n.elements(e,"commentEx"))this.comments.push({paraId:n.attr(r,"paraId"),paraIdParent:n.attr(r,"paraIdParent"),done:n.boolAttr(r,"done")});this.commentMap=wo(this.comments,r=>r.paraId)}}const bY=[{type:Qt.OfficeDocument,target:"word/document.xml"},{type:Qt.ExtendedProperties,target:"docProps/app.xml"},{type:Qt.CoreProperties,target:"docProps/core.xml"},{type:Qt.CustomProperties,target:"docProps/custom.xml"}];class fP{constructor(){this.parts=[],this.partsMap={}}static async load(e,n,r){var i=new fP;return i._options=r,i._parser=n,i._package=await dP.load(e,r),i.rels=await i._package.loadRelationships(),await Promise.all(bY.map(a=>{const s=i.rels.find(o=>o.type===a.type)??a;return i.loadRelationshipPart(s.target,s.type)})),i}save(e="blob"){return this._package.save(e)}async loadRelationshipPart(e,n){var i;if(this.partsMap[e])return this.partsMap[e];if(!this._package.get(e))return null;let r=null;switch(n){case Qt.OfficeDocument:this.documentPart=r=new LK(this._package,e,this._parser);break;case Qt.FontTable:this.fontTablePart=r=new IK(this._package,e);break;case Qt.Numbering:this.numberingPart=r=new XK(this._package,e,this._parser);break;case Qt.Styles:this.stylesPart=r=new KK(this._package,e,this._parser);break;case Qt.Theme:this.themePart=r=new lY(this._package,e);break;case Qt.Footnotes:this.footnotesPart=r=new dY(this._package,e,this._parser);break;case Qt.Endnotes:this.endnotesPart=r=new hY(this._package,e,this._parser);break;case Qt.Footer:r=new JK(this._package,e,this._parser);break;case Qt.Header:r=new QK(this._package,e,this._parser);break;case Qt.CoreProperties:this.corePropsPart=r=new rY(this._package,e);break;case Qt.ExtendedProperties:this.extendedPropsPart=r=new tY(this._package,e);break;case Qt.CustomProperties:r=new gY(this._package,e);break;case Qt.Settings:this.settingsPart=r=new pY(this._package,e);break;case Qt.Comments:this.commentsPart=r=new yY(this._package,e,this._parser);break;case Qt.CommentsExtended:this.commentsExtendedPart=r=new vY(this._package,e);break}if(r==null)return Promise.resolve(null);if(this.partsMap[e]=r,this.parts.push(r),await r.load(),((i=r.rels)==null?void 0:i.length)>0){const[a]=Qv(r.path);await Promise.all(r.rels.map(s=>this.loadRelationshipPart(V1(s.target,a),s.type)))}return r}async loadDocumentImage(e,n){const r=await this.loadResource(n??this.documentPart,e,"blob");return this.blobToURL(r)}async loadNumberingImage(e){const n=await this.loadResource(this.numberingPart,e,"blob");return this.blobToURL(n)}async loadFont(e,n){const r=await this.loadResource(this.fontTablePart,e,"uint8array");return r&&this.blobToURL(new Blob([xY(r,n)]))}async loadAltChunk(e,n){return await this.loadResource(n??this.documentPart,e,"string")}blobToURL(e){return e?this._options.useBase64URL?wK(e):URL.createObjectURL(e):null}findPartByRelId(e,n=null){var r=(n.rels??this.rels).find(a=>a.id==e);const i=n?Qv(n.path)[0]:"";return r?this.partsMap[V1(r.target,i)]:null}getPathById(e,n){const r=e.rels.find(a=>a.id==n),[i]=Qv(e.path);return r?V1(r.target,i):null}loadResource(e,n,r){const i=this.getPathById(e,n);return i?this._package.load(i,r):Promise.resolve(null)}}function xY(t,e){const r=e.replace(/{|}|-/g,""),i=new Array(16);for(let a=0;a<16;a++)i[16-a-1]=parseInt(r.substring(a*2,a*2+2),16);for(let a=0;a<32;a++)t[a]=t[a]^i[a%16];return t}function wY(t,e){return{type:le.BookmarkStart,id:e.attr(t,"id"),name:e.attr(t,"name"),colFirst:e.intAttr(t,"colFirst"),colLast:e.intAttr(t,"colLast")}}function SY(t,e){return{type:le.BookmarkEnd,id:e.attr(t,"id")}}class kY extends Cc{constructor(){super(...arguments),this.type=le.VmlElement,this.attrs={}}}function n3(t,e){var n=new kY;switch(t.localName){case"rect":n.tagName="rect",Object.assign(n.attrs,{width:"100%",height:"100%"});break;case"oval":n.tagName="ellipse",Object.assign(n.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":n.tagName="line";break;case"shape":n.tagName="g";break;case"textbox":n.tagName="foreignObject",Object.assign(n.attrs,{width:"100%",height:"100%"});break;default:return null}for(const r of J.attrs(t))switch(r.localName){case"style":n.cssStyleText=r.value;break;case"fillcolor":n.attrs.fill=r.value;break;case"from":const[i,a]=wM(r.value);Object.assign(n.attrs,{x1:i,y1:a});break;case"to":const[s,o]=wM(r.value);Object.assign(n.attrs,{x2:s,y2:o});break}for(const r of J.elements(t))switch(r.localName){case"stroke":Object.assign(n.attrs,_Y(r));break;case"fill":Object.assign(n.attrs,AY());break;case"imagedata":n.tagName="image",Object.assign(n.attrs,{width:"100%",height:"100%"}),n.imageHref={id:J.attr(r,"id"),title:J.attr(r,"title")};break;case"txbxContent":n.children.push(...e.parseBodyElements(r));break;default:const i=n3(r,e);i&&n.children.push(i);break}return n}function _Y(t){return{stroke:J.attr(t,"color"),"stroke-width":J.lengthAttr(t,"weight",ln.Emu)??"1px"}}function AY(t){return{}}function wM(t){return t.split(",")}class EY extends Cc{constructor(){super(...arguments),this.type=le.Comment}}class CY extends Cc{constructor(e){super(),this.id=e,this.type=le.CommentReference}}class PY extends Cc{constructor(e){super(),this.id=e,this.type=le.CommentRangeStart}}class TY extends Cc{constructor(e){super(),this.id=e,this.type=le.CommentRangeEnd}}var Jv={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const OY=[],SM={oMath:le.MmlMath,oMathPara:le.MmlMathParagraph,f:le.MmlFraction,func:le.MmlFunction,fName:le.MmlFunctionName,num:le.MmlNumerator,den:le.MmlDenominator,rad:le.MmlRadical,deg:le.MmlDegree,e:le.MmlBase,sSup:le.MmlSuperscript,sSub:le.MmlSubscript,sPre:le.MmlPreSubSuper,sup:le.MmlSuperArgument,sub:le.MmlSubArgument,d:le.MmlDelimiter,nary:le.MmlNary,eqArr:le.MmlEquationArray,lim:le.MmlLimit,limLow:le.MmlLimitLower,m:le.MmlMatrix,mr:le.MmlMatrixRow,box:le.MmlBox,bar:le.MmlBar,groupChr:le.MmlGroupChar};class MY{constructor(e){this.options={ignoreWidth:!1,debug:!1,...e}}parseNotes(e,n,r){var i=[];for(let a of J.elements(e,n)){const s=new r;s.id=J.attr(a,"id"),s.noteType=J.attr(a,"type"),s.children=this.parseBodyElements(a),i.push(s)}return i}parseComments(e){var n=[];for(let r of J.elements(e,"comment")){const i=new EY;i.id=J.attr(r,"id"),i.author=J.attr(r,"author"),i.initials=J.attr(r,"initials"),i.date=J.attr(r,"date"),i.children=this.parseBodyElements(r),n.push(i)}return n}parseDocumentFile(e){var n=J.element(e,"body"),r=J.element(e,"background"),i=J.element(n,"sectPr");return{type:le.Document,children:this.parseBodyElements(n),props:i?KF(i,J):{},cssStyle:r?this.parseBackground(r):{}}}parseBackground(e){var n={},r=Xc.colorAttr(e,"color");return r&&(n["background-color"]=r),n}parseBodyElements(e){var n=[];for(const r of J.elements(e))switch(r.localName){case"p":n.push(this.parseParagraph(r));break;case"altChunk":n.push(this.parseAltChunk(r));break;case"tbl":n.push(this.parseTable(r));break;case"sdt":n.push(...this.parseSdt(r,i=>this.parseBodyElements(i)));break}return n}parseStylesFile(e){var n=[];for(const r of J.elements(e))switch(r.localName){case"style":n.push(this.parseStyle(r));break;case"docDefaults":n.push(this.parseDefaultStyles(r));break}return n}parseDefaultStyles(e){var n={id:null,name:null,target:null,basedOn:null,styles:[]};for(const a of J.elements(e))switch(a.localName){case"rPrDefault":var r=J.element(a,"rPr");r&&n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})});break;case"pPrDefault":var i=J.element(a,"pPr");i&&n.styles.push({target:"p",values:this.parseDefaultProperties(i,{})});break}return n}parseStyle(e){var n={id:J.attr(e,"styleId"),isDefault:J.boolAttr(e,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(J.attr(e,"type")){case"paragraph":n.target="p";break;case"table":n.target="table";break;case"character":n.target="span";break}for(const r of J.elements(e))switch(r.localName){case"basedOn":n.basedOn=J.attr(r,"val");break;case"name":n.name=J.attr(r,"val");break;case"link":n.linked=J.attr(r,"val");break;case"next":n.next=J.attr(r,"val");break;case"aliases":n.aliases=J.attr(r,"val").split(",");break;case"pPr":n.styles.push({target:"p",values:this.parseDefaultProperties(r,{})}),n.paragraphProps=YF(r,J);break;case"rPr":n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})}),n.runProps=hP(r,J);break;case"tblPr":case"tcPr":n.styles.push({target:"td",values:this.parseDefaultProperties(r,{})});break;case"tblStylePr":for(let i of this.parseTableStyle(r))n.styles.push(i);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${r.localName}`)}return n}parseTableStyle(e){var n=[],r=J.attr(e,"type"),i="",a="";switch(r){case"firstRow":a=".first-row",i="tr.first-row td";break;case"lastRow":a=".last-row",i="tr.last-row td";break;case"firstCol":a=".first-col",i="td.first-col";break;case"lastCol":a=".last-col",i="td.last-col";break;case"band1Vert":a=":not(.no-vband)",i="td.odd-col";break;case"band2Vert":a=":not(.no-vband)",i="td.even-col";break;case"band1Horz":a=":not(.no-hband)",i="tr.odd-row";break;case"band2Horz":a=":not(.no-hband)",i="tr.even-row";break;default:return[]}for(const s of J.elements(e))switch(s.localName){case"pPr":n.push({target:`${i} p`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"rPr":n.push({target:`${i} span`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"tblPr":case"tcPr":n.push({target:i,mod:a,values:this.parseDefaultProperties(s,{})});break}return n}parseNumberingFile(e){var n=[],r={},i=[];for(const o of J.elements(e))switch(o.localName){case"abstractNum":this.parseAbstractNumbering(o,i).forEach(l=>n.push(l));break;case"numPicBullet":i.push(this.parseNumberingPicBullet(o));break;case"num":var a=J.attr(o,"numId"),s=J.elementAttr(o,"abstractNumId","val");r[s]=a;break}return n.forEach(o=>o.id=r[o.id]),n}parseNumberingPicBullet(e){var n=J.element(e,"pict"),r=n&&J.element(n,"shape"),i=r&&J.element(r,"imagedata");return i?{id:J.intAttr(e,"numPicBulletId"),src:J.attr(i,"id"),style:J.attr(r,"style")}:null}parseAbstractNumbering(e,n){var r=[],i=J.attr(e,"abstractNumId");for(const a of J.elements(e))switch(a.localName){case"lvl":r.push(this.parseNumberingLevel(i,a,n));break}return r}parseNumberingLevel(e,n,r){var i={id:e,level:J.intAttr(n,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};for(const s of J.elements(n))switch(s.localName){case"start":i.start=J.intAttr(s,"val");break;case"pPr":this.parseDefaultProperties(s,i.pStyle);break;case"rPr":this.parseDefaultProperties(s,i.rStyle);break;case"lvlPicBulletId":var a=J.intAttr(s,"val");i.bullet=r.find(o=>(o==null?void 0:o.id)==a);break;case"lvlText":i.levelText=J.attr(s,"val");break;case"pStyle":i.pStyleName=J.attr(s,"val");break;case"numFmt":i.format=J.attr(s,"val");break;case"suff":i.suff=J.attr(s,"val");break}return i}parseSdt(e,n){const r=J.element(e,"sdtContent");return r?n(r):[]}parseInserted(e,n){var r;return{type:le.Inserted,children:((r=n(e))==null?void 0:r.children)??[]}}parseDeleted(e,n){var r;return{type:le.Deleted,children:((r=n(e))==null?void 0:r.children)??[]}}parseAltChunk(e){return{type:le.AltChunk,children:[],id:J.attr(e,"id")}}parseParagraph(e){var n={type:le.Paragraph,children:[]};for(let r of J.elements(e))switch(r.localName){case"pPr":this.parseParagraphProperties(r,n);break;case"r":n.children.push(this.parseRun(r,n));break;case"hyperlink":n.children.push(this.parseHyperlink(r,n));break;case"smartTag":n.children.push(this.parseSmartTag(r,n));break;case"bookmarkStart":n.children.push(wY(r,J));break;case"bookmarkEnd":n.children.push(SY(r,J));break;case"commentRangeStart":n.children.push(new PY(J.attr(r,"id")));break;case"commentRangeEnd":n.children.push(new TY(J.attr(r,"id")));break;case"oMath":case"oMathPara":n.children.push(this.parseMathElement(r));break;case"sdt":n.children.push(...this.parseSdt(r,i=>this.parseParagraph(i).children));break;case"ins":n.children.push(this.parseInserted(r,i=>this.parseParagraph(i)));break;case"del":n.children.push(this.parseDeleted(r,i=>this.parseParagraph(i)));break}return n}parseParagraphProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{if(ZF(r,n,J))return!0;switch(r.localName){case"pStyle":n.styleName=J.attr(r,"val");break;case"cnfStyle":n.className=wt.classNameOfCnfStyle(r);break;case"framePr":this.parseFrame(r,n);break;case"rPr":break;default:return!1}return!0})}parseFrame(e,n){var r=J.attr(e,"dropCap");r=="drop"&&(n.cssStyle.float="left")}parseHyperlink(e,n){var r={type:le.Hyperlink,parent:n,children:[]};r.anchor=J.attr(e,"anchor"),r.id=J.attr(e,"id");for(const i of J.elements(e))switch(i.localName){case"r":r.children.push(this.parseRun(i,r));break}return r}parseSmartTag(e,n){var r={type:le.SmartTag,parent:n,children:[]},i=J.attr(e,"uri"),a=J.attr(e,"element");i&&(r.uri=i),a&&(r.element=a);for(const s of J.elements(e))switch(s.localName){case"r":r.children.push(this.parseRun(s,r));break}return r}parseRun(e,n){var r={type:le.Run,parent:n,children:[]};for(let i of J.elements(e))switch(i=this.checkAlternateContent(i),i.localName){case"t":r.children.push({type:le.Text,text:i.textContent});break;case"delText":r.children.push({type:le.DeletedText,text:i.textContent});break;case"commentReference":r.children.push(new CY(J.attr(i,"id")));break;case"fldSimple":r.children.push({type:le.SimpleField,instruction:J.attr(i,"instr"),lock:J.boolAttr(i,"lock",!1),dirty:J.boolAttr(i,"dirty",!1)});break;case"instrText":r.fieldRun=!0,r.children.push({type:le.Instruction,text:i.textContent});break;case"fldChar":r.fieldRun=!0,r.children.push({type:le.ComplexField,charType:J.attr(i,"fldCharType"),lock:J.boolAttr(i,"lock",!1),dirty:J.boolAttr(i,"dirty",!1)});break;case"noBreakHyphen":r.children.push({type:le.NoBreakHyphen});break;case"br":r.children.push({type:le.Break,break:J.attr(i,"type")||"textWrapping"});break;case"lastRenderedPageBreak":r.children.push({type:le.Break,break:"lastRenderedPageBreak"});break;case"sym":r.children.push({type:le.Symbol,font:Wk(J.attr(i,"font")),char:J.attr(i,"char")});break;case"tab":r.children.push({type:le.Tab});break;case"footnoteReference":r.children.push({type:le.FootnoteReference,id:J.attr(i,"id")});break;case"endnoteReference":r.children.push({type:le.EndnoteReference,id:J.attr(i,"id")});break;case"drawing":let a=this.parseDrawing(i);a&&(r.children=[a]);break;case"pict":r.children.push(this.parseVmlPicture(i));break;case"rPr":this.parseRunProperties(i,r);break}return r}parseMathElement(e){const n=`${e.localName}Pr`,r={type:SM[e.localName],children:[]};for(const a of J.elements(e))if(SM[a.localName])r.children.push(this.parseMathElement(a));else if(a.localName=="r"){var i=this.parseRun(a);i.type=le.MmlRun,r.children.push(i)}else a.localName==n&&(r.props=this.parseMathProperies(a));return r}parseMathProperies(e){const n={};for(const r of J.elements(e))switch(r.localName){case"chr":n.char=J.attr(r,"val");break;case"vertJc":n.verticalJustification=J.attr(r,"val");break;case"pos":n.position=J.attr(r,"val");break;case"degHide":n.hideDegree=J.boolAttr(r,"val");break;case"begChr":n.beginChar=J.attr(r,"val");break;case"endChr":n.endChar=J.attr(r,"val");break}return n}parseRunProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{switch(r.localName){case"rStyle":n.styleName=J.attr(r,"val");break;case"vertAlign":n.verticalAlign=wt.valueOfVertAlign(r,!0);break;default:return!1}return!0})}parseVmlPicture(e){const n={type:le.VmlPicture,children:[]};for(const r of J.elements(e)){const i=n3(r,this);i&&n.children.push(i)}return n}checkAlternateContent(e){var a;if(e.localName!="AlternateContent")return e;var n=J.element(e,"Choice");if(n){var r=J.attr(n,"Requires"),i=e.lookupNamespaceURI(r);if(OY.includes(i))return n.firstElementChild}return(a=J.element(e,"Fallback"))==null?void 0:a.firstElementChild}parseDrawing(e){for(var n of J.elements(e))switch(n.localName){case"inline":case"anchor":return this.parseDrawingWrapper(n)}}parseDrawingWrapper(e){var n={type:le.Drawing,children:[],cssStyle:{}},r=e.localName=="anchor";let i=null,a=J.boolAttr(e,"simplePos");J.boolAttr(e,"behindDoc");let s={relative:"page",align:"left",offset:"0"},o={relative:"page",align:"top",offset:"0"};for(var l of J.elements(e))switch(l.localName){case"simplePos":a&&(s.offset=J.lengthAttr(l,"x",ln.Emu),o.offset=J.lengthAttr(l,"y",ln.Emu));break;case"extent":n.cssStyle.width=J.lengthAttr(l,"cx",ln.Emu),n.cssStyle.height=J.lengthAttr(l,"cy",ln.Emu);break;case"positionH":case"positionV":if(!a){let h=l.localName=="positionH"?s:o;var u=J.element(l,"align"),c=J.element(l,"posOffset");h.relative=J.attr(l,"relativeFrom")??h.relative,u&&(h.align=u.textContent),c&&(h.offset=GF(c.textContent,ln.Emu))}break;case"wrapTopAndBottom":i="wrapTopAndBottom";break;case"wrapNone":i="wrapNone";break;case"graphic":var d=this.parseGraphic(l);d&&n.children.push(d);break}return i=="wrapTopAndBottom"?(n.cssStyle.display="block",s.align&&(n.cssStyle["text-align"]=s.align,n.cssStyle.width="100%")):i=="wrapNone"?(n.cssStyle.display="block",n.cssStyle.position="relative",n.cssStyle.width="0px",n.cssStyle.height="0px",s.offset&&(n.cssStyle.left=s.offset),o.offset&&(n.cssStyle.top=o.offset)):r&&(s.align=="left"||s.align=="right")&&(n.cssStyle.float=s.align),n}parseGraphic(e){var n=J.element(e,"graphicData");for(let r of J.elements(n))switch(r.localName){case"pic":return this.parsePicture(r)}return null}parsePicture(e){var n={type:le.Image,src:"",cssStyle:{}},r=J.element(e,"blipFill"),i=J.element(r,"blip"),a=J.element(r,"srcRect");n.src=J.attr(i,"embed"),a&&(n.srcRect=[J.intAttr(a,"l",0)/1e5,J.intAttr(a,"t",0)/1e5,J.intAttr(a,"r",0)/1e5,J.intAttr(a,"b",0)/1e5]);var s=J.element(e,"spPr"),o=J.element(s,"xfrm");if(n.cssStyle.position="relative",o){n.rotation=J.intAttr(o,"rot",0)/6e4;for(var l of J.elements(o))switch(l.localName){case"ext":n.cssStyle.width=J.lengthAttr(l,"cx",ln.Emu),n.cssStyle.height=J.lengthAttr(l,"cy",ln.Emu);break;case"off":n.cssStyle.left=J.lengthAttr(l,"x",ln.Emu),n.cssStyle.top=J.lengthAttr(l,"y",ln.Emu);break}}return n}parseTable(e){var n={type:le.Table,children:[]};for(const r of J.elements(e))switch(r.localName){case"tr":n.children.push(this.parseTableRow(r));break;case"tblGrid":n.columns=this.parseTableColumns(r);break;case"tblPr":this.parseTableProperties(r,n);break}return n}parseTableColumns(e){var n=[];for(const r of J.elements(e))switch(r.localName){case"gridCol":n.push({width:J.lengthAttr(r,"w")});break}return n}parseTableProperties(e,n){switch(n.cssStyle={},n.cellStyle={},this.parseDefaultProperties(e,n.cssStyle,n.cellStyle,r=>{switch(r.localName){case"tblStyle":n.styleName=J.attr(r,"val");break;case"tblLook":n.className=wt.classNameOftblLook(r);break;case"tblpPr":this.parseTablePosition(r,n);break;case"tblStyleColBandSize":n.colBandSize=J.intAttr(r,"val");break;case"tblStyleRowBandSize":n.rowBandSize=J.intAttr(r,"val");break;case"hidden":n.cssStyle.display="none";break;default:return!1}return!0}),n.cssStyle["text-align"]){case"center":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto",n.cssStyle["margin-right"]="auto";break;case"right":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto";break}}parseTablePosition(e,n){var r=J.lengthAttr(e,"topFromText"),i=J.lengthAttr(e,"bottomFromText"),a=J.lengthAttr(e,"rightFromText"),s=J.lengthAttr(e,"leftFromText");n.cssStyle.float="left",n.cssStyle["margin-bottom"]=wt.addSize(n.cssStyle["margin-bottom"],i),n.cssStyle["margin-left"]=wt.addSize(n.cssStyle["margin-left"],s),n.cssStyle["margin-right"]=wt.addSize(n.cssStyle["margin-right"],a),n.cssStyle["margin-top"]=wt.addSize(n.cssStyle["margin-top"],r)}parseTableRow(e){var n={type:le.Row,children:[]};for(const r of J.elements(e))switch(r.localName){case"tc":n.children.push(this.parseTableCell(r));break;case"trPr":case"tblPrEx":this.parseTableRowProperties(r,n);break}return n}parseTableRowProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"cnfStyle":n.className=wt.classNameOfCnfStyle(r);break;case"tblHeader":n.isHeader=J.boolAttr(r,"val");break;case"gridBefore":n.gridBefore=J.intAttr(r,"val");break;case"gridAfter":n.gridAfter=J.intAttr(r,"val");break;default:return!1}return!0})}parseTableCell(e){var n={type:le.Cell,children:[]};for(const r of J.elements(e))switch(r.localName){case"tbl":n.children.push(this.parseTable(r));break;case"p":n.children.push(this.parseParagraph(r));break;case"tcPr":this.parseTableCellProperties(r,n);break}return n}parseTableCellProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"gridSpan":n.span=J.intAttr(r,"val",null);break;case"vMerge":n.verticalMerge=J.attr(r,"val")??"continue";break;case"cnfStyle":n.className=wt.classNameOfCnfStyle(r);break;default:return!1}return!0}),this.parseTableCellVerticalText(e,n)}parseTableCellVerticalText(e,n){const r={btLr:{writingMode:"vertical-rl",transform:"rotate(180deg)"},lrTb:{writingMode:"vertical-lr",transform:"none"},tbRl:{writingMode:"vertical-rl",transform:"none"}};for(const i of J.elements(e))if(i.localName==="textDirection"){const a=J.attr(i,"val"),s=r[a]||{writingMode:"horizontal-tb"};n.cssStyle["writing-mode"]=s.writingMode,n.cssStyle.transform=s.transform}}parseDefaultProperties(e,n=null,r=null,i=null){n=n||{};for(const a of J.elements(e))if(!(i!=null&&i(a)))switch(a.localName){case"jc":n["text-align"]=wt.valueOfJc(a);break;case"textAlignment":n["vertical-align"]=wt.valueOfTextAlignment(a);break;case"color":n.color=Xc.colorAttr(a,"val",null,Jv.color);break;case"sz":n["font-size"]=n["min-height"]=J.lengthAttr(a,"val",ln.FontSize);break;case"shd":n["background-color"]=Xc.colorAttr(a,"fill",null,Jv.shd);break;case"highlight":n["background-color"]=Xc.colorAttr(a,"val",null,Jv.highlight);break;case"vertAlign":break;case"position":n.verticalAlign=J.lengthAttr(a,"val",ln.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":n.width=wt.valueOfSize(a,"w");break;case"trHeight":this.parseTrHeight(a,n);break;case"strike":n["text-decoration"]=J.boolAttr(a,"val",!0)?"line-through":"none";break;case"b":n["font-weight"]=J.boolAttr(a,"val",!0)?"bold":"normal";break;case"i":n["font-style"]=J.boolAttr(a,"val",!0)?"italic":"normal";break;case"caps":n["text-transform"]=J.boolAttr(a,"val",!0)?"uppercase":"none";break;case"smallCaps":n["font-variant"]=J.boolAttr(a,"val",!0)?"small-caps":"none";break;case"u":this.parseUnderline(a,n);break;case"ind":case"tblInd":this.parseIndentation(a,n);break;case"rFonts":this.parseFont(a,n);break;case"tblBorders":this.parseBorderProperties(a,r||n);break;case"tblCellSpacing":n["border-spacing"]=wt.valueOfMargin(a),n["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(a,n);break;case"bdr":n.border=wt.valueOfBorder(a);break;case"tcBorders":this.parseBorderProperties(a,n);break;case"vanish":J.boolAttr(a,"val",!0)&&(n.display="none");break;case"kern":break;case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(a,r||n);break;case"tblLayout":n["table-layout"]=wt.valueOfTblLayout(a);break;case"vAlign":n["vertical-align"]=wt.valueOfTextAlignment(a);break;case"spacing":e.localName=="pPr"&&this.parseSpacing(a,n);break;case"wordWrap":J.boolAttr(a,"val")&&(n["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":n.hyphens=J.boolAttr(a,"val",!0)?"none":"auto";break;case"lang":n.$lang=J.attr(a,"val");break;case"rtl":case"bidi":J.boolAttr(a,"val",!0)&&(n.direction="rtl");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${e.localName}.${a.localName}`);break}return n}parseUnderline(e,n){var r=J.attr(e,"val");if(r!=null){switch(r){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":n["text-decoration"]="underline dashed";break;case"dotted":case"dottedHeavy":n["text-decoration"]="underline dotted";break;case"double":n["text-decoration"]="underline double";break;case"single":case"thick":n["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":n["text-decoration"]="underline wavy";break;case"words":n["text-decoration"]="underline";break;case"none":n["text-decoration"]="none";break}var i=Xc.colorAttr(e,"color");i&&(n["text-decoration-color"]=i)}}parseFont(e,n){var r=J.attr(e,"ascii"),i=wt.themeValue(e,"asciiTheme"),a=J.attr(e,"eastAsia"),s=[r,i,a].filter(o=>o).map(o=>Wk(o));s.length>0&&(n["font-family"]=[...new Set(s)].join(", "))}parseIndentation(e,n){var r=J.lengthAttr(e,"firstLine"),i=J.lengthAttr(e,"hanging"),a=J.lengthAttr(e,"left"),s=J.lengthAttr(e,"start"),o=J.lengthAttr(e,"right"),l=J.lengthAttr(e,"end");r&&(n["text-indent"]=r),i&&(n["text-indent"]=`-${i}`),(a||s)&&(n["margin-inline-start"]=a||s),(o||l)&&(n["margin-inline-end"]=o||l)}parseSpacing(e,n){var r=J.lengthAttr(e,"before"),i=J.lengthAttr(e,"after"),a=J.intAttr(e,"line",null),s=J.attr(e,"lineRule");if(r&&(n["margin-top"]=r),i&&(n["margin-bottom"]=i),a!==null)switch(s){case"auto":n["line-height"]=`${(a/240).toFixed(2)}`;break;case"atLeast":n["line-height"]=`calc(100% + ${a/20}pt)`;break;default:n["line-height"]=n["min-height"]=`${a/20}pt`;break}}parseMarginProperties(e,n){for(const r of J.elements(e))switch(r.localName){case"left":n["padding-left"]=wt.valueOfMargin(r);break;case"right":n["padding-right"]=wt.valueOfMargin(r);break;case"top":n["padding-top"]=wt.valueOfMargin(r);break;case"bottom":n["padding-bottom"]=wt.valueOfMargin(r);break}}parseTrHeight(e,n){switch(J.attr(e,"hRule")){case"exact":n.height=J.lengthAttr(e,"val");break;case"atLeast":default:n.height=J.lengthAttr(e,"val");break}}parseBorderProperties(e,n){for(const r of J.elements(e))switch(r.localName){case"start":case"left":n["border-left"]=wt.valueOfBorder(r);break;case"end":case"right":n["border-right"]=wt.valueOfBorder(r);break;case"top":n["border-top"]=wt.valueOfBorder(r);break;case"bottom":n["border-bottom"]=wt.valueOfBorder(r);break}}}const NY=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class Xc{static colorAttr(e,n,r=null,i="black"){var a=J.attr(e,n);if(a)return a=="auto"?i:NY.includes(a)?a:`#${a}`;var s=J.attr(e,"themeColor");return s?`var(--docx-${s}-color)`:r}}class wt{static themeValue(e,n){var r=J.attr(e,n);return r?`var(--docx-${r}-font)`:null}static valueOfSize(e,n){var r=ln.Dxa;switch(J.attr(e,"type")){case"dxa":break;case"pct":r=ln.Percent;break;case"auto":return"auto"}return J.lengthAttr(e,n,r)}static valueOfMargin(e){return J.lengthAttr(e,"w")}static valueOfBorder(e){var n=wt.parseBorderType(J.attr(e,"val"));if(n=="none")return"none";var r=Xc.colorAttr(e,"color"),i=J.lengthAttr(e,"sz",ln.Border);return`${i} ${n} ${r=="auto"?Jv.borderColor:r}`}static parseBorderType(e){switch(e){case"single":return"solid";case"dashDotStroked":return"solid";case"dashed":return"dashed";case"dashSmallGap":return"dashed";case"dotDash":return"dotted";case"dotDotDash":return"dotted";case"dotted":return"dotted";case"double":return"double";case"doubleWave":return"double";case"inset":return"inset";case"nil":return"none";case"none":return"none";case"outset":return"outset";case"thick":return"solid";case"thickThinLargeGap":return"solid";case"thickThinMediumGap":return"solid";case"thickThinSmallGap":return"solid";case"thinThickLargeGap":return"solid";case"thinThickMediumGap":return"solid";case"thinThickSmallGap":return"solid";case"thinThickThinLargeGap":return"solid";case"thinThickThinMediumGap":return"solid";case"thinThickThinSmallGap":return"solid";case"threeDEmboss":return"solid";case"threeDEngrave":return"solid";case"triple":return"double";case"wave":return"solid"}return"solid"}static valueOfTblLayout(e){var n=J.attr(e,"val");return n=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(e){const n=J.attr(e,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((i,a)=>n[a]=="1").join(" ")}static valueOfJc(e){var n=J.attr(e,"val");switch(n){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return n}static valueOfVertAlign(e,n=!1){var r=J.attr(e,"val");switch(r){case"subscript":return"sub";case"superscript":return n?"sup":"super"}return n?null:r}static valueOfTextAlignment(e){var n=J.attr(e,"val");switch(n){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return n}static addSize(e,n){return e==null?n:n==null?e:`calc(${e} + ${n})`}static classNameOftblLook(e){const n=J.hexAttr(e,"val",0);let r="";return(J.boolAttr(e,"firstRow")||n&32)&&(r+=" first-row"),(J.boolAttr(e,"lastRow")||n&64)&&(r+=" last-row"),(J.boolAttr(e,"firstColumn")||n&128)&&(r+=" first-col"),(J.boolAttr(e,"lastColumn")||n&256)&&(r+=" last-col"),(J.boolAttr(e,"noHBand")||n&512)&&(r+=" no-hband"),(J.boolAttr(e,"noVBand")||n&1024)&&(r+=" no-vband"),r.trim()}}const kM={pos:0,leader:"none",style:"left"},IY=50;function RY(t=document.body){const e=document.createElement("div");e.style.width="100pt",t.appendChild(e);const n=100/e.offsetWidth;return t.removeChild(e),n}function LY(t,e,n,r=72/96){const i=t.closest("p"),a=t.getBoundingClientRect(),s=i.getBoundingClientRect(),o=getComputedStyle(i),l=(e==null?void 0:e.length)>0?e.map(b=>({pos:_M(b.position),leader:b.leader,style:b.style})).sort((b,x)=>b.pos-x.pos):[kM],u=l[l.length-1],c=s.width*r,d=_M(n);let h=u.pos+d;if(h<c)for(;h<c&&l.length<IY;h+=d)l.push({...kM,pos:h});const f=parseFloat(o.marginLeft),m=s.left+f,p=(a.left-m)*r,v=l.find(b=>b.style!="clear"&&b.pos>p);if(v==null)return;let g=1;if(v.style=="right"||v.style=="center"){const b=Array.from(i.querySelectorAll(`.${t.className}`)),x=b.indexOf(t)+1,S=document.createRange();S.setStart(t,1),x<b.length?S.setEndBefore(b[x]):S.setEndAfter(i);const w=v.style=="center"?.5:1,k=S.getBoundingClientRect(),A=k.left+w*k.width-(s.left-f);g=v.pos-A*r}else g=v.pos-p;switch(t.innerHTML="&nbsp;",t.style.textDecoration="inherit",t.style.wordSpacing=`${g.toFixed(0)}pt`,v.leader){case"dot":case"middleDot":t.style.textDecoration="underline",t.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":t.style.textDecoration="underline";break}}function _M(t){return parseFloat(t)}const Ye={svg:"http://www.w3.org/2000/svg",mathML:"http://www.w3.org/1998/Math/MathML"};class jY{constructor(e){this.htmlDocument=e,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.commentMap={},this.tasks=[],this.postRenderTasks=[]}async render(e,n,r=null,i){var s;this.document=e,this.options=i,this.className=i.className,this.rootSelector=i.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,this.tasks=[],this.options.renderComments&&globalThis.Highlight&&(this.commentHighlight=new Highlight),r=r||n,AM(r),AM(n),r.appendChild(this.createComment("docxjs library predefined styles")),r.appendChild(this.renderDefaultStyle()),e.themePart&&(r.appendChild(this.createComment("docxjs document theme values")),this.renderTheme(e.themePart,r)),e.stylesPart!=null&&(this.styleMap=this.processStyles(e.stylesPart.styles),r.appendChild(this.createComment("docxjs document styles")),r.appendChild(this.renderStyles(e.stylesPart.styles))),e.numberingPart&&(this.prodessNumberings(e.numberingPart.domNumberings),r.appendChild(this.createComment("docxjs document numbering styles")),r.appendChild(this.renderNumbering(e.numberingPart.domNumberings,r))),e.footnotesPart&&(this.footnoteMap=wo(e.footnotesPart.notes,o=>o.id)),e.endnotesPart&&(this.endnoteMap=wo(e.endnotesPart.notes,o=>o.id)),e.settingsPart&&(this.defaultTabSize=(s=e.settingsPart.settings)==null?void 0:s.defaultTabStop),!i.ignoreFonts&&e.fontTablePart&&this.renderFontTable(e.fontTablePart,r);var a=this.renderSections(e.documentPart.body);this.options.inWrapper?n.appendChild(this.renderWrapper(a)):q1(n,a),this.commentHighlight&&i.renderComments&&CSS.highlights.set(`${this.className}-comments`,this.commentHighlight),this.postRenderTasks.forEach(o=>o()),await Promise.allSettled(this.tasks),this.refreshTabStops()}renderTheme(e,n){var o,l;const r={},i=(o=e.theme)==null?void 0:o.fontScheme;i&&(i.majorFont&&(r["--docx-majorHAnsi-font"]=i.majorFont.latinTypeface),i.minorFont&&(r["--docx-minorHAnsi-font"]=i.minorFont.latinTypeface));const a=(l=e.theme)==null?void 0:l.colorScheme;if(a)for(let[u,c]of Object.entries(a.colors))r[`--docx-${u}-color`]=`#${c}`;const s=this.styleToString(`.${this.className}`,r);n.appendChild(this.createStyleElement(s))}renderFontTable(e,n){for(let r of e.fonts)for(let i of r.embedFontRefs)this.tasks.push(this.document.loadFont(i.id,i.key).then(a=>{const s={"font-family":Wk(r.name),src:`url(${a})`};(i.type=="bold"||i.type=="boldItalic")&&(s["font-weight"]="bold"),(i.type=="italic"||i.type=="boldItalic")&&(s["font-style"]="italic");const o=this.styleToString("@font-face",s);n.appendChild(this.createComment(`docxjs ${r.name} font`)),n.appendChild(this.createStyleElement(o))}))}processStyleName(e){return e?`${this.className}_${xK(e)}`:this.className}processStyles(e){const n=wo(e.filter(i=>i.id!=null),i=>i.id);for(const i of e.filter(a=>a.basedOn)){var r=n[i.basedOn];if(r){i.paragraphProps=ob(i.paragraphProps,r.paragraphProps),i.runProps=ob(i.runProps,r.runProps);for(const a of r.styles){const s=i.styles.find(o=>o.target==a.target);s?this.copyStyleProperties(a.values,s.values):i.styles.push({...a,values:{...a.values}})}}else this.options.debug&&console.warn(`Can't find base style ${i.basedOn}`)}for(let i of e)i.cssName=this.processStyleName(i.id);return n}prodessNumberings(e){var n;for(let r of e.filter(i=>i.pStyleName)){const i=this.findStyle(r.pStyleName);(n=i==null?void 0:i.paragraphProps)!=null&&n.numbering&&(i.paragraphProps.numbering.level=r.level)}}processElement(e){if(e.children)for(var n of e.children)n.parent=e,n.type==le.Table?this.processTable(n):this.processElement(n)}processTable(e){for(var n of e.children)for(var r of n.children)r.cssStyle=this.copyStyleProperties(e.cellStyle,r.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(r)}copyStyleProperties(e,n,r=null){if(!e)return n;n==null&&(n={}),r==null&&(r=Object.getOwnPropertyNames(e));for(var i of r)e.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=e[i]);return n}createPageElement(e,n){var r=this.createElement("section",{className:e});return n&&(n.pageMargins&&(r.style.paddingLeft=n.pageMargins.left,r.style.paddingRight=n.pageMargins.right,r.style.paddingTop=n.pageMargins.top,r.style.paddingBottom=n.pageMargins.bottom),n.pageSize&&(this.options.ignoreWidth||(r.style.width=n.pageSize.width),this.options.ignoreHeight||(r.style.minHeight=n.pageSize.height))),r}createSectionContent(e){var n=this.createElement("article");return e.columns&&e.columns.numberOfColumns&&(n.style.columnCount=`${e.columns.numberOfColumns}`,n.style.columnGap=e.columns.space,e.columns.separator&&(n.style.columnRule="1px solid black")),n}renderSections(e){const n=[];this.processElement(e);const r=this.splitBySection(e.children,e.props),i=this.groupByPageBreaks(r);let a=null;for(let o=0,l=i.length;o<l;o++){this.currentFootnoteIds=[];let c=i[o][0].sectProps;const d=this.createPageElement(this.className,c);this.renderStyleValues(e.cssStyle,d),this.options.renderHeaders&&this.renderHeaderFooter(c.headerRefs,c,n.length,a!=c,d);for(const h of i[o]){var s=this.createSectionContent(h.sectProps);this.renderElements(h.elements,s),d.appendChild(s),c=h.sectProps}this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,d),this.options.renderEndnotes&&o==l-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,d),this.options.renderFooters&&this.renderHeaderFooter(c.footerRefs,c,n.length,a!=c,d),n.push(d),a=c}return n}renderHeaderFooter(e,n,r,i,a){if(e){var s=(n.titlePage&&i?e.find(l=>l.type=="first"):null)??(r%2==1?e.find(l=>l.type=="even"):null)??e.find(l=>l.type=="default"),o=s&&this.document.findPartByRelId(s.id,this.document.documentPart);if(o){this.currentPart=o,this.usedHederFooterParts.includes(o.path)||(this.processElement(o.rootElement),this.usedHederFooterParts.push(o.path));const[l]=this.renderElements([o.rootElement],a);n!=null&&n.pageMargins&&(o.rootElement.type===le.Header?(l.style.marginTop=`calc(${n.pageMargins.header} - ${n.pageMargins.top})`,l.style.minHeight=`calc(${n.pageMargins.top} - ${n.pageMargins.header})`):o.rootElement.type===le.Footer&&(l.style.marginBottom=`calc(${n.pageMargins.footer} - ${n.pageMargins.bottom})`,l.style.minHeight=`calc(${n.pageMargins.bottom} - ${n.pageMargins.footer})`)),this.currentPart=null}}}isPageBreakElement(e){return e.type!=le.Break?!1:e.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:e.break=="page"}isPageBreakSection(e,n){var r,i,a,s,o,l;return!e||!n?!1:((r=e.pageSize)==null?void 0:r.orientation)!=((i=n.pageSize)==null?void 0:i.orientation)||((a=e.pageSize)==null?void 0:a.width)!=((s=n.pageSize)==null?void 0:s.width)||((o=e.pageSize)==null?void 0:o.height)!=((l=n.pageSize)==null?void 0:l.height)}splitBySection(e,n){var d;var r={sectProps:null,elements:[],pageBreak:!1},i=[r];for(let h of e){if(h.type==le.Paragraph){const f=this.findStyle(h.styleName);(d=f==null?void 0:f.paragraphProps)!=null&&d.pageBreakBefore&&(r.sectProps=a,r.pageBreak=!0,r={sectProps:null,elements:[],pageBreak:!1},i.push(r))}if(r.elements.push(h),h.type==le.Paragraph){const f=h;var a=f.sectionProps,s=-1,o=-1;if(this.options.breakPages&&f.children&&(s=f.children.findIndex(m=>{var p;return o=((p=m.children)==null?void 0:p.findIndex(this.isPageBreakElement.bind(this)))??-1,o!=-1})),(a||s!=-1)&&(r.sectProps=a,r.pageBreak=s!=-1,r={sectProps:null,elements:[],pageBreak:!1},i.push(r)),s!=-1){let m=f.children[s],p=o<m.children.length-1;if(s<f.children.length-1||p){var l=h.children,u={...h,children:l.slice(s)};if(h.children=l.slice(0,s),r.elements.push(u),p){let v=m.children,g={...m,children:v.slice(0,o)};h.children.push(g),m.children=v.slice(o)}}}}}let c=null;for(let h=i.length-1;h>=0;h--)i[h].sectProps==null?i[h].sectProps=c??n:c=i[h].sectProps;return i}groupByPageBreaks(e){let n=[],r;const i=[n];for(let a of e)n.push(a),(this.options.ignoreLastRenderedPageBreak||a.pageBreak||this.isPageBreakSection(r,a.sectProps))&&i.push(n=[]),r=a.sectProps;return i.filter(a=>a.length>0)}renderWrapper(e){return this.createElement("div",{className:`${this.className}-wrapper`},e)}renderDefaultStyle(){var e=this.className,n=`
.${e}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${e}-wrapper>section.${e} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;this.options.hideWrapperOnPrint&&(n=`@media not print { ${n} }`);var r=`${n}
.${e} { color: black; hyphens: auto; text-underline-position: from-font; }
section.${e} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${e}>article { margin-bottom: auto; z-index: 1; }
section.${e}>footer { z-index: 1; }
.${e} table { border-collapse: collapse; }
.${e} table td, .${e} table th { vertical-align: top; }
.${e} p { margin: 0pt; min-height: 1em; }
.${e} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${e} a { color: inherit; text-decoration: inherit; }
.${e} svg { fill: transparent; }
`;return this.options.renderComments&&(r+=`
.${e}-comment-ref { cursor: default; }
.${e}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }
.${e}-comment-ref:hover~.${e}-comment-popover { display: block; }
.${e}-comment-author,.${e}-comment-date { font-size: 0.875rem; color: #888; }
`),this.createStyleElement(r)}renderNumbering(e,n){var r="",i=[];for(var a of e){var s=`p.${this.numberingClass(a.id,a.level)}`,o="none";if(a.bullet){let l=`--${this.className}-${a.bullet.src}`.toLowerCase();r+=this.styleToString(`${s}:before`,{content:"' '",display:"inline-block",background:`var(${l})`},a.bullet.style),this.tasks.push(this.document.loadNumberingImage(a.bullet.src).then(u=>{var c=`${this.rootSelector} { ${l}: url(${u}) }`;n.appendChild(this.createStyleElement(c))}))}else if(a.levelText){let l=this.numberingCounter(a.id,a.level);const u=l+" "+(a.start-1);a.level>0&&(r+=this.styleToString(`p.${this.numberingClass(a.id,a.level-1)}`,{"counter-set":u})),i.push(u),r+=this.styleToString(`${s}:before`,{content:this.levelTextToContent(a.levelText,a.suff,a.id,this.numFormatToCssValue(a.format)),"counter-increment":l,...a.rStyle})}else o=this.numFormatToCssValue(a.format);r+=this.styleToString(s,{display:"list-item","list-style-position":"inside","list-style-type":o,...a.pStyle})}return i.length>0&&(r+=this.styleToString(this.rootSelector,{"counter-reset":i.join(" ")})),this.createStyleElement(r)}renderStyles(e){var n="";const r=this.styleMap,i=wo(e.filter(l=>l.isDefault),l=>l.target);for(const l of e){var a=l.styles;if(l.linked){var s=l.linked&&r[l.linked];s?a=a.concat(s.styles):this.options.debug&&console.warn(`Can't find linked style ${l.linked}`)}for(const u of a){var o=`${l.target??""}.${l.cssName}`;l.target!=u.target&&(o+=` ${u.target}`),i[l.target]==l&&(o=`.${this.className} ${l.target}, `+o),n+=this.styleToString(o,u.values)}}return this.createStyleElement(n)}renderNotes(e,n,r){var i=e.map(s=>n[s]).filter(s=>s);if(i.length>0){var a=this.createElement("ol",null,this.renderElements(i));r.appendChild(a)}}renderElement(e){switch(e.type){case le.Paragraph:return this.renderParagraph(e);case le.BookmarkStart:return this.renderBookmarkStart(e);case le.BookmarkEnd:return null;case le.Run:return this.renderRun(e);case le.Table:return this.renderTable(e);case le.Row:return this.renderTableRow(e);case le.Cell:return this.renderTableCell(e);case le.Hyperlink:return this.renderHyperlink(e);case le.SmartTag:return this.renderSmartTag(e);case le.Drawing:return this.renderDrawing(e);case le.Image:return this.renderImage(e);case le.Text:return this.renderText(e);case le.Text:return this.renderText(e);case le.DeletedText:return this.renderDeletedText(e);case le.Tab:return this.renderTab(e);case le.Symbol:return this.renderSymbol(e);case le.Break:return this.renderBreak(e);case le.Footer:return this.renderContainer(e,"footer");case le.Header:return this.renderContainer(e,"header");case le.Footnote:case le.Endnote:return this.renderContainer(e,"li");case le.FootnoteReference:return this.renderFootnoteReference(e);case le.EndnoteReference:return this.renderEndnoteReference(e);case le.NoBreakHyphen:return this.createElement("wbr");case le.VmlPicture:return this.renderVmlPicture(e);case le.VmlElement:return this.renderVmlElement(e);case le.MmlMath:return this.renderContainerNS(e,Ye.mathML,"math",{xmlns:Ye.mathML});case le.MmlMathParagraph:return this.renderContainer(e,"span");case le.MmlFraction:return this.renderContainerNS(e,Ye.mathML,"mfrac");case le.MmlBase:return this.renderContainerNS(e,Ye.mathML,e.parent.type==le.MmlMatrixRow?"mtd":"mrow");case le.MmlNumerator:case le.MmlDenominator:case le.MmlFunction:case le.MmlLimit:case le.MmlBox:return this.renderContainerNS(e,Ye.mathML,"mrow");case le.MmlGroupChar:return this.renderMmlGroupChar(e);case le.MmlLimitLower:return this.renderContainerNS(e,Ye.mathML,"munder");case le.MmlMatrix:return this.renderContainerNS(e,Ye.mathML,"mtable");case le.MmlMatrixRow:return this.renderContainerNS(e,Ye.mathML,"mtr");case le.MmlRadical:return this.renderMmlRadical(e);case le.MmlSuperscript:return this.renderContainerNS(e,Ye.mathML,"msup");case le.MmlSubscript:return this.renderContainerNS(e,Ye.mathML,"msub");case le.MmlDegree:case le.MmlSuperArgument:case le.MmlSubArgument:return this.renderContainerNS(e,Ye.mathML,"mn");case le.MmlFunctionName:return this.renderContainerNS(e,Ye.mathML,"ms");case le.MmlDelimiter:return this.renderMmlDelimiter(e);case le.MmlRun:return this.renderMmlRun(e);case le.MmlNary:return this.renderMmlNary(e);case le.MmlPreSubSuper:return this.renderMmlPreSubSuper(e);case le.MmlBar:return this.renderMmlBar(e);case le.MmlEquationArray:return this.renderMllList(e);case le.Inserted:return this.renderInserted(e);case le.Deleted:return this.renderDeleted(e);case le.CommentRangeStart:return this.renderCommentRangeStart(e);case le.CommentRangeEnd:return this.renderCommentRangeEnd(e);case le.CommentReference:return this.renderCommentReference(e);case le.AltChunk:return this.renderAltChunk(e)}return null}renderElements(e,n){if(e==null)return null;var r=e.flatMap(i=>this.renderElement(i)).filter(i=>i!=null);return n&&q1(n,r),r}renderContainer(e,n,r){return this.createElement(n,r,this.renderElements(e.children))}renderContainerNS(e,n,r,i){return this.createElementNS(n,r,i,this.renderElements(e.children))}renderParagraph(e){var a,s;var n=this.renderContainer(e,"p");const r=this.findStyle(e.styleName);e.tabs??(e.tabs=(a=r==null?void 0:r.paragraphProps)==null?void 0:a.tabs),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),this.renderCommonProperties(n.style,e);const i=e.numbering??((s=r==null?void 0:r.paragraphProps)==null?void 0:s.numbering);return i&&n.classList.add(this.numberingClass(i.id,i.level)),n}renderRunProperties(e,n){this.renderCommonProperties(e,n)}renderCommonProperties(e,n){n!=null&&(n.color&&(e.color=n.color),n.fontSize&&(e["font-size"]=n.fontSize))}renderHyperlink(e){var n=this.renderContainer(e,"a");this.renderStyleValues(e.cssStyle,n);let r="";if(e.id){const i=this.document.documentPart.rels.find(a=>a.id==e.id&&a.targetMode==="External");r=(i==null?void 0:i.target)??r}return e.anchor&&(r+=`#${e.anchor}`),n.href=r,n}renderSmartTag(e){return this.renderContainer(e,"span")}renderCommentRangeStart(e){var i;if(!this.options.renderComments)return null;const n=new Range;(i=this.commentHighlight)==null||i.add(n);const r=this.createComment(`start of comment #${e.id}`);return this.later(()=>n.setStart(r,0)),this.commentMap[e.id]=n,r}renderCommentRangeEnd(e){if(!this.options.renderComments)return null;const n=this.commentMap[e.id],r=this.createComment(`end of comment #${e.id}`);return this.later(()=>n==null?void 0:n.setEnd(r,0)),r}renderCommentReference(e){var s;if(!this.options.renderComments)return null;var n=(s=this.document.commentsPart)==null?void 0:s.commentMap[e.id];if(!n)return null;const r=new DocumentFragment,i=this.createElement("span",{className:`${this.className}-comment-ref`},[""]),a=this.createElement("div",{className:`${this.className}-comment-popover`});return this.renderCommentContent(n,a),r.appendChild(this.createComment(`comment #${n.id} by ${n.author} on ${n.date}`)),r.appendChild(i),r.appendChild(a),r}renderAltChunk(e){if(!this.options.renderAltChunks)return null;var n=this.createElement("iframe");return this.tasks.push(this.document.loadAltChunk(e.id,this.currentPart).then(r=>{n.srcdoc=r})),n}renderCommentContent(e,n){n.appendChild(this.createElement("div",{className:`${this.className}-comment-author`},[e.author])),n.appendChild(this.createElement("div",{className:`${this.className}-comment-date`},[new Date(e.date).toLocaleString()])),this.renderElements(e.children,n)}renderDrawing(e){var n=this.renderContainer(e,"div");return n.style.display="inline-block",n.style.position="relative",n.style.textIndent="0px",this.renderStyleValues(e.cssStyle,n),n}renderImage(e){var l;let n=this.createElement("img"),r=(l=e.cssStyle)==null?void 0:l.transform;if(this.renderStyleValues(e.cssStyle,n),e.srcRect&&e.srcRect.some(u=>u!=0)){var[i,a,s,o]=e.srcRect;r=`scale(${1/(1-i-s)}, ${1/(1-a-o)})`,n.style["clip-path"]=`rect(${(100*a).toFixed(2)}% ${(100*(1-s)).toFixed(2)}% ${(100*(1-o)).toFixed(2)}% ${(100*i).toFixed(2)}%)`}return e.rotation&&(r=`rotate(${e.rotation}deg) ${r??""}`),n.style.transform=r==null?void 0:r.trim(),this.document&&this.tasks.push(this.document.loadDocumentImage(e.src,this.currentPart).then(u=>{n.src=u})),n}renderText(e){return this.htmlDocument.createTextNode(e.text)}renderDeletedText(e){return this.options.renderChanges?this.renderText(e):null}renderBreak(e){return e.break=="textWrapping"?this.createElement("br"):null}renderInserted(e){return this.options.renderChanges?this.renderContainer(e,"ins"):this.renderElements(e.children)}renderDeleted(e){return this.options.renderChanges?this.renderContainer(e,"del"):null}renderSymbol(e){var n=this.createElement("span");return n.style.fontFamily=e.font,n.innerHTML=`&#x${e.char};`,n}renderFootnoteReference(e){var n=this.createElement("sup");return this.currentFootnoteIds.push(e.id),n.textContent=`${this.currentFootnoteIds.length}`,n}renderEndnoteReference(e){var n=this.createElement("sup");return this.currentEndnoteIds.push(e.id),n.textContent=`${this.currentEndnoteIds.length}`,n}renderTab(e){var i;var n=this.createElement("span");if(n.innerHTML="&emsp;",this.options.experimental){n.className=this.tabStopClass();var r=(i=DY(e,le.Paragraph))==null?void 0:i.tabs;this.currentTabs.push({stops:r,span:n})}return n}renderBookmarkStart(e){return this.createElement("span",{id:e.name})}renderRun(e){if(e.fieldRun)return null;const n=this.createElement("span");if(e.id&&(n.id=e.id),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.verticalAlign){const r=this.createElement(e.verticalAlign);this.renderElements(e.children,r),n.appendChild(r)}else this.renderElements(e.children,n);return n}renderTable(e){let n=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},e.columns&&n.appendChild(this.renderTableColumns(e.columns)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),n}renderTableColumns(e){let n=this.createElement("colgroup");for(let r of e){let i=this.createElement("col");r.width&&(i.style.width=r.width),n.appendChild(i)}return n}renderTableRow(e){let n=this.createElement("tr");return this.currentCellPosition.col=0,e.gridBefore&&n.appendChild(this.renderTableCellPlaceholder(e.gridBefore)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),e.gridAfter&&n.appendChild(this.renderTableCellPlaceholder(e.gridAfter)),this.currentCellPosition.row++,n}renderTableCellPlaceholder(e){const n=this.createElement("td",{colSpan:e});return n.style.border="none",n}renderTableCell(e){let n=this.renderContainer(e,"td");const r=this.currentCellPosition.col;return e.verticalMerge?e.verticalMerge=="restart"?(this.currentVerticalMerge[r]=n,n.rowSpan=1):this.currentVerticalMerge[r]&&(this.currentVerticalMerge[r].rowSpan+=1,n.style.display="none"):this.currentVerticalMerge[r]=null,this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.span&&(n.colSpan=e.span),this.currentCellPosition.col+=n.colSpan,n}renderVmlPicture(e){return this.renderContainer(e,"div")}renderVmlElement(e){var i,a;var n=this.createSvgElement("svg");n.setAttribute("style",e.cssStyleText);const r=this.renderVmlChildElement(e);return(i=e.imageHref)!=null&&i.id&&this.tasks.push((a=this.document)==null?void 0:a.loadDocumentImage(e.imageHref.id,this.currentPart).then(s=>r.setAttribute("href",s))),n.appendChild(r),requestAnimationFrame(()=>{const s=n.firstElementChild.getBBox();n.setAttribute("width",`${Math.ceil(s.x+s.width)}`),n.setAttribute("height",`${Math.ceil(s.y+s.height)}`)}),n}renderVmlChildElement(e){const n=this.createSvgElement(e.tagName);Object.entries(e.attrs).forEach(([r,i])=>n.setAttribute(r,i));for(let r of e.children)r.type==le.VmlElement?n.appendChild(this.renderVmlChildElement(r)):n.appendChild(...Gf(this.renderElement(r)));return n}renderMmlRadical(e){var i;const n=e.children.find(a=>a.type==le.MmlBase);if((i=e.props)!=null&&i.hideDegree)return this.createElementNS(Ye.mathML,"msqrt",null,this.renderElements([n]));const r=e.children.find(a=>a.type==le.MmlDegree);return this.createElementNS(Ye.mathML,"mroot",null,this.renderElements([n,r]))}renderMmlDelimiter(e){const n=[];return n.push(this.createElementNS(Ye.mathML,"mo",null,[e.props.beginChar??"("])),n.push(...this.renderElements(e.children)),n.push(this.createElementNS(Ye.mathML,"mo",null,[e.props.endChar??")"])),this.createElementNS(Ye.mathML,"mrow",null,n)}renderMmlNary(e){var u;const n=[],r=wo(e.children,c=>c.type),i=r[le.MmlSuperArgument],a=r[le.MmlSubArgument],s=i?this.createElementNS(Ye.mathML,"mo",null,Gf(this.renderElement(i))):null,o=a?this.createElementNS(Ye.mathML,"mo",null,Gf(this.renderElement(a))):null,l=this.createElementNS(Ye.mathML,"mo",null,[((u=e.props)==null?void 0:u.char)??""]);return s||o?n.push(this.createElementNS(Ye.mathML,"munderover",null,[l,o,s])):s?n.push(this.createElementNS(Ye.mathML,"mover",null,[l,s])):o?n.push(this.createElementNS(Ye.mathML,"munder",null,[l,o])):n.push(l),n.push(...this.renderElements(r[le.MmlBase].children)),this.createElementNS(Ye.mathML,"mrow",null,n)}renderMmlPreSubSuper(e){const n=[],r=wo(e.children,u=>u.type),i=r[le.MmlSuperArgument],a=r[le.MmlSubArgument],s=i?this.createElementNS(Ye.mathML,"mo",null,Gf(this.renderElement(i))):null,o=a?this.createElementNS(Ye.mathML,"mo",null,Gf(this.renderElement(a))):null,l=this.createElementNS(Ye.mathML,"mo",null);return n.push(this.createElementNS(Ye.mathML,"msubsup",null,[l,o,s])),n.push(...this.renderElements(r[le.MmlBase].children)),this.createElementNS(Ye.mathML,"mrow",null,n)}renderMmlGroupChar(e){const n=e.props.verticalJustification==="bot"?"mover":"munder",r=this.renderContainerNS(e,Ye.mathML,n);return e.props.char&&r.appendChild(this.createElementNS(Ye.mathML,"mo",null,[e.props.char])),r}renderMmlBar(e){const n=this.renderContainerNS(e,Ye.mathML,"mrow");switch(e.props.position){case"top":n.style.textDecoration="overline";break;case"bottom":n.style.textDecoration="underline";break}return n}renderMmlRun(e){const n=this.createElementNS(Ye.mathML,"ms",null,this.renderElements(e.children));return this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),n}renderMllList(e){const n=this.createElementNS(Ye.mathML,"mtable");this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n);for(let r of this.renderElements(e.children))n.appendChild(this.createElementNS(Ye.mathML,"mtr",null,[this.createElementNS(Ye.mathML,"mtd",null,[r])]));return n}renderStyleValues(e,n){for(let r in e)r.startsWith("$")?n.setAttribute(r.slice(1),e[r]):n.style[r]=e[r]}renderClass(e,n){e.className&&(n.className=e.className),e.styleName&&n.classList.add(this.processStyleName(e.styleName))}findStyle(e){var n;return e&&((n=this.styleMap)==null?void 0:n[e])}numberingClass(e,n){return`${this.className}-num-${e}-${n}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(e,n,r=null){let i=`${e} {\r
`;for(const a in n)a.startsWith("$")||(i+=`  ${a}: ${n[a]};\r
`);return r&&(i+=r),i+`}\r
`}numberingCounter(e,n){return`${this.className}-num-${e}-${n}`}levelTextToContent(e,n,r,i){const a={tab:"\\9",space:"\\a0"};var s=e.replace(/%\d*/g,o=>{let l=parseInt(o.substring(1),10)-1;return`"counter(${this.numberingCounter(r,l)}, ${i})"`});return`"${s}${a[n]??""}"`}numFormatToCssValue(e){var n={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"};return n[e]??e}refreshTabStops(){this.options.experimental&&setTimeout(()=>{const e=RY();for(let n of this.currentTabs)LY(n.span,n.stops,this.defaultTabSize,e)},500)}createElementNS(e,n,r,i){var a=e?this.htmlDocument.createElementNS(e,n):this.htmlDocument.createElement(n);return Object.assign(a,r),i&&q1(a,i),a}createElement(e,n,r){return this.createElementNS(void 0,e,n,r)}createSvgElement(e,n,r){return this.createElementNS(Ye.svg,e,n,r)}createStyleElement(e){return this.createElement("style",{innerHTML:e})}createComment(e){return this.htmlDocument.createComment(e)}later(e){this.postRenderTasks.push(e)}}function AM(t){t.innerHTML=""}function q1(t,e){e.forEach(n=>t.appendChild(SK(n)?document.createTextNode(n):n))}function DY(t,e){for(var n=t.parent;n!=null&&n.type!=e;)n=n.parent;return n}const r3={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,hideWrapperOnPrint:!1,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,renderChanges:!1,renderComments:!1,renderAltChunks:!0};function $Y(t,e){const n={...r3,...e};return fP.load(t,new MY(n),n)}async function FY(t,e,n,r){const i={...r3,...r};return await new jY(window.document).render(t,e,n,i)}async function zY(t,e,n,r){const i=await $Y(t,r);return await FY(i,e,n,r),i}function BY(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}const Bc=[.8,1,1.25];function UY({contentBase64:t,fileId:e,size:n}){const r=N.useRef(null),i=N.useRef(null),a=N.useRef(null),[s,o]=N.useState(!0),[l,u]=N.useState(null),[c,d]=N.useState(1),[h,f]=N.useState(!1),[m,p]=N.useState(0),[v,g]=N.useState(0),b=h&&v>0&&m>0?v/m:c,x=N.useCallback(async()=>{var k;if(!(!r.current||!i.current||!t)){o(!0),u(null),r.current.innerHTML="",i.current.innerHTML="";try{const A=BY(t);if(await zY(A,r.current,i.current,{className:"docx",breakPages:!0,inWrapper:!0,ignoreLastRenderedPageBreak:!1}),o(!1),(k=r.current)!=null&&k.firstElementChild){const E=r.current.firstElementChild.offsetWidth;p(E)}}catch(A){o(!1),u(A instanceof Error?A.message:"Failed to render document")}}},[t]);N.useEffect(()=>{x()},[x]),N.useEffect(()=>{if(!a.current)return;const k=new ResizeObserver(A=>{const E=A[0];E&&g(E.contentRect.width)});return k.observe(a.current),()=>k.disconnect()},[]);const S=()=>{const k=Bc.indexOf(c);k<Bc.length-1&&d(Bc[k+1]),f(!1)},w=()=>{const k=Bc.indexOf(c);k>0&&d(Bc[k-1]),f(!1)};return l?_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[_.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to render document."}),_.jsx("p",{className:"text-sm text-slate-500",children:l}),_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:x,children:"Try again"})]}):_.jsxs("div",{className:"flex h-full flex-col",ref:a,children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:w,"aria-label":"Zoom out",children:""}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:S,"aria-label":"Zoom in",children:"+"}),Bc.map(k=>_.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${c===k?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{d(k),f(!1)},children:[Math.round(k*100),"%"]},k)),_.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${h?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>f(k=>!k),children:"Fit to width"}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:()=>window.print(),children:"Print"}),_.jsx("span",{className:"ml-2 text-xs text-slate-500",children:"Best-effort DOCX rendering in browser."})]}),_.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-6 dark:bg-slate-600",style:{minHeight:400},children:[s&&_.jsx("div",{className:"flex items-center justify-center py-16",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Rendering document"})}),_.jsxs("div",{className:"mx-auto origin-top-left bg-white shadow-lg dark:bg-slate-900",style:{transform:`scale(${b})`,transformOrigin:"top left",minHeight:s?0:800},children:[_.jsx("div",{ref:i,className:"docx-styles"}),_.jsx("div",{ref:r,className:"docx-body"})]})]})]})}const HY="modulepreload",WY=function(t){return"/"+t},EM={},pv=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=WY(l),l in EM)return;EM[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":HY,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var Wp={};Wp.d=(t,e)=>{for(var n in e)Wp.o(e,n)&&!Wp.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Wp.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Be=globalThis.pdfjsLib={};Wp.d(Be,{AbortException:()=>Tc,AnnotationEditorLayer:()=>nA,AnnotationEditorParamsType:()=>ze,AnnotationEditorType:()=>Ve,AnnotationEditorUIManager:()=>pc,AnnotationLayer:()=>UQ,AnnotationMode:()=>Ao,ColorPicker:()=>db,DOMSVGFactory:()=>AP,DrawLayer:()=>sA,FeatureTest:()=>xr,GlobalWorkerOptions:()=>Fs,ImageKind:()=>e0,InvalidPDFException:()=>a3,MissingPDFException:()=>Pc,OPS:()=>Yi,OutputScale:()=>Kk,PDFDataRangeTransport:()=>tz,PDFDateString:()=>vP,PDFWorker:()=>Td,PasswordResponses:()=>XY,PermissionFlag:()=>qY,PixelsPerInch:()=>bl,RenderingCancelledException:()=>gP,TextLayer:()=>k_,UnexpectedResponseException:()=>ow,Util:()=>Ne,VerbosityLevel:()=>iw,XfaLayer:()=>rz,build:()=>SQ,createValidAbsoluteUrl:()=>QY,fetchData:()=>uw,getDocument:()=>fQ,getFilenameFromUrl:()=>oZ,getPdfFilenameFromUrl:()=>lZ,getXfaPageViewport:()=>uZ,isDataScheme:()=>cw,isPdfFile:()=>yP,noContextMenu:()=>Ui,normalizeUnicode:()=>iZ,setLayerDimensions:()=>fc,shadow:()=>tt,version:()=>wQ});const sr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),i3=[1,0,0,1,0,0],Vk=[.001,0,0,.001,0,0],VY=1e7,X1=1.35,ri={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ao={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},GY="pdfjs_internal_editor_",Ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ze={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},qY={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Xf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},iw={ERRORS:0,WARNINGS:1,INFOS:5},Yi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},XY={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let aw=iw.WARNINGS;function KY(t){Number.isInteger(t)&&(aw=t)}function YY(){return aw}function sw(t){aw>=iw.INFOS&&console.log(`Info: ${t}`)}function Xe(t){aw>=iw.WARNINGS&&console.log(`Warning: ${t}`)}function Lt(t){throw new Error(t)}function bn(t,e){t||Lt(e)}function ZY(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function QY(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=rZ(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(ZY(r))return r}catch{}return null}function tt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Pl=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class Gk extends Pl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class qk extends Pl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class a3 extends Pl{constructor(e){super(e,"InvalidPDFException")}}class Pc extends Pl{constructor(e){super(e,"MissingPDFException")}}class ow extends Pl{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class JY extends Pl{constructor(e){super(e,"FormatError")}}class Tc extends Pl{constructor(e){super(e,"AbortException")}}function s3(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Lt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function lw(t){typeof t!="string"&&Lt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function eZ(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function pP(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function tZ(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function nZ(){try{return new Function(""),!0}catch{return!1}}class xr{static get isLittleEndian(){return tt(this,"isLittleEndian",tZ())}static get isEvalSupported(){return tt(this,"isEvalSupported",nZ())}static get isOffscreenCanvasSupported(){return tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?tt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):tt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return tt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const K1=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Zs,t0,Xk;class Ne{static makeHexColor(e,n,r){return`#${K1[e]}${K1[n]}${K1[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,a=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,a]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),a=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],a=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],o=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-a*i))/2,u=o+l||1,c=o-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static bezierBoundingBox(e,n,r,i,a,s,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,o),Math.min(n,l),Math.max(e,o),Math.max(n,l)],F(this,Zs,Xk).call(this,e,r,a,o,n,i,s,l,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),u),F(this,Zs,Xk).call(this,e,r,a,o,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}Zs=new WeakSet,t0=function(e,n,r,i,a,s,o,l,u,c){if(u<=0||u>=1)return;const d=1-u,h=u*u,f=h*u,m=d*(d*(d*e+3*u*n)+3*h*r)+f*i,p=d*(d*(d*a+3*u*s)+3*h*o)+f*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],p)},Xk=function(e,n,r,i,a,s,o,l,u,c,d,h){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&F(this,Zs,t0).call(this,e,n,r,i,a,s,o,l,-d/c,h);return}const f=c**2-4*d*u;if(f<0)return;const m=Math.sqrt(f),p=2*u;F(this,Zs,t0).call(this,e,n,r,i,a,s,o,l,(-c+m)/p,h),F(this,Zs,t0).call(this,e,n,r,i,a,s,o,l,(-c-m)/p,h)},B(Ne,Zs);function rZ(t){return decodeURIComponent(escape(t))}let Y1=null,CM=null;function iZ(t){return Y1||(Y1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,CM=new Map([["","t"]])),t.replaceAll(Y1,(e,n,r)=>n?n.normalize("NFKC"):CM.get(r))}function aZ(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return s3(t)}const mP="pdfjs_internal_id_",os={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function sZ(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(s3(t))}const cs="http://www.w3.org/2000/svg",Kl=class Kl{};$e(Kl,"CSS",96),$e(Kl,"PDF",72),$e(Kl,"PDF_TO_CSS_UNITS",Kl.CSS/Kl.PDF);let bl=Kl;async function uw(t,e="text"){if(fp(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Cy{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,h=1;break;case 90:u=0,c=1,d=1,h=0;break;case 270:u=0,c=-1,d=-1,h=0;break;case 0:u=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h);let f,m,p,v;u===0?(f=Math.abs(l-e[1])*n+i,m=Math.abs(o-e[0])*n+a,p=(e[3]-e[1])*n,v=(e[2]-e[0])*n):(f=Math.abs(o-e[0])*n+i,m=Math.abs(l-e[1])*n+a,p=(e[2]-e[0])*n,v=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,h*n,f-u*n*o-d*n*l,m-c*n*o-h*n*l],this.width=p,this.height=v}get rawDims(){const{viewBox:e}=this;return tt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Cy({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){return Ne.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Ne.applyTransform([e[0],e[1]],this.transform),r=Ne.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Ne.applyInverseTransform([e,n],this.transform)}}class gP extends Pl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function cw(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function yP(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function oZ(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function lZ(t,e="document.pdf"){if(typeof t!="string")return e;if(cw(t))return Xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class PM{constructor(){$e(this,"started",Object.create(null));$e(this,"times",[])}time(e){e in this.started&&Xe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function fp(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Ui(t){t.preventDefault()}function TM(t){console.log("Deprecated API usage: "+t)}var rg;class vP{static toDateObject(e){if(!e||typeof e!="string")return null;y(this,rg)||D(this,rg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=y(this,rg).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,o+=d):u==="+"&&(s-=c,o-=d),new Date(Date.UTC(r,i,a,s,o,l))}}rg=new WeakMap,B(vP,rg);function uZ(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new Cy({viewBox:a,scale:e,rotation:n})}function bP(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xe(`Not a valid color format: "${t}"`),[0,0,0])}function cZ(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,bP(r))}e.remove()}function Ht(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function ls(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function fc(t,e,n=!1,r=!0){if(e instanceof Cy){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=xr.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${a}px`,c=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Kk{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Po,iu,Zi,au,ig,ag,mx,o3,wr,l3,u3,n0,c3,Zk;const hs=class hs{constructor(e){B(this,wr);B(this,Po,null);B(this,iu,null);B(this,Zi);B(this,au,null);B(this,ig,null);D(this,Zi,e),y(hs,ag)||D(hs,ag,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=D(this,Po,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=y(this,Zi)._uiManager._signal;e.addEventListener("contextmenu",Ui,{signal:n}),e.addEventListener("pointerdown",F(hs,mx,o3),{signal:n});const r=D(this,au,document.createElement("div"));r.className="buttons",e.append(r);const i=y(this,Zi).toolbarPosition;if(i){const{style:a}=e,s=y(this,Zi)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return F(this,wr,c3).call(this),e}get div(){return y(this,Po)}hide(){var e;y(this,Po).classList.add("hidden"),(e=y(this,iu))==null||e.hideDropdown()}show(){var e;y(this,Po).classList.remove("hidden"),(e=y(this,ig))==null||e.shown()}async addAltText(e){const n=await e.render();F(this,wr,n0).call(this,n),y(this,au).prepend(n,y(this,wr,Zk)),D(this,ig,e)}addColorPicker(e){D(this,iu,e);const n=e.renderButton();F(this,wr,n0).call(this,n),y(this,au).prepend(n,y(this,wr,Zk))}remove(){var e;y(this,Po).remove(),(e=y(this,iu))==null||e.destroy(),D(this,iu,null)}};Po=new WeakMap,iu=new WeakMap,Zi=new WeakMap,au=new WeakMap,ig=new WeakMap,ag=new WeakMap,mx=new WeakSet,o3=function(e){e.stopPropagation()},wr=new WeakSet,l3=function(e){y(this,Zi)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},u3=function(e){y(this,Zi)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},n0=function(e){const n=y(this,Zi)._uiManager._signal;e.addEventListener("focusin",F(this,wr,l3).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,wr,u3).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ui,{signal:n})},c3=function(){const{editorType:e,_uiManager:n}=y(this,Zi),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",y(hs,ag)[e]),F(this,wr,n0).call(this,r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),y(this,au).append(r)},Zk=function(){const e=document.createElement("div");return e.className="divider",e},B(hs,mx),B(hs,ag,null);let Yk=hs;var sg,su,ou,wl,d3,h3,f3;class dZ{constructor(e){B(this,wl);B(this,sg,null);B(this,su,null);B(this,ou);D(this,ou,e)}show(e,n,r){const[i,a]=F(this,wl,h3).call(this,n,r),{style:s}=y(this,su)||D(this,su,F(this,wl,d3).call(this));e.append(y(this,su)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,su).remove()}}sg=new WeakMap,su=new WeakMap,ou=new WeakMap,wl=new WeakSet,d3=function(){const e=D(this,su,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ui,{signal:y(this,ou)._signal});const n=D(this,sg,document.createElement("div"));return n.className="buttons",e.append(n),F(this,wl,f3).call(this),e},h3=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},f3=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=y(this,ou)._signal;e.addEventListener("contextmenu",Ui,{signal:r}),e.addEventListener("click",()=>{y(this,ou).highlightSelection("floating_button")},{signal:r}),y(this,sg).append(e)};function lb(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function hZ(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var gx;class fZ{constructor(){B(this,gx,0)}get id(){return`${GY}${cr(this,gx)._++}`}}gx=new WeakMap;var jd,og,Zn,Dd,r0;const jT=class jT{constructor(){B(this,Dd);B(this,jd,aZ());B(this,og,0);B(this,Zn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return tt(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return F(this,Dd,r0).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return F(this,Dd,r0).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,Dd,r0).call(this,e,r)}async getFromId(e){y(this,Zn)||D(this,Zn,new Map);const n=y(this,Zn).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){y(this,Zn)||D(this,Zn,new Map);let r=y(this,Zn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${y(this,jd)}_${cr(this,og)._++}`,refCounter:1,isSvg:!1},y(this,Zn).set(e,r),y(this,Zn).set(r.id,r),r}getSvgUrl(e){const n=y(this,Zn).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;y(this,Zn)||D(this,Zn,new Map);const n=y(this,Zn).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${y(this,jd)}_`)}};jd=new WeakMap,og=new WeakMap,Zn=new WeakMap,Dd=new WeakSet,r0=async function(e,n){y(this,Zn)||D(this,Zn,new Map);let r=y(this,Zn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${y(this,jd)}_${cr(this,og)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await uw(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=jT._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,c)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return y(this,Zn).set(e,r),r&&y(this,Zn).set(r.id,r),r};let Qk=jT;var An,To,lg,En;class pZ{constructor(e=128){B(this,An,[]);B(this,To,!1);B(this,lg);B(this,En,-1);D(this,lg,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),y(this,To))return;const l={cmd:e,undo:n,post:r,type:a};if(y(this,En)===-1){y(this,An).length>0&&(y(this,An).length=0),D(this,En,0),y(this,An).push(l);return}if(s&&y(this,An)[y(this,En)].type===a){o&&(l.undo=y(this,An)[y(this,En)].undo),y(this,An)[y(this,En)]=l;return}const u=y(this,En)+1;u===y(this,lg)?y(this,An).splice(0,1):(D(this,En,u),u<y(this,An).length&&y(this,An).splice(u)),y(this,An).push(l)}undo(){if(y(this,En)===-1)return;D(this,To,!0);const{undo:e,post:n}=y(this,An)[y(this,En)];e(),n==null||n(),D(this,To,!1),D(this,En,y(this,En)-1)}redo(){if(y(this,En)<y(this,An).length-1){D(this,En,y(this,En)+1),D(this,To,!0);const{cmd:e,post:n}=y(this,An)[y(this,En)];e(),n==null||n(),D(this,To,!1)}}hasSomethingToUndo(){return y(this,En)!==-1}hasSomethingToRedo(){return y(this,En)<y(this,An).length-1}destroy(){D(this,An,null)}}An=new WeakMap,To=new WeakMap,lg=new WeakMap,En=new WeakMap;var yx,p3;class Py{constructor(e){B(this,yx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=xr.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,yx,p3).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||(n.stopPropagation(),n.preventDefault()))}}yx=new WeakSet,p3=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const vx=class vx{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return cZ(e),tt(this,"_colors",e)}convert(e){const n=bP(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return vx._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ne.makeHexColor(...n):e}};$e(vx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Jk=vx;var $d,Kr,mn,Dn,Fd,ms,zd,Qi,Oo,Bd,lu,Na,Ji,uu,ug,cg,Ud,dg,Ia,Mo,Hd,No,Ra,bx,Io,hg,Ro,cu,fg,pg,Cn,ht,gs,du,mg,gg,Lo,La,ys,yg,_i,Ce,i0,e_,m3,g3,a0,y3,v3,b3,t_,x3,n_,r_,w3,dr,yo,S3,k3,i_,_3,pp,a_;const bd=class bd{constructor(e,n,r,i,a,s,o,l,u,c,d){B(this,Ce);B(this,$d,new AbortController);B(this,Kr,null);B(this,mn,new Map);B(this,Dn,new Map);B(this,Fd,null);B(this,ms,null);B(this,zd,null);B(this,Qi,new pZ);B(this,Oo,null);B(this,Bd,0);B(this,lu,new Set);B(this,Na,null);B(this,Ji,null);B(this,uu,new Set);B(this,ug,!1);B(this,cg,!1);B(this,Ud,!1);B(this,dg,null);B(this,Ia,null);B(this,Mo,null);B(this,Hd,null);B(this,No,!1);B(this,Ra,null);B(this,bx,new fZ);B(this,Io,!1);B(this,hg,!1);B(this,Ro,null);B(this,cu,null);B(this,fg,null);B(this,pg,null);B(this,Cn,Ve.NONE);B(this,ht,new Set);B(this,gs,null);B(this,du,null);B(this,mg,null);B(this,gg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});B(this,Lo,[0,0]);B(this,La,null);B(this,ys,null);B(this,yg,null);B(this,_i,null);const h=this._signal=y(this,$d).signal;D(this,ys,e),D(this,yg,n),D(this,Fd,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:h}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),i._on("setpreference",this.onSetPreference.bind(this),{signal:h}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:h}),F(this,Ce,y3).call(this),F(this,Ce,w3).call(this),F(this,Ce,t_).call(this),D(this,ms,a.annotationStorage),D(this,dg,a.filterFactory),D(this,du,s),D(this,Hd,o||null),D(this,ug,l),D(this,cg,u),D(this,Ud,c),D(this,pg,d||null),this.viewParameters={realScale:bl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=bd.prototype,n=s=>y(s,ys).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return tt(this,"_keyboardManager",new Py([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&y(s,ys).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&y(s,ys).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i;(e=y(this,_i))==null||e.resolve(),D(this,_i,null),(n=y(this,$d))==null||n.abort(),D(this,$d,null),this._signal=null;for(const a of y(this,Dn).values())a.destroy();y(this,Dn).clear(),y(this,mn).clear(),y(this,uu).clear(),D(this,Kr,null),y(this,ht).clear(),y(this,Qi).destroy(),(r=y(this,Fd))==null||r.destroy(),(i=y(this,Ra))==null||i.hide(),D(this,Ra,null),y(this,Ia)&&(clearTimeout(y(this,Ia)),D(this,Ia,null)),y(this,La)&&(clearTimeout(y(this,La)),D(this,La,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return y(this,pg)}get useNewAltTextFlow(){return y(this,cg)}get useNewAltTextWhenAddingImage(){return y(this,Ud)}get hcmFilter(){return tt(this,"hcmFilter",y(this,du)?y(this,dg).addHCMFilter(y(this,du).foreground,y(this,du).background):"none")}get direction(){return tt(this,"direction",getComputedStyle(y(this,ys)).direction)}get highlightColors(){return tt(this,"highlightColors",y(this,Hd)?new Map(y(this,Hd).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){D(this,fg,e)}editAltText(e,n=!1){var r;(r=y(this,Fd))==null||r.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":D(this,Ud,n);break}}onPageChanging({pageNumber:e}){D(this,Bd,e-1)}focusMainContainer(){y(this,ys).focus()}findParent(e,n){for(const r of y(this,Dn).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){y(this,yg).classList.toggle("noUserSelect",e)}addShouldRescale(e){y(this,uu).add(e)}removeShouldRescale(e){y(this,uu).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*bl.PDF_TO_CSS_UNITS;for(const n of y(this,uu))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s}=n,o=n.toString(),u=F(this,Ce,i0).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;n.empty();const d=F(this,Ce,e_).call(this,u),h=y(this,Cn)===Ve.NONE,f=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(Ve.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&y(this,ms)&&!y(this,ms).has(e.id)&&y(this,ms).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,y(this,No)&&(D(this,No,!1),F(this,Ce,a0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of y(this,ht))if(n.div.contains(e)){D(this,cu,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!y(this,cu))return;const[e,n]=y(this,cu);D(this,cu,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Ce,t_).call(this),F(this,Ce,n_).call(this)}removeEditListeners(){F(this,Ce,x3).call(this),F(this,Ce,r_).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of y(this,Ji))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of y(this,Ji))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=y(this,Kr))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of y(this,ht)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of y(this,Ji))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Xe(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;a.push(u)}const s=()=>{for(const l of a)F(this,Ce,i_).call(this,l);F(this,Ce,a_).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){Xe(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,Cn)!==Ve.NONE&&!this.isEditorHandlingKeyboard&&bd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,No)&&(D(this,No,!1),F(this,Ce,a0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(F(this,Ce,v3).call(this),F(this,Ce,n_).call(this),F(this,Ce,dr).call(this,{isEditing:y(this,Cn)!==Ve.NONE,isEmpty:F(this,Ce,pp).call(this),hasSomethingToUndo:y(this,Qi).hasSomethingToUndo(),hasSomethingToRedo:y(this,Qi).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Ce,b3).call(this),F(this,Ce,r_).call(this),F(this,Ce,dr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!y(this,Ji)){D(this,Ji,e);for(const n of y(this,Ji))F(this,Ce,yo).call(this,n.defaultPropertiesToUpdate)}}getId(){return y(this,bx).id}get currentLayer(){return y(this,Dn).get(y(this,Bd))}getLayer(e){return y(this,Dn).get(e)}get currentPageIndex(){return y(this,Bd)}addLayer(e){y(this,Dn).set(e.pageIndex,e),y(this,Io)?e.enable():e.disable()}removeLayer(e){y(this,Dn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1){if(y(this,Cn)!==e&&!(y(this,_i)&&(await y(this,_i).promise,!y(this,_i)))){if(D(this,_i,Promise.withResolvers()),D(this,Cn,e),e===Ve.NONE){this.setEditingState(!1),F(this,Ce,k3).call(this),y(this,_i).resolve();return}this.setEditingState(!0),await F(this,Ce,S3).call(this),this.unselectAll();for(const i of y(this,Dn).values())i.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),y(this,_i).resolve();return}for(const i of y(this,mn).values())i.annotationElementId===n?(this.setSelected(i),i.enterInEditMode()):i.unselect();y(this,_i).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==y(this,Cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(y(this,Ji)){switch(e){case ze.CREATE:this.currentLayer.addNewEditor();return;case ze.HIGHLIGHT_DEFAULT_COLOR:(r=y(this,fg))==null||r.updateColor(n);break;case ze.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,mg)||D(this,mg,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of y(this,ht))i.updateParams(e,n);for(const i of y(this,Ji))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of y(this,mn).values())s.editorType===e&&s.show(n);(((a=y(this,mg))==null?void 0:a.get(ze.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Ce,yo).call(this,[[ze.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(y(this,hg)!==e){D(this,hg,e);for(const n of y(this,Dn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of y(this,mn).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return y(this,mn).get(e)}addEditor(e){y(this,mn).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(y(this,Ia)&&clearTimeout(y(this,Ia)),D(this,Ia,setTimeout(()=>{this.focusMainContainer(),D(this,Ia,null)},0))),y(this,mn).delete(e.id),this.unselect(e),(!e.annotationElementId||!y(this,lu).has(e.annotationElementId))&&((n=y(this,ms))==null||n.remove(e.id))}addDeletedAnnotationElement(e){y(this,lu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return y(this,lu).has(e)}removeDeletedAnnotationElement(e){y(this,lu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){y(this,Kr)!==e&&(D(this,Kr,e),e&&F(this,Ce,yo).call(this,e.propertiesToUpdate))}updateUI(e){y(this,Ce,_3)===e&&F(this,Ce,yo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(y(this,ht).has(e)){y(this,ht).delete(e),e.unselect(),F(this,Ce,dr).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,ht).add(e),e.select(),F(this,Ce,yo).call(this,e.propertiesToUpdate),F(this,Ce,dr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of y(this,ht))n!==e&&n.unselect();y(this,ht).clear(),y(this,ht).add(e),e.select(),F(this,Ce,yo).call(this,e.propertiesToUpdate),F(this,Ce,dr).call(this,{hasSelectedEditor:!0})}isSelected(e){return y(this,ht).has(e)}get firstSelectedEditor(){return y(this,ht).values().next().value}unselect(e){e.unselect(),y(this,ht).delete(e),F(this,Ce,dr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,ht).size!==0}get isEnterHandled(){return y(this,ht).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){y(this,Qi).undo(),F(this,Ce,dr).call(this,{hasSomethingToUndo:y(this,Qi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Ce,pp).call(this)})}redo(){y(this,Qi).redo(),F(this,Ce,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,Qi).hasSomethingToRedo(),isEmpty:F(this,Ce,pp).call(this)})}addCommands(e){y(this,Qi).add(e),F(this,Ce,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Ce,pp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...y(this,ht)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)F(this,Ce,i_).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=y(this,Kr))==null||e.commitOrRemove()}hasSomethingToControl(){return y(this,Kr)||this.hasSelection}selectAll(){for(const e of y(this,ht))e.commit();F(this,Ce,a_).call(this,y(this,mn).values())}unselectAll(){if(!(y(this,Kr)&&(y(this,Kr).commitOrRemove(),y(this,Cn)!==Ve.NONE))&&this.hasSelection){for(const e of y(this,ht))e.unselect();y(this,ht).clear(),F(this,Ce,dr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;y(this,Lo)[0]+=e,y(this,Lo)[1]+=n;const[i,a]=y(this,Lo),s=[...y(this,ht)],o=1e3;y(this,La)&&clearTimeout(y(this,La)),D(this,La,setTimeout(()=>{D(this,La,null),y(this,Lo)[0]=y(this,Lo)[1]=0,this.addCommands({cmd:()=>{for(const l of s)y(this,mn).has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)y(this,mn).has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,Na,new Map);for(const e of y(this,ht))y(this,Na).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,Na))return!1;this.disableUserSelect(!1);const e=y(this,Na);D(this,Na,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(y(this,mn).has(i.id)){const l=y(this,Dn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(y(this,Na))for(const r of y(this,Na).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||y(this,ht).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return y(this,Kr)===e}getActive(){return y(this,Kr)}getMode(){return y(this,Cn)}get imageManager(){return tt(this,"imageManager",new Qk)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,c,d,h)=>({x:(c-i)/s,y:1-(u+d-r)/a,width:h/s,height:d/a});break;case"180":o=(u,c,d,h)=>({x:1-(u+d-r)/a,y:1-(c+h-i)/s,width:d/a,height:h/s});break;case"270":o=(u,c,d,h)=>({x:1-(c+h-i)/s,y:(u-r)/a,width:h/s,height:d/a});break;default:o=(u,c,d,h)=>({x:(u-r)/a,y:(c-i)/s,width:d/a,height:h/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:h,y:f,width:m,height:p}of d.getClientRects())m===0||p===0||l.push(o(h,f,m,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(y(this,zd)||D(this,zd,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=y(this,zd))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=y(this,zd))==null?void 0:i.get(e.data.id);if(!n)return;const r=y(this,ms).getRawValue(n);r&&(y(this,Cn)===Ve.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};$d=new WeakMap,Kr=new WeakMap,mn=new WeakMap,Dn=new WeakMap,Fd=new WeakMap,ms=new WeakMap,zd=new WeakMap,Qi=new WeakMap,Oo=new WeakMap,Bd=new WeakMap,lu=new WeakMap,Na=new WeakMap,Ji=new WeakMap,uu=new WeakMap,ug=new WeakMap,cg=new WeakMap,Ud=new WeakMap,dg=new WeakMap,Ia=new WeakMap,Mo=new WeakMap,Hd=new WeakMap,No=new WeakMap,Ra=new WeakMap,bx=new WeakMap,Io=new WeakMap,hg=new WeakMap,Ro=new WeakMap,cu=new WeakMap,fg=new WeakMap,pg=new WeakMap,Cn=new WeakMap,ht=new WeakMap,gs=new WeakMap,du=new WeakMap,mg=new WeakMap,gg=new WeakMap,Lo=new WeakMap,La=new WeakMap,ys=new WeakMap,yg=new WeakMap,_i=new WeakMap,Ce=new WeakSet,i0=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},e_=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of y(this,Dn).values())if(r.hasTextLayer(e))return r;return null},m3=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Ce,i0).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(y(this,Ra)||D(this,Ra,new dZ(this)),y(this,Ra).show(r,i,this.direction==="ltr"))},g3=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){y(this,gs)&&((a=y(this,Ra))==null||a.hide(),D(this,gs,null),F(this,Ce,dr).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===y(this,gs))return;const i=F(this,Ce,i0).call(this,e).closest(".textLayer");if(!i){y(this,gs)&&((s=y(this,Ra))==null||s.hide(),D(this,gs,null),F(this,Ce,dr).call(this,{hasSelectedText:!1}));return}if((o=y(this,Ra))==null||o.hide(),D(this,gs,n),F(this,Ce,dr).call(this,{hasSelectedText:!0}),!(y(this,Cn)!==Ve.HIGHLIGHT&&y(this,Cn)!==Ve.NONE)&&(y(this,Cn)===Ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,No,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=y(this,Cn)===Ve.HIGHLIGHT?F(this,Ce,e_).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),d=h=>{h.type==="pointerup"&&h.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&F(this,Ce,a0).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}},a0=function(e=""){y(this,Cn)===Ve.HIGHLIGHT?this.highlightSelection(e):y(this,ug)&&F(this,Ce,m3).call(this)},y3=function(){document.addEventListener("selectionchange",F(this,Ce,g3).bind(this),{signal:this._signal})},v3=function(){if(y(this,Mo))return;D(this,Mo,new AbortController);const e=this.combinedSignal(y(this,Mo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},b3=function(){var e;(e=y(this,Mo))==null||e.abort(),D(this,Mo,null)},t_=function(){if(y(this,Ro))return;D(this,Ro,new AbortController);const e=this.combinedSignal(y(this,Ro));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},x3=function(){var e;(e=y(this,Ro))==null||e.abort(),D(this,Ro,null)},n_=function(){if(y(this,Oo))return;D(this,Oo,new AbortController);const e=this.combinedSignal(y(this,Oo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},r_=function(){var e;(e=y(this,Oo))==null||e.abort(),D(this,Oo,null)},w3=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},dr=function(e){Object.entries(e).some(([r,i])=>y(this,gg)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,gg),e)}),y(this,Cn)===Ve.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Ce,yo).call(this,[[ze.HIGHLIGHT_FREE,!0]]))},yo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},S3=async function(){if(!y(this,Io)){D(this,Io,!0);const e=[];for(const n of y(this,Dn).values())e.push(n.enable());await Promise.all(e);for(const n of y(this,mn).values())n.enable()}},k3=function(){if(this.unselectAll(),y(this,Io)){D(this,Io,!1);for(const e of y(this,Dn).values())e.disable();for(const e of y(this,mn).values())e.disable()}},i_=function(e){const n=y(this,Dn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},_3=function(){let e=null;for(e of y(this,ht));return e},pp=function(){if(y(this,mn).size===0)return!0;if(y(this,mn).size===1)for(const e of y(this,mn).values())return e.isEmpty();return!1},a_=function(e){for(const n of y(this,ht))n.unselect();y(this,ht).clear();for(const n of e)n.isEmpty()||(y(this,ht).add(n),n.select());F(this,Ce,dr).call(this,{hasSelectedEditor:this.hasSelection})},$e(bd,"TRANSLATE_SMALL",1),$e(bd,"TRANSLATE_BIG",10);let pc=bd;var Pn,ja,ea,Wd,Da,Yr,Vd,$a,Tr,vs,hu,Fa,jo,ba,mp,s0;const hr=class hr{constructor(e){B(this,ba);B(this,Pn,null);B(this,ja,!1);B(this,ea,null);B(this,Wd,null);B(this,Da,null);B(this,Yr,null);B(this,Vd,!1);B(this,$a,null);B(this,Tr,null);B(this,vs,null);B(this,hu,null);B(this,Fa,!1);D(this,Tr,e),D(this,Fa,e._uiManager.useNewAltTextFlow),y(hr,jo)||D(hr,jo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){hr._l10n??(hr._l10n=e)}async render(){const e=D(this,ea,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=D(this,Wd,document.createElement("span"));e.append(n),y(this,Fa)?(e.classList.add("new"),e.setAttribute("data-l10n-id",y(hr,jo).missing),n.setAttribute("data-l10n-id",y(hr,jo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=y(this,Tr)._uiManager._signal;e.addEventListener("contextmenu",Ui,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),y(this,Tr)._uiManager.editAltText(y(this,Tr)),y(this,Fa)&&y(this,Tr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,ba,mp)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(D(this,Vd,!0),i(a))},{signal:r}),await F(this,ba,s0).call(this),e}finish(){y(this,ea)&&(y(this,ea).focus({focusVisible:y(this,Vd)}),D(this,Vd,!1))}isEmpty(){return y(this,Fa)?y(this,Pn)===null:!y(this,Pn)&&!y(this,ja)}hasData(){return y(this,Fa)?y(this,Pn)!==null||!!y(this,vs):this.isEmpty()}get guessedText(){return y(this,vs)}async setGuessedText(e){y(this,Pn)===null&&(D(this,vs,e),D(this,hu,await hr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,ba,s0).call(this))}toggleAltTextBadge(e=!1){var n;if(!y(this,Fa)||y(this,Pn)){(n=y(this,$a))==null||n.remove(),D(this,$a,null);return}if(!y(this,$a)){const r=D(this,$a,document.createElement("div"));r.className="noAltTextBadge",y(this,Tr).div.append(r)}y(this,$a).classList.toggle("hidden",!e)}serialize(e){let n=y(this,Pn);return!e&&y(this,vs)===n&&(n=y(this,hu)),{altText:n,decorative:y(this,ja),guessedText:y(this,vs),textWithDisclaimer:y(this,hu)}}get data(){return{altText:y(this,Pn),decorative:y(this,ja)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(D(this,vs,r),D(this,hu,i)),!(y(this,Pn)===e&&y(this,ja)===n)&&(a||(D(this,Pn,e),D(this,ja,n)),F(this,ba,s0).call(this))}toggle(e=!1){y(this,ea)&&(!e&&y(this,Yr)&&(clearTimeout(y(this,Yr)),D(this,Yr,null)),y(this,ea).disabled=!e)}shown(){y(this,Tr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,ba,mp)}})}destroy(){var e,n;(e=y(this,ea))==null||e.remove(),D(this,ea,null),D(this,Wd,null),D(this,Da,null),(n=y(this,$a))==null||n.remove(),D(this,$a,null)}};Pn=new WeakMap,ja=new WeakMap,ea=new WeakMap,Wd=new WeakMap,Da=new WeakMap,Yr=new WeakMap,Vd=new WeakMap,$a=new WeakMap,Tr=new WeakMap,vs=new WeakMap,hu=new WeakMap,Fa=new WeakMap,jo=new WeakMap,ba=new WeakSet,mp=function(){return y(this,Pn)&&"added"||y(this,Pn)===null&&this.guessedText&&"review"||"missing"},s0=async function(){var i,a,s;const e=y(this,ea);if(!e)return;if(y(this,Fa)){if(e.classList.toggle("done",!!y(this,Pn)),e.setAttribute("data-l10n-id",y(hr,jo)[y(this,ba,mp)]),(i=y(this,Wd))==null||i.setAttribute("data-l10n-id",y(hr,jo)[`${y(this,ba,mp)}-label`]),!y(this,Pn)){(a=y(this,Da))==null||a.remove();return}}else{if(!y(this,Pn)&&!y(this,ja)){e.classList.remove("done"),(s=y(this,Da))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=y(this,Da);if(!n){D(this,Da,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${y(this,Tr).id}`;const o=100,l=y(this,Tr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(y(this,Yr)),D(this,Yr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{D(this,Yr,setTimeout(()=>{D(this,Yr,null),y(this,Da).classList.add("show"),y(this,Tr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;y(this,Yr)&&(clearTimeout(y(this,Yr)),D(this,Yr,null)),(u=y(this,Da))==null||u.classList.remove("show")},{signal:l})}y(this,ja)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=y(this,Pn)),n.parentNode||e.append(n);const r=y(this,Tr).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},B(hr,jo,null),$e(hr,"_l10n",null);let ub=hr;var fu,ta,Bt,Gd,pu,$n,mu,Do,vg,gu,$o,bg,yu,bs,za,qd,Xd,Ai,xg,xx,Ge,s_,wg,o_,l_,A3,E3,u_,c_,d_,C3,h_,P3,T3,O3,f_,gp;const dt=class dt{constructor(e){B(this,Ge);B(this,fu,null);B(this,ta,null);B(this,Bt,null);B(this,Gd,!1);B(this,pu,!1);B(this,$n,null);B(this,mu,null);B(this,Do,null);B(this,vg,"");B(this,gu,!1);B(this,$o,null);B(this,bg,!1);B(this,yu,!1);B(this,bs,!1);B(this,za,null);B(this,qd,0);B(this,Xd,0);B(this,Ai,null);$e(this,"_editToolbar",null);$e(this,"_initialOptions",Object.create(null));$e(this,"_initialData",null);$e(this,"_isVisible",!0);$e(this,"_uiManager",null);$e(this,"_focusEventsAllowed",!0);B(this,xg,!1);B(this,xx,dt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=dt.prototype._resizeWithKeyboard,n=pc.TRANSLATE_SMALL,r=pc.TRANSLATE_BIG;return tt(this,"_resizerKeyboardManager",new Py([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new mZ({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(dt._l10n??(dt._l10n=e),dt._l10nResizer||(dt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),dt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);dt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Lt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,xg)}set _isDraggable(e){var n;D(this,xg,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,xx)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):F(this,Ge,gp).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(y(this,gu)?D(this,gu,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){F(this,Ge,s_).call(this,this.parentDimensions,e,n)}translateInPage(e,n){y(this,$o)||D(this,$o,[this.x,this.y]),F(this,Ge,s_).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){y(this,$o)||D(this,$o,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!y(this,$o)&&(y(this,$o)[0]!==this.x||y(this,$o)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=dt,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:a,width:s,height:o}=this;if(s*=n,o*=r,i*=n,a*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),a=Math.max(0,Math.min(r-o,a));break;case 90:i=Math.max(0,Math.min(n-o,i)),a=Math.min(r,Math.max(s,a));break;case 180:i=Math.min(n,Math.max(s,i)),a=Math.min(r,Math.max(o,a));break;case 270:i=Math.min(n,Math.max(o,i)),a=Math.max(0,Math.min(r-s,a));break}this.x=i/=n,this.y=a/=r;const[l,u]=this.getBaseTranslation();i+=l,a+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=dt,wg,o_).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=dt,wg,o_).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,y(this,pu)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),a=!y(this,pu)&&n.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!y(this,pu)&&!a&&(e.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=y(this,Bt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||y(this,yu)?this._editToolbar:(this._editToolbar=new Yk(this),this.div.append(this._editToolbar.render()),y(this,Bt)&&await this._editToolbar.addAltText(y(this,Bt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=y(this,Bt))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){y(this,Bt)||(ub.initialize(dt._l10n),D(this,Bt,new ub(this)),y(this,fu)&&(y(this,Bt).data=y(this,fu),D(this,fu,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=y(this,Bt))==null?void 0:e.data}set altTextData(e){y(this,Bt)&&(y(this,Bt).data=e)}get guessedAltText(){var e;return(e=y(this,Bt))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=y(this,Bt))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=y(this,Bt))==null?void 0:n.serialize(e)}hasAltText(){return!!y(this,Bt)&&!y(this,Bt).isEmpty()}hasAltTextData(){var e;return((e=y(this,Bt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=y(this,Gd)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),F(this,Ge,h_).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),lb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=xr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(D(this,gu,!0),this._isDraggable){F(this,Ge,C3).call(this,e);return}F(this,Ge,d_).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){y(this,za)&&clearTimeout(y(this,za)),D(this,za,setTimeout(()=>{var e;D(this,za,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*a,h=this.y*s,f=this.width*a,m=this.height*s;switch(r){case 0:return[d+u+o,s-h-c-m+l,d+u+f+o,s-h-c+l];case 90:return[d+c+o,s-h+u+l,d+c+m+o,s-h+u+f+l];case 180:return[d-u-f+o,s-h+c+l,d-u+o,s-h+c+m+l];case 270:return[d-c-m+o,s-h-u-f+l,d-c+o,s-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,o,l];case 90:return[r,n-i,l,o];case 180:return[a,n-i,o,l];case 270:return[a,n-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){D(this,yu,!0)}disableEditMode(){D(this,yu,!1)}isInEditMode(){return y(this,yu)}shouldGetKeyboardEvents(){return y(this,bs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){F(this,Ge,h_).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){Lt("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,D(i,fu,e.accessibilityData);const[a,s]=i.pageDimensions,[o,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=u/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=y(this,Do))==null||e.abort(),D(this,Do,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,za)&&(clearTimeout(y(this,za)),D(this,za,null)),F(this,Ge,gp).call(this),this.removeEditToolbar(),y(this,Ai)){for(const n of y(this,Ai).values())clearTimeout(n);D(this,Ai,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,Ge,A3).call(this),y(this,$n).classList.remove("hidden"),lb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),D(this,mu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=y(this,$n).children;if(!y(this,ta)){D(this,ta,Array.from(n));const s=F(this,Ge,P3).bind(this),o=F(this,Ge,T3).bind(this),l=this._uiManager._signal;for(const u of y(this,ta)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",F(this,Ge,O3).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",dt._l10nResizer[c])}}const r=y(this,ta)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(y(this,ta).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)y(this,$n).append(y(this,$n).firstChild);else if(a>i)for(let o=0;o<a-i;o++)y(this,$n).firstChild.before(y(this,$n).lastChild);let s=0;for(const o of n){const u=y(this,ta)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",dt._l10nResizer[u])}}F(this,Ge,f_).call(this,0),D(this,bs,!0),y(this,$n).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){y(this,bs)&&F(this,Ge,c_).call(this,y(this,vg),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){F(this,Ge,gp).call(this),this.div.focus()}select(){var e,n,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=y(this,Bt))==null||r.toggleAltTextBadge(!1)}unselect(){var e,n,r,i,a;(e=y(this,$n))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=y(this,Bt))==null||a.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return y(this,bg)}set isEditing(e){D(this,bg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){D(this,pu,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){y(this,Ai)||D(this,Ai,new Map);const{action:r}=e;let i=y(this,Ai).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),y(this,Ai).delete(r),y(this,Ai).size===0&&D(this,Ai,null)},dt._telemetryTimeout),y(this,Ai).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),D(this,Gd,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,Gd,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};fu=new WeakMap,ta=new WeakMap,Bt=new WeakMap,Gd=new WeakMap,pu=new WeakMap,$n=new WeakMap,mu=new WeakMap,Do=new WeakMap,vg=new WeakMap,gu=new WeakMap,$o=new WeakMap,bg=new WeakMap,yu=new WeakMap,bs=new WeakMap,za=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Ai=new WeakMap,xg=new WeakMap,xx=new WeakMap,Ge=new WeakSet,s_=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},wg=new WeakSet,o_=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},l_=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},A3=function(){if(y(this,$n))return;D(this,$n,document.createElement("div")),y(this,$n).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");y(this,$n).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,Ge,E3).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Ui,{signal:n}),i.tabIndex=-1}this.div.prepend(y(this,$n))},E3=function(e,n){var m;n.preventDefault();const{isMac:r}=xr.platform;if(n.button!==0||n.ctrlKey&&r)return;(m=y(this,Bt))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,Ge,c_).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Ui,{signal:s});const o=this.x,l=this.y,u=this.width,c=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=y(this,Bt))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=d,this.div.style.cursor=h,F(this,Ge,u_).call(this,o,l,u,c)};window.addEventListener("pointerup",f,{signal:s}),window.addEventListener("blur",f,{signal:s})},u_=function(e,n,r,i){const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===n&&o===r&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*o,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},c_=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,u=dt.MIN_SIZE/r,c=dt.MIN_SIZE/i,d=z=>Math.round(z*1e4)/1e4,h=F(this,Ge,l_).call(this,this.rotation),f=(z,G)=>[h[0]*z+h[2]*G,h[1]*z+h[3]*G],m=F(this,Ge,l_).call(this,360-this.rotation),p=(z,G)=>[m[0]*z+m[2]*G,m[1]*z+m[3]*G];let v,g,b=!1,x=!1;switch(e){case"topLeft":b=!0,v=(z,G)=>[0,0],g=(z,G)=>[z,G];break;case"topMiddle":v=(z,G)=>[z/2,0],g=(z,G)=>[z/2,G];break;case"topRight":b=!0,v=(z,G)=>[z,0],g=(z,G)=>[0,G];break;case"middleRight":x=!0,v=(z,G)=>[z,G/2],g=(z,G)=>[0,G/2];break;case"bottomRight":b=!0,v=(z,G)=>[z,G],g=(z,G)=>[0,0];break;case"bottomMiddle":v=(z,G)=>[z/2,G],g=(z,G)=>[z/2,0];break;case"bottomLeft":b=!0,v=(z,G)=>[0,G],g=(z,G)=>[z,0];break;case"middleLeft":x=!0,v=(z,G)=>[0,G/2],g=(z,G)=>[z,G/2];break}const S=v(o,l),w=g(o,l);let k=f(...w);const A=d(a+k[0]),E=d(s+k[1]);let P=1,O=1,[I,T]=this.screenToPageTranslation(n.movementX,n.movementY);if([I,T]=p(I/r,T/i),b){const z=Math.hypot(o,l);P=O=Math.max(Math.min(Math.hypot(w[0]-S[0]-I,w[1]-S[1]-T)/z,1/o,1/l),u/o,c/l)}else x?P=Math.max(u,Math.min(1,Math.abs(w[0]-S[0]-I)))/o:O=Math.max(c,Math.min(1,Math.abs(w[1]-S[1]-T)))/l;const j=d(o*P),C=d(l*O);k=f(...g(j,C));const L=A-k[0],X=E-k[1];this.width=j,this.height=C,this.x=L,this.y=X,this.setDims(r*j,i*C),this.fixAndSetPosition()},d_=function(e){const{isMac:n}=xr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},C3=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(n){this.div.classList.add("moving"),D(this,qd,e.clientX),D(this,Xd,e.clientY);const s=o=>{const{clientX:l,clientY:u}=o,[c,d]=this.screenToPageTranslation(l-y(this,qd),u-y(this,Xd));D(this,qd,l),D(this,Xd,u),this._uiManager.dragSelectedEditors(c,d)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}const a=()=>{r.abort(),n&&this.div.classList.remove("moving"),D(this,gu,!1),this._uiManager.endDragSession()||F(this,Ge,d_).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},h_=function(){if(y(this,Do)||!this.div)return;D(this,Do,new AbortController);const e=this._uiManager.combinedSignal(y(this,Do));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},P3=function(e){dt._resizerKeyboardManager.exec(this,e)},T3=function(e){var n;y(this,bs)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==y(this,$n)&&F(this,Ge,gp).call(this)},O3=function(e){D(this,vg,y(this,bs)?e:"")},f_=function(e){if(y(this,ta))for(const n of y(this,ta))n.tabIndex=e},gp=function(){if(D(this,bs,!1),F(this,Ge,f_).call(this,-1),y(this,mu)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=y(this,mu);F(this,Ge,u_).call(this,e,n,r,i),D(this,mu,null)}},B(dt,wg),$e(dt,"_l10n",null),$e(dt,"_l10nResizer",null),$e(dt,"_borderLineWidth",-1),$e(dt,"_colorManager",new Jk),$e(dt,"_zIndex",1),$e(dt,"_telemetryTimeout",1e3);let mt=dt;class mZ extends mt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const OM=3285377520,vi=4294901760,Pa=65535;class M3{constructor(e){this.h1=e?e&4294967295:OM,this.h2=e?e&4294967295:OM}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let p=0,v=e.length;p<v;p++){const g=e.charCodeAt(p);g<=255?n[r++]=g:(n[r++]=g>>>8,n[r++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,l=0,u=this.h1,c=this.h2;const d=3432918353,h=461845907,f=d&Pa,m=h&Pa;for(let p=0;p<i;p++)p&1?(o=s[p],o=o*d&vi|o*f&Pa,o=o<<15|o>>>17,o=o*h&vi|o*m&Pa,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[p],l=l*d&vi|l*f&Pa,l=l<<15|l>>>17,l=l*h&vi|l*m&Pa,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&vi|o*f&Pa,o=o<<15|o>>>17,o=o*h&vi|o*m&Pa,i&1?u^=o:c^=o}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&vi|e*36045&Pa,n=n*4283543511&vi|((n<<16|e>>>16)*2950163797&vi)>>>16,e^=n>>>1,e=e*444984403&vi|e*60499&Pa,n=n*3301882366&vi|((n<<16|e>>>16)*3120437893&vi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const p_=Object.freeze({map:null,hash:"",transfer:void 0});var vu,bu,Tn,wx,N3;class xP{constructor(){B(this,wx);B(this,vu,!1);B(this,bu,null);B(this,Tn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=y(this,Tn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return y(this,Tn).get(e)}remove(e){if(y(this,Tn).delete(e),y(this,Tn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of y(this,Tn).values())if(n instanceof mt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=y(this,Tn).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,y(this,Tn).set(e,n);i&&F(this,wx,N3).call(this),n instanceof mt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return y(this,Tn).has(e)}getAll(){return y(this,Tn).size>0?pP(y(this,Tn)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return y(this,Tn).size}resetModified(){y(this,vu)&&(D(this,vu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new I3(this)}get serializable(){if(y(this,Tn).size===0)return p_;const e=new Map,n=new M3,r=[],i=Object.create(null);let a=!1;for(const[s,o]of y(this,Tn)){const l=o instanceof mt?o.serialize(!1,i):o;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:p_}get editorStats(){let e=null;const n=new Map;for(const r of y(this,Tn).values()){if(!(r instanceof mt))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:a}=i;n.has(a)||n.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){D(this,bu,null)}get modifiedIds(){if(y(this,bu))return y(this,bu);const e=[];for(const n of y(this,Tn).values())!(n instanceof mt)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return D(this,bu,{ids:new Set(e),hash:e.join(",")})}}vu=new WeakMap,bu=new WeakMap,Tn=new WeakMap,wx=new WeakSet,N3=function(){y(this,vu)||(D(this,vu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sg;class I3 extends xP{constructor(n){super();B(this,Sg);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);D(this,Sg,{map:s,hash:i,transfer:a})}get print(){Lt("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,Sg)}get modifiedIds(){return tt(this,"modifiedIds",{ids:new Set,hash:""})}}Sg=new WeakMap;var Kd;class gZ{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){B(this,Kd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),y(this,Kd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||y(this,Kd).has(e.loadedName))){if(bn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,s=new FontFace(r,i,a);this.addNativeFontFace(s);try{await s.load(),y(this,Kd).add(r),n==null||n(e)}catch{Xe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Lt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Xe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return tt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(sr||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),tt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(bn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return tt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(S,w){return S.charCodeAt(w)<<24|S.charCodeAt(w+1)<<16|S.charCodeAt(w+2)<<8|S.charCodeAt(w+3)&255}function i(S,w,k,A){const E=S.substring(0,w),P=S.substring(w+k);return E+A+P}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function c(S,w){if(++u>30){Xe("Load test font never loaded."),w();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(c.bind(null,S,w))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const m=16,p=1482184792;let v=r(h,m);for(a=0,s=d.length-3;a<s;a+=4)v=v-p+r(d,a)|0;a<d.length&&(v=v-p+r(d+"XXX",a)|0),h=i(h,m,4,eZ(v));const g=`url(data:font/opentype;base64,${btoa(h)});`,b=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(b);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,d]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=S,x.append(w)}this._document.body.append(x),c(d,()=>{x.remove(),n.complete()})}}Kd=new WeakMap;class yZ{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${sZ(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(a){Xe(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(a,s){};const i=[];for(let a=0,s=r.length;a<s;)switch(r[a++]){case os.BEZIER_CURVE_TO:{const[o,l,u,c,d,h]=r.slice(a,a+6);i.push(f=>f.bezierCurveTo(o,l,u,c,d,h)),a+=6}break;case os.MOVE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.moveTo(o,l)),a+=2}break;case os.LINE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.lineTo(o,l)),a+=2}break;case os.QUADRATIC_CURVE_TO:{const[o,l,u,c]=r.slice(a,a+4);i.push(d=>d.quadraticCurveTo(o,l,u,c)),a+=4}break;case os.RESTORE:i.push(o=>o.restore());break;case os.SAVE:i.push(o=>o.save());break;case os.SCALE:bn(i.length===2,"Scale command is only valid at the third position.");break;case os.TRANSFORM:{const[o,l,u,c,d,h]=r.slice(a,a+6);i.push(f=>f.transform(o,l,u,c,d,h)),a+=6}break;case os.TRANSLATE:{const[o,l]=r.slice(a,a+2);i.push(u=>u.translate(o,l)),a+=2}break}return this.compiledGlyphs[n]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}var kg;class R3{constructor({enableHWA:e=!1}){B(this,kg,!1);D(this,kg,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!y(this,kg)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Lt("Abstract method `_createCanvas` called.")}}kg=new WeakMap;class vZ extends R3{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class L3{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class j3 extends L3{async _fetch(e){const n=await uw(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):lw(n)}}class D3{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var xu,wu,Ba,xs,Qn,Sx,Su,Pe,Yn,Kc,Yc,o0,Zc,$3,m_,Qc,yp,vp,g_,bp;class bZ extends D3{constructor({docId:n,ownerDocument:r=globalThis.document}){super();B(this,Pe);B(this,xu);B(this,wu);B(this,Ba);B(this,xs);B(this,Qn);B(this,Sx);B(this,Su,0);D(this,xs,n),D(this,Qn,r)}addFilter(n){if(!n)return"none";let r=y(this,Pe,Yn).get(n);if(r)return r;const[i,a,s]=F(this,Pe,o0).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=y(this,Pe,Yn).get(o),r)return y(this,Pe,Yn).set(n,r),r;const l=`g_${y(this,xs)}_transfer_map_${cr(this,Su)._++}`,u=F(this,Pe,Zc).call(this,l);y(this,Pe,Yn).set(n,u),y(this,Pe,Yn).set(o,u);const c=F(this,Pe,Qc).call(this,l);return F(this,Pe,vp).call(this,i,a,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,a="base";let s=y(this,Pe,Kc).get(a);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},y(this,Pe,Kc).set(a,s)),!n||!r))return s.url;const o=F(this,Pe,bp).call(this,n);n=Ne.makeHexColor(...o);const l=F(this,Pe,bp).call(this,r);if(r=Ne.makeHexColor(...l),y(this,Pe,Yc).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let p=0;p<=255;p++){const v=p/255;u[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=u.join(","),d=`g_${y(this,xs)}_hcm_filter`,h=s.filter=F(this,Pe,Qc).call(this,d);F(this,Pe,vp).call(this,c,c,c,h),F(this,Pe,m_).call(this,h);const f=(p,v)=>{const g=o[p]/255,b=l[p]/255,x=new Array(v+1);for(let S=0;S<=v;S++)x[S]=g+S/v*(b-g);return x.join(",")};return F(this,Pe,vp).call(this,f(0,5),f(1,5),f(2,5),h),s.url=F(this,Pe,Zc).call(this,d),s.url}addAlphaFilter(n){let r=y(this,Pe,Yn).get(n);if(r)return r;const[i]=F(this,Pe,o0).call(this,[n]),a=`alpha_${i}`;if(r=y(this,Pe,Yn).get(a),r)return y(this,Pe,Yn).set(n,r),r;const s=`g_${y(this,xs)}_alpha_map_${cr(this,Su)._++}`,o=F(this,Pe,Zc).call(this,s);y(this,Pe,Yn).set(n,o),y(this,Pe,Yn).set(a,o);const l=F(this,Pe,Qc).call(this,s);return F(this,Pe,g_).call(this,i,l),o}addLuminosityFilter(n){let r=y(this,Pe,Yn).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=F(this,Pe,o0).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=y(this,Pe,Yn).get(a),r)return y(this,Pe,Yn).set(n,r),r;const s=`g_${y(this,xs)}_luminosity_map_${cr(this,Su)._++}`,o=F(this,Pe,Zc).call(this,s);y(this,Pe,Yn).set(n,o),y(this,Pe,Yn).set(a,o);const l=F(this,Pe,Qc).call(this,s);return F(this,Pe,$3).call(this,l),n&&F(this,Pe,g_).call(this,i,l),o}addHighlightHCMFilter(n,r,i,a,s){var b;const o=`${r}-${i}-${a}-${s}`;let l=y(this,Pe,Kc).get(n);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},y(this,Pe,Kc).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(F(this,Pe,bp).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,m]=[a,s].map(F(this,Pe,bp).bind(this));h<d&&([d,h,f,m]=[h,d,m,f]),y(this,Pe,Yc).style.color="";const p=(x,S,w)=>{const k=new Array(256),A=(h-d)/w,E=x/255,P=(S-x)/(255*w);let O=0;for(let I=0;I<=w;I++){const T=Math.round(d+I*A),j=E+I*P;for(let C=O;C<=T;C++)k[C]=j;O=T+1}for(let I=O;I<256;I++)k[I]=k[O-1];return k.join(",")},v=`g_${y(this,xs)}_hcm_${n}_filter`,g=l.filter=F(this,Pe,Qc).call(this,v);return F(this,Pe,m_).call(this,g),F(this,Pe,vp).call(this,p(f[0],m[0],5),p(f[1],m[1],5),p(f[2],m[2],5),g),l.url=F(this,Pe,Zc).call(this,v),l.url}destroy(n=!1){n&&y(this,Pe,Kc).size!==0||(y(this,Ba)&&(y(this,Ba).parentNode.parentNode.remove(),D(this,Ba,null)),y(this,wu)&&(y(this,wu).clear(),D(this,wu,null)),D(this,Su,0))}}xu=new WeakMap,wu=new WeakMap,Ba=new WeakMap,xs=new WeakMap,Qn=new WeakMap,Sx=new WeakMap,Su=new WeakMap,Pe=new WeakSet,Yn=function(){return y(this,wu)||D(this,wu,new Map)},Kc=function(){return y(this,Sx)||D(this,Sx,new Map)},Yc=function(){if(!y(this,Ba)){const n=y(this,Qn).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=y(this,Qn).createElementNS(cs,"svg");i.setAttribute("width",0),i.setAttribute("height",0),D(this,Ba,y(this,Qn).createElementNS(cs,"defs")),n.append(i),i.append(y(this,Ba)),y(this,Qn).body.append(n)}return y(this,Ba)},o0=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=u[h]/255;const d=c.join(",");return[d,d,d]}const[r,i,a]=n,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,o[u]=i[u]/255,l[u]=a[u]/255;return[s.join(","),o.join(","),l.join(",")]},Zc=function(n){if(y(this,xu)===void 0){D(this,xu,"");const r=y(this,Qn).URL;r!==y(this,Qn).baseURI&&(cw(r)?Xe('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,xu,r.split("#",1)[0]))}return`url(${y(this,xu)}#${n})`},$3=function(n){const r=y(this,Qn).createElementNS(cs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},m_=function(n){const r=y(this,Qn).createElementNS(cs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Qc=function(n){const r=y(this,Qn).createElementNS(cs,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),y(this,Pe,Yc).append(r),r},yp=function(n,r,i){const a=y(this,Qn).createElementNS(cs,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},vp=function(n,r,i,a){const s=y(this,Qn).createElementNS(cs,"feComponentTransfer");a.append(s),F(this,Pe,yp).call(this,s,"feFuncR",n),F(this,Pe,yp).call(this,s,"feFuncG",r),F(this,Pe,yp).call(this,s,"feFuncB",i)},g_=function(n,r){const i=y(this,Qn).createElementNS(cs,"feComponentTransfer");r.append(i),F(this,Pe,yp).call(this,i,"feFuncA",n)},bp=function(n){return y(this,Pe,Yc).style.color=n,bP(getComputedStyle(y(this,Pe,Yc)).getPropertyValue("color"))};class F3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Lt("Abstract method `_fetch` called.")}}class z3 extends F3{async _fetch(e){const n=await uw(e,"arraybuffer");return new Uint8Array(n)}}if(sr){var y_=Promise.withResolvers(),Vp=null;(async()=>{const e=await pv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await pv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await pv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await pv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:a,path2d:s}))})().then(e=>{Vp=e,y_.resolve()},e=>{Xe(`loadPackages: ${e}`),Vp=new Map,y_.resolve()})}class xl{static get promise(){return y_.promise}static get(e){return Vp==null?void 0:Vp.get(e)}}async function B3(t){const n=await xl.get("fs").promises.readFile(t);return new Uint8Array(n)}class xZ extends D3{}class wZ extends R3{_createCanvas(e,n){return xl.get("canvas").createCanvas(e,n)}}class SZ extends L3{async _fetch(e){return B3(e)}}class kZ extends F3{async _fetch(e){return B3(e)}}const mr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function v_(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class wP{getPattern(){Lt("Abstract method `getPattern` called.")}}class _Z extends wP{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===mr.STROKE||i===mr.FILL){const s=n.current.getClippedPathBoundingBox(i,Ht(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",o,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Ne.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),v_(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);a.setTransform(d)}else v_(e,this._bbox),a=this._createGradient(e);return a}}function Z1(t,e,n,r,i,a,s,o){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const f=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,p=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(m>=b)return;const x=u[a],S=u[a+1],w=u[a+2],k=u[s],A=u[s+1],E=u[s+2],P=u[o],O=u[o+1],I=u[o+2],T=Math.round(m),j=Math.round(b);let C,L,X,z,G,W,R,V;for(let H=T;H<=j;H++){if(H<v){const we=H<m?0:(m-H)/(m-v);C=f-(f-p)*we,L=x-(x-k)*we,X=S-(S-A)*we,z=w-(w-E)*we}else{let we;H>b?we=1:v===b?we=0:we=(v-H)/(v-b),C=p-(p-g)*we,L=k-(k-P)*we,X=A-(A-O)*we,z=E-(E-I)*we}let $;H<m?$=0:H>b?$=1:$=(m-H)/(m-b),G=f-(f-g)*$,W=x-(x-P)*$,R=S-(S-O)*$,V=w-(w-I)*$;const ie=Math.round(Math.min(C,G)),Z=Math.round(Math.max(C,G));let he=d*H+ie*4;for(let we=ie;we<=Z;we++)$=(C-we)/(C-G),$<0?$=0:$>1&&($=1),c[he++]=L-(L-W)*$|0,c[he++]=X-(X-R)*$|0,c[he++]=z-(z-V)*$|0,c[he++]=255}}function AZ(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(a=0;a<l;a++){let c=a*o;for(let d=0;d<u;d++,c++)Z1(t,n,r[c],r[c+1],r[c+o],i[c],i[c+1],i[c+o]),Z1(t,n,r[c+o+1],r[c+1],r[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)Z1(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class EZ extends wP{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=u/d,m=c/h,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/m},v=d+2*2,g=h+2*2,b=r.getCanvas("mesh",v,g),x=b.context,S=x.createImageData(d,h);if(n){const k=S.data;for(let A=0,E=k.length;A<E;A+=4)k[A]=n[0],k[A+1]=n[1],k[A+2]=n[2],k[A+3]=255}for(const k of this._figures)AZ(S,k,p);return x.putImageData(S,2,2),{canvas:b.canvas,offsetX:o-2*f,offsetY:l-2*m,scaleX:f,scaleY:m}}getPattern(e,n,r,i){v_(e,this._bbox);let a;if(i===mr.SHADING)a=Ne.singularValueDecompose2dScale(Ht(e));else if(a=Ne.singularValueDecompose2dScale(n.baseTransform),this.matrix){const o=Ne.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===mr.SHADING?null:this._background,n.cachedCanvases);return i!==mr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class CZ extends wP{getPattern(){return"hotpink"}}function PZ(t){switch(t[0]){case"RadialAxial":return new _Z(t);case"Mesh":return new EZ(t);case"Dummy":return new CZ}throw new Error(`Unknown IR type: ${t[0]}`)}const MM={COLORED:1,UNCOLORED:2},kx=class kx{constructor(e,n,r,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),sw("TilingType: "+a);const c=n[0],d=n[1],h=n[2],f=n[3],m=h-c,p=f-d,v=Ne.singularValueDecompose2dScale(this.matrix),g=Ne.singularValueDecompose2dScale(this.baseTransform),b=v[0]*g[0],x=v[1]*g[1];let S=m,w=p,k=!1,A=!1;const E=Math.ceil(l*b),P=Math.ceil(u*x),O=Math.ceil(m*b),I=Math.ceil(p*x);E>=O?S=l:k=!0,P>=I?w=u:A=!0;const T=this.getSizeAndScale(S,this.ctx.canvas.width,b),j=this.getSizeAndScale(w,this.ctx.canvas.height,x),C=e.cachedCanvases.getCanvas("pattern",T.size,j.size),L=C.context,X=o.createCanvasGraphics(L);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,i,s),L.translate(-T.scale*c,-j.scale*d),X.transform(T.scale,0,0,j.scale,0,0),L.save(),this.clipBbox(X,c,d,h,f),X.baseTransform=Ht(X.ctx),X.executeOperatorList(r),X.endDrawing(),L.restore(),k||A){const z=C.canvas;k&&(S=l),A&&(w=u);const G=this.getSizeAndScale(S,this.ctx.canvas.width,b),W=this.getSizeAndScale(w,this.ctx.canvas.height,x),R=G.size,V=W.size,H=e.cachedCanvases.getCanvas("pattern-workaround",R,V),$=H.context,ie=k?Math.floor(m/l):0,Z=A?Math.floor(p/u):0;for(let he=0;he<=ie;he++)for(let we=0;we<=Z;we++)$.drawImage(z,R*he,V*we,R,V,0,0,R,V);return{canvas:H.canvas,scaleX:G.scale,scaleY:W.scale,offsetX:c,offsetY:d}}return{canvas:C.canvas,scaleX:T.scale,scaleY:j.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,n,r){const i=Math.max(kx.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),e.current.updateRectMinMax(Ht(e.ctx),[n,r,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case MM.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case MM.UNCOLORED:const o=Ne.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new JY(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let a=r;i!==mr.SHADING&&(a=Ne.transform(a,n.baseTransform),this.matrix&&(a=Ne.transform(a,this.matrix)));const s=this.createPatternCanvas(n);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};$e(kx,"MAX_PATTERN_SIZE",3e3);let b_=kx;function TZ({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=xr.isLittleEndian?4278190080:255,[l,u]=s?[a,o]:[o,a],c=r>>3,d=r&7,h=t.length;n=new Uint32Array(n.buffer);let f=0;for(let m=0;m<i;m++){for(const v=e+c;e<v;e++){const g=e<h?t[e]:255;n[f++]=g&128?u:l,n[f++]=g&64?u:l,n[f++]=g&32?u:l,n[f++]=g&16?u:l,n[f++]=g&8?u:l,n[f++]=g&4?u:l,n[f++]=g&2?u:l,n[f++]=g&1?u:l}if(d===0)continue;const p=e<h?t[e++]:255;for(let v=0;v<d;v++)n[f++]=p&1<<7-v?u:l}return{srcPos:e,destPos:f}}const NM=16,IM=100,OZ=15,RM=10,LM=1e3,Nr=16;function MZ(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,a,s,o,l){e.transform(r,i,a,s,o,l),this.__originalTransform(r,i,a,s,o,l)},t.setTransform=function(r,i,a,s,o,l){e.setTransform(r,i,a,s,o,l),this.__originalSetTransform(r,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class NZ{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function mv(t,e,n,r,i,a,s,o,l,u){const[c,d,h,f,m,p]=Ht(t);if(d===0&&h===0){const b=s*c+m,x=Math.round(b),S=o*f+p,w=Math.round(S),k=(s+l)*c+m,A=Math.abs(Math.round(k)-x)||1,E=(o+u)*f+p,P=Math.abs(Math.round(E)-w)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(f),x,w),t.drawImage(e,n,r,i,a,0,0,A,P),t.setTransform(c,d,h,f,m,p),[A,P]}if(c===0&&f===0){const b=o*h+m,x=Math.round(b),S=s*d+p,w=Math.round(S),k=(o+u)*h+m,A=Math.abs(Math.round(k)-x)||1,E=(s+l)*d+p,P=Math.abs(Math.round(E)-w)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,x,w),t.drawImage(e,n,r,i,a,0,0,P,A),t.setTransform(c,d,h,f,m,p),[P,A]}t.drawImage(e,n,r,i,a,s,o,l,u);const v=Math.hypot(c,d),g=Math.hypot(h,f);return[v*l,g*u]}function IZ(t){const{width:e,height:n}=t;if(e>LM||n>LM)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(n+1)),o,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const g of t.data){let b=128;for(;b>0;)d[h++]=g&b?0:255,b>>=1}let f=0;for(h=0,d[h]!==0&&(s[0]=1,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(s[l]=d[h]?2:1,++f),h++;for(d[h]!==0&&(s[l]=2,++f),o=1;o<n;o++){h=o*c,u=o*a,d[h-c]!==d[h]&&(s[u]=d[h]?1:8,++f);let g=(d[h]?4:0)+(d[h-c]?8:0);for(l=1;l<e;l++)g=(g>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[g]&&(s[u+l]=i[g],++f),h++;if(d[h-c]!==d[h]&&(s[u+l]=d[h]?2:4,++f),f>r)return null}for(h=c*(n-1),u=o*a,d[h]!==0&&(s[u]=8,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(s[u+l]=d[h]?4:8,++f),h++;if(d[h]!==0&&(s[u+l]=4,++f),f>r)return null;const m=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(o=0;f&&o<=n;o++){let g=o*a;const b=g+e;for(;g<b&&!s[g];)g++;if(g===b)continue;p.moveTo(g%a,o);const x=g;let S=s[g];do{const w=m[S];do g+=w;while(!s[g]);const k=s[g];k!==5&&k!==10?(S=k,s[g]=0):(S=k&51*S>>4,s[g]&=S>>2|S<<2),p.lineTo(g%a,g/a|0),s[g]||--f}while(x!==g);--o}return d=null,s=null,function(g){g.save(),g.scale(1/e,-1/n),g.translate(0,-n),g.fill(p),g.beginPath(),g.restore()}}class jM{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i3,this.textMatrixScale=1,this.fontMatrix=Vk,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Kn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Ne.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Ne.applyTransform(n,e),i=Ne.applyTransform(n.slice(2),e),a=Ne.applyTransform([n[0],n[3]],e),s=Ne.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,n){Ne.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,a,s,o,l,u,c){const d=Ne.bezierBoundingBox(n,r,i,a,s,o,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=mr.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===mr.STROKE){n||Lt("Stroke bounding box must include transform.");const i=Ne.singularValueDecompose2dScale(n),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=a,r[1]-=s,r[2]+=a,r[3]+=s}return r}updateClipFromPath(){const e=Ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=mr.FILL,n=null){return Ne.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function DM(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Nr,a=(n-i)/Nr,s=i===0?a:a+1,o=t.createImageData(r,Nr);let l=0,u;const c=e.data,d=o.data;let h,f,m,p;if(e.kind===e0.GRAYSCALE_1BPP){const v=c.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),b=g.length,x=r+7>>3,S=4294967295,w=xr.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<a?Nr:i,u=0,f=0;f<m;f++){const k=v-l;let A=0;const E=k>x?r:k*8-7,P=E&-8;let O=0,I=0;for(;A<P;A+=8)I=c[l++],g[u++]=I&128?S:w,g[u++]=I&64?S:w,g[u++]=I&32?S:w,g[u++]=I&16?S:w,g[u++]=I&8?S:w,g[u++]=I&4?S:w,g[u++]=I&2?S:w,g[u++]=I&1?S:w;for(;A<E;A++)O===0&&(I=c[l++],O=128),g[u++]=I&O?S:w,O>>=1}for(;u<b;)g[u++]=0;t.putImageData(o,0,h*Nr)}}else if(e.kind===e0.RGBA_32BPP){for(f=0,p=r*Nr*4,h=0;h<a;h++)d.set(c.subarray(l,l+p)),l+=p,t.putImageData(o,0,f),f+=Nr;h<s&&(p=r*i*4,d.set(c.subarray(l,l+p)),t.putImageData(o,0,f))}else if(e.kind===e0.RGB_24BPP)for(m=Nr,p=r*m,h=0;h<s;h++){for(h>=a&&(m=i,p=r*m),u=0,f=p;f--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(o,0,h*Nr)}else throw new Error(`bad image kind: ${e.kind}`)}function $M(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Nr,a=(n-i)/Nr,s=i===0?a:a+1,o=t.createImageData(r,Nr);let l=0;const u=e.data,c=o.data;for(let d=0;d<s;d++){const h=d<a?Nr:i;({srcPos:l}=TZ({src:u,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),t.putImageData(o,0,d*Nr)}}function Kf(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function gv(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!sr){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function FM(t,e){if(e)return!0;const n=Ne.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*bl.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const RZ=["butt","round","square"],LZ=["miter","round","bevel"],jZ={},zM={};var Sl,x_,w_;const DT=class DT{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,u){B(this,Sl);this.ctx=e,this.current=new jM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new NZ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),gv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,n,r,i){const a=e.argsArray,s=e.fnArray;let o=n||0;const l=a.length;if(l===o)return o;const u=l-o>RM&&typeof r=="function",c=u?Date.now()+OZ:0;let d=0;const h=this.commonObjs,f=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(m=s[o],m!==Yi.dependency)this[m].apply(this,a[o]);else for(const p of a[o]){const v=p.startsWith("g_")?h:f;if(!v.has(p))return v.get(p,r),o}if(o++,o===l)return o;if(u&&++d>RM){if(Date.now()>c)return r(),o;d=0}}}endDrawing(){F(this,Sl,x_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,Sl,w_).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,u="prescale1",c,d;for(;a>2&&o>1||s>2&&l>1;){let h=o,f=l;a>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/h),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),c=this.cachedCanvases.getCanvas(u,h,f),d=c.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=c.canvas,o=h,l=f,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=Ht(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const E=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(E),l||(l=new Map,this._cachedBitmapsMap.set(E,l));const P=l.get(u);if(P&&!s){const O=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:P,offsetX:O,offsetY:I}}c=P}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),$M(d.context,e));let h=Ne.transform(o,[1/r,0,0,-1/i,0,0]);h=Ne.transform(h,[1,0,0,1,0,-i]);const[f,m,p,v]=Ne.getAxialAlignedBoundingBox([0,0,r,i],h),g=Math.round(p-f)||1,b=Math.round(v-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",g,b),S=x.context,w=f,k=m;S.translate(-w,-k),S.transform(...h),c||(c=this._scaleImage(d.canvas,ls(S)),c=c.img,l&&s&&l.set(u,c)),S.imageSmoothingEnabled=FM(Ht(S),e.interpolate),mv(S,c,0,0,c.width,c.height,0,0,r,i),S.globalCompositeOperation="source-in";const A=Ne.transform(ls(S),[1,0,0,1,-w,-k]);return S.fillStyle=s?a.getPattern(n,this,A,mr.FILL):a,S.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(w),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=RZ[e]}setLineJoin(e){this.ctx.lineJoin=LZ[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...Ht(this.suspendedCtx)),Kf(this.suspendedCtx,a),MZ(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Kf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,l,u,c,d){let h=e.canvas,f=l-c,m=u-d;if(s){const v=Ne.makeHexColor(...s);if(f<0||m<0||f+r>h.width||m+i>h.height){const g=this.cachedCanvases.getCanvas("maskExtension",r,i),b=g.context;b.drawImage(h,-f,-m),b.globalCompositeOperation="destination-atop",b.fillStyle=v,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",h=g.canvas,f=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(f,m,r,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(f,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,u,r,i),n.clip(p),n.globalCompositeOperation="destination-in",n.drawImage(h,f,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Kf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Kf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,a,s){this.ctx.transform(e,n,r,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,u;const c=Ht(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=d?r.slice(0):null;for(let f=0,m=0,p=e.length;f<p;f++)switch(e[f]|0){case Yi.rectangle:s=n[m++],o=n[m++];const v=n[m++],g=n[m++],b=s+v,x=o+g;i.moveTo(s,o),v===0||g===0?i.lineTo(b,x):(i.lineTo(b,o),i.lineTo(b,x),i.lineTo(s,x)),d||a.updateRectMinMax(c,[s,o,b,x]),i.closePath();break;case Yi.moveTo:s=n[m++],o=n[m++],i.moveTo(s,o),d||a.updatePathMinMax(c,s,o);break;case Yi.lineTo:s=n[m++],o=n[m++],i.lineTo(s,o),d||a.updatePathMinMax(c,s,o);break;case Yi.curveTo:l=s,u=o,s=n[m+4],o=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,o),a.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,o,h),m+=6;break;case Yi.curveTo2:l=s,u=o,i.bezierCurveTo(s,o,n[m],n[m+1],n[m+2],n[m+3]),a.updateCurvePathMinMax(c,l,u,s,o,n[m],n[m+1],n[m+2],n[m+3],h),s=n[m+2],o=n[m+3],m+=4;break;case Yi.curveTo3:l=s,u=o,s=n[m+2],o=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,o,s,o),a.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,o,s,o,h),m+=4;break;case Yi.closePath:i.closePath();break}d&&a.updateScalingPathMinMax(c,h),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,ls(n),mr.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,ls(n),mr.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),a&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jZ}eoClip(){this.pendingClip=zM}beginText(){this.current.textMatrix=i3,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||Vk,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Xe("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${a}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=n;n<NM?u=NM:n>IM&&(u=IM),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,a,s){this.current.textMatrix=[e,n,r,i,a,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&Kn.FILL_STROKE_MASK,d=!!(l&Kn.ADD_TO_PATH_FLAG),h=s.patternFill&&!o.missingFile;let f;(o.disableFontFace||d||h)&&(f=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(a.save(),a.translate(n,r),a.beginPath(),f(a,u),i&&a.setTransform(...i),(c===Kn.FILL||c===Kn.FILL_STROKE)&&a.fill(),(c===Kn.STROKE||c===Kn.FILL_STROKE)&&a.stroke(),a.restore()):((c===Kn.FILL||c===Kn.FILL_STROKE)&&a.fillText(e,n,r),(c===Kn.STROKE||c===Kn.FILL_STROKE)&&a.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ht(a),x:n,y:r,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return tt(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const a=this.ctx,s=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,h=r.vertical,f=h?1:-1,m=r.defaultVMetrics,p=i*n.fontMatrix[0],v=n.textRenderingMode===Kn.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(c,-1):a.scale(c,1);let g;if(n.patternFill){a.save();const k=n.fillColor.getPattern(a,this,ls(a),mr.FILL);g=Ht(a),a.restore(),a.fillStyle=k}let b=n.lineWidth;const x=n.textMatrixScale;if(x===0||b===0){const k=n.textRenderingMode&Kn.FILL_STROKE_MASK;(k===Kn.STROKE||k===Kn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=x;if(s!==1&&(a.scale(s,s),b/=s),a.lineWidth=b,r.isInvalidPDFjsFont){const k=[];let A=0;for(const E of e)k.push(E.unicode),A+=E.width;a.fillText(k.join(""),0,0),n.x+=A*p*c,a.restore(),this.compose();return}let S=0,w;for(w=0;w<d;++w){const k=e[w];if(typeof k=="number"){S+=f*k*i/1e3;continue}let A=!1;const E=(k.isSpace?l:0)+o,P=k.fontChar,O=k.accent;let I,T,j=k.width;if(h){const L=k.vmetric||m,X=-(k.vmetric?L[1]:j*.5)*p,z=L[2]*p;j=L?-L[0]:j,I=X/s,T=(S+z)/s}else I=S/s,T=0;if(r.remeasure&&j>0){const L=a.measureText(P).width*1e3/i*s;if(j<L&&this.isFontSubpixelAAEnabled){const X=j/L;A=!0,a.save(),a.scale(X,1),I/=X}else j!==L&&(I+=(j-L)/2e3*i/s)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(v&&!O)a.fillText(P,I,T);else if(this.paintChar(P,I,T,g),O){const L=I+i*O.offset.x/s,X=T-i*O.offset.y/s;this.paintChar(O.fontChar,L,X,g)}}const C=h?j*p-E*u:j*p+E*u;S+=C,A&&a.restore()}h?n.y-=S:n.x+=S*c,a.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,a=r.fontSize,s=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||Vk,h=e.length,f=r.textRenderingMode===Kn.INVISIBLE;let m,p,v,g;if(!(f||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<h;++m){if(p=e[m],typeof p=="number"){g=o*p*a/1e3,this.ctx.translate(g,0),r.x+=g*c;continue}const b=(p.isSpace?u:0)+l,x=i.charProcOperatorList[p.operatorListId];if(!x){Xe(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),n.scale(a,a),n.transform(...d),this.executeOperatorList(x),this.restore()),v=Ne.applyTransform([p.width,0],d)[0]*a+b,n.translate(v,0),r.x+=v*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,a,s){this.ctx.rect(r,i,a-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ht(this.ctx),a={createCanvasGraphics:s=>new DT(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new b_(e,r,this.ctx,a,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){this.ctx.strokeStyle=this.current.strokeColor=Ne.makeHexColor(e,n,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,n,r){this.ctx.fillStyle=this.current.fillColor=Ne.makeHexColor(e,n,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=PZ(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,ls(n),mr.SHADING);const i=ls(n);if(i){const{width:a,height:s}=n.canvas,[o,l,u,c]=Ne.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,u-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Lt("Should not call beginInlineImage")}beginImageData(){Lt("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ht(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Ht(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||sw("TODO: Support non-isolated groups."),e.knockout&&Xe("Knockout groups not supported.");const r=Ht(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ne.getAxialAlignedBoundingBox(e.bbox,Ht(n));const a=[0,0,n.canvas.width,n.canvas.height];i=Ne.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),h=d.context;h.translate(-s,-o),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,o),n.save()),Kf(n,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Ne.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,a){if(F(this,Sl,x_).call(this),gv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],o=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=o;const[l,u]=Ne.singularValueDecompose2dScale(Ht(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),gv(this.ctx)}else gv(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new jM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),F(this,Sl,w_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=IZ(e)),i.compiled)){i.compiled(r);return}const a=this._createMaskCanvas(e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Ht(o);o.transform(n,r,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const h=Ne.transform(l,[n,r,i,a,s[c],s[c+1]]),[f,m]=Ne.applyTransform([0,0],h);o.drawImage(u.canvas,f,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:u}=a,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=c.context;d.save();const h=this.getObject(s,a);$M(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,ls(n),mr.FILL):r,d.fillRect(0,0,o,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),mv(n,c.canvas,0,0,o,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Xe("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!sr){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;DM(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,ls(i));i.imageSmoothingEnabled=FM(Ht(i),e.interpolate),mv(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;DM(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),mv(r,i,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===zM?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(a);if(l===u)if(e===0)s=o=1/l;else{const c=l*e;s=o=c<1?1/c:1}else if(e===0)s=1/l,o=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,o=d<1?1/d:1}}else{const l=Math.abs(n*a-r*i),u=Math.hypot(n,r),c=Math.hypot(i,a);if(e===0)s=c/l,o=u/l;else{const d=e*l;s=c>d?c/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,a]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&a===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,a),s.length>0){const o=Math.max(i,a);n.setLineDash(s.map(l=>l/o)),n.lineDashOffset/=o}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Sl=new WeakSet,x_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},w_=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Pd=DT;for(const t in Yi)Pd.prototype[t]!==void 0&&(Pd.prototype[Yi[t]]=Pd.prototype[t]);var _g,Ag;class Fs{static get workerPort(){return y(this,_g)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");D(this,_g,e)}static get workerSrc(){return y(this,Ag)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");D(this,Ag,e)}}_g=new WeakMap,Ag=new WeakMap,B(Fs,_g,null),B(Fs,Ag,"");const yv={DATA:1,ERROR:2},rn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Vr(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Lt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Tc(t.message);case"MissingPDFException":return new Pc(t.message);case"PasswordException":return new Gk(t.message,t.code);case"UnexpectedResponseException":return new ow(t.message,t.status);case"UnknownErrorException":return new qk(t.message,t.details);default:return new qk(t.message,t.toString())}}var Yd,Fi,U3,H3,W3,l0;class xp{constructor(e,n,r){B(this,Fi);B(this,Yd,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Fi,U3).bind(this),{signal:y(this,Yd).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[a].pullCall=c,l.postMessage({sourceName:s,targetName:o,stream:rn.PULL,streamId:a,desiredSize:u.desiredSize}),c.promise},cancel:u=>{bn(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[a].cancelCall=c,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:rn.CANCEL,streamId:a,reason:Vr(u)}),c.promise}},r)}destroy(){var e;(e=y(this,Yd))==null||e.abort(),D(this,Yd,null)}}Yd=new WeakMap,Fi=new WeakSet,U3=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Fi,W3).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===yv.DATA)i.resolve(e.data);else if(e.callback===yv.ERROR)i.reject(Vr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(s){s(n(e.data))}).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:yv.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:yv.ERROR,callbackId:e.callbackId,reason:Vr(s)})});return}if(e.streamId){F(this,Fi,H3).call(this,e);return}n(e.data)},H3=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:rn.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:rn.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){bn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:rn.ERROR,streamId:n,reason:Vr(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:rn.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:rn.START_COMPLETE,streamId:n,reason:Vr(u)})})},W3=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case rn.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Vr(e.reason));break;case rn.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Vr(e.reason));break;case rn.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:rn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:rn.PULL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:rn.PULL_COMPLETE,streamId:n,reason:Vr(l)})});break;case rn.ENQUEUE:if(bn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case rn.CLOSE:if(bn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),F(this,Fi,l0).call(this,s,n);break;case rn.ERROR:bn(s,"error should have stream controller"),s.controller.error(Vr(e.reason)),F(this,Fi,l0).call(this,s,n);break;case rn.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Vr(e.reason)),F(this,Fi,l0).call(this,s,n);break;case rn.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,Vr(e.reason)))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:rn.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:rn.CANCEL_COMPLETE,streamId:n,reason:Vr(l)})}),o.sinkCapability.reject(Vr(e.reason)),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},l0=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var ku,Eg;class DZ{constructor({parsedData:e,rawData:n}){B(this,ku);B(this,Eg);D(this,ku,e),D(this,Eg,n)}getRaw(){return y(this,Eg)}get(e){return y(this,ku).get(e)??null}getAll(){return pP(y(this,ku))}has(e){return y(this,ku).has(e)}}ku=new WeakMap,Eg=new WeakMap;const Jc=Symbol("INTERNAL");var Cg,Pg,Tg,Zd;class $Z{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){B(this,Cg,!1);B(this,Pg,!1);B(this,Tg,!1);B(this,Zd,!0);D(this,Cg,!!(e&ri.DISPLAY)),D(this,Pg,!!(e&ri.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(y(this,Tg))return y(this,Zd);if(!y(this,Zd))return!1;const{print:e,view:n}=this.usage;return y(this,Cg)?(n==null?void 0:n.viewState)!=="OFF":y(this,Pg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Jc&&Lt("Internal method `_setVisible` called."),D(this,Tg,r),D(this,Zd,n)}}Cg=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,Zd=new WeakMap;var Fo,ft,Qd,Jd,Og,S_;class FZ{constructor(e,n=ri.DISPLAY){B(this,Og);B(this,Fo,null);B(this,ft,new Map);B(this,Qd,null);B(this,Jd,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,D(this,Jd,e.order);for(const r of e.groups)y(this,ft).set(r.id,new $Z(n,r));if(e.baseState==="OFF")for(const r of y(this,ft).values())r._setVisible(Jc,!1);for(const r of e.on)y(this,ft).get(r)._setVisible(Jc,!0);for(const r of e.off)y(this,ft).get(r)._setVisible(Jc,!1);D(this,Qd,this.getHash())}}isVisible(e){if(y(this,ft).size===0)return!0;if(!e)return sw("Optional content group not defined."),!0;if(e.type==="OCG")return y(this,ft).has(e.id)?y(this,ft).get(e.id).visible:(Xe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,Og,S_).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!y(this,ft).has(n))return Xe(`Optional content group not found: ${n}`),!0;if(y(this,ft).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!y(this,ft).has(n))return Xe(`Optional content group not found: ${n}`),!0;if(!y(this,ft).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!y(this,ft).has(n))return Xe(`Optional content group not found: ${n}`),!0;if(!y(this,ft).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!y(this,ft).has(n))return Xe(`Optional content group not found: ${n}`),!0;if(y(this,ft).get(n).visible)return!1}return!0}return Xe(`Unknown optional content policy ${e.policy}.`),!0}return Xe(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=y(this,ft).get(e);if(!i){Xe(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=y(this,ft).get(o))==null||a._setVisible(Jc,!1,!0));i._setVisible(Jc,!!n,!0),D(this,Fo,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=y(this,ft).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}D(this,Fo,null)}get hasInitialVisibility(){return y(this,Qd)===null||this.getHash()===y(this,Qd)}getOrder(){return y(this,ft).size?y(this,Jd)?y(this,Jd).slice():[...y(this,ft).keys()]:null}getGroups(){return y(this,ft).size>0?pP(y(this,ft)):null}getGroup(e){return y(this,ft).get(e)||null}getHash(){if(y(this,Fo)!==null)return y(this,Fo);const e=new M3;for(const[n,r]of y(this,ft))e.update(`${n}:${r.visible}`);return D(this,Fo,e.hexdigest())}}Fo=new WeakMap,ft=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,Og=new WeakSet,S_=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=F(this,Og,S_).call(this,a);else if(y(this,ft).has(a))s=y(this,ft).get(a).visible;else return Xe(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class zZ{constructor(e,{disableRange:n=!1,disableStream:r=!1}){bn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});bn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){bn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new BZ(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new UZ(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class BZ{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=yP(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class UZ{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function HZ(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=o(n);return c=unescape(c),c=l(c),c=u(c),a(c)}if(n=s(t),n){const c=u(n);return a(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=o(n);return c=u(c),a(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(c,{fatal:!0}),f=lw(d);d=h.decode(f),e=!1}catch{}}return d}function a(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let h;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(c))!==null;){let[,p,v,g]=h;if(p=parseInt(p,10),p in d){if(p===0)break;continue}d[p]=[v,g]}const m=[];for(let p=0;p<d.length&&p in d;++p){let[v,g]=d[p];g=o(g),v&&(g=unescape(g),p===0&&(g=l(g))),m.push(g)}return m.join("")}function o(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const h=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(h,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,m){if(f==="q"||f==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),i(h,m);try{m=atob(m)}catch{}return i(h,m)})}return""}function SP(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function kP({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function _P(t){const e=t.get("Content-Disposition");if(e){let n=HZ(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(yP(n))return n}return null}function dw(t,e){return t===404||t===0&&e.startsWith("file:")?new Pc('Missing PDF "'+e+'".'):new ow(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function V3(t){return t===200||t===206}function G3(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function q3(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Xe(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class BM{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=SP(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new WZ(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new VZ(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class WZ{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,G3(r,this._withCredentials,this._abortController)).then(a=>{if(!V3(a.status))throw dw(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=kP({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=_P(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:q3(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class VZ{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,G3(a,this._withCredentials,this._abortController)).then(o=>{if(!V3(o.status))throw dw(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:q3(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Q1=200,J1=206;function GZ(t){const e=t.response;return typeof e!="string"?e:lw(e).buffer}class qZ{constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=SP(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const a in r)i[a]=r[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=J1):i.expectedStatus=Q1,n.responseType="arraybuffer",e.onError&&(n.onerror=function(a){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const a=i.status||Q1;if(!(a===Q1&&r.expectedStatus===J1)&&a!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const o=GZ(i);if(a===J1){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class XZ{constructor(e){this._source=e,this._manager=new qZ(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return bn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new KZ(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new YZ(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class KZ{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{const[o,...l]=s.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=kP({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=_P(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dw(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class YZ{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=dw(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZZ=/^[a-z][a-z0-9\-+.]+:/i;function QZ(t){if(ZZ.test(t))return new URL(t);const e=xl.get("url");return new URL(e.pathToFileURL(t))}function X3(t,e,n){return t.protocol==="http:"?xl.get("http").request(t,{headers:e},n):xl.get("https").request(t,{headers:e},n)}class JZ{constructor(e){this.source=e,this.url=QZ(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=SP(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return bn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new nQ(this):new eQ(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new rQ(this,e,n):new tQ(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class K3{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y3{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class eQ extends K3{constructor(e){super(e);const n=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new Pc(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:o}=kP({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=_P(a)};this._request=X3(this._url,n,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class tQ extends Y3{constructor(e,n,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${n}-${r-1}`;const a=s=>{if(s.statusCode===404){const o=new Pc(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=X3(this._url,i,a),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class nQ extends K3{constructor(e){super(e);const n=xl.get("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Pc(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class rQ extends Y3{constructor(e,n,r){super(e);const i=xl.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:n,end:r-1}))}}const iQ=1e5,Er=30,aQ=.8;var ej,zo,Or,Mg,Ng,_u,ws,Ig,Rg,Au,eh,th,Bo,nh,Lg,rh,Eu,jg,Dg,Xt,Cu,Pu,$g,Uo,ih,oo,Z3,Q3,__,hi,u0,A_,J3,ez;let k_=(Xt=class{constructor({textContentSource:e,container:n,viewport:r}){B(this,oo);B(this,zo,Promise.withResolvers());B(this,Or,null);B(this,Mg,!1);B(this,Ng,!!((ej=globalThis.FontInspector)!=null&&ej.enabled));B(this,_u,null);B(this,ws,null);B(this,Ig,0);B(this,Rg,0);B(this,Au,null);B(this,eh,null);B(this,th,0);B(this,Bo,0);B(this,nh,Object.create(null));B(this,Lg,[]);B(this,rh,null);B(this,Eu,[]);B(this,jg,new WeakMap);B(this,Dg,null);var l;if(e instanceof ReadableStream)D(this,rh,e);else if(typeof e=="object")D(this,rh,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,Or,D(this,eh,n)),D(this,Bo,r.scale*(globalThis.devicePixelRatio||1)),D(this,th,r.rotation),D(this,ws,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;D(this,Dg,[1,0,0,-1,-s,o+a]),D(this,Rg,i),D(this,Ig,a),F(l=Xt,hi,J3).call(l),fc(n,r),y(this,zo).promise.finally(()=>{y(Xt,ih).delete(this),D(this,ws,null),D(this,nh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=xr.platform;return tt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{y(this,Au).read().then(({value:n,done:r})=>{if(r){y(this,zo).resolve();return}y(this,_u)??D(this,_u,n.lang),Object.assign(y(this,nh),n.styles),F(this,oo,Z3).call(this,n.items),e()},y(this,zo).reject)};return D(this,Au,y(this,rh).getReader()),y(Xt,ih).add(this),e(),y(this,zo).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==y(this,th)&&(n==null||n(),D(this,th,i),fc(y(this,eh),{rotation:i})),r!==y(this,Bo)){n==null||n(),D(this,Bo,r);const s={div:null,properties:null,ctx:F(a=Xt,hi,u0).call(a,y(this,_u))};for(const o of y(this,Eu))s.properties=y(this,jg).get(o),s.div=o,F(this,oo,__).call(this,s)}}cancel(){var n;const e=new Tc("TextLayer task cancelled.");(n=y(this,Au))==null||n.cancel(e).catch(()=>{}),D(this,Au,null),y(this,zo).reject(e)}get textDivs(){return y(this,Eu)}get textContentItemsStr(){return y(this,Lg)}static cleanup(){if(!(y(this,ih).size>0)){y(this,Cu).clear();for(const{canvas:e}of y(this,Pu).values())e.remove();y(this,Pu).clear()}}},zo=new WeakMap,Or=new WeakMap,Mg=new WeakMap,Ng=new WeakMap,_u=new WeakMap,ws=new WeakMap,Ig=new WeakMap,Rg=new WeakMap,Au=new WeakMap,eh=new WeakMap,th=new WeakMap,Bo=new WeakMap,nh=new WeakMap,Lg=new WeakMap,rh=new WeakMap,Eu=new WeakMap,jg=new WeakMap,Dg=new WeakMap,Cu=new WeakMap,Pu=new WeakMap,$g=new WeakMap,Uo=new WeakMap,ih=new WeakMap,oo=new WeakSet,Z3=function(e){var i,a;if(y(this,Mg))return;(a=y(this,ws)).ctx??(a.ctx=F(i=Xt,hi,u0).call(i,y(this,_u)));const n=y(this,Eu),r=y(this,Lg);for(const s of e){if(n.length>iQ){Xe("Ignoring additional textDivs for performance reasons."),D(this,Mg,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=y(this,Or);D(this,Or,document.createElement("span")),y(this,Or).classList.add("markedContent"),s.id!==null&&y(this,Or).setAttribute("id",`${s.id}`),o.append(y(this,Or))}else s.type==="endMarkedContent"&&D(this,Or,y(this,Or).parentNode);continue}r.push(s.str),F(this,oo,Q3).call(this,s)}},Q3=function(e){var p;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};y(this,Eu).push(n);const i=Ne.transform(y(this,Dg),e.transform);let a=Math.atan2(i[1],i[0]);const s=y(this,nh)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=y(this,Ng)&&s.fontSubstitution||s.fontFamily;o=Xt.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*F(p=Xt,hi,ez).call(p,o,y(this,_u));let c,d;a===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(a),d=i[5]-u*Math.cos(a));const h="calc(var(--scale-factor)*",f=n.style;y(this,Or)===y(this,eh)?(f.left=`${(100*c/y(this,Rg)).toFixed(2)}%`,f.top=`${(100*d/y(this,Ig)).toFixed(2)}%`):(f.left=`${h}${c.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(y(Xt,Uo)*l).toFixed(2)}px)`,f.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,y(this,Ng)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);v!==g&&Math.max(v,g)/Math.min(v,g)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),y(this,jg).set(n,r),y(this,ws).div=n,y(this,ws).properties=r,F(this,oo,__).call(this,y(this,ws)),r.hasText&&y(this,Or).append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),y(this,Or).append(v)}},__=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(y(Xt,Uo)>1&&(s=`scale(${1/y(Xt,Uo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:c}=r;F(o=Xt,hi,A_).call(o,i,c*y(this,Bo),l);const{width:d}=i.measureText(n.textContent);d>0&&(s=`scaleX(${u*y(this,Bo)/d}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},hi=new WeakSet,u0=function(e=null){let n=y(this,Pu).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,Pu).set(e,n),y(this,$g).set(n,{size:0,family:""})}return n},A_=function(e,n,r){const i=y(this,$g).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},J3=function(){if(y(this,Uo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),D(this,Uo,e.getBoundingClientRect().height),e.remove()},ez=function(e,n){const r=y(this,Cu).get(e);if(r)return r;const i=F(this,hi,u0).call(this,n);i.canvas.width=i.canvas.height=Er,F(this,hi,A_).call(this,i,Er,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const c=s/(s+o);return y(this,Cu).set(e,c),i.canvas.width=i.canvas.height=0,c}i.strokeStyle="red",i.clearRect(0,0,Er,Er),i.strokeText("g",0,0);let l=i.getImageData(0,0,Er,Er).data;o=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){o=Math.ceil(c/4/Er);break}i.clearRect(0,0,Er,Er),i.strokeText("A",0,Er),l=i.getImageData(0,0,Er,Er).data,s=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){s=Er-Math.floor(c/4/Er);break}i.canvas.width=i.canvas.height=0;const u=s?s/(s+o):aQ;return y(this,Cu).set(e,u),u},B(Xt,hi),B(Xt,Cu,new Map),B(Xt,Pu,new Map),B(Xt,$g,new WeakMap),B(Xt,Uo,null),B(Xt,ih,new Set),Xt);class xm{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(xm.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const u of a.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const sQ=65536,oQ=100,lQ=5e3,uQ=sr?wZ:vZ,cQ=sr?SZ:j3,dQ=sr?xZ:bZ,hQ=sr?kZ:z3;function fQ(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new E_,{docId:n}=e,r=t.url?pQ(t.url):null,i=t.data?mQ(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof tz?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:sQ;let c=t.worker instanceof Td?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!cw(t.docBaseUrl)?t.docBaseUrl:null,f=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,p=t.CMapReaderFactory||cQ,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,g=t.StandardFontDataFactory||hQ,b=t.stopAtErrors!==!0,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,S=t.isEvalSupported!==!1,w=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!sr,k=typeof t.isChrome=="boolean"?t.isChrome:!xr.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),A=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E=typeof t.disableFontFace=="boolean"?t.disableFontFace:sr,P=t.fontExtraProperties===!0,O=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,T=t.disableRange===!0,j=t.disableStream===!0,C=t.disableAutoFetch===!0,L=t.pdfBug===!0,X=t.CanvasFactory||uQ,z=t.FilterFactory||dQ,G=t.enableHWA===!0,W=l?l.length:t.length??NaN,R=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!sr&&!E,V=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===j3&&g===z3&&f&&v&&fp(f,document.baseURI)&&fp(v,document.baseURI);t.canvasFactory&&TM("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&TM("`filterFactory`-instance option, please use `FilterFactory` instead.");const H=null;KY(d);const $={canvasFactory:new X({ownerDocument:I,enableHWA:G}),filterFactory:new z({docId:n,ownerDocument:I}),cMapReaderFactory:V?null:new p({baseUrl:f,isCompressed:m}),standardFontDataFactory:V?null:new g({baseUrl:v})};if(!c){const he={verbosity:d,port:Fs.workerPort};c=he.port?Td.fromPort(he):new Td(he),e._worker=c}const ie={docId:n,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:C,rangeChunkSize:u,length:W,docBaseUrl:h,enableXfa:O,evaluatorOptions:{maxImageSize:x,disableFontFace:E,ignoreErrors:b,isEvalSupported:S,isOffscreenCanvasSupported:w,isChrome:k,canvasMaxAreaInBytes:A,fontExtraProperties:P,useSystemFonts:R,cMapUrl:V?f:null,standardFontDataUrl:V?v:null}},Z={disableFontFace:E,fontExtraProperties:P,ownerDocument:I,pdfBug:L,styleElement:H,loadingParams:{disableAutoFetch:C,enableXfa:O}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const he=c.messageHandler.sendWithPromise("GetDocRequest",ie,i?[i.buffer]:null);let we;if(l)we=new zZ(l,{disableRange:T,disableStream:j});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let me;sr?me=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&fp(r)?BM:JZ:me=fp(r)?BM:XZ,we=new me({url:r,length:W,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:T,disableStream:j})}return he.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ae=new xp(n,me,c.port),fe=new bQ(ae,e,we,Z,$);e._transport=fe,ae.send("Ready",null)})}).catch(e._capability.reject),e}function pQ(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(sr&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function mQ(t){if(sr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return lw(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function UM(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var _x;const Ax=class Ax{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${cr(Ax,_x)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_x=new WeakMap,B(Ax,_x,0);let E_=Ax,tz=class{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Lt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class gQ{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ho,Ss,Ni,ed,c0;class yQ{constructor(e,n,r,i=!1){B(this,Ni);B(this,Ho,null);B(this,Ss,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new PM:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new nz,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new Cy({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Ao.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:d=!1}){var S,w;(S=this._stats)==null||S.time("Overall");const h=this._transport.getRenderingIntent(r,i,c,d),{renderingIntent:f,cacheKey:m}=h;D(this,Ss,!1),F(this,Ni,c0).call(this),o||(o=this._transport.getOptionalContentConfig(f));let p=this._intentStates.get(m);p||(p=Object.create(null),this._intentStates.set(m,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const v=!!(f&ri.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(h));const g=k=>{var A;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||v)&&D(this,Ss,!0),F(this,Ni,ed).call(this,!v),k?(b.capability.reject(k),this._abortOperatorList({intentState:p,reason:k instanceof Error?k:new Error(k)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new P_({callback:g,params:{canvasContext:e,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(b);const x=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([k,A])=>{var E;if(this.destroyed){g();return}if((E=this._stats)==null||E.time("Rendering"),!(A.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:k,optionalContentConfig:A}),b.operatorListChanged()}).catch(g),x}getOperatorList({intent:e="display",annotationMode:n=Ao.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>xm.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),D(this,Ss,!1),F(this,Ni,c0).call(this),Promise.all(e)}cleanup(e=!1){D(this,Ss,!0);const n=F(this,Ni,ed).call(this,!1);return e&&n&&this._stats&&(this._stats=new PM),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,Ni,ed).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(n);u.streamReader=l;const c=()=>{l.read().then(({value:d,done:h})=>{if(h){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),c())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const h of u.renderTasks)h.operatorListChanged();F(this,Ni,ed).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};c()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof gP){let i=oQ;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Tc(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Ho=new WeakMap,Ss=new WeakMap,Ni=new WeakSet,ed=function(e=!1){if(F(this,Ni,c0).call(this),!y(this,Ss)||this.destroyed)return!1;if(e)return D(this,Ho,setTimeout(()=>{D(this,Ho,null),F(this,Ni,ed).call(this,!1)},lQ)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,Ss,!1),!0},c0=function(){y(this,Ho)&&(clearTimeout(y(this,Ho)),D(this,Ho,null))};var ks,Ex;class vQ{constructor(){B(this,ks,new Map);B(this,Ex,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};y(this,Ex).then(()=>{for(const[i]of y(this,ks))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){Xe("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}y(this,ks).set(n,i)}removeEventListener(e,n){const r=y(this,ks).get(n);r==null||r(),y(this,ks).delete(n)}terminate(){for(const[,e]of y(this,ks))e==null||e();y(this,ks).clear()}}ks=new WeakMap,Ex=new WeakMap;var Cx,Tu,Ou,ah,d0,sh,h0;const Dt=class Dt{constructor({name:e=null,port:n=null,verbosity:r=YY()}={}){B(this,ah);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=y(Dt,Ou))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(y(Dt,Ou)||D(Dt,Ou,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return sr?Promise.all([xl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new xp("main","worker",e),this._messageHandler.on("ready",function(){}),F(this,ah,d0).call(this)}_initialize(){if(y(Dt,Tu)||y(Dt,sh,h0)){this._setupFakeWorker();return}let{workerSrc:e}=Dt;try{Dt._isSameOrigin(window.location.href,e)||(e=Dt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new xp("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,F(this,ah,d0).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{sw("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){y(Dt,Tu)||(Xe("Setting up fake worker."),D(Dt,Tu,!0)),Dt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new vQ;this._port=n;const r=`fake${cr(Dt,Cx)._++}`,i=new xp(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new xp(r,r+"_worker",n),F(this,ah,d0).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=y(Dt,Ou))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=y(this,Ou))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Dt(e)}static get workerSrc(){if(Fs.workerSrc)return Fs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return tt(this,"_setupFakeWorkerGlobal",(async()=>y(this,sh,h0)?y(this,sh,h0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cx=new WeakMap,Tu=new WeakMap,Ou=new WeakMap,ah=new WeakSet,d0=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},sh=new WeakSet,h0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},B(Dt,sh),B(Dt,Cx,0),B(Dt,Tu,!1),B(Dt,Ou),sr&&(D(Dt,Tu,!0),Fs.workerSrc||(Fs.workerSrc="./pdf.worker.mjs")),Dt._isSameOrigin=(e,n)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(n,r);return r.origin===i.origin},Dt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let Td=Dt;var _s,Ua,oh,lh,Ha,Mu,wp;class bQ{constructor(e,n,r,i,a){B(this,Mu);B(this,_s,new Map);B(this,Ua,new Map);B(this,oh,new Map);B(this,lh,new Map);B(this,Ha,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new nz,this.fontLoader=new gZ({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return tt(this,"annotationStorage",new xP)}getRenderingIntent(e,n=Ao.ENABLE,r=null,i=!1,a=!1){let s=ri.DISPLAY,o=p_;switch(e){case"any":s=ri.ANY;break;case"display":break;case"print":s=ri.PRINT;break;default:Xe(`getRenderingIntent - invalid intent: ${e}`)}const l=s&ri.PRINT&&r instanceof I3?r:this.annotationStorage;switch(n){case Ao.DISABLE:s+=ri.ANNOTATIONS_DISABLE;break;case Ao.ENABLE:break;case Ao.ENABLE_FORMS:s+=ri.ANNOTATIONS_FORMS;break;case Ao.ENABLE_STORAGE:s+=ri.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Xe(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=ri.IS_EDITING),a&&(s+=ri.OPLIST);const{ids:u,hash:c}=l.modifiedIds,d=[s,o.hash,c];return{renderingIntent:s,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=y(this,Ha))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of y(this,Ua).values())e.push(i._destroy());y(this,Ua).clear(),y(this,oh).clear(),y(this,lh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),y(this,_s).clear(),this.filterFactory.destroy(),k_.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Tc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{bn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}bn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{bn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}bn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new gQ(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new Gk(r.message,r.code);break;case"InvalidPDFException":i=new a3(r.message);break;case"MissingPDFException":i=new Pc(r.message);break;case"UnexpectedResponseException":i=new ow(r.message,r.status);break;case"UnknownErrorException":i=new qk(r.message,r.details);break;default:Lt("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(D(this,Ha,Promise.withResolvers()),n.onPassword){const i=a=>{a instanceof Error?y(this,Ha).reject(a):y(this,Ha).resolve({password:a})};try{n.onPassword(i,r.code)}catch(a){y(this,Ha).reject(a)}}else y(this,Ha).reject(new Gk(r.message,r.code));return y(this,Ha).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;y(this,Ua).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in a){const f=a.error;Xe(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new yZ(a,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=a;bn(h,"The imageRef must be defined.");for(const f of y(this,Ua).values())for(const[,m]of f.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var l;if(this.destroyed)return;const o=y(this,Ua).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(r,s),(s==null?void 0:s.dataLen)>VY&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=y(this,oh).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&y(this,lh).set(a.refStr,e);const s=new yQ(n,a,this,this._params.pdfBug);return y(this,Ua).set(n,s),s});return y(this,oh).set(n,i),i}getPageIndex(e){return UM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,Mu,wp).call(this,"GetFieldObjects")}hasJSActions(){return F(this,Mu,wp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return F(this,Mu,wp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,Mu,wp).call(this,"GetOptionalContentConfig").then(n=>new FZ(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=y(this,_s).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new DZ(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return y(this,_s).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of y(this,Ua).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),y(this,_s).clear(),this.filterFactory.destroy(!0),k_.cleanup()}}cachedPageNumber(e){if(!UM(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return y(this,lh).get(n)??null}}_s=new WeakMap,Ua=new WeakMap,oh=new WeakMap,lh=new WeakMap,Ha=new WeakMap,Mu=new WeakSet,wp=function(e,n=null){const r=y(this,_s).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return y(this,_s).set(e,i),i};const vv=Symbol("INITIAL_DATA");var na,Fg,C_;class nz{constructor(){B(this,Fg);B(this,na,Object.create(null))}get(e,n=null){if(n){const i=F(this,Fg,C_).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=y(this,na)[e];if(!r||r.data===vv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=y(this,na)[e];return!!n&&n.data!==vv}resolve(e,n=null){const r=F(this,Fg,C_).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in y(this,na)){const{data:r}=y(this,na)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}D(this,na,Object.create(null))}*[Symbol.iterator](){for(const e in y(this,na)){const{data:n}=y(this,na)[e];n!==vv&&(yield[e,n])}}}na=new WeakMap,Fg=new WeakSet,C_=function(e){var n;return(n=y(this,na))[e]||(n[e]={...Promise.withResolvers(),data:vv})};var Wo;class xQ{constructor(e){B(this,Wo,null);D(this,Wo,e),this.onContinue=null}get promise(){return y(this,Wo).capability.promise}cancel(e=0){y(this,Wo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=y(this,Wo).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=y(this,Wo);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Wo=new WeakMap;var Vo,Nu;const Yl=class Yl{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){B(this,Vo,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xQ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var o,l;if(this.cancelled)return;if(this._canvas){if(y(Yl,Nu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(Yl,Nu).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new Pd(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),y(this,Vo)&&(window.cancelAnimationFrame(y(this,Vo)),D(this,Vo,null)),y(Yl,Nu).delete(this._canvas),this.callback(e||new gP(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,Vo,window.requestAnimationFrame(()=>{D(this,Vo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(Yl,Nu).delete(this._canvas),this.callback())))}};Vo=new WeakMap,Nu=new WeakMap,B(Yl,Nu,new WeakSet);let P_=Yl;const wQ="4.8.69",SQ="3634dab10";function HM(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Yf(t){return Math.max(0,Math.min(255,255*t))}class WM{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yf(e),[e,e,e]}static G_HTML([e]){const n=HM(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Yf)}static RGB_HTML(e){return`#${e.map(HM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Yf(1-Math.min(1,e+i)),Yf(1-Math.min(1,r+i)),Yf(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class kQ{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Lt("Abstract method `_createSVG` called.")}}class AP extends kQ{_createSVG(e){return document.createElementNS(cs,e)}}class rz{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,h;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);s.append(f),o&&xm.shouldBuildText(i.name)&&u.push(f)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[f,m,p]=c.at(-1);if(m+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:g}=v;if(g==="#text"){const x=document.createTextNode(v.value);u.push(x),p.append(x);continue}const b=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,g):document.createElement(g);if(p.append(b),v.attributes&&this.setAttributes({html:b,element:v,storage:n,intent:a,linkService:r}),((h=v.children)==null?void 0:h.length)>0)c.push([v,-1,b]);else if(v.value){const x=document.createTextNode(v.value);o&&xm.shouldBuildText(g)&&u.push(x),b.append(x)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ty=1e3,_Q=9,mc=new WeakSet;function qs(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class AQ{static create(e){switch(e.data.annotationType){case fn.LINK:return new iz(e);case fn.TEXT:return new EQ(e);case fn.WIDGET:switch(e.data.fieldType){case"Tx":return new CQ(e);case"Btn":return e.data.radioButton?new oz(e):e.data.checkBox?new TQ(e):new OQ(e);case"Ch":return new MQ(e);case"Sig":return new PQ(e)}return new Oc(e);case fn.POPUP:return new O_(e);case fn.FREETEXT:return new hz(e);case fn.LINE:return new IQ(e);case fn.SQUARE:return new RQ(e);case fn.CIRCLE:return new LQ(e);case fn.POLYLINE:return new fz(e);case fn.CARET:return new DQ(e);case fn.INK:return new EP(e);case fn.POLYGON:return new jQ(e);case fn.HIGHLIGHT:return new pz(e);case fn.UNDERLINE:return new $Q(e);case fn.SQUIGGLY:return new FQ(e);case fn.STRIKEOUT:return new zQ(e);case fn.STAMP:return new mz(e);case fn.FILEATTACHMENT:return new BQ(e);default:return new nn(e)}}}var Iu,uh,ch,zg,T_;const $T=class $T{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){B(this,zg);B(this,Iu,null);B(this,uh,!1);B(this,ch,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $T._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;y(this,Iu)||D(this,Iu,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&F(this,zg,T_).call(this,n),(r=y(this,ch))==null||r.popup.updateEdited(e)}resetEdited(){var e;y(this,Iu)&&(F(this,zg,T_).call(this,y(this,Iu).rect),(e=y(this,ch))==null||e.popup.resetEdited(),D(this,Iu,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),this instanceof Oc||(a.tabIndex=Ty);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof O_){const{rotation:p}=n;return!n.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:o,height:l}=qs(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const p=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(p>0||v>0){const b=`calc(${p}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;s.borderRadius=b}else if(this instanceof oz){const b=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=b}switch(n.borderStyle.style){case Xf.SOLID:s.borderStyle="solid";break;case Xf.DASHED:s.borderStyle="dashed";break;case Xf.BEVELED:Xe("Unimplemented border style: beveled");break;case Xf.INSET:Xe("Unimplemented border style: inset");break;case Xf.UNDERLINE:s.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(D(this,uh,!0),s.borderColor=Ne.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):s.borderWidth=0}const u=Ne.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:f}=i.rawDims;s.left=`${100*(u[0]-h)/c}%`,s.top=`${100*(u[1]-f)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*o/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=qs(this.data.rect);let o,l;e%180===0?(o=100*a/r,l=100*s/i):(o=100*s/r,l=100*a/i),n.style.width=`${o}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=WM[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:WM[`${s}_rgb`](o)})};return tt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,g,b]=e.subarray(2,6);if(i===p&&a===v&&n===g&&r===b)return}const{style:s}=this.container;let o;if(y(this,uh)){const{borderColor:p,borderWidth:v}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-n,u=a-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const f=c.createElement("clipPath"),m=`clippath_${this.data.id}`;f.setAttribute("id",m),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let p=2,v=e.length;p<v;p+=8){const g=e[p],b=e[p+1],x=e[p+2],S=e[p+3],w=c.createElement("rect"),k=(x-n)/l,A=(a-b)/u,E=(g-x)/l,P=(b-S)/u;w.setAttribute("x",k),w.setAttribute("y",A),w.setAttribute("width",E),w.setAttribute("height",P),f.append(w),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${A}" width="${E}" height="${P}"/>`)}y(this,uh)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,n=D(this,ch,new O_({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Lt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!mc.has(u)){Xe(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&mc.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};Iu=new WeakMap,uh=new WeakMap,ch=new WeakMap,zg=new WeakSet,T_=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=qs(e);n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/a}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let nn=$T;var si,Bl,az,sz;class iz extends nn{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});B(this,si);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action),a=!0):n.attachment?(F(this,si,az).call(this,i,n.attachment,n.attachmentDest),a=!0):n.setOCGState?(F(this,si,sz).call(this,i,n.setOCGState),a=!0):n.dest?(this._bindLink(i,n.dest),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,si,Bl).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),F(this,si,Bl).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}n.onclick||(n.onclick=()=>!1),F(this,si,Bl).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,si,Bl).call(this),!this._fieldObjects){Xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:a,refs:s,include:o}=r,l=[];if(a.length!==0||s.length!==0){const h=new Set(s);for(const f of a){const m=this._fieldObjects[f]||[];for(const{id:p}of m)h.add(p)}for(const f of Object.values(this._fieldObjects))for(const m of f)h.has(m.id)===o&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,c=[];for(const h of l){const{id:f}=h;switch(c.push(f),h.type){case"text":{const p=h.defaultValue||"";u.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=h.defaultValue===h.exportValues;u.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=h.defaultValue||"";u.setValue(f,{value:p});break}default:continue}const m=document.querySelector(`[data-element-id="${f}"]`);if(m){if(!mc.has(m)){Xe(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}si=new WeakSet,Bl=function(){this.container.setAttribute("data-internal-link","")},az=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,i),!1},F(this,si,Bl).call(this)},sz=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),F(this,si,Bl).call(this)};class EQ extends nn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Oc extends nn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return xr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[l,u]of r)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ne.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||_Q,a=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(u/(X1*i))||1,d=u/c;s=Math.min(i,l(d/X1))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(u/X1))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=Ne.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class CQ extends Oc{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),mc.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ty,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(n,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue??"";r.value=c.userValue=f,c.formattedValue=null});let d=h=>{const{formattedValue:f}=c;f!=null&&(h.target.value=f),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var p;if(c.focused)return;const{target:m}=f;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const m={value(p){c.userValue=p.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),p.target.value=c.userValue},formattedValue(p){const{formattedValue:v}=p.detail;c.formattedValue=v,v!=null&&p.target!==document.activeElement&&(p.target.value=v),e.setValue(n,{formattedValue:v})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var x;const{charLimit:v}=p.detail,{target:g}=p;if(v===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",v);let b=c.userValue;!b||b.length<=v||(b=b.slice(0,v),g.value=c.userValue=b,e.setValue(n,{value:b}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("keydown",f=>{var v;c.commitKey=1;let m=-1;if(f.key==="Escape"?m=0:f.key==="Enter"&&!this.data.multiLine?m=2:f.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:p}=f.target;c.lastCommittedValue!==p&&(c.lastCommittedValue=p,c.userValue=p,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:m,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",f=>{var p,v;if(!c.focused||!f.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(c.focused=!1);const{value:m}=f.target;c.userValue=m,c.lastCommittedValue!==m&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),h(f)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",f=>{var w;c.lastCommittedValue=null;const{data:m,target:p}=f,{value:v,selectionStart:g,selectionEnd:b}=p;let x=g,S=b;switch(f.inputType){case"deleteWordBackward":{const k=v.substring(0,g).match(/\w*[^\w]*$/);k&&(x-=k[0].length);break}case"deleteWordForward":{const k=v.substring(g).match(/^[^\w]*\w*/);k&&(S+=k[0].length);break}case"deleteContentBackward":g===b&&(x-=1);break;case"deleteContentForward":g===b&&(S+=1);break}f.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:m||"",willCommit:!1,selStart:x,selEnd:S}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class PQ extends Oc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class TQ extends Oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return mc.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=Ty,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class oz extends Oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(mc.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=Ty,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const h=c&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class OQ extends iz{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class MQ extends Oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");mc.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ty;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),a=!1),i.append(d)}let s=null;if(a){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=c=>{const d=c?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(h){s==null||s();const f=h.detail.value,m=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=m.has(p.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,m=h.detail.remove;f[m].selected=!1,i.remove(m),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:m,exportValue:p}=h.detail.insert,v=i.children[f],g=document.createElement("option");g.textContent=m,g.value=p,v?v.before(g):i.append(g),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const m of f){const{displayValue:p,exportValue:v}=m,g=document.createElement("option");g.textContent=p,g.value=v,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const m of h.target.options)m.selected=f.has(m.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var f;const d=o(!0),h=o(!1);e.setValue(n,{value:d}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class O_ extends nn{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:nn._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new NQ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${mP}${r}`).join(",")),this.container}}var dh,Px,Tx,hh,Ru,qt,As,fh,Bg,Ug,ph,Es,ra,Cs,Hg,Ps,Wg,Lu,ju,xt,f0,M_,lz,uz,cz,dz,p0,m0,N_;class NQ{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:u,parentRect:c,open:d}){B(this,xt);B(this,dh,F(this,xt,cz).bind(this));B(this,Px,F(this,xt,N_).bind(this));B(this,Tx,F(this,xt,m0).bind(this));B(this,hh,F(this,xt,p0).bind(this));B(this,Ru,null);B(this,qt,null);B(this,As,null);B(this,fh,null);B(this,Bg,null);B(this,Ug,null);B(this,ph,null);B(this,Es,!1);B(this,ra,null);B(this,Cs,null);B(this,Hg,null);B(this,Ps,null);B(this,Wg,null);B(this,Lu,null);B(this,ju,!1);var h;D(this,qt,e),D(this,Wg,i),D(this,As,s),D(this,Ps,o),D(this,Ug,l),D(this,Ru,n),D(this,Hg,u),D(this,ph,c),D(this,Bg,r),D(this,fh,vP.toDateObject(a)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",y(this,hh)),f.addEventListener("mouseenter",y(this,Tx)),f.addEventListener("mouseleave",y(this,Px)),f.classList.add("popupTriggerArea");for(const f of r)(h=f.container)==null||h.addEventListener("keydown",y(this,dh));y(this,qt).hidden=!0,d&&F(this,xt,p0).call(this)}render(){if(y(this,ra))return;const e=D(this,ra,document.createElement("div"));if(e.className="popup",y(this,Ru)){const a=e.style.outlineColor=Ne.makeHexColor(...y(this,Ru));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Ne.makeHexColor(...y(this,Ru).map(o=>Math.floor(.7*(255-o)+o)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=y(this,Wg),e.append(n),y(this,fh)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,fh).valueOf()})),n.append(a)}const i=y(this,xt,f0);if(i)rz.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(y(this,As));e.append(a)}y(this,qt).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;y(this,Lu)||D(this,Lu,{contentsObj:y(this,As),richText:y(this,Ps)}),e&&D(this,Cs,null),n&&(D(this,Ps,F(this,xt,uz).call(this,n)),D(this,As,null)),(r=y(this,ra))==null||r.remove(),D(this,ra,null)}resetEdited(){var e;y(this,Lu)&&({contentsObj:cr(this,As)._,richText:cr(this,Ps)._}=y(this,Lu),D(this,Lu,null),(e=y(this,ra))==null||e.remove(),D(this,ra,null),D(this,Cs,null))}forceHide(){D(this,ju,this.isVisible),y(this,ju)&&(y(this,qt).hidden=!0)}maybeShow(){y(this,ju)&&(y(this,ra)||F(this,xt,m0).call(this),D(this,ju,!1),y(this,qt).hidden=!1)}get isVisible(){return y(this,qt).hidden===!1}}dh=new WeakMap,Px=new WeakMap,Tx=new WeakMap,hh=new WeakMap,Ru=new WeakMap,qt=new WeakMap,As=new WeakMap,fh=new WeakMap,Bg=new WeakMap,Ug=new WeakMap,ph=new WeakMap,Es=new WeakMap,ra=new WeakMap,Cs=new WeakMap,Hg=new WeakMap,Ps=new WeakMap,Wg=new WeakMap,Lu=new WeakMap,ju=new WeakMap,xt=new WeakSet,f0=function(){const e=y(this,Ps),n=y(this,As);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&y(this,Ps).html||null},M_=function(){var e,n,r;return((r=(n=(e=y(this,xt,f0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},lz=function(){var e,n,r;return((r=(n=(e=y(this,xt,f0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},uz=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:y(this,xt,lz),fontSize:y(this,xt,M_)?`calc(${y(this,xt,M_)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},cz=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&y(this,Es))&&F(this,xt,p0).call(this)},dz=function(){if(y(this,Cs)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=y(this,Ug);let s=!!y(this,ph),o=s?y(this,ph):y(this,Hg);for(const m of y(this,Bg))if(!o||Ne.intersect(m.data.rect,o)!==null){o=m.data.rect,s=!0;break}const l=Ne.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=s?o[2]-o[0]+5:0,d=l[0]+c,h=l[1];D(this,Cs,[100*(d-i)/n,100*(h-a)/r]);const{style:f}=y(this,qt);f.left=`${y(this,Cs)[0]}%`,f.top=`${y(this,Cs)[1]}%`},p0=function(){D(this,Es,!y(this,Es)),y(this,Es)?(F(this,xt,m0).call(this),y(this,qt).addEventListener("click",y(this,hh)),y(this,qt).addEventListener("keydown",y(this,dh))):(F(this,xt,N_).call(this),y(this,qt).removeEventListener("click",y(this,hh)),y(this,qt).removeEventListener("keydown",y(this,dh)))},m0=function(){y(this,ra)||this.render(),this.isVisible?y(this,Es)&&y(this,qt).classList.add("focused"):(F(this,xt,dz).call(this),y(this,qt).hidden=!1,y(this,qt).style.zIndex=parseInt(y(this,qt).style.zIndex)+1e3)},N_=function(){y(this,qt).classList.remove("focused"),!(y(this,Es)||!this.isVisible)&&(y(this,qt).hidden=!0,y(this,qt).style.zIndex=parseInt(y(this,qt).style.zIndex)-1e3)};class hz extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Vg;class IQ extends nn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});B(this,Vg,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=qs(n.rect),a=this.svgFactory.create(r,i,!0),s=D(this,Vg,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vg=new WeakMap;var Gg;class RQ extends nn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});B(this,Gg,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=qs(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,Gg,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Gg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gg=new WeakMap;var qg;class LQ extends nn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});B(this,qg,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=qs(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,qg,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}qg=new WeakMap;var Xg;class fz extends nn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});B(this,Xg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a}}=this;if(!r)return this.container;const{width:s,height:o}=qs(n),l=this.svgFactory.create(s,o,!0);let u=[];for(let d=0,h=r.length;d<h;d+=2){const f=r[d]-n[0],m=n[3]-r[d+1];u.push(`${f},${m}`)}u=u.join(" ");const c=D(this,Xg,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xg=new WeakMap;class jQ extends fz{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DQ extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kg;class EP extends nn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});B(this,Kg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ve.HIGHLIGHT:Ve.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{width:s,height:o}=qs(n),l=this.svgFactory.create(s,o,!0);for(const u of r){let c=[];for(let h=0,f=u.length;h<f;h+=2){const m=u[h]-n[0],p=n[3]-u[h+1];c.push(`${m},${p}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);y(this,Kg).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return y(this,Kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kg=new WeakMap;class pz extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ve.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class $Q extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class FQ extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class zQ extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class mz extends nn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ve.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Yg,Zg,I_;class BQ extends nn{constructor(n){var i;super(n,{isRenderable:!0});B(this,Zg);B(this,Yg,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,Zg,I_).bind(this)),D(this,Yg,i);const{isMac:a}=xr.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&F(this,Zg,I_).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return y(this,Yg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yg=new WeakMap,Zg=new WeakSet,I_=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Qg,Du,$u,Jg,wc,gz,R_,tj;let UQ=(tj=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){B(this,wc);B(this,Qg,null);B(this,Du,null);B(this,$u,new Map);B(this,Jg,null);this.div=e,D(this,Qg,n),D(this,Du,r),D(this,Jg,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return y(this,$u).size>0}async render(e){var s;const{annotations:n}=e,r=this.div;fc(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new AP,annotationStorage:e.annotationStorage||new xP,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===fn.POPUP;if(l){const d=i.get(o.id);if(!d)continue;a.elements=d}else{const{width:d,height:h}=qs(o.rect);if(d<=0||h<=0)continue}a.data=o;const u=AQ.create(a);if(!u.isRenderable)continue;if(!l&&o.popupRef){const d=i.get(o.popupRef);d?d.push(u):i.set(o.popupRef,[u])}const c=u.render();o.hidden&&(c.style.visibility="hidden"),await F(this,wc,gz).call(this,c,o.id),u._isEditable&&(y(this,$u).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}F(this,wc,R_).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,fc(n,{rotation:e.rotation}),F(this,wc,R_).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(y(this,$u).values())}getEditableAnnotation(e){return y(this,$u).get(e)}},Qg=new WeakMap,Du=new WeakMap,$u=new WeakMap,Jg=new WeakMap,wc=new WeakSet,gz=async function(e,n){var s,o;const r=e.firstChild||e,i=r.id=`${mP}${n}`,a=await((s=y(this,Jg))==null?void 0:s.getAriaAttributes(i));if(a)for(const[l,u]of a)r.setAttribute(l,u);this.div.append(e),(o=y(this,Qg))==null||o.moveElementInDOM(this.div,e,r,!1)},R_=function(){if(!y(this,Du))return;const e=this.div;for(const[n,r]of y(this,Du)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r)}y(this,Du).clear()},tj);const bv=/\r\n?|\n/g;var ia,Zr,ey,Fu,Qr,dn,yz,vz,bz,g0,Qs,y0,v0,xz,j_,wz;const Et=class Et extends mt{constructor(n){super({...n,name:"freeTextEditor"});B(this,dn);B(this,ia);B(this,Zr,"");B(this,ey,`${this.id}-editor`);B(this,Fu,null);B(this,Qr);D(this,ia,n.color||Et._defaultColor||mt._defaultLineColor),D(this,Qr,n.fontSize||Et._defaultFontSize)}static get _keyboardManager(){const n=Et.prototype,r=s=>s.isEmpty(),i=pc.TRANSLATE_SMALL,a=pc.TRANSLATE_BIG;return tt(this,"_keyboardManager",new Py([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){mt.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case ze.FREETEXT_SIZE:Et._defaultFontSize=r;break;case ze.FREETEXT_COLOR:Et._defaultColor=r;break}}updateParams(n,r){switch(n){case ze.FREETEXT_SIZE:F(this,dn,yz).call(this,r);break;case ze.FREETEXT_COLOR:F(this,dn,vz).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ze.FREETEXT_SIZE,Et._defaultFontSize],[ze.FREETEXT_COLOR,Et._defaultColor||mt._defaultLineColor]]}get propertiesToUpdate(){return[[ze.FREETEXT_SIZE,y(this,Qr)],[ze.FREETEXT_COLOR,y(this,ia)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Et._internalPadding*n,-(Et._internalPadding+y(this,Qr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ve.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,Fu,new AbortController);const n=this._uiManager.combinedSignal(y(this,Fu));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,ey)),this._isDraggable=!0,(n=y(this,Fu))==null||n.abort(),D(this,Fu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=y(this,Zr),r=D(this,Zr,F(this,dn,bz).call(this).trimEnd());if(n===r)return;const i=a=>{if(D(this,Zr,a),!a){this.remove();return}F(this,dn,v0).call(this),this._uiManager.rebuild(this),F(this,dn,g0).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,dn,g0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Et._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,ey)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${y(this,Qr)}px * var(--scale-factor))`,i.color=y(this,ia),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),lb(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[h,f]=this.pageTranslation;let m,p;switch(this.rotation){case 0:m=n+(o[0]-h)/c,p=r+this.height-(o[1]-f)/d;break;case 90:m=n+(o[0]-h)/c,p=r-(o[1]-f)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(o[0]-h)/c,p=r-(o[1]-f)/d,[l,u]=[-l,-u];break;case 270:m=n+(o[0]-h-this.height*d)/c,p=r+(o[1]-f-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*a,p*s,l,u)}else this.setAt(n*a,r*s,this.width*a,this.height*s);F(this,dn,v0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,p,v;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=F(m=Et,Qs,j_).call(m,r.getData("text")||"").replaceAll(bv,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(bv,"")),g!==this.editorDiv){let b=c;for(const x of this.editorDiv.childNodes){if(x===g){b=d;continue}b.push(F(p=Et,Qs,y0).call(p,x))}}c.push(l.nodeValue.slice(0,u).replaceAll(bv,""))}else if(l===this.editorDiv){let g=c,b=0;for(const x of this.editorDiv.childNodes)b++===u&&(g=d),g.push(F(v=Et,Qs,y0).call(v,x))}D(this,Zr,`${c.join(`
`)}${a}${d.join(`
`)}`),F(this,dn,v0).call(this);const h=new Range;let f=c.reduce((g,b)=>g+b.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const b=g.nodeValue.length;if(f<=b){h.setStart(g,f),h.setEnd(g,f);break}f-=b}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,i){var o;let a=null;if(n instanceof hz){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:h,popupRef:f},textContent:m,textPosition:p,parent:{page:{pageNumber:v}}}=n;if(!m||m.length===0)return null;a=n={annotationType:Ve.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:p,pageIndex:v-1,rect:c.slice(0),rotation:d,id:h,deleted:!1,popupRef:f}}const s=await super.deserialize(n,r,i);return D(s,Qr,n.fontSize),D(s,ia,Ne.makeHexColor(...n.color)),D(s,Zr,F(o=Et,Qs,j_).call(o,n.value)),s.annotationElementId=n.id||null,s._initialData=a,s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Et._internalPadding*this.parentScale,i=this.getRect(r,r),a=mt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,ia)),s={annotationType:Ve.FREETEXT,color:a,fontSize:y(this,Qr),value:F(this,dn,xz).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!F(this,dn,wz).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${y(this,Qr)}px * var(--scale-factor))`,i.color=y(this,ia),r.replaceChildren();for(const s of y(this,Zr).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}const a=Et._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(a,a),popupContent:y(this,Zr)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};ia=new WeakMap,Zr=new WeakMap,ey=new WeakMap,Fu=new WeakMap,Qr=new WeakMap,dn=new WeakSet,yz=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-y(this,Qr))*this.parentScale),D(this,Qr,a),F(this,dn,g0).call(this)},i=y(this,Qr);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vz=function(n){const r=a=>{D(this,ia,this.editorDiv.style.color=a)},i=y(this,ia);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bz=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(F(i=Et,Qs,y0).call(i,a)),r=a);return n.join(`
`)},g0=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Qs=new WeakSet,y0=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(bv,"")},v0=function(){if(this.editorDiv.replaceChildren(),!!y(this,Zr))for(const n of y(this,Zr).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},xz=function(){return y(this,Zr).replaceAll(""," ")},j_=function(n){return n.replaceAll(" ","")},wz=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==a[l])||n.pageIndex!==s},B(Et,Qs),$e(Et,"_freeTextDefaultContent",""),$e(Et,"_internalPadding",0),$e(Et,"_defaultColor",null),$e(Et,"_defaultFontSize",10),$e(Et,"_type","freetext"),$e(Et,"_editorType",Ve.FREETEXT);let L_=Et;class Sz{toSVGPath(){Lt("Abstract method `toSVGPath` must be implemented.")}get box(){Lt("Abstract getter `box` must be implemented.")}serialize(e,n){Lt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Lt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Lt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Jr,aa,mh,gh,Wa,Ke,zu,Bu,ty,ny,yh,vh,Go,ry,Ox,Mx,Sn,Sp,kz,_z,Az,Ez,Cz,Pz;const fs=class fs{constructor({x:e,y:n},r,i,a,s,o=0){B(this,Sn);B(this,Jr);B(this,aa,[]);B(this,mh);B(this,gh);B(this,Wa,[]);B(this,Ke,new Float64Array(18));B(this,zu);B(this,Bu);B(this,ty);B(this,ny);B(this,yh);B(this,vh);B(this,Go,[]);D(this,Jr,r),D(this,vh,a*i),D(this,gh,s),y(this,Ke).set([NaN,NaN,NaN,NaN,e,n],6),D(this,mh,o),D(this,ny,y(fs,ry)*i),D(this,ty,y(fs,Mx)*i),D(this,yh,i),y(this,Go).push(e,n)}isEmpty(){return isNaN(y(this,Ke)[8])}add({x:e,y:n}){var P;D(this,zu,e),D(this,Bu,n);const[r,i,a,s]=y(this,Jr);let[o,l,u,c]=y(this,Ke).subarray(8,12);const d=e-u,h=n-c,f=Math.hypot(d,h);if(f<y(this,ty))return!1;const m=f-y(this,ny),p=m/f,v=p*d,g=p*h;let b=o,x=l;o=u,l=c,u+=v,c+=g,(P=y(this,Go))==null||P.push(e,n);const S=-g/m,w=v/m,k=S*y(this,vh),A=w*y(this,vh);return y(this,Ke).set(y(this,Ke).subarray(2,8),0),y(this,Ke).set([u+k,c+A],4),y(this,Ke).set(y(this,Ke).subarray(14,18),12),y(this,Ke).set([u-k,c-A],16),isNaN(y(this,Ke)[6])?(y(this,Wa).length===0&&(y(this,Ke).set([o+k,l+A],2),y(this,Wa).push(NaN,NaN,NaN,NaN,(o+k-r)/a,(l+A-i)/s),y(this,Ke).set([o-k,l-A],14),y(this,aa).push(NaN,NaN,NaN,NaN,(o-k-r)/a,(l-A-i)/s)),y(this,Ke).set([b,x,o,l,u,c],6),!this.isEmpty()):(y(this,Ke).set([b,x,o,l,u,c],6),Math.abs(Math.atan2(x-l,b-o)-Math.atan2(g,v))<Math.PI/2?([o,l,u,c]=y(this,Ke).subarray(2,6),y(this,Wa).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/a,((l+c)/2-i)/s),[o,l,b,x]=y(this,Ke).subarray(14,18),y(this,aa).push(NaN,NaN,NaN,NaN,((b+o)/2-r)/a,((x+l)/2-i)/s),!0):([b,x,o,l,u,c]=y(this,Ke).subarray(0,6),y(this,Wa).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),[u,c,o,l,b,x]=y(this,Ke).subarray(12,18),y(this,aa).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=y(this,Wa),n=y(this,aa);if(isNaN(y(this,Ke)[6])&&!this.isEmpty())return F(this,Sn,kz).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,Sn,Az).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,Sn,_z).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new Tz(e,n,r,i,a,s)}getOutlines(){var d;const e=y(this,Wa),n=y(this,aa),r=y(this,Ke),[i,a,s,o]=y(this,Jr),l=new Float64Array((((d=y(this,Go))==null?void 0:d.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(y(this,Go)[h]-i)/s,l[h+1]=(y(this,Go)[h+1]-a)/o;if(l[l.length-2]=(y(this,zu)-i)/s,l[l.length-1]=(y(this,Bu)-a)/o,isNaN(r[6])&&!this.isEmpty())return F(this,Sn,Ez).call(this,l);const u=new Float64Array(y(this,Wa).length+24+y(this,aa).length);let c=e.length;for(let h=0;h<c;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}c=F(this,Sn,Pz).call(this,u,c);for(let h=n.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(n[h+f])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=n[h+f],u[c+1]=n[h+f+1],c+=2}return F(this,Sn,Cz).call(this,u,c),this.newFreeDrawOutline(u,l,y(this,Jr),y(this,yh),y(this,mh),y(this,gh))}};Jr=new WeakMap,aa=new WeakMap,mh=new WeakMap,gh=new WeakMap,Wa=new WeakMap,Ke=new WeakMap,zu=new WeakMap,Bu=new WeakMap,ty=new WeakMap,ny=new WeakMap,yh=new WeakMap,vh=new WeakMap,Go=new WeakMap,ry=new WeakMap,Ox=new WeakMap,Mx=new WeakMap,Sn=new WeakSet,Sp=function(){const e=y(this,Ke).subarray(4,6),n=y(this,Ke).subarray(16,18),[r,i,a,s]=y(this,Jr);return[(y(this,zu)+(e[0]-n[0])/2-r)/a,(y(this,Bu)+(e[1]-n[1])/2-i)/s,(y(this,zu)+(n[0]-e[0])/2-r)/a,(y(this,Bu)+(n[1]-e[1])/2-i)/s]},kz=function(){const[e,n,r,i]=y(this,Jr),[a,s,o,l]=F(this,Sn,Sp).call(this);return`M${(y(this,Ke)[2]-e)/r} ${(y(this,Ke)[3]-n)/i} L${(y(this,Ke)[4]-e)/r} ${(y(this,Ke)[5]-n)/i} L${a} ${s} L${o} ${l} L${(y(this,Ke)[16]-e)/r} ${(y(this,Ke)[17]-n)/i} L${(y(this,Ke)[14]-e)/r} ${(y(this,Ke)[15]-n)/i} Z`},_z=function(e){const n=y(this,aa);e.push(`L${n[4]} ${n[5]} Z`)},Az=function(e){const[n,r,i,a]=y(this,Jr),s=y(this,Ke).subarray(4,6),o=y(this,Ke).subarray(16,18),[l,u,c,d]=F(this,Sn,Sp).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${l} ${u} L${c} ${d} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},Ez=function(e){const n=y(this,Ke),[r,i,a,s]=y(this,Jr),[o,l,u,c]=F(this,Sn,Sp).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(d,e,y(this,Jr),y(this,yh),y(this,mh),y(this,gh))},Cz=function(e,n){const r=y(this,aa);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},Pz=function(e,n){const r=y(this,Ke).subarray(4,6),i=y(this,Ke).subarray(16,18),[a,s,o,l]=y(this,Jr),[u,c,d,h]=F(this,Sn,Sp).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],n),n+=24},B(fs,ry,8),B(fs,Ox,2),B(fs,Mx,y(fs,ry)+y(fs,Ox));let cb=fs;var bh,Uu,Ts,iy,ei,ay,Zt,jr,kp,_p,Oz;class Tz extends Sz{constructor(n,r,i,a,s,o){super();B(this,jr);B(this,bh);B(this,Uu,null);B(this,Ts);B(this,iy);B(this,ei);B(this,ay);B(this,Zt);D(this,Zt,n),D(this,ei,r),D(this,bh,i),D(this,ay,a),D(this,Ts,s),D(this,iy,o),F(this,jr,Oz).call(this,o);const{x:l,y:u,width:c,height:d}=y(this,Uu);for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-u)/d;for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-u)/d}toSVGPath(){const n=[`M${y(this,Zt)[4]} ${y(this,Zt)[5]}`];for(let r=6,i=y(this,Zt).length;r<i;r+=6){if(isNaN(y(this,Zt)[r])){n.push(`L${y(this,Zt)[r+4]} ${y(this,Zt)[r+5]}`);continue}n.push(`C${y(this,Zt)[r]} ${y(this,Zt)[r+1]} ${y(this,Zt)[r+2]} ${y(this,Zt)[r+3]} ${y(this,Zt)[r+4]} ${y(this,Zt)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,l=a-r;let u,c;switch(s){case 0:u=F(this,jr,kp).call(this,y(this,Zt),n,a,o,-l),c=F(this,jr,kp).call(this,y(this,ei),n,a,o,-l);break;case 90:u=F(this,jr,_p).call(this,y(this,Zt),n,r,o,l),c=F(this,jr,_p).call(this,y(this,ei),n,r,o,l);break;case 180:u=F(this,jr,kp).call(this,y(this,Zt),i,r,-o,l),c=F(this,jr,kp).call(this,y(this,ei),i,r,-o,l);break;case 270:u=F(this,jr,_p).call(this,y(this,Zt),i,a,-o,-l),c=F(this,jr,_p).call(this,y(this,ei),i,a,-o,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return y(this,Uu)}newOutliner(n,r,i,a,s,o=0){return new cb(n,r,i,a,s,o)}getNewOutline(n,r){const{x:i,y:a,width:s,height:o}=y(this,Uu),[l,u,c,d]=y(this,bh),h=s*c,f=o*d,m=i*c+l,p=a*d+u,v=this.newOutliner({x:y(this,ei)[0]*h+m,y:y(this,ei)[1]*f+p},y(this,bh),y(this,ay),n,y(this,iy),r??y(this,Ts));for(let g=2;g<y(this,ei).length;g+=2)v.add({x:y(this,ei)[g]*h+m,y:y(this,ei)[g+1]*f+p});return v.getOutlines()}get mustRemoveSelfIntersections(){return!0}}bh=new WeakMap,Uu=new WeakMap,Ts=new WeakMap,iy=new WeakMap,ei=new WeakMap,ay=new WeakMap,Zt=new WeakMap,jr=new WeakSet,kp=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l]*a,o[l+1]=i+n[l+1]*s;return o},_p=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l+1]*a,o[l+1]=i+n[l]*s;return o},Oz=function(n){const r=y(this,Zt);let i=r[4],a=r[5],s=i,o=a,l=i,u=a,c=i,d=a;const h=n?Math.max:Math.min;for(let g=6,b=r.length;g<b;g+=6){if(isNaN(r[g]))s=Math.min(s,r[g+4]),o=Math.min(o,r[g+5]),l=Math.max(l,r[g+4]),u=Math.max(u,r[g+5]),d<r[g+5]?(c=r[g+4],d=r[g+5]):d===r[g+5]&&(c=h(c,r[g+4]));else{const x=Ne.bezierBoundingBox(i,a,...r.slice(g,g+6));s=Math.min(s,x[0]),o=Math.min(o,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=h(c,x[2]))}i=r[g+4],a=r[g+5]}const f=s-y(this,Ts),m=o-y(this,Ts),p=l-s+2*y(this,Ts),v=u-o+2*y(this,Ts);D(this,Uu,{x:f,y:m,width:p,height:v,lastPoint:[c,d]})};var sy,qo,sa,Sr,Mz,b0,Nz,Iz,D_;class VM{constructor(e,n=0,r=0,i=!0){B(this,Sr);B(this,sy);B(this,qo,[]);B(this,sa,[]);let a=1/0,s=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:v,y:g,width:b,height:x}of e){const S=Math.floor((v-n)/u)*u,w=Math.ceil((v+b+n)/u)*u,k=Math.floor((g-n)/u)*u,A=Math.ceil((g+x+n)/u)*u,E=[S,k,A,!0],P=[w,k,A,!1];y(this,qo).push(E,P),a=Math.min(a,S),s=Math.max(s,w),o=Math.min(o,k),l=Math.max(l,A)}const c=s-a+2*r,d=l-o+2*r,h=a-r,f=o-r,m=y(this,qo).at(i?-1:-2),p=[m[0],m[2]];for(const v of y(this,qo)){const[g,b,x]=v;v[0]=(g-h)/c,v[1]=(b-f)/d,v[2]=(x-f)/d}D(this,sy,{x:h,y:f,width:c,height:d,lastPoint:p})}getOutlines(){y(this,qo).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of y(this,qo))n[3]?(e.push(...F(this,Sr,D_).call(this,n)),F(this,Sr,Nz).call(this,n)):(F(this,Sr,Iz).call(this,n),e.push(...F(this,Sr,D_).call(this,n)));return F(this,Sr,Mz).call(this,e)}}sy=new WeakMap,qo=new WeakMap,sa=new WeakMap,Sr=new WeakSet,Mz=function(e){const n=[],r=new Set;for(const s of e){const[o,l,u]=s;n.push([o,l,s],[o,u,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,l,u,c,d]=s;r.delete(s);let h=o,f=l;for(a=[o,u],i.push(a);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[o,l,u,c,d]=m,h!==o&&(a.push(h,f,o,f===l?l:u),h=o),f=f===l?u:l}a.push(h,f)}return new HQ(i,y(this,sy))},b0=function(e){const n=y(this,sa);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},Nz=function([,e,n]){const r=F(this,Sr,b0).call(this,e);y(this,sa).splice(r,0,[e,n])},Iz=function([,e,n]){const r=F(this,Sr,b0).call(this,e);for(let i=r;i<y(this,sa).length;i++){const[a,s]=y(this,sa)[i];if(a!==e)break;if(a===e&&s===n){y(this,sa).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=y(this,sa)[i];if(a!==e)break;if(a===e&&s===n){y(this,sa).splice(i,1);return}}},D_=function(e){const[n,r,i]=e,a=[[n,r,i]],s=F(this,Sr,b0).call(this,i);for(let o=0;o<s;o++){const[l,u]=y(this,sa)[o];for(let c=0,d=a.length;c<d;c++){const[,h,f]=a[c];if(!(u<=h||f<=l)){if(h>=l){if(f>u)a[c][1]=u;else{if(d===1)return[];a.splice(c,1),c--,d--}continue}a[c][2]=l,f>u&&a.push([n,u,f])}}}return a};var oy,xh;class HQ extends Sz{constructor(n,r){super();B(this,oy);B(this,xh);D(this,xh,n),D(this,oy,r)}toSVGPath(){const n=[];for(const r of y(this,xh)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],l=r[s+1];o===i?(n.push(`V${l}`),a=l):l===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],l=i-n,u=a-r;for(const c of y(this,xh)){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=n+c[h]*l,d[h+1]=a-c[h+1]*u;o.push(d)}return o}get box(){return y(this,oy)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}oy=new WeakMap,xh=new WeakMap;class $_ extends cb{newFreeDrawOutline(e,n,r,i,a,s){return new WQ(e,n,r,i,a,s)}get classNamesForDrawing(){return["highlight","free"]}}class WQ extends Tz{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,n,r,i,a,s=0){return new $_(e,n,r,i,a,s)}}var oa,Hu,wh,gn,ly,Sh,uy,cy,Xo,la,kh,dy,bt,F_,z_,B_,Ul,Rz,vo;const Pr=class Pr{constructor({editor:e=null,uiManager:n=null}){B(this,bt);B(this,oa,null);B(this,Hu,null);B(this,wh);B(this,gn,null);B(this,ly,!1);B(this,Sh,!1);B(this,uy,null);B(this,cy);B(this,Xo,null);B(this,la,null);B(this,kh);var r;e?(D(this,Sh,!1),D(this,kh,ze.HIGHLIGHT_COLOR),D(this,uy,e)):(D(this,Sh,!0),D(this,kh,ze.HIGHLIGHT_DEFAULT_COLOR)),D(this,la,(e==null?void 0:e._uiManager)||n),D(this,cy,y(this,la)._eventBus),D(this,wh,(e==null?void 0:e.color)||((r=y(this,la))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),y(Pr,dy)||D(Pr,dy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return tt(this,"_keyboardManager",new Py([[["Escape","mac+Escape"],Pr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pr.prototype._moveToPrevious],[["Home","mac+Home"],Pr.prototype._moveToBeginning],[["End","mac+End"],Pr.prototype._moveToEnd]]))}renderButton(){const e=D(this,oa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=y(this,la)._signal;e.addEventListener("click",F(this,bt,Ul).bind(this),{signal:n}),e.addEventListener("keydown",F(this,bt,B_).bind(this),{signal:n});const r=D(this,Hu,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=y(this,wh),e.append(r),e}renderMainDropdown(){const e=D(this,gn,F(this,bt,F_).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===y(this,oa)){F(this,bt,Ul).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,bt,z_).call(this,n,e)}_moveToNext(e){var n,r;if(!y(this,bt,vo)){F(this,bt,Ul).call(this,e);return}if(e.target===y(this,oa)){(n=y(this,gn).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=y(this,gn))==null?void 0:n.firstChild)||e.target===y(this,oa)){y(this,bt,vo)&&this._hideDropdownFromKeyboard();return}y(this,bt,vo)||F(this,bt,Ul).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!y(this,bt,vo)){F(this,bt,Ul).call(this,e);return}(n=y(this,gn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!y(this,bt,vo)){F(this,bt,Ul).call(this,e);return}(n=y(this,gn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=y(this,gn))==null||e.classList.add("hidden"),(n=y(this,Xo))==null||n.abort(),D(this,Xo,null)}_hideDropdownFromKeyboard(){var e;if(!y(this,Sh)){if(!y(this,bt,vo)){(e=y(this,uy))==null||e.unselect();return}this.hideDropdown(),y(this,oa).focus({preventScroll:!0,focusVisible:y(this,ly)})}}updateColor(e){if(y(this,Hu)&&(y(this,Hu).style.backgroundColor=e),!y(this,gn))return;const n=y(this,la).highlightColors.values();for(const r of y(this,gn).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=y(this,oa))==null||e.remove(),D(this,oa,null),D(this,Hu,null),(n=y(this,gn))==null||n.remove(),D(this,gn,null)}};oa=new WeakMap,Hu=new WeakMap,wh=new WeakMap,gn=new WeakMap,ly=new WeakMap,Sh=new WeakMap,uy=new WeakMap,cy=new WeakMap,Xo=new WeakMap,la=new WeakMap,kh=new WeakMap,dy=new WeakMap,bt=new WeakSet,F_=function(){const e=document.createElement("div"),n=y(this,la)._signal;e.addEventListener("contextmenu",Ui,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of y(this,la).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",y(Pr,dy)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===y(this,wh)),a.addEventListener("click",F(this,bt,z_).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",F(this,bt,B_).bind(this),{signal:n}),e},z_=function(e,n){n.stopPropagation(),y(this,cy).dispatch("switchannotationeditorparams",{source:this,type:y(this,kh),value:e})},B_=function(e){Pr._keyboardManager.exec(this,e)},Ul=function(e){if(y(this,bt,vo)){this.hideDropdown();return}if(D(this,ly,e.detail===0),y(this,Xo)||(D(this,Xo,new AbortController),window.addEventListener("pointerdown",F(this,bt,Rz).bind(this),{signal:y(this,la).combinedSignal(y(this,Xo))})),y(this,gn)){y(this,gn).classList.remove("hidden");return}const n=D(this,gn,F(this,bt,F_).call(this));y(this,oa).append(n)},Rz=function(e){var n;(n=y(this,gn))!=null&&n.contains(e.target)||this.hideDropdown()},vo=function(){return y(this,gn)&&!y(this,gn).classList.contains("hidden")},B(Pr,dy,null);let db=Pr;var _h,hy,Os,Wu,Ah,Ei,fy,py,Vu,ua,Jn,Mr,Eh,Ms,yn,Ch,Ci,my,He,U_,x0,Lz,jz,Dz,H_,Hl,Ii,td,$z,w0,Ap,Fz,zz,Bz,Uz,Hz;const lt=class lt extends mt{constructor(n){super({...n,name:"highlightEditor"});B(this,He);B(this,_h,null);B(this,hy,0);B(this,Os);B(this,Wu,null);B(this,Ah,null);B(this,Ei,null);B(this,fy,null);B(this,py,0);B(this,Vu,null);B(this,ua,null);B(this,Jn,null);B(this,Mr,!1);B(this,Eh,null);B(this,Ms);B(this,yn,null);B(this,Ch,"");B(this,Ci);B(this,my,"");this.color=n.color||lt._defaultColor,D(this,Ci,n.thickness||lt._defaultThickness),D(this,Ms,n.opacity||lt._defaultOpacity),D(this,Os,n.boxes||null),D(this,my,n.methodOfCreation||""),D(this,Ch,n.text||""),this._isDraggable=!1,n.highlightId>-1?(D(this,Mr,!0),F(this,He,x0).call(this,n),F(this,He,Hl).call(this)):y(this,Os)&&(D(this,_h,n.anchorNode),D(this,hy,n.anchorOffset),D(this,fy,n.focusNode),D(this,py,n.focusOffset),F(this,He,U_).call(this),F(this,He,Hl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=lt.prototype;return tt(this,"_keyboardManager",new Py([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,Mr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:y(this,Ci),methodOfCreation:y(this,my)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;mt.initialize(n,r),lt._defaultColor||(lt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case ze.HIGHLIGHT_DEFAULT_COLOR:lt._defaultColor=r;break;case ze.HIGHLIGHT_THICKNESS:lt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return y(this,Eh)}updateParams(n,r){switch(n){case ze.HIGHLIGHT_COLOR:F(this,He,Lz).call(this,r);break;case ze.HIGHLIGHT_THICKNESS:F(this,He,jz).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ze.HIGHLIGHT_DEFAULT_COLOR,lt._defaultColor],[ze.HIGHLIGHT_THICKNESS,lt._defaultThickness]]}get propertiesToUpdate(){return[[ze.HIGHLIGHT_COLOR,this.color||lt._defaultColor],[ze.HIGHLIGHT_THICKNESS,y(this,Ci)||lt._defaultThickness],[ze.HIGHLIGHT_FREE,y(this,Mr)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(D(this,Ah,new db({editor:this})),n.addColorPicker(y(this,Ah))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,He,Ap).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,He,Ap).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){F(this,He,H_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,He,Hl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,He,H_).call(this):n&&(F(this,He,Hl).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;y(this,Mr)?(n=(n-this.rotation+360)%360,i=F(a=lt,Ii,td).call(a,y(this,ua).box,n)):i=F(s=lt,Ii,td).call(s,this,n),r.rotate(y(this,Jn),n),r.rotate(y(this,yn),n),r.updateBox(y(this,Jn),i),r.updateBox(y(this,yn),F(o=lt,Ii,td).call(o,y(this,Ei).box,n))}render(){if(this.div)return this.div;const n=super.render();y(this,Ch)&&(n.setAttribute("aria-label",y(this,Ch)),n.setAttribute("role","mark")),y(this,Mr)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,He,$z).bind(this),{signal:this._uiManager._signal});const r=D(this,Vu,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=y(this,Wu);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),lb(this,y(this,Vu),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(y(this,yn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(y(this,yn),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,He,w0).call(this,!0);break;case 1:case 3:F(this,He,w0).call(this,!1);break}}select(){var n,r;super.select(),y(this,yn)&&((n=this.parent)==null||n.drawLayer.removeClass(y(this,yn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(y(this,yn),"selected"))}unselect(){var n;super.unselect(),y(this,yn)&&((n=this.parent)==null||n.drawLayer.removeClass(y(this,yn),"selected"),y(this,Mr)||F(this,He,w0).call(this,!1))}get _mustFixPosition(){return!y(this,Mr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(y(this,Jn),n),this.parent.drawLayer.show(y(this,yn),n))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:l,width:u,height:c}=i.getBoundingClientRect(),d=new AbortController,h=n.combinedSignal(d),f=p=>{p.preventDefault(),p.stopPropagation()},m=p=>{d.abort(),F(this,Ii,Uz).call(this,n,p)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ui,{signal:h}),i.addEventListener("pointermove",F(this,Ii,Bz).bind(this,n),{signal:h}),this._freeHighlight=new $_({x:a,y:s},[o,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(n,r,i){var p,v,g,b;let a=null;if(n instanceof pz){const{data:{quadPoints:x,rect:S,rotation:w,id:k,color:A,opacity:E,popupRef:P},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Ve.HIGHLIGHT,color:Array.from(A),opacity:E,quadPoints:x,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:w,id:k,deleted:!1,popupRef:P}}else if(n instanceof EP){const{data:{inkLists:x,rect:S,rotation:w,id:k,color:A,borderStyle:{rawWidth:E},popupRef:P},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Ve.HIGHLIGHT,color:Array.from(A),thickness:E,inkLists:x,boxes:null,pageIndex:O-1,rect:S.slice(0),rotation:w,id:k,deleted:!1,popupRef:P}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=n,c=await super.deserialize(n,r,i);c.color=Ne.makeHexColor(...s),D(c,Ms,u||1),l&&D(c,Ci,n.thickness),c.annotationElementId=n.id||null,c._initialData=a;const[d,h]=c.pageDimensions,[f,m]=c.pageTranslation;if(o){const x=D(c,Os,[]);for(let S=0;S<o.length;S+=8)x.push({x:(o[S]-f)/d,y:1-(o[S+1]-m)/h,width:(o[S+2]-o[S])/d,height:(o[S+1]-o[S+5])/h});F(p=c,He,U_).call(p),F(v=c,He,Hl).call(v),c.rotate(c.rotation)}else if(l){D(c,Mr,!0);const x=l[0],S={x:x[0]-f,y:h-(x[1]-m)},w=new $_(S,[0,0,d,h],1,y(c,Ci)/2,!0,.001);for(let E=0,P=x.length;E<P;E+=2)S.x=x[E]-f,S.y=h-(x[E+1]-m),w.add(S);const{id:k,clipPathId:A}=r.drawLayer.draw(w,c.color,c._defaultOpacity,!0);F(g=c,He,x0).call(g,{highlightOutlines:w.getOutlines(),highlightId:k,clipPathId:A}),F(b=c,He,Hl).call(b)}return c}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=mt._colorManager.convert(this.color),a={annotationType:Ve.HIGHLIGHT,color:i,opacity:y(this,Ms),thickness:y(this,Ci),quadPoints:F(this,He,Fz).call(this),outlines:F(this,He,zz).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:F(this,He,Ap).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!F(this,He,Hz).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_h=new WeakMap,hy=new WeakMap,Os=new WeakMap,Wu=new WeakMap,Ah=new WeakMap,Ei=new WeakMap,fy=new WeakMap,py=new WeakMap,Vu=new WeakMap,ua=new WeakMap,Jn=new WeakMap,Mr=new WeakMap,Eh=new WeakMap,Ms=new WeakMap,yn=new WeakMap,Ch=new WeakMap,Ci=new WeakMap,my=new WeakMap,He=new WeakSet,U_=function(){const n=new VM(y(this,Os),.001);D(this,ua,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=y(this,ua).box;const r=new VM(y(this,Os),.0025,.001,this._uiManager.direction==="ltr");D(this,Ei,r.getOutlines());const{lastPoint:i}=y(this,Ei).box;D(this,Eh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},x0=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,h;if(D(this,ua,n),D(this,Ei,n.getNewOutline(y(this,Ci)/2+1.5,.0025)),r>=0)D(this,Jn,r),D(this,Wu,i),this.parent.drawLayer.finalizeLine(r,n),D(this,yn,this.parent.drawLayer.drawOutline(y(this,Ei)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(y(this,Jn),n),this.parent.drawLayer.updateBox(y(this,Jn),F(d=lt,Ii,td).call(d,y(this,ua).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(y(this,yn),y(this,Ei)),this.parent.drawLayer.updateBox(y(this,yn),F(h=lt,Ii,td).call(h,y(this,Ei).box,f))}const{x:s,y:o,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[f,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*m/f,this.height=u*f/m;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[f,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*m/f,this.height=u*f/m;break}}const{lastPoint:c}=y(this,Ei).box;D(this,Eh,[(c[0]-s)/l,(c[1]-o)/u])},Lz=function(n){const r=(s,o)=>{var l,u,c;this.color=s,(l=this.parent)==null||l.drawLayer.changeColor(y(this,Jn),s),(u=y(this,Ah))==null||u.updateColor(s),D(this,Ms,o),(c=this.parent)==null||c.drawLayer.changeOpacity(y(this,Jn),o)},i=this.color,a=y(this,Ms);this.addCommands({cmd:r.bind(this,n,lt._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},jz=function(n){const r=y(this,Ci),i=a=>{D(this,Ci,a),F(this,He,Dz).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},Dz=function(n){if(!y(this,Mr))return;F(this,He,x0).call(this,{highlightOutlines:y(this,ua).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},H_=function(){y(this,Jn)===null||!this.parent||(this.parent.drawLayer.remove(y(this,Jn)),D(this,Jn,null),this.parent.drawLayer.remove(y(this,yn)),D(this,yn,null))},Hl=function(n=this.parent){y(this,Jn)===null&&({id:cr(this,Jn)._,clipPathId:cr(this,Wu)._}=n.drawLayer.draw(y(this,ua),this.color,y(this,Ms)),D(this,yn,n.drawLayer.drawOutline(y(this,Ei))),y(this,Vu)&&(y(this,Vu).style.clipPath=y(this,Wu)))},Ii=new WeakSet,td=function({x:n,y:r,width:i,height:a},s){switch(s){case 90:return{x:1-r-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-r-a,width:i,height:a};case 270:return{x:r,y:1-n-i,width:a,height:i}}return{x:n,y:r,width:i,height:a}},$z=function(n){lt._keyboardManager.exec(this,n)},w0=function(n){if(!y(this,_h))return;const r=window.getSelection();n?r.setPosition(y(this,_h),y(this,hy)):r.setPosition(y(this,fy),y(this,py))},Ap=function(){return y(this,Mr)?this.rotation:0},Fz=function(){if(y(this,Mr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=y(this,Os),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:c,width:d,height:h}of s){const f=u*n+i,m=(1-c-h)*r+a;o[l]=o[l+4]=f,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=f+d*n,o[l+5]=o[l+7]=m+h*r,l+=8}return o},zz=function(n){return y(this,ua).serialize(n,F(this,He,Ap).call(this))},Bz=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Uz=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Hz=function(n){const{color:r}=this._initialData;return n.color.some((i,a)=>i!==r[a])},B(lt,Ii),$e(lt,"_defaultColor",null),$e(lt,"_defaultOpacity",1),$e(lt,"_defaultThickness",12),$e(lt,"_type","highlight"),$e(lt,"_editorType",Ve.HIGHLIGHT),$e(lt,"_freeHighlightId",-1),$e(lt,"_freeHighlight",null),$e(lt,"_freeHighlightClipId","");let hb=lt;var Gu,qu,Va,Ns,Pi,Xu,Ku,Yu,Is,Ph,Zu,Qu,Ko,Ee,Wz,Vz,Gz,qz,V_,Xz,G_,Kz,Yz,Zz,Qz,Jz,Wl,q_,X_,K_,S0,k0,nd,Y_,_0,lo,eB,Z_,tB,nB,Q_,A0,Ep;const zt=class zt extends mt{constructor(n){super({...n,name:"inkEditor"});B(this,Ee);B(this,Gu,0);B(this,qu,0);B(this,Va,null);B(this,Ns,new Path2D);B(this,Pi,!1);B(this,Xu,null);B(this,Ku,!1);B(this,Yu,!1);B(this,Is,null);B(this,Ph,null);B(this,Zu,0);B(this,Qu,0);B(this,Ko,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){mt.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case ze.INK_THICKNESS:zt._defaultThickness=r;break;case ze.INK_COLOR:zt._defaultColor=r;break;case ze.INK_OPACITY:zt._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case ze.INK_THICKNESS:F(this,Ee,Wz).call(this,r);break;case ze.INK_COLOR:F(this,Ee,Vz).call(this,r);break;case ze.INK_OPACITY:F(this,Ee,Gz).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ze.INK_THICKNESS,zt._defaultThickness],[ze.INK_COLOR,zt._defaultColor||mt._defaultLineColor],[ze.INK_OPACITY,Math.round(zt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ze.INK_THICKNESS,this.thickness||zt._defaultThickness],[ze.INK_COLOR,this.color||zt._defaultColor||mt._defaultLineColor],[ze.INK_OPACITY,Math.round(100*(this.opacity??zt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(F(this,Ee,S0).call(this),F(this,Ee,k0).call(this)),this.isAttachedToDOM||(this.parent.add(this),F(this,Ee,nd).call(this)),F(this,Ee,Ep).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,y(this,Va)&&(clearTimeout(y(this,Va)),D(this,Va,null)),(n=y(this,Is))==null||n.disconnect(),D(this,Is,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,a=this.height*r;this.setDimensions(i,a)}enableEditMode(){y(this,Pi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,F(this,Ee,q_).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),F(this,Ee,X_).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){y(this,Pi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),D(this,Pi,!0),this.div.classList.add("disabled"),F(this,Ee,Ep).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||y(this,Pi)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),F(this,Ee,Xz).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),F(this,Ee,G_).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),F(this,Ee,K_).call(this,n)}canvasPointerleave(n){F(this,Ee,K_).call(this,n)}get isResizable(){return!this.isEmpty()&&y(this,Pi)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,s,o]=F(this,Ee,qz).call(this);if(this.setAt(i,a,0,0),this.setDims(s,o),F(this,Ee,S0).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),D(this,Yu,!0),F(this,Ee,nd).call(this),this.setDims(this.width*l,this.height*u),F(this,Ee,Wl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return F(this,Ee,k0).call(this),this.div}setDimensions(n,r){const i=Math.round(n),a=Math.round(r);if(y(this,Zu)===i&&y(this,Qu)===a)return;D(this,Zu,i),D(this,Qu,a),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=n/s,this.height=r/o,this.fixAndSetPosition(),y(this,Pi)&&F(this,Ee,Y_).call(this,n,r),F(this,Ee,nd).call(this),F(this,Ee,Wl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(n,r,i){var v,g,b;if(n instanceof EP)return null;const a=await super.deserialize(n,r,i);a.thickness=n.thickness,a.color=Ne.makeHexColor(...n.color),a.opacity=n.opacity;const[s,o]=a.pageDimensions,l=a.width*s,u=a.height*o,c=a.parentScale,d=n.thickness/2;D(a,Pi,!0),D(a,Zu,Math.round(l)),D(a,Qu,Math.round(u));const{paths:h,rect:f,rotation:m}=n;for(let{bezier:x}of h){x=F(v=zt,lo,tB).call(v,x,f,m);const S=[];a.paths.push(S);let w=c*(x[0]-d),k=c*(x[1]-d);for(let E=2,P=x.length;E<P;E+=6){const O=c*(x[E]-d),I=c*(x[E+1]-d),T=c*(x[E+2]-d),j=c*(x[E+3]-d),C=c*(x[E+4]-d),L=c*(x[E+5]-d);S.push([[w,k],[O,I],[T,j],[C,L]]),w=C,k=L}const A=F(this,lo,eB).call(this,S);a.bezierPath2D.push(A)}const p=F(g=a,Ee,Q_).call(g);return D(a,qu,Math.max(mt.MIN_SIZE,p[2]-p[0])),D(a,Gu,Math.max(mt.MIN_SIZE,p[3]-p[1])),F(b=a,Ee,Y_).call(b,l,u),a}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=mt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ve.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:F(this,Ee,nB).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Gu=new WeakMap,qu=new WeakMap,Va=new WeakMap,Ns=new WeakMap,Pi=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,Is=new WeakMap,Ph=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,Ko=new WeakMap,Ee=new WeakSet,Wz=function(n){const r=a=>{this.thickness=a,F(this,Ee,Ep).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Vz=function(n){const r=a=>{this.color=a,F(this,Ee,Wl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gz=function(n){const r=a=>{this.opacity=a,F(this,Ee,Wl).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qz=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},V_=function(){const{ctx:n,color:r,opacity:i,thickness:a,parentScale:s,scaleFactor:o}=this;n.lineWidth=a*s/o,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${hZ(i)}`},Xz=function(n,r){this.canvas.addEventListener("contextmenu",Ui,{signal:this._uiManager._signal}),F(this,Ee,X_).call(this),D(this,Xu,new AbortController);const i=this._uiManager.combinedSignal(y(this,Xu));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,y(this,Yu)||(D(this,Yu,!0),F(this,Ee,nd).call(this),this.thickness||(this.thickness=zt._defaultThickness),this.color||(this.color=zt._defaultColor||mt._defaultLineColor),this.opacity??(this.opacity=zt._defaultOpacity)),this.currentPath.push([n,r]),D(this,Ku,!1),F(this,Ee,V_).call(this),D(this,Ko,()=>{F(this,Ee,Zz).call(this),y(this,Ko)&&window.requestAnimationFrame(y(this,Ko))}),window.requestAnimationFrame(y(this,Ko))},G_=function(n,r){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===a)return;const s=this.currentPath;let o=y(this,Ns);if(s.push([n,r]),D(this,Ku,!0),s.length<=2){o.moveTo(...s[0]),o.lineTo(n,r);return}s.length===3&&(D(this,Ns,o=new Path2D),o.moveTo(...s[0])),F(this,Ee,Qz).call(this,o,...s.at(-3),...s.at(-2),n,r)},Kz=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);y(this,Ns).lineTo(...n)},Yz=function(n,r){D(this,Ko,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),F(this,Ee,G_).call(this,n,r),F(this,Ee,Kz).call(this);let i;if(this.currentPath.length!==1)i=F(this,Ee,Jz).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const a=y(this,Ns),s=this.currentPath;this.currentPath=[],D(this,Ns,new Path2D);const o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(F(this,Ee,S0).call(this),F(this,Ee,k0).call(this)),F(this,Ee,Ep).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},Zz=function(){if(!y(this,Ku))return;D(this,Ku,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(o=>o[0]),a=r.map(o=>o[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...a)-n,Math.max(...a)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(y(this,Ns)),s.restore()},Qz=function(n,r,i,a,s,o,l){const u=(r+a)/2,c=(i+s)/2,d=(a+o)/2,h=(s+l)/2;n.bezierCurveTo(u+2*(a-u)/3,c+2*(s-c)/3,d+2*(a-d)/3,h+2*(s-h)/3,d,h)},Jz=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[a,s]=n[0];for(i=1;i<n.length-2;i++){const[f,m]=n[i],[p,v]=n[i+1],g=(f+p)/2,b=(m+v)/2,x=[a+2*(f-a)/3,s+2*(m-s)/3],S=[g+2*(f-g)/3,b+2*(m-b)/3];r.push([[a,s],x,S,[g,b]]),[a,s]=[g,b]}const[o,l]=n[i],[u,c]=n[i+1],d=[a+2*(o-a)/3,s+2*(l-s)/3],h=[u+2*(o-u)/3,c+2*(l-c)/3];return r.push([[a,s],d,h,[u,c]]),r},Wl=function(){if(this.isEmpty()){F(this,Ee,_0).call(this);return}F(this,Ee,V_).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),F(this,Ee,_0).call(this);for(const i of this.bezierPath2D)r.stroke(i)},q_=function(){if(y(this,Ph))return;D(this,Ph,new AbortController);const n=this._uiManager.combinedSignal(y(this,Ph));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})},X_=function(){var n;(n=this.pointerdownAC)==null||n.abort(),this.pointerdownAC=null},K_=function(n){var r;(r=y(this,Xu))==null||r.abort(),D(this,Xu,null),F(this,Ee,q_).call(this),y(this,Va)&&clearTimeout(y(this,Va)),D(this,Va,setTimeout(()=>{D(this,Va,null),this.canvas.removeEventListener("contextmenu",Ui)},10)),F(this,Ee,Yz).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},S0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},k0=function(){D(this,Is,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),y(this,Is).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=y(this,Is))==null||n.disconnect(),D(this,Is,null)},{once:!0})},nd=function(){if(!y(this,Yu))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),F(this,Ee,_0).call(this)},Y_=function(n,r){const i=F(this,Ee,A0).call(this),a=(n-i)/y(this,qu),s=(r-i)/y(this,Gu);this.scaleFactor=Math.min(a,s)},_0=function(){const n=F(this,Ee,A0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},lo=new WeakSet,eB=function(n){const r=new Path2D;for(let i=0,a=n.length;i<a;i++){const[s,o,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return r},Z_=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+a,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=o-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},tB=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-a}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=o-d}break;default:throw new Error("Invalid rotation")}return n},nB=function(n,r,i,a){var c,d;const s=[],o=this.thickness/2,l=n*r+o,u=n*i+o;for(const h of this.paths){const f=[],m=[];for(let p=0,v=h.length;p<v;p++){const[g,b,x,S]=h[p];if(g[0]===S[0]&&g[1]===S[1]&&v===1){const j=n*g[0]+l,C=n*g[1]+u;f.push(j,C),m.push(j,C);break}const w=n*g[0]+l,k=n*g[1]+u,A=n*b[0]+l,E=n*b[1]+u,P=n*x[0]+l,O=n*x[1]+u,I=n*S[0]+l,T=n*S[1]+u;p===0&&(f.push(w,k),m.push(w,k)),f.push(A,E,P,O,I,T),m.push(A,E),p===v-1&&m.push(I,T)}s.push({bezier:F(c=zt,lo,Z_).call(c,f,a,this.rotation),points:F(d=zt,lo,Z_).call(d,m,a,this.rotation)})}return s},Q_=function(){let n=1/0,r=-1/0,i=1/0,a=-1/0;for(const s of this.paths)for(const[o,l,u,c]of s){const d=Ne.bezierBoundingBox(...o,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),a=Math.max(a,d[3])}return[n,i,r,a]},A0=function(){return y(this,Pi)?Math.ceil(this.thickness*this.parentScale):0},Ep=function(n=!1){if(this.isEmpty())return;if(!y(this,Pi)){F(this,Ee,Wl).call(this);return}const r=F(this,Ee,Q_).call(this),i=F(this,Ee,A0).call(this);D(this,qu,Math.max(mt.MIN_SIZE,r[2]-r[0])),D(this,Gu,Math.max(mt.MIN_SIZE,r[3]-r[1]));const a=Math.ceil(i+y(this,qu)*this.scaleFactor),s=Math.ceil(i+y(this,Gu)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=s/l,this.setAspectRatio(a,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],F(this,Ee,nd).call(this),F(this,Ee,Wl).call(this),D(this,Zu,a),D(this,Qu,s),this.setDims(a,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},B(zt,lo),$e(zt,"_defaultColor",null),$e(zt,"_defaultOpacity",1),$e(zt,"_defaultThickness",1),$e(zt,"_type","ink"),$e(zt,"_editorType",Ve.INK);let W_=zt;var Ut,Fn,Yo,Rs,Zo,Th,Ga,Ls,qa,ti,Oh,et,Cp,Pp,E0,eA,rB,C0,tA,P0,iB,aB;const Zp=class Zp extends mt{constructor(n){super({...n,name:"stampEditor"});B(this,et);B(this,Ut,null);B(this,Fn,null);B(this,Yo,null);B(this,Rs,null);B(this,Zo,null);B(this,Th,"");B(this,Ga,null);B(this,Ls,null);B(this,qa,null);B(this,ti,!1);B(this,Oh,!1);D(this,Rs,n.bitmapUrl),D(this,Zo,n.bitmapFile)}static initialize(n,r){mt.initialize(n,r)}static get supportedTypes(){return tt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return tt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Ve.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n,r;y(this,Fn)&&(D(this,Ut,null),this._uiManager.imageManager.deleteId(y(this,Fn)),(n=y(this,Ga))==null||n.remove(),D(this,Ga,null),(r=y(this,Ls))==null||r.disconnect(),D(this,Ls,null),y(this,qa)&&(clearTimeout(y(this,qa)),D(this,qa,null))),super.remove()}rebuild(){if(!this.parent){y(this,Fn)&&F(this,et,E0).call(this);return}super.rebuild(),this.div!==null&&(y(this,Fn)&&y(this,Ga)===null&&F(this,et,E0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(y(this,Yo)||y(this,Ut)||y(this,Rs)||y(this,Zo)||y(this,Fn))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),y(this,Ut)?F(this,et,eA).call(this):F(this,et,E0).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(n*i,r*a,this.width*i,this.height*a)}return this.div}copyCanvas(n,r,i=!1){var f;n||(n=224);const{width:a,height:s}=y(this,Ut),o=new Kk;let l=y(this,Ut),u=a,c=s,d=null;if(r){if(a>r||s>r){const E=Math.min(r/a,r/s);u=Math.floor(a*E),c=Math.floor(s*E)}d=document.createElement("canvas");const m=d.width=Math.ceil(u*o.sx),p=d.height=Math.ceil(c*o.sy);y(this,ti)||(l=F(this,et,C0).call(this,m,p));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let g="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",b="#42414d");const x=15,S=x*o.sx,w=x*o.sy,k=new OffscreenCanvas(S*2,w*2),A=k.getContext("2d");A.fillStyle=g,A.fillRect(0,0,S*2,w*2),A.fillStyle=b,A.fillRect(0,0,S,w),A.fillRect(S,w,S,w),v.fillStyle=v.createPattern(k,"repeat"),v.fillRect(0,0,m,p),v.drawImage(l,0,0,l.width,l.height,0,0,m,p)}let h=null;if(i){let m,p;if(o.symmetric&&l.width<n&&l.height<n)m=l.width,p=l.height;else if(l=y(this,Ut),a>n||s>n){const b=Math.min(n/a,n/s);m=Math.floor(a*b),p=Math.floor(s*b),y(this,ti)||(l=F(this,et,C0).call(this,m,p))}const g=new OffscreenCanvas(m,p).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,m,p),h={width:m,height:p,data:g.getImageData(0,0,m,p).data}}return{canvas:d,width:u,height:c,imageData:h}}getImageForAltText(){return y(this,Ga)}static async deserialize(n,r,i){var p;let a=null;if(n instanceof mz){const{data:{rect:v,rotation:g,id:b,structParent:x,popupRef:S},container:w,parent:{page:{pageNumber:k}}}=n,A=w.querySelector("canvas"),E=i.imageManager.getFromCanvas(w.id,A);A.remove();const P=((p=await r._structTree.getAriaAttributes(`${mP}${b}`))==null?void 0:p.get("aria-label"))||"";a=n={annotationType:Ve.STAMP,bitmapId:E.id,bitmap:E.bitmap,pageIndex:k-1,rect:v.slice(0),rotation:g,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:x,popupRef:S}}const s=await super.deserialize(n,r,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:d,accessibilityData:h}=n;c&&i.imageManager.isValidId(c)?(D(s,Fn,c),l&&D(s,Ut,l)):D(s,Rs,u),D(s,ti,d);const[f,m]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/m,s.annotationElementId=n.id||null,h&&(s.altTextData=h),s._initialData=a,D(s,Oh,!!a),s}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Ve.STAMP,bitmapId:y(this,Fn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,ti),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=F(this,et,P0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=F(this,et,aB).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=y(this,ti)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(y(this,Fn)))r.stamps.set(y(this,Fn),{area:o,serialized:i}),i.bitmap=F(this,et,P0).call(this,!1);else if(y(this,ti)){const l=r.stamps.get(y(this,Fn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=F(this,et,P0).call(this,!1))}return i}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};Ut=new WeakMap,Fn=new WeakMap,Yo=new WeakMap,Rs=new WeakMap,Zo=new WeakMap,Th=new WeakMap,Ga=new WeakMap,Ls=new WeakMap,qa=new WeakMap,ti=new WeakMap,Oh=new WeakMap,et=new WeakSet,Cp=function(n,r=!1){if(!n){this.remove();return}D(this,Ut,n.bitmap),r||(D(this,Fn,n.id),D(this,ti,n.isSvg)),n.file&&D(this,Th,n.file.name),F(this,et,eA).call(this)},Pp=function(){if(D(this,Yo,null),this._uiManager.enableWaiting(!1),!!y(this,Ga)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Ut)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Ut)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},E0=function(){if(y(this,Fn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,Fn)).then(i=>F(this,et,Cp).call(this,i,!0)).finally(()=>F(this,et,Pp).call(this));return}if(y(this,Rs)){const i=y(this,Rs);D(this,Rs,null),this._uiManager.enableWaiting(!0),D(this,Yo,this._uiManager.imageManager.getFromUrl(i).then(a=>F(this,et,Cp).call(this,a)).finally(()=>F(this,et,Pp).call(this)));return}if(y(this,Zo)){const i=y(this,Zo);D(this,Zo,null),this._uiManager.enableWaiting(!0),D(this,Yo,this._uiManager.imageManager.getFromFile(i).then(a=>F(this,et,Cp).call(this,a)).finally(()=>F(this,et,Pp).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Zp.supportedTypesStr;const r=this._uiManager._signal;D(this,Yo,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,et,Cp).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,et,Pp).call(this))),n.click()},eA=function(){const{div:n}=this;let{width:r,height:i}=y(this,Ut);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const d=Math.min(o*a/r,o*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/a,i*u/s),this._uiManager.enableWaiting(!1);const c=D(this,Ga,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,et,tA).call(this,r,i),F(this,et,iB).call(this),y(this,Oh)||(this.parent.addUndoableEditor(this),D(this,Oh,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,Th)&&c.setAttribute("aria-label",y(this,Th))},rB=function(n,r){var o;const[i,a]=this.parentDimensions;this.width=n/i,this.height=r/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,y(this,qa)!==null&&clearTimeout(y(this,qa)),D(this,qa,setTimeout(()=>{D(this,qa,null),F(this,et,tA).call(this,n,r)},200))},C0=function(n,r){const{width:i,height:a}=y(this,Ut);let s=i,o=a,l=y(this,Ut);for(;s>2*n||o>2*r;){const u=s,c=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(s,o);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,o),l=d.transferToImageBitmap()}return l},tA=function(n,r){const i=new Kk,a=Math.ceil(n*i.sx),s=Math.ceil(r*i.sy),o=y(this,Ga);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=y(this,ti)?y(this,Ut):F(this,et,C0).call(this,a,s),u=o.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,a,s)},P0=function(n){if(n){if(y(this,ti)){const a=this._uiManager.imageManager.getSvgUrl(y(this,Fn));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=y(this,Ut),r.getContext("2d").drawImage(y(this,Ut),0,0),r.toDataURL()}if(y(this,ti)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*bl.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*bl.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(y(this,Ut),0,0,y(this,Ut).width,y(this,Ut).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(y(this,Ut))},iB=function(){this._uiManager._signal&&(D(this,Ls,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&F(this,et,rB).call(this,r.width,r.height)})),y(this,Ls).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=y(this,Ls))==null||n.disconnect(),D(this,Ls,null)},{once:!0}))},aB=function(n){var u;const{rect:r,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,s=n.rect.every((c,d)=>Math.abs(c-r[d])<1),o=n.pageIndex===i,l=(((u=n.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:s&&o&&l,isSameAltText:l}},$e(Zp,"_type","stamp"),$e(Zp,"_editorType",Ve.STAMP);let J_=Zp;var Ju,Mh,Xa,Qo,js,ni,Jo,Nh,Ih,er,Ds,Re,el,Wn,sB,rA,iA,aA,T0;const Xi=class Xi{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:c}){B(this,Wn);B(this,Ju);B(this,Mh,!1);B(this,Xa,null);B(this,Qo,null);B(this,js,null);B(this,ni,new Map);B(this,Jo,!1);B(this,Nh,!1);B(this,Ih,!1);B(this,er,null);B(this,Ds,null);B(this,Re);const d=[...y(Xi,el).values()];if(!Xi._initialized){Xi._initialized=!0;for(const h of d)h.initialize(c,e)}e.registerEditorTypes(d),D(this,Re,e),this.pageIndex=n,this.div=r,D(this,Ju,a),D(this,Xa,s),this.viewport=u,D(this,er,l),this.drawLayer=o,this._structTree=i,y(this,Re).addLayer(this)}get isEmpty(){return y(this,ni).size===0}get isInvisible(){return this.isEmpty&&y(this,Re).getMode()===Ve.NONE}updateToolbar(e){y(this,Re).updateToolbar(e)}updateMode(e=y(this,Re).getMode()){switch(F(this,Wn,T0).call(this),e){case Ve.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ve.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of y(Xi,el).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=y(this,er))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(y(this,Re).getMode()!==Ve.INK)return;if(!e){for(const r of y(this,ni).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){y(this,Re).setEditingState(e)}addCommands(e){y(this,Re).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=y(this,Xa))==null||n.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of y(this,ni).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(y(this,Re).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!y(this,Xa))return;const n=y(this,Xa).getEditableAnnotations();for(const r of n){if(r.hide(),y(this,Re).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;D(this,Ih,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const a of y(this,ni).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(y(this,Xa)){const a=y(this,Xa).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(y(this,Re).isDeletedAnnotationElement(o))continue;let l=n.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(y(this,Re).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}F(this,Wn,T0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of y(Xi,el).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,Ih,!1)}getEditableAnnotation(e){var n;return((n=y(this,Xa))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){y(this,Re).getActive()!==e&&y(this,Re).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=y(this,er))!=null&&e.div&&!y(this,Ds)){D(this,Ds,new AbortController);const n=y(this,Re).combinedSignal(y(this,Ds));y(this,er).div.addEventListener("pointerdown",F(this,Wn,sB).bind(this),{signal:n}),y(this,er).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=y(this,er))!=null&&e.div&&y(this,Ds)&&(y(this,Ds).abort(),D(this,Ds,null),y(this,er).div.classList.remove("highlighting"))}enableClick(){if(y(this,Qo))return;D(this,Qo,new AbortController);const e=y(this,Re).combinedSignal(y(this,Qo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=y(this,Qo))==null||e.abort(),D(this,Qo,null)}attach(e){y(this,ni).set(e.id,e);const{annotationElementId:n}=e;n&&y(this,Re).isDeletedAnnotationElement(n)&&y(this,Re).removeDeletedAnnotationElement(e)}detach(e){var n;y(this,ni).delete(e.id),(n=y(this,Ju))==null||n.removePointerInTextLayer(e.contentDiv),!y(this,Ih)&&e.annotationElementId&&y(this,Re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),y(this,Re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,y(this,Nh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(y(this,Re).addDeletedAnnotationElement(e.annotationElementId),mt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),y(this,Re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),y(this,Re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!y(this,js)&&(e._focusEventsAllowed=!1,D(this,js,setTimeout(()=>{D(this,js,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:y(this,Re)._signal}),n.focus())},0))),e._structTreeParentId=(r=y(this,Ju))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return y(this,Re).getId()}combinedSignal(e){return y(this,Re).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=y(this,Wn,rA))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){y(this,Re).updateToolbar(e),y(this,Re).updateMode(e);const{offsetX:r,offsetY:i}=F(this,Wn,aA).call(this),a=this.getNextId(),s=F(this,Wn,iA).call(this,{parent:this,id:a,x:r,y:i,uiManager:y(this,Re),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=y(Xi,el).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,y(this,Re)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=F(this,Wn,iA).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:y(this,Re),isCentered:n,...r});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(F(this,Wn,aA).call(this),!0)}setSelected(e){y(this,Re).setSelected(e)}toggleSelected(e){y(this,Re).toggleSelected(e)}unselect(e){y(this,Re).unselect(e)}pointerup(e){const{isMac:n}=xr.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&y(this,Jo)){if(D(this,Jo,!1),!y(this,Mh)){D(this,Mh,!0);return}if(y(this,Re).getMode()===Ve.STAMP){y(this,Re).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(y(this,Re).getMode()===Ve.HIGHLIGHT&&this.enableTextSelection(),y(this,Jo)){D(this,Jo,!1);return}const{isMac:n}=xr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;D(this,Jo,!0);const r=y(this,Re).getActive();D(this,Mh,!r||r.isEmpty())}findNewParent(e,n,r){const i=y(this,Re).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=y(this,Re).getActive())==null?void 0:e.parent)===this&&(y(this,Re).commitOrRemove(),y(this,Re).setActiveEditor(null)),y(this,js)&&(clearTimeout(y(this,js)),D(this,js,null));for(const r of y(this,ni).values())(n=y(this,Ju))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,y(this,ni).clear(),y(this,Re).removeLayer(this)}render({viewport:e}){this.viewport=e,fc(this.div,e);for(const n of y(this,Re).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){y(this,Re).commitOrRemove(),F(this,Wn,T0).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,fc(this.div,{rotation:r}),n!==r)for(const i of y(this,ni).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return y(this,Re).viewParameters.realScale}};Ju=new WeakMap,Mh=new WeakMap,Xa=new WeakMap,Qo=new WeakMap,js=new WeakMap,ni=new WeakMap,Jo=new WeakMap,Nh=new WeakMap,Ih=new WeakMap,er=new WeakMap,Ds=new WeakMap,Re=new WeakMap,el=new WeakMap,Wn=new WeakSet,sB=function(e){y(this,Re).unselectAll();const{target:n}=e;if(n===y(this,er).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&y(this,er).div.contains(n)){const{isMac:r}=xr.platform;if(e.button!==0||e.ctrlKey&&r)return;y(this,Re).showAllEditors("highlight",!0,!0),y(this,er).div.classList.add("free"),this.toggleDrawing(),hb.startHighlighting(this,y(this,Re).direction==="ltr",{target:y(this,er).div,x:e.x,y:e.y}),y(this,er).div.addEventListener("pointerup",()=>{y(this,er).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,Re)._signal}),e.preventDefault()}},rA=function(){return y(Xi,el).get(y(this,Re).getMode())},iA=function(e){const n=y(this,Wn,rA);return n?new n.prototype.constructor(e):null},aA=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(a+o)/2-e,c=(s+l)/2-n,[d,h]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:h}},T0=function(){D(this,Nh,!0);for(const e of y(this,ni).values())e.isEmpty()&&e.remove();D(this,Nh,!1)},$e(Xi,"_initialized",!1),B(Xi,el,new Map([L_,W_,J_,hb].map(e=>[e._editorType,e])));let nA=Xi;var Ka,gy,an,$s,yy,oA,Sc,lA,oB;const jn=class jn{constructor({pageIndex:e}){B(this,Sc);B(this,Ka,null);B(this,gy,0);B(this,an,new Map);B(this,$s,new Map);this.pageIndex=e}setParent(e){if(!y(this,Ka)){D(this,Ka,e);return}if(y(this,Ka)!==e){if(y(this,an).size>0)for(const n of y(this,an).values())n.remove(),e.append(n);D(this,Ka,e)}}static get _svgFactory(){return tt(this,"_svgFactory",new AP)}draw(e,n,r,i=!1){const a=cr(this,gy)._++,s=F(this,Sc,lA).call(this,e.box);s.classList.add(...e.classNamesForDrawing);const o=jn._svgFactory.createElement("defs");s.append(o);const l=jn._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&y(this,$s).set(a,l);const c=F(this,Sc,oB).call(this,o,u),d=jn._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),y(this,an).set(a,s),{id:a,clipPathId:`url(#${c})`}}drawOutline(e){const n=cr(this,gy)._++,r=F(this,Sc,lA).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=jn._svgFactory.createElement("defs");r.append(i);const a=jn._svgFactory.createElement("path");i.append(a);const s=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",s),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const c=jn._svgFactory.createElement("mask");i.append(c),o=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const d=jn._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=jn._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=jn._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),y(this,an).set(n,r),n}finalizeLine(e,n){const r=y(this,$s).get(e);y(this,$s).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){y(this,an).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(e,n){y(this,$s).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;F(r=jn,yy,oA).call(r,y(this,an).get(e),n)}show(e,n){y(this,an).get(e).classList.toggle("hidden",!n)}rotate(e,n){y(this,an).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){y(this,an).get(e).setAttribute("fill",n)}changeOpacity(e,n){y(this,an).get(e).setAttribute("fill-opacity",n)}addClass(e,n){y(this,an).get(e).classList.add(n)}removeClass(e,n){y(this,an).get(e).classList.remove(n)}getSVGRoot(e){return y(this,an).get(e)}remove(e){y(this,$s).delete(e),y(this,Ka)!==null&&(y(this,an).get(e).remove(),y(this,an).delete(e))}destroy(){D(this,Ka,null);for(const e of y(this,an).values())e.remove();y(this,an).clear(),y(this,$s).clear()}};Ka=new WeakMap,gy=new WeakMap,an=new WeakMap,$s=new WeakMap,yy=new WeakSet,oA=function(e,{x:n=0,y:r=0,width:i=1,height:a=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},Sc=new WeakSet,lA=function(e){var r;const n=jn._svgFactory.create(1,1,!0);return y(this,Ka).append(n),n.setAttribute("aria-hidden",!0),F(r=jn,yy,oA).call(r,n,e),n},oB=function(e,n){const r=jn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=jn._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},B(jn,yy);let sA=jn;Be.AbortException;Be.AnnotationEditorLayer;Be.AnnotationEditorParamsType;Be.AnnotationEditorType;Be.AnnotationEditorUIManager;var lB=Be.AnnotationLayer,uB=Be.AnnotationMode;Be.ColorPicker;Be.DOMSVGFactory;Be.DrawLayer;Be.FeatureTest;var CP=Be.GlobalWorkerOptions;Be.ImageKind;Be.InvalidPDFException;Be.MissingPDFException;Be.OPS;Be.OutputScale;var VQ=Be.PDFDataRangeTransport;Be.PDFDateString;Be.PDFWorker;Be.PasswordResponses;Be.PermissionFlag;Be.PixelsPerInch;Be.RenderingCancelledException;var cB=Be.TextLayer;Be.UnexpectedResponseException;Be.Util;Be.VerbosityLevel;Be.XfaLayer;Be.build;Be.createValidAbsoluteUrl;Be.fetchData;var dB=Be.getDocument;Be.getFilenameFromUrl;Be.getPdfFilenameFromUrl;Be.getXfaPageViewport;Be.isDataScheme;Be.isPdfFile;Be.noContextMenu;Be.normalizeUnicode;Be.setLayerDimensions;Be.shadow;Be.version;const GQ=Object.freeze(Object.defineProperty({__proto__:null,AnnotationLayer:lB,AnnotationMode:uB,GlobalWorkerOptions:CP,PDFDataRangeTransport:VQ,TextLayer:cB,getDocument:dB},Symbol.toStringTag,{value:"Module"}));var _n=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},qQ=["onCopy","onCut","onPaste"],XQ=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],KQ=["onFocus","onBlur"],YQ=["onInput","onInvalid","onReset","onSubmit"],ZQ=["onLoad","onError"],QQ=["onKeyDown","onKeyPress","onKeyUp"],JQ=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],eJ=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],tJ=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],nJ=["onSelect"],rJ=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],iJ=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aJ=["onScroll"],sJ=["onWheel"],oJ=["onAnimationStart","onAnimationEnd","onAnimationIteration"],lJ=["onTransitionEnd"],uJ=["onToggle"],cJ=["onChange"],dJ=_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n(_n([],qQ,!0),XQ,!0),KQ,!0),YQ,!0),ZQ,!0),QQ,!0),JQ,!0),eJ,!0),tJ,!0),nJ,!0),rJ,!0),iJ,!0),aJ,!0),sJ,!0),oJ,!0),lJ,!0),cJ,!0),uJ,!0);function hB(t,e){var n={};return dJ.forEach(function(r){var i=t[r];i&&(e?n[r]=function(a){return i(a,e(r))}:n[r]=i)}),n}function Oy(t){var e=!1,n=new Promise(function(r,i){t.then(function(a){return!e&&r(a)}).catch(function(a){return!e&&i(a)})});return{promise:n,cancel:function(){e=!0}}}function fB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fB(t))&&(r&&(r+=" "),r+=e);return r}var hJ="Invariant failed";function rt(t,e){if(!t)throw new Error(hJ)}var fJ=function(){},pJ=fJ;const ar=ot(pJ);var GM=Object.prototype.hasOwnProperty;function qM(t,e,n){for(n of t.keys())if(Od(n,e))return n}function Od(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Od(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=qM(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=qM(e,i),!i)||!Od(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(GM.call(t,n)&&++r&&!GM.call(e,n)||!(n in e)||!Od(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const pB=N.createContext(null);function Md({children:t,type:e}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const mJ="noopener noreferrer nofollow";class gJ{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return rt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){rt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{rt(this.pdfDocument),rt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{rt(Array.isArray(n));const r=n[0];new Promise(i=>{rt(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{rt(!1)}):typeof r=="number"?i(r):rt(!1)}).then(i=>{const a=i+1;rt(this.pdfViewer),rt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;rt(this.pdfViewer),rt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||mJ,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const XM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},hw=typeof window<"u",mB=hw&&window.location.protocol==="file:";function yJ(t){return typeof t<"u"}function Ll(t){return yJ(t)&&t!==null}function vJ(t){return typeof t=="string"}function bJ(t){return t instanceof ArrayBuffer}function xJ(t){return rt(hw),t instanceof Blob}function uA(t){return vJ(t)&&/^data:/.test(t)}function KM(t){rt(uA(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function wJ(){return hw&&window.devicePixelRatio||1}const gB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function YM(){ar(!mB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${gB}`)}function SJ(){ar(!mB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${gB}`)}function gc(t){t!=null&&t.cancel&&t.cancel()}function cA(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function kJ(t){return t.name==="RenderingCancelledException"}function _J(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}function AJ(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Hh(){return N.useReducer(AJ,{value:void 0,error:void 0})}var EJ=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},ZM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const{PDFDataRangeTransport:CJ}=GQ,PJ=(t,e)=>{switch(e){case XM.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case XM.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function QM(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const TJ=N.forwardRef(function(e,n){var{children:r,className:i,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:c,loading:d="Loading PDF",noData:h="No PDF file specified.",onItemClick:f,onLoadError:m,onLoadProgress:p,onLoadSuccess:v,onPassword:g=PJ,onSourceError:b,onSourceSuccess:x,options:S,renderMode:w,rotate:k}=e,A=ZM(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,P]=Hh(),{value:O,error:I}=E,[T,j]=Hh(),{value:C,error:L}=T,X=N.useRef(new gJ),z=N.useRef([]),G=N.useRef(void 0),W=N.useRef(void 0);l&&l!==G.current&&QM(l)&&(ar(!Od(l,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=l),S&&S!==W.current&&(ar(!Od(S,W.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),W.current=S);const R=N.useRef({scrollPageIntoView:_e=>{const{dest:M,pageNumber:te,pageIndex:K=te-1}=_e;if(f){f({dest:M,pageIndex:K,pageNumber:te});return}const q=z.current[K];if(q){q.scrollIntoView();return}ar(!1,`An internal link leading to page ${te} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(n,()=>({linkService:X,pages:z,viewer:R}),[]);function V(){x&&x()}function H(){I&&(ar(!1,I.toString()),b&&b(I))}function $(){P({type:"RESET"})}N.useEffect($,[l,P]);const ie=N.useCallback(()=>EJ(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return uA(l)?{data:KM(l)}:(YM(),{url:l});if(l instanceof CJ)return{range:l};if(bJ(l))return{data:l};if(hw&&xJ(l))return{data:yield _J(l)};if(rt(typeof l=="object"),rt(QM(l)),"url"in l&&typeof l.url=="string"){if(uA(l.url)){const{url:_e}=l,M=ZM(l,["url"]),te=KM(_e);return Object.assign({data:te},M)}YM()}return l}),[l]);N.useEffect(()=>{const _e=Oy(ie());return _e.promise.then(M=>{P({type:"RESOLVE",value:M})}).catch(M=>{P({type:"REJECT",error:M})}),()=>{gc(_e)}},[ie,P]),N.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){H();return}V()}},[O]);function Z(){C&&(v&&v(C),z.current=new Array(C.numPages),X.current.setDocument(C))}function he(){L&&(ar(!1,L.toString()),m&&m(L))}N.useEffect(function(){j({type:"RESET"})},[j,O]),N.useEffect(function(){if(!O)return;const M=S?Object.assign(Object.assign({},O),S):O,te=dB(M);p&&(te.onProgress=p),g&&(te.onPassword=g);const K=te,q=K.promise.then(U=>{j({type:"RESOLVE",value:U})}).catch(U=>{K.destroyed||j({type:"REJECT",error:U})});return()=>{q.finally(()=>K.destroy())}},[S,j,O]),N.useEffect(()=>{if(!(typeof C>"u")){if(C===!1){he();return}Z()}},[C]),N.useEffect(function(){X.current.setViewer(R.current),X.current.setExternalLinkRel(s),X.current.setExternalLinkTarget(o)},[s,o]);const we=N.useCallback((_e,M)=>{z.current[_e]=M},[]),me=N.useCallback(_e=>{delete z.current[_e]},[]),ae=N.useMemo(()=>({imageResourcesPath:c,linkService:X.current,onItemClick:f,pdf:C,registerPage:we,renderMode:w,rotate:k,unregisterPage:me}),[c,f,C,we,w,k,me]),fe=N.useMemo(()=>hB(A,()=>C),[A,C]);function pe(){return _.jsx(pB.Provider,{value:ae,children:r})}function se(){return l?C==null?_.jsx(Md,{type:"loading",children:typeof d=="function"?d():d}):C===!1?_.jsx(Md,{type:"error",children:typeof a=="function"?a():a}):pe():_.jsx(Md,{type:"no-data",children:typeof h=="function"?h():h})}return _.jsx("div",Object.assign({className:Ze("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},fe,{children:se()}))});function yB(){return N.useContext(pB)}function vB(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){n.forEach(function(s){typeof s=="function"?s(a):s&&(s.current=a)})}}const bB=N.createContext(null),xB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},OJ=/^H(\d+)$/;function MJ(t){return t in xB}function fw(t){return"children"in t}function wB(t){return fw(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function NJ(t){const e={};if(fw(t)){const{role:n}=t,r=n.match(OJ);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(MJ(n)){const i=xB[n];i&&(e.role=i)}}return e}function SB(t){const e={};if(fw(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),wB(t)){const[n]=t.children;if(n){const r=SB(n);return Object.assign(Object.assign({},e),r)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function IJ(t){return t?Object.assign(Object.assign({},NJ(t)),SB(t)):null}function kB({className:t,node:e}){const n=N.useMemo(()=>IJ(e),[e]),r=N.useMemo(()=>!fw(e)||wB(e)?null:e.children.map((i,a)=>_.jsx(kB,{node:i},a)),[e]);return _.jsx("span",Object.assign({className:t},n,{children:r}))}function pw(){return N.useContext(bB)}function RJ(){const t=pw();rt(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=Hh(),{value:a,error:s}=r,{customTextRenderer:o,page:l}=t;function u(){a&&n&&n(a)}function c(){s&&(ar(!1,s.toString()),e&&e(s))}return N.useEffect(function(){i({type:"RESET"})},[i,l]),N.useEffect(function(){if(o||!l)return;const h=Oy(l.getStructTree()),f=h;return h.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>gc(f)},[o,l,i]),N.useEffect(()=>{if(a!==void 0){if(a===!1){c();return}u()}},[a]),a?_.jsx(kB,{className:"react-pdf__Page__structTree structTree",node:a}):null}const JM=uB;function LJ(t){const e=pw();rt(e);const n=Object.assign(Object.assign({},e),t),{_className:r,canvasBackground:i,devicePixelRatio:a=wJ(),onRenderError:s,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:c,rotate:d,scale:h}=n,{canvasRef:f}=t;rt(l);const m=N.useRef(null);function p(){l&&o&&o(cA(l,h))}function v(S){kJ(S)||(ar(!1,S.toString()),s&&s(S))}const g=N.useMemo(()=>l.getViewport({scale:h*a,rotation:d}),[a,l,d,h]),b=N.useMemo(()=>l.getViewport({scale:h,rotation:d}),[l,d,h]);N.useEffect(function(){if(!l)return;l.cleanup();const{current:w}=m;if(!w)return;w.width=g.width,w.height=g.height,w.style.width=`${Math.floor(b.width)}px`,w.style.height=`${Math.floor(b.height)}px`,w.style.visibility="hidden";const k={annotationMode:u?JM.ENABLE_FORMS:JM.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const A=l.render(k),E=A;return A.promise.then(()=>{w.style.visibility="",p()}).catch(v),()=>gc(E)},[i,l,u,g,b]);const x=N.useCallback(()=>{const{current:S}=m;S&&(S.width=0,S.height=0)},[]);return N.useEffect(()=>x,[x]),_.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:vB(f,m),style:{display:"block",userSelect:"none"},children:c?_.jsx(RJ,{}):null})}function jJ(t){return"str"in t}function DJ(){const t=pw();rt(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:l,rotate:u,scale:c}=t;rt(s);const[d,h]=Hh(),{value:f,error:m}=d,p=N.useRef(null);ar(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){f&&r&&r(f)}function g(){m&&(ar(!1,m.toString()),n&&n(m))}N.useEffect(function(){h({type:"RESET"})},[s,h]),N.useEffect(function(){if(!s)return;const E=Oy(s.getTextContent()),P=E;return E.promise.then(O=>{h({type:"RESOLVE",value:O})}).catch(O=>{h({type:"REJECT",error:O})}),()=>gc(P)},[s,h]),N.useEffect(()=>{if(f!==void 0){if(f===!1){g();return}v()}},[f]);const b=N.useCallback(()=>{a&&a()},[a]),x=N.useCallback(A=>{ar(!1,A.toString()),i&&i(A)},[i]);function S(){const A=p.current;A&&A.classList.add("selecting")}function w(){const A=p.current;A&&A.classList.remove("selecting")}const k=N.useMemo(()=>s.getViewport({scale:c,rotation:u}),[s,u,c]);return N.useLayoutEffect(function(){if(!s||!f)return;const{current:E}=p;if(!E)return;E.innerHTML="";const P=s.streamTextContent({includeMarkedContent:!0}),O={container:E,textContentSource:P,viewport:k},I=new cB(O),T=I;return I.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",E.append(j);const C=E.querySelectorAll('[role="presentation"]');if(e){let L=0;f.items.forEach((X,z)=>{if(!jJ(X))return;const G=C[L];if(!G)return;const W=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:z},X));G.innerHTML=W,L+=X.str&&X.hasEOL?2:1})}b()}).catch(x),()=>gc(T)},[e,x,b,s,o,l,f,k]),_.jsx("div",{className:Ze("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:S,ref:p})}function $J(){const t=yB(),e=pw();rt(e);const n=Object.assign(Object.assign({},t),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:c,renderForms:d,rotate:h,scale:f=1}=n;rt(c),rt(u),rt(i);const[m,p]=Hh(),{value:v,error:g}=m,b=N.useRef(null);ar(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){v&&s&&s(v)}function S(){g&&(ar(!1,g.toString()),a&&a(g))}N.useEffect(function(){p({type:"RESET"})},[p,u]),N.useEffect(function(){if(!u)return;const P=Oy(u.getAnnotations()),O=P;return P.promise.then(I=>{p({type:"RESOLVE",value:I})}).catch(I=>{p({type:"REJECT",error:I})}),()=>{gc(O)}},[p,u]),N.useEffect(()=>{if(v!==void 0){if(v===!1){S();return}x()}},[v]);function w(){l&&l()}function k(E){ar(!1,`${E}`),o&&o(E)}const A=N.useMemo(()=>u.getViewport({scale:f,rotation:h}),[u,h,f]);return N.useEffect(function(){if(!c||!u||!i||!v)return;const{current:P}=b;if(!P)return;const O=A.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:P,l10n:null,page:u,structTreeLayer:null,viewport:O},T={annotations:v,annotationStorage:c.annotationStorage,div:P,imageResourcesPath:r,linkService:i,page:u,renderForms:d,viewport:O};P.innerHTML="";try{new lB(I).render(T),w()}catch(j){k(j)}return()=>{}},[v,r,i,u,c,d,A]),_.jsx("div",{className:Ze("react-pdf__Page__annotations","annotationLayer"),ref:b})}var FJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const eN=1;function zJ(t){const e=yB(),n=Object.assign(Object.assign({},e),t),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:l,customRenderer:u,customTextRenderer:c,devicePixelRatio:d,error:h="Failed to load the page.",height:f,inputRef:m,loading:p="Loading page",noData:v="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:w,onGetTextSuccess:k,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:I,onRenderSuccess:T,onRenderTextLayerError:j,onRenderTextLayerSuccess:C,pageIndex:L,pageNumber:X,pdf:z,registerPage:G,renderAnnotationLayer:W=!0,renderForms:R=!1,renderMode:V="canvas",renderTextLayer:H=!0,rotate:$,scale:ie=eN,unregisterPage:Z,width:he}=n,we=FJ(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[me,ae]=Hh(),{value:fe,error:pe}=me,se=N.useRef(null);rt(z);const _e=Ll(X)?X-1:L??null,M=X??(Ll(L)?L+1:null),te=$??(fe?fe.rotate:null),K=N.useMemo(()=>{if(!fe)return null;let ue=1;const ve=ie??eN;if(he||f){const oe=fe.getViewport({scale:1,rotation:te});he?ue=he/oe.width:f&&(ue=f/oe.height)}return ve*ue},[f,fe,te,ie,he]);N.useEffect(function(){return()=>{Ll(_e)&&i&&Z&&Z(_e)}},[i,z,_e,Z]);function q(){if(E){if(!fe||!K)return;E(cA(fe,K))}if(i&&G){if(!Ll(_e)||!se.current)return;G(_e,se.current)}}function U(){pe&&(ar(!1,pe.toString()),A&&A(pe))}N.useEffect(function(){ae({type:"RESET"})},[ae,z,_e]),N.useEffect(function(){if(!z||!M)return;const ve=Oy(z.getPage(M)),oe=ve;return ve.promise.then(ke=>{ae({type:"RESOLVE",value:ke})}).catch(ke=>{ae({type:"REJECT",error:ke})}),()=>gc(oe)},[ae,z,M]),N.useEffect(()=>{if(fe!==void 0){if(fe===!1){U();return}q()}},[fe,K]);const Y=N.useMemo(()=>fe&&Ll(_e)&&M&&Ll(te)&&Ll(K)?{_className:r,canvasBackground:a,customTextRenderer:c,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:w,onGetTextSuccess:k,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:I,onRenderSuccess:T,onRenderTextLayerError:j,onRenderTextLayerSuccess:C,page:fe,pageIndex:_e,pageNumber:M,renderForms:R,renderTextLayer:H,rotate:te,scale:K}:null,[r,a,c,d,g,b,x,S,w,k,P,O,I,T,j,C,fe,_e,M,R,H,te,K]),Q=N.useMemo(()=>hB(we,()=>fe&&(K?cA(fe,K):void 0)),[we,fe,K]),de=`${_e}@${K}/${te}`;function ne(){switch(V){case"custom":return rt(u),_.jsx(u,{},`${de}_custom`);case"none":return null;case"canvas":default:return _.jsx(LJ,{canvasRef:s},`${de}_canvas`)}}function ye(){return H?_.jsx(DJ,{},`${de}_text`):null}function xe(){return W?_.jsx($J,{},`${de}_annotations`):null}function ge(){return _.jsxs(bB.Provider,{value:Y,children:[ne(),ye(),xe(),o]})}function ee(){return M?z===null||fe===void 0||fe===null?_.jsx(Md,{type:"loading",children:typeof p=="function"?p():p}):z===!1||fe===!1?_.jsx(Md,{type:"error",children:typeof h=="function"?h():h}):ge():_.jsx(Md,{type:"no-data",children:typeof v=="function"?v():v})}return _.jsx("div",Object.assign({className:Ze(r,l),"data-page-number":M,ref:vB(m,se),style:{"--scale-factor":`${K}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Q,{children:ee()}))}SJ();CP.workerSrc="pdf.worker.mjs";const BJ="/assets/pdf.worker-n-vTvQZi.mjs",UJ=BJ;CP.workerSrc=UJ;const Uc=[.8,1,1.25];function tN(t,e){const n=atob(t),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);const i=new Blob([r],{type:e});return URL.createObjectURL(i)}function HJ({contentBase64:t,fileId:e,size:n}){const r=N.useRef(null),[i,a]=N.useState(null),[s,o]=N.useState(0),[l,u]=N.useState(1),c=N.useRef([]),[d,h]=N.useState(!0),[f,m]=N.useState(null),[p,v]=N.useState(1),[g,b]=N.useState(!1),[x,S]=N.useState(0),w=N.useRef(0);N.useEffect(()=>{if(!t)return;const L=tN(t,"application/pdf");return a(L),()=>URL.revokeObjectURL(L)},[t]);const k=N.useCallback(({numPages:L})=>{o(L),h(!1),m(null)},[]),A=N.useCallback(L=>{h(!1),m((L==null?void 0:L.message)??"Failed to load PDF")},[]);N.useEffect(()=>{if(!r.current)return;const L=new ResizeObserver(X=>{const z=X[0];z&&S(z.contentRect.width)});return L.observe(r.current),()=>L.disconnect()},[]),N.useEffect(()=>{if(s===0)return;const L=c.current,X=new IntersectionObserver(z=>{z.forEach(G=>{if(G.isIntersecting){const W=Number(G.target.dataset.pageNumber);Number.isNaN(W)||u(W)}})},{root:r.current,rootMargin:"-20% 0px",threshold:0});return L.forEach(z=>{z&&X.observe(z)}),()=>X.disconnect()},[s]);const[E,P]=N.useState(0),O=g&&x>0&&E>0?x/E:p,I=N.useCallback(L=>{w.current=L.width,P(L.width)},[]),T=()=>{const L=Uc.indexOf(p);L<Uc.length-1&&v(Uc[L+1]),b(!1)},j=()=>{const L=Uc.indexOf(p);L>0&&v(Uc[L-1]),b(!1)},C=()=>{m(null),h(!0),o(0),a(L=>(L&&URL.revokeObjectURL(L),tN(t,"application/pdf")))};return f?_.jsxs("div",{className:"flex min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[_.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to load PDF."}),_.jsx("p",{className:"text-sm text-slate-500",children:f}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:C,"aria-label":"Retry loading PDF",children:"Retry"}),_.jsx(Bh,{to:"/app/workspace",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",children:"Back to Workspace"})]})]}):_.jsxs("div",{className:"flex h-full flex-col",ref:r,children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:j,"aria-label":"Zoom out",children:""}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:T,"aria-label":"Zoom in",children:"+"}),Uc.map(L=>_.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${p===L?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{v(L),b(!1)},"aria-label":`Zoom ${Math.round(L*100)}%`,children:[Math.round(L*100),"%"]},L)),_.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${g?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>b(L=>!L),"aria-label":"Fit to width",children:"Fit to width"}),s>0&&_.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400","aria-live":"polite",children:["Page ",l," of ",s]})]}),_.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-4 dark:bg-slate-600",style:{minHeight:400},children:[d&&_.jsx("div",{className:"flex items-center justify-center py-16",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading PDF"})}),i&&_.jsx(TJ,{file:i,onLoadSuccess:k,onLoadError:A,loading:null,className:"flex flex-col items-center gap-4",children:Array.from({length:s},(L,X)=>X+1).map(L=>_.jsx("div",{className:"relative bg-white shadow-lg dark:bg-slate-900",ref:X=>{c.current[L-1]=X},"data-page-number":L,children:_.jsx(zJ,{pageNumber:L,scale:O,onLoadSuccess:L===1?I:void 0,renderTextLayer:!0,renderAnnotationLayer:!0})},L))})]})]})}const WJ=[.8,1,1.25,1.5,2];function VJ(t,e){const n=atob(t),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);const i=new Blob([r],{type:e});return URL.createObjectURL(i)}function GJ(t){var n;switch((n=t.split(".").pop())==null?void 0:n.toLowerCase()){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"webp":return"image/webp";default:return"image/png"}}function qJ({contentBase64:t,fileId:e,fileName:n,size:r}){const i=N.useRef(null),a=N.useRef(null),[s]=N.useState(()=>VJ(t,GJ(n))),[o,l]=N.useState(1),[u,c]=N.useState(!1),[d,h]=N.useState(null),f=N.useCallback(()=>{const v=document.createElement("a");v.href=s,v.download=n,v.click()},[s,n]),m=N.useCallback(v=>{const g=v.currentTarget;h({width:g.naturalWidth,height:g.naturalHeight})},[]),p=u?"Fit Width":`${Math.round(o*100)}%`;return _.jsxs("div",{className:"flex h-full flex-col",children:[_.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white px-4 py-2 dark:border-slate-700 dark:bg-slate-900",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Zoom:"}),_.jsxs("div",{className:"flex gap-1",children:[WJ.map(v=>_.jsxs("button",{type:"button",onClick:()=>{l(v),c(!1)},className:`rounded px-2 py-1 text-xs font-medium transition-colors ${o===v&&!u?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:[Math.round(v*100),"%"]},v)),_.jsx("button",{type:"button",onClick:()=>c(!u),className:`rounded px-2 py-1 text-xs font-medium transition-colors ${u?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:"Fit"})]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("button",{type:"button",onClick:f,className:"rounded bg-slate-100 px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",children:"Download"})})]}),_.jsx("div",{ref:i,className:"relative flex-1 overflow-auto bg-slate-100 dark:bg-slate-800",children:_.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:_.jsx("div",{className:"relative",style:u&&d?{width:"100%"}:{width:`${o*100}%`},children:_.jsx("img",{ref:a,src:s,alt:n,className:"w-full shadow-lg",onLoad:m})})})}),_.jsxs("div",{className:"border-t border-slate-200 bg-white px-4 py-2 text-xs text-slate-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-400",children:[p,d&&`  ${d.width}${d.height}px`]})]})}function XJ(t){const e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function KJ({content:t,fileName:e}){let n;try{n=JSON.parse(t)}catch{return _.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Invalid Spotify track data."})})}if(n.source!=="spotify")return _.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Not a Spotify track."})});const r=n.trackUrl??`https://open.spotify.com/track/${n.trackId}`;return _.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:_.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[n.artworkUrl&&_.jsx("img",{src:n.artworkUrl,alt:"",className:"h-32 w-32 shrink-0 rounded-lg object-cover shadow"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:n.name||e}),n.artists&&_.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-300",children:n.artists}),n.album&&_.jsxs("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:["Album: ",n.album]}),n.duration_ms!=null&&_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:XJ(n.duration_ms)}),_.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Open in Spotify"})]})]})})}const YJ="workspace-root";function _B(){var ve;const{workspaceList:t,activeWorkspaceId:e}=Qx(),n=((ve=t.find(oe=>oe.id===e))==null?void 0:ve.name)??"Workspace",{items:r,createFolder:i,addFile:a,addDocxFile:s,addPdfFile:o,addImageFile:l,renameItem:u,deleteItem:c,getItem:d,updateFileContent:h,moveFile:f}=oF(),{showToast:m}=iV(),p=async(oe,ke)=>{if(oe===YJ){m("Workspace cannot be removed.","info");return}const Le=await c(oe);Le.length>0&&S(Le)},{openTabIds:v,activeTabId:g,openTab:b,closeTab:x,closeTabs:S,setActiveTab:w}=wG(),[k,A]=N.useState(null),[E,P]=N.useState(null),[O,I]=N.useState(()=>qW()),[T,j]=N.useState(null),[C,L]=N.useState(!1),[X,z]=N.useState(!1),[G,W]=N.useState(null),[R,V]=N.useState({}),[H,$]=N.useState(null),[ie,Z]=N.useState(()=>Pk()),[he,we]=N.useState(!1),me=N.useRef(null),ae=N.useRef(null);N.useEffect(()=>{XW(O)},[O]);const fe=N.useCallback(oe=>{I(ke=>({...ke,[oe]:!ke[oe]}))},[]),pe=N.useCallback(oe=>{j(oe)},[]);N.useEffect(()=>{if(!T)return;const oe=setTimeout(()=>j(null),2500);return()=>clearTimeout(oe)},[T]);const se=oe=>{console.log(" handleCreateFolder called with parentId:",oe),W(oe),z(!0),console.log(" Set newFolderParentId to:",oe,"and opened modal")},_e=N.useCallback(oe=>{console.log(" handleNewFolderSubmit called with name:",oe);const ke=G;z(!1),W(null),i(ke,oe.trim()||"New folder")},[G,i]),M=oe=>{var ke;P(oe),(ke=me.current)==null||ke.click()},te=async oe=>{var De;const ke=oe.target.files;if(!(ke!=null&&ke.length))return;const Le=E;P(null);for(let Me=0;Me<ke.length;Me++){const Ie=ke[Me],kt=(De=Ie.name.split(".").pop())==null?void 0:De.toLowerCase();try{if(kt==="docx"){if(Ie.size>kG){m(`"${Ie.name}" is too large. Maximum size for DOCX files is 5 MB.`,"error");continue}const Ue=await new Promise((At,Ea)=>{const Ln=new FileReader;Ln.onload=()=>At(Ln.result),Ln.onerror=()=>Ea(Ln.error),Ln.readAsArrayBuffer(Ie)}),it=new Uint8Array(Ue),_t=8192;let Rn="";for(let At=0;At<it.length;At+=_t)Rn+=String.fromCharCode(...it.subarray(At,At+_t));const Wr=btoa(Rn),po=await s(Le,Ie.name,Wr,Ie.size);b(po)}else if(kt==="pdf"){if(Ie.size>_G){m(`"${Ie.name}" is too large. Maximum size for PDF files is 5 MB.`,"error");continue}const Ue=await new Promise((At,Ea)=>{const Ln=new FileReader;Ln.onload=()=>At(Ln.result),Ln.onerror=()=>Ea(Ln.error),Ln.readAsArrayBuffer(Ie)}),it=new Uint8Array(Ue),_t=8192;let Rn="";for(let At=0;At<it.length;At+=_t)Rn+=String.fromCharCode(...it.subarray(At,At+_t));const Wr=btoa(Rn),po=await o(Le,Ie.name,Wr,Ie.size);b(po)}else if(["png","jpg","jpeg","gif","webp"].includes(kt||"")){if(Ie.size>AG){m(`"${Ie.name}" is too large. Maximum size for images is 5 MB.`,"error");continue}const Ue=await new Promise((At,Ea)=>{const Ln=new FileReader;Ln.onload=()=>At(Ln.result),Ln.onerror=()=>Ea(Ln.error),Ln.readAsArrayBuffer(Ie)}),it=new Uint8Array(Ue),_t=8192;let Rn="";for(let At=0;At<it.length;At+=_t)Rn+=String.fromCharCode(...it.subarray(At,At+_t));const Wr=btoa(Rn),po=await l(Le,Ie.name,Wr,Ie.size);b(po)}else{const Ue=await new Promise((_t,Rn)=>{const Wr=new FileReader;Wr.onload=()=>_t(String(Wr.result)),Wr.onerror=()=>Rn(Wr.error),Wr.readAsText(Ie)}),it=kt==="csv"?"csv":"text";await a(Le,Ie.name,it,Ue)}}catch(Ue){console.error(Ue),m(`Could not import "${Ie.name}". Please try again.`,"error")}}oe.target.value=""},K=oe=>{b(oe),YW(oe),Z(Pk())},q=async oe=>{const ke=A2.find(Me=>Me.id===oe);if(!ke)return;const Le=`${ke.name}${ke.extension}`,De=await a(k,Le,ke.fileType,ke.content);b(De),we(!1),m(`Created "${Le}" from template`,"success")},{query:U}=z$(),Y=N.useMemo(()=>{const oe=U.trim().toLowerCase();return oe?r.filter(ke=>ke.name.toLowerCase().includes(oe)):r},[r,U]),Q=g?d(g):null,de=r.length>0,ne=v.length>0,ye=N.useCallback(oe=>{if(R[oe]){$(oe);return}x(oe)},[R,x]),xe=N.useCallback(()=>{const oe=H;$(null),oe&&(V(ke=>({...ke,[oe]:!1})),x(oe))},[H,x]),ge=N.useCallback(()=>{var ke,Le;if(!Q||!ki(Q))return;const oe=Q.name;if(Q.fileType==="text"||Q.fileType==="csv"){const De=((ke=ae.current)==null?void 0:ke.getContent())??Q.content,Me=new Blob([De],{type:"text/plain;charset=utf-8"}),Ie=URL.createObjectURL(Me),kt=document.createElement("a");kt.href=Ie,kt.download=oe,kt.click(),URL.revokeObjectURL(Ie)}else if(Q.fileType==="pdf"){const De=atob(Q.content),Me=new Uint8Array(De.length);for(let it=0;it<De.length;it++)Me[it]=De.charCodeAt(it);const Ie=new Blob([Me],{type:"application/pdf"}),kt=URL.createObjectURL(Ie),Ue=document.createElement("a");Ue.href=kt,Ue.download=oe,Ue.click(),URL.revokeObjectURL(kt)}else if(Q.fileType==="docx"){const De=atob(Q.content),Me=new Uint8Array(De.length);for(let it=0;it<De.length;it++)Me[it]=De.charCodeAt(it);const Ie=new Blob([Me],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),kt=URL.createObjectURL(Ie),Ue=document.createElement("a");Ue.href=kt,Ue.download=oe,Ue.click(),URL.revokeObjectURL(kt)}else if(Q.fileType==="image"){const De=atob(Q.content),Me=new Uint8Array(De.length);for(let Rn=0;Rn<De.length;Rn++)Me[Rn]=De.charCodeAt(Rn);const Ie=((Le=oe.split(".").pop())==null?void 0:Le.toLowerCase())||"png",kt=Ie==="jpg"||Ie==="jpeg"?"image/jpeg":Ie==="gif"?"image/gif":Ie==="webp"?"image/webp":"image/png",Ue=new Blob([Me],{type:kt}),it=URL.createObjectURL(Ue),_t=document.createElement("a");_t.href=it,_t.download=oe,_t.click(),URL.revokeObjectURL(it)}},[Q]),ee=N.useCallback(()=>{if(!Q||!ki(Q))return;const oe=a2(Q.id),ke=[`Notes for: ${Q.name}`,"",...oe.map(Ie=>`[${Ie.type}] ${Ie.pageIndex!=null?`Page ${Ie.pageIndex+1}`:"Note"}: ${Ie.text??""}`)],Le=new Blob([ke.join(`
`)],{type:"text/plain;charset=utf-8"}),De=URL.createObjectURL(Le),Me=document.createElement("a");Me.href=De,Me.download=Q.name.replace(/\.[^.]+$/,"")+"-notes.txt",Me.click(),URL.revokeObjectURL(De),ge()},[Q,ge]),ue=N.useCallback(()=>{if(!Q||!ki(Q))return;const oe=a2(Q.id),ke=[`Notes for: ${Q.name}`,"",...oe.map(Ie=>`[${Ie.type}] ${Ie.pageIndex!=null?`Page ${Ie.pageIndex+1}`:"Note"}: ${Ie.text??""}`)],Le=new Blob([ke.join(`
`)],{type:"text/plain;charset=utf-8"}),De=URL.createObjectURL(Le),Me=document.createElement("a");Me.href=De,Me.download=Q.name.replace(/\.[^.]+$/,"")+"-notes.txt",Me.click(),URL.revokeObjectURL(De)},[Q]);return SG([{key:"w",ctrl:!0,handler:()=>{g&&ye(g)}},{key:"Tab",ctrl:!0,shift:!1,handler:()=>{const oe=v.indexOf(g);oe>=0&&oe<v.length-1?w(v[oe+1]):v.length>0&&w(v[0])}},{key:"Tab",ctrl:!0,shift:!0,handler:()=>{const oe=v.indexOf(g);oe>0?w(v[oe-1]):v.length>0&&w(v[v.length-1])}}],v.length>0),_.jsxs(_.Fragment,{children:[_.jsxs(Yx,{orientation:"horizontal",className:"h-full",children:[_.jsx(hc,{defaultSize:20,minSize:15,maxSize:40,className:"pr-2",children:_.jsxs("aside",{className:"flex h-full flex-col rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("div",{className:"border-b border-slate-200 p-2 font-medium text-slate-800 dark:border-slate-700 dark:text-slate-100",children:"Files & folders"}),T&&_.jsx("div",{className:"border-b border-slate-200 bg-blue-50 px-2 py-1.5 text-sm text-blue-800 dark:border-slate-700 dark:bg-blue-900/30 dark:text-blue-200",role:"status",children:T}),ie.length>0&&_.jsxs("div",{className:"border-b border-slate-200 p-2 dark:border-slate-700",children:[_.jsx("div",{className:"mb-1 text-xs font-medium text-slate-600 dark:text-slate-400",children:"Recent"}),_.jsx("div",{className:"space-y-0.5",children:ie.slice(0,5).map(oe=>{const ke=d(oe.fileId);return!ke||!ki(ke)?null:_.jsx("button",{type:"button",onClick:()=>K(oe.fileId),className:"w-full truncate rounded px-2 py-1 text-left text-xs text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",title:ke.name,children:ke.name},oe.fileId)})})]}),_.jsx(CG,{workspaceName:n,items:Y,selectedFolderId:k,expandedFolders:O,onToggleExpand:fe,onSelectFolder:A,onOpenFile:K,onCreateFolder:se,onImportFiles:M,onRename:u,onDelete:p,moveFile:f,getItem:d,onMoveFeedback:pe,isDragging:C,setDragging:L})]})}),_.jsx(Zx,{className:"w-1.5 bg-slate-200 hover:bg-blue-400 active:bg-blue-500 transition-colors dark:bg-slate-700 dark:hover:bg-blue-600 dark:active:bg-blue-700 cursor-col-resize"}),_.jsxs(hc,{defaultSize:80,minSize:40,children:[_.jsx("input",{ref:me,type:"file",multiple:!0,className:"hidden","aria-label":"Import files",onChange:te}),_.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[ne&&_.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700 overflow-x-auto",children:v.map(oe=>{const ke=d(oe);return _.jsxs("div",{className:`flex items-center gap-1 border-r border-slate-200 px-3 py-2 text-sm transition-colors duration-150 dark:border-slate-700 ${oe===g?"bg-slate-100 dark:bg-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[_.jsx("button",{type:"button",className:"min-w-0 truncate max-w-[140px]",onClick:()=>w(oe),children:(ke==null?void 0:ke.name)??oe}),_.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:()=>ye(oe),"aria-label":"Close tab",children:""})]},oe)})}),_.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[!ne&&!de&&_.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:[_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No files yet. Create a folder or import files to get started."}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Rt,{variant:"primary",size:"lg",onClick:()=>M(null),children:"Import files"}),_.jsx(Rt,{variant:"secondary",size:"lg",onClick:()=>we(!0),children:"New from template"})]})]}),!ne&&de&&_.jsx("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click a file in the sidebar to open it in a tab."})}),ne&&Q&&ki(Q)&&Q.fileType==="docx"&&_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col",children:[_.jsx(Hf,{fileName:Q.name,hasUnsavedChanges:!1,onDownload:ge,onDownloadWithNotes:ee,canSave:!1}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx(UY,{fileId:Q.id,fileName:Q.name,contentBase64:Q.content,size:Q.size})})]}),ne&&Q&&ki(Q)&&Q.fileType==="pdf"&&_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col",children:[_.jsx(Hf,{fileName:Q.name,hasUnsavedChanges:!1,onDownloadNotes:ue,canSave:!1}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx(HJ,{fileId:Q.id,fileName:Q.name,contentBase64:Q.content,size:Q.size})})]}),ne&&Q&&ki(Q)&&Q.fileType==="image"&&_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col",children:[_.jsx(Hf,{fileName:Q.name,hasUnsavedChanges:!1,onDownloadNotes:ue,canSave:!1}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx(qJ,{fileId:Q.id,fileName:Q.name,contentBase64:Q.content,size:Q.size})})]}),ne&&Q&&ki(Q)&&Q.fileType==="spotify"&&_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col",children:[_.jsx(Hf,{fileName:Q.name,hasUnsavedChanges:!1,onDownload:()=>{if(!Q||!ki(Q))return;const oe=new Blob([Q.content],{type:"application/json"}),ke=URL.createObjectURL(oe),Le=document.createElement("a");Le.href=ke,Le.download=Q.name.replace(/\.[^.]+$/,"")+".json",Le.click(),URL.revokeObjectURL(ke)},canSave:!1}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx(KJ,{content:Q.content,fileName:Q.name})})]}),ne&&Q&&ki(Q)&&(Q.fileType==="text"||Q.fileType==="csv")&&_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col",children:[_.jsx(Hf,{fileName:Q.name,hasUnsavedChanges:!!R[Q.id],onSave:()=>{var oe;return(oe=ae.current)==null?void 0:oe.saveNow()},onDownload:ge,canSave:!0}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx(gK,{ref:ae,content:Q.content,fileType:Q.fileType,fileName:Q.name,onSave:oe=>h(Q.id,oe),onDirtyChange:oe=>V(ke=>({...ke,[Q.id]:oe}))})})]})]})]})]})]}),_.jsx(Jx,{open:H!==null,title:"Unsaved changes",message:"You have unsaved changes. Discard and close?",confirmLabel:"Discard",cancelLabel:"Cancel",variant:"danger",onConfirm:xe,onCancel:()=>$(null)}),_.jsx(Nk,{open:X,title:"New folder",label:"Folder name",defaultValue:"New folder",submitLabel:"Create",onSubmit:_e,onCancel:()=>{z(!1),W(null)}}),he&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>we(!1),children:_.jsxs("div",{className:"max-w-lg rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",onClick:oe=>oe.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"New from Template"}),_.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:"Choose a template to create a new file"}),_.jsx("div",{className:"mt-4 space-y-2",children:A2.map(oe=>_.jsxs("button",{type:"button",onClick:()=>q(oe.id),className:"w-full rounded-lg border border-slate-200 p-3 text-left transition-colors hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-700",children:[_.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-200",children:oe.name}),_.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[oe.extension," file"]})]},oe.id))}),_.jsx("div",{className:"mt-4 flex justify-end",children:_.jsx(Rt,{variant:"secondary",onClick:()=>we(!1),children:"Cancel"})})]})})]})}const Gn="study",ZJ={id:"pomodoro",phase:"work",remainingSeconds:25*60,cycleCount:0,isRunning:!1,workMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,cyclesBeforeLongBreak:4},QJ={id:"customTimer",durationMinutes:25,remainingSeconds:25*60,isRunning:!1};async function nN(){return await _a(Gn,"pomodoro")??ZJ}async function jl(t){await Br(Gn,t)}async function rN(){return await _a(Gn,"customTimer")??QJ}async function Hc(t){await Br(Gn,t)}const JJ={id:"5217",phase:"work",remainingSeconds:52*60,isRunning:!1,workMinutes:52,breakMinutes:17};async function iN(){return await _a(Gn,"5217")??JJ}async function Zf(t){await Br(Gn,t)}async function aN(){return await _a(Gn,"timebox")??{id:"timebox",blocks:[],currentIndex:0,remainingSeconds:0,isRunning:!1}}async function eee(t){await Br(Gn,t)}async function tee(){return await _a(Gn,"spacedrep")??{id:"spacedrep",sessions:[]}}async function nee(t){await Br(Gn,t)}async function ree(){return(await DC(Gn)).filter(e=>"name"in e&&"createdAt"in e&&!("deckId"in e))}async function Tp(t){return(await DC(Gn)).filter(n=>n.deckId===t)}async function iee(t){await Br(Gn,t)}async function aee(t){const e=await Tp(t);for(const n of e)await uc(Gn,n.id);await uc(Gn,t)}async function sN(t){await Br(Gn,t)}async function see(t){await uc(Gn,t)}function fb(){return crypto.randomUUID()}let O0=!1;async function PP(){if(!("Notification"in window))return console.warn("Notifications not supported in this browser"),!1;if(Notification.permission==="granted")return O0=!0,!0;if(Notification.permission==="denied")return!1;try{return O0=await Notification.requestPermission()==="granted",O0}catch(t){return console.error("Error requesting notification permission:",t),!1}}function wm(t,e){if(!(!O0||!("Notification"in window)||Notification.permission!=="granted"))try{new Notification(t,{icon:"/favicon.ico",badge:"/favicon.ico",...e})}catch(n){console.error("Error showing notification:",n)}}function oee(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function lee(){const[t,e]=N.useState(null),[n,r]=N.useState(!1),[i,a]=N.useState(25),[s,o]=N.useState(5),[l,u]=N.useState(15),[c,d]=N.useState(4),h=N.useRef(null),f=N.useCallback(async()=>{const S=await nN();e(S),a(S.workMinutes),o(S.shortBreakMinutes),u(S.longBreakMinutes),d(S.cyclesBeforeLongBreak)},[]);if(N.useEffect(()=>{f()},[f]),N.useEffect(()=>{if(t!=null&&t.isRunning)return h.current=setInterval(async()=>{const S=await nN();if(!S.isRunning)return;const w=S.remainingSeconds-1;if(w<=0){let k,A,E=S.cycleCount;if(S.phase==="work"){E+=1;const O=S.cyclesBeforeLongBreak>0&&E%S.cyclesBeforeLongBreak===0;k=O?"longBreak":"shortBreak",A=O?S.longBreakMinutes*60:S.shortBreakMinutes*60,wm("Pomodoro: Work Complete",{body:`Great work! Time for a ${O?"long":"short"} break.`})}else k="work",A=S.workMinutes*60,wm("Pomodoro: Break Complete",{body:"Break time is over. Ready to focus?"});const P={...S,phase:k,remainingSeconds:A,cycleCount:E};await jl(P),e(P)}else{const k={...S,remainingSeconds:w};await jl(k),e(k)}},1e3),()=>{h.current&&clearInterval(h.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const m=async()=>{await PP();const S={...t,isRunning:!0};await jl(S),e(S)},p=async()=>{const S={...t,isRunning:!1};await jl(S),e(S)},v=async()=>{const S=t.phase,w=S==="work"?t.workMinutes*60:S==="shortBreak"?t.shortBreakMinutes*60:t.longBreakMinutes*60,k={...t,remainingSeconds:w,isRunning:!1};await jl(k),e(k)},g=async()=>{const S={...t,cycleCount:0,phase:"work",remainingSeconds:t.workMinutes*60,isRunning:!1};await jl(S),e(S)},b=async()=>{if(!t)return;const S={...t,workMinutes:i,shortBreakMinutes:s,longBreakMinutes:l,cyclesBeforeLongBreak:c,remainingSeconds:t.phase==="work"?i*60:t.phase==="shortBreak"?s*60:l*60,isRunning:!1};await jl(S),e(S),r(!1)},x=t.phase==="work"?"Work":t.phase==="shortBreak"?"Short break":"Long break";return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Pomodoro"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm hover:bg-slate-100 dark:border-slate-600 dark:hover:bg-slate-700",onClick:()=>r(!n),children:n?"Hide":"Settings"})]}),n&&_.jsxs("div",{className:"mt-4 space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700/50",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Work duration (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:i,onChange:S=>a(Math.max(1,Math.min(60,parseInt(S.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Short break (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"30",value:s,onChange:S=>o(Math.max(1,Math.min(30,parseInt(S.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Long break (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:l,onChange:S=>u(Math.max(1,Math.min(60,parseInt(S.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Cycles before long break"}),_.jsx("input",{type:"number",min:"1",max:"10",value:c,onChange:S=>d(Math.max(1,Math.min(10,parseInt(S.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsx("button",{type:"button",className:"w-full rounded-lg bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:b,children:"Apply Settings"})]}),_.jsxs("p",{className:"mt-4 text-sm text-slate-500",children:["Cycle: ",t.cycleCount,"  Phase: ",x]}),_.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:oee(t.remainingSeconds)}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:p,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:m,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:v,children:"Reset"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:g,children:"Reset cycle"})]})]})}function uee(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function cee(){const[t,e]=N.useState(null),[n,r]=N.useState("25"),i=N.useRef(null),a=N.useCallback(async()=>{const c=await rN();e(c),r(String(c.durationMinutes))},[]);if(N.useEffect(()=>{a()},[a]),N.useEffect(()=>{if(t!=null&&t.isRunning)return i.current=setInterval(async()=>{const c=await rN();if(!c.isRunning)return;const d=c.remainingSeconds-1;if(d<=0){const h={...c,remainingSeconds:0,isRunning:!1};await Hc(h),e(h),wm("Custom Timer Complete",{body:"Your timer has finished!"})}else{const h={...c,remainingSeconds:d};await Hc(h),e(h)}},1e3),()=>{i.current&&clearInterval(i.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const s=async()=>{const c=Math.max(1,Math.min(120,parseInt(n,10)||25)),d={...t,durationMinutes:c,remainingSeconds:c*60,isRunning:!1};await Hc(d),e(d),r(String(c))},o=async()=>{await PP();const c={...t,isRunning:!0};await Hc(c),e(c)},l=async()=>{const c={...t,isRunning:!1};await Hc(c),e(c)},u=async()=>{const c={...t,remainingSeconds:t.durationMinutes*60,isRunning:!1};await Hc(c),e(c)};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Custom timer"}),_.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[_.jsx("label",{htmlFor:"custom-duration",className:"text-sm text-slate-600 dark:text-slate-400",children:"Duration (minutes)"}),_.jsx("input",{id:"custom-duration",type:"number",min:1,max:120,value:n,onChange:c=>r(c.target.value),onBlur:s,className:"w-20 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-slate-200 px-2 py-1 text-sm dark:bg-slate-700",onClick:s,children:"Set"})]}),_.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:uee(t.remainingSeconds)}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:l,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:o,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:u,children:"Reset"})]})]})}function dee(){var ie;const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState("list"),[l,u]=N.useState(0),[c,d]=N.useState(!1),[h,f]=N.useState([]),[m,p]=N.useState(""),[v,g]=N.useState(""),[b,x]=N.useState(""),[S,w]=N.useState(null),[k,A]=N.useState(null),[E,P]=N.useState(""),[O,I]=N.useState(""),T=N.useCallback(async()=>{const Z=await ree();e(Z)},[]);N.useEffect(()=>{T()},[T]),N.useEffect(()=>{if(!i){r([]);return}Tp(i).then(r)},[i]),N.useEffect(()=>{s==="study"&&n.length>0&&(f([...Array(n.length).keys()].sort(()=>Math.random()-.5)),u(0),d(!1))},[s,n.length]);const j=t.find(Z=>Z.id===i),C=s==="study"&&n.length>0?h.map(Z=>n[Z]):[],L=C[l],X=async()=>{const Z=m.trim()||"New deck",he={id:fb(),name:Z,createdAt:Date.now()};await iee(he),p(""),await T(),a(he.id)},z=async()=>{if(!i)return;const Z={id:fb(),deckId:i,front:v.trim()||"Front",back:b.trim()||"Back"};await sN(Z),g(""),x("");const he=await Tp(i);r(he)},G=Z=>{w(Z)},W=async()=>{const Z=S;w(null),Z&&(await aee(Z),i===Z&&a(null),await T())},R=async Z=>{await see(Z);const he=await Tp(i);r(he)},V=Z=>{A(Z.id),P(Z.front),I(Z.back)},H=async()=>{if(!k||!i)return;const Z=n.find(me=>me.id===k);if(!Z)return;const he={...Z,front:E.trim()||"Front",back:O.trim()||"Back"};await sN(he),A(null);const we=await Tp(i);r(we)},$=()=>{A(null),P(""),I("")};return s==="study"&&L?_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("button",{type:"button",className:"text-sm text-blue-600 dark:text-blue-400",onClick:()=>o("list"),children:" Back to decks"}),_.jsxs("span",{className:"text-sm text-slate-500",children:[l+1," / ",C.length]})]}),_.jsxs("div",{className:"min-h-[200px] cursor-pointer rounded-lg border-2 border-border-default bg-flashcard p-6",onClick:()=>d(Z=>!Z),role:"button",tabIndex:0,onKeyDown:Z=>Z.key==="Enter"&&d(he=>!he),children:[_.jsx("p",{className:"text-lg text-text-primary",children:c?L.back:L.front}),_.jsxs("p",{className:"mt-2 text-xs text-text-muted",children:[c?"Back":"Front"," (click to flip)"]})]}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===0,onClick:()=>{u(Z=>Z-1),d(!1)},children:"Previous"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===C.length-1,onClick:()=>{u(Z=>Z+1),d(!1)},children:"Next"})]})]}):_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Flashcards"}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"New deck name",value:m,onChange:Z=>p(Z.target.value),className:"rounded border border-slate-300 px-3 py-1.5 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"New deck name"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1.5 text-white hover:bg-blue-700",onClick:X,children:"Create deck"})]}),_.jsxs("div",{className:"mt-4 flex gap-4",children:[_.jsxs("div",{className:"min-w-[200px]",children:[_.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Decks"}),_.jsx("ul",{className:"mt-2 space-y-1",children:t.map(Z=>_.jsxs("li",{className:"flex items-center justify-between gap-2",children:[_.jsx("button",{type:"button",className:`truncate text-left text-sm ${i===Z.id?"font-medium text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-300"}`,onClick:()=>a(Z.id),children:Z.name}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>G(Z.id),"aria-label":"Delete deck",children:""})]},Z.id))})]}),_.jsxs("div",{className:"flex-1",children:[j&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:j.name}),_.jsxs("button",{type:"button",className:"rounded bg-green-600 px-3 py-1.5 text-sm text-white hover:bg-green-700 disabled:opacity-50",disabled:n.length===0,onClick:()=>o("study"),children:["Study ",n.length>0&&`(${n.length})`]})]}),_.jsxs("div",{className:"mt-2 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Front",value:v,onChange:Z=>g(Z.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card front"}),_.jsx("input",{type:"text",placeholder:"Back",value:b,onChange:Z=>x(Z.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card back"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-white hover:bg-blue-700",onClick:z,children:"Add card"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:n.map(Z=>_.jsx("li",{className:"rounded border border-slate-200 p-2 dark:border-slate-600",children:k===Z.id?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:E,onChange:he=>P(he.target.value),className:"w-full rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Front"}),_.jsx("input",{type:"text",value:O,onChange:he=>I(he.target.value),className:"w-full rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Back"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded bg-green-600 px-3 py-1 text-sm text-white hover:bg-green-700",onClick:H,children:"Save"}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-3 py-1 text-sm dark:border-slate-600",onClick:$,children:"Cancel"})]})]}):_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[Z.front,"  ",Z.back]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"text-blue-600 hover:underline dark:text-blue-400",onClick:()=>V(Z),"aria-label":"Edit card",children:"Edit"}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>R(Z.id),"aria-label":"Delete card",children:"Delete"})]})]})},Z.id))}),n.length===0&&_.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"No cards yet. Add a card above."})]}),!j&&t.length>0&&_.jsx("p",{className:"text-sm text-slate-500",children:"Select a deck to add cards or study."}),t.length===0&&_.jsx("p",{className:"text-sm text-slate-500",children:"Create a deck to get started."})]})]}),_.jsx(Jx,{open:S!==null,title:"Delete deck",message:S?`Delete deck "${((ie=t.find(Z=>Z.id===S))==null?void 0:ie.name)??"Unknown"}" and all its cards? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:W,onCancel:()=>w(null)})]})}function hee(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function fee(){const[t,e]=N.useState(null),n=N.useRef(null),r=N.useCallback(async()=>{const o=await iN();e(o)},[]);if(N.useEffect(()=>{r()},[r]),N.useEffect(()=>{if(t!=null&&t.isRunning)return n.current=setInterval(async()=>{const o=await iN();if(!o.isRunning)return;const l=o.remainingSeconds-1;if(l<=0){const u=o.phase==="work"?"break":"work",c=u==="work"?o.workMinutes*60:o.breakMinutes*60,d={...o,phase:u,remainingSeconds:c};await Zf(d),e(d),u==="break"?wm("52/17: Work Complete",{body:"Great work! Time for a 17-minute break."}):wm("52/17: Break Complete",{body:"Break time over. Ready for 52 minutes of focus?"})}else{const u={...o,remainingSeconds:l};await Zf(u),e(u)}},1e3),()=>{n.current&&clearInterval(n.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const i=async()=>{await PP();const o={...t,isRunning:!0};await Zf(o),e(o)},a=async()=>{const o={...t,isRunning:!1};await Zf(o),e(o)},s=async()=>{const o=t.phase==="work"?t.workMinutes*60:t.breakMinutes*60,l={...t,remainingSeconds:o,isRunning:!1};await Zf(l),e(l)};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"52/17 method"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"52 minutes work, 17 minutes break."}),_.jsx("p",{className:"mt-4 text-3xl font-mono font-medium text-slate-800 dark:text-slate-100",children:hee(t.remainingSeconds)}),_.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:t.phase==="work"?"Work":"Break"}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:a,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:i,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:s,children:"Reset"})]})]})}function pee(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function mee(){const[t,e]=N.useState(null),[n,r]=N.useState(""),[i,a]=N.useState("25"),s=N.useRef(null),o=N.useCallback(async()=>{const m=await aN();e(m)},[]);N.useEffect(()=>{o()},[o]);const l=N.useCallback(m=>{eee(m),e(m)},[]);if(N.useEffect(()=>{if(!(!(t!=null&&t.isRunning)||!t.blocks.length||!t.blocks[t.currentIndex]))return s.current=setInterval(async()=>{const p=await aN();if(!p.isRunning)return;const v=p.remainingSeconds-1;if(v<=0){const g=p.currentIndex+1;if(g>=p.blocks.length){l({...p,isRunning:!1,remainingSeconds:0});return}const b=p.blocks[g];l({...p,currentIndex:g,remainingSeconds:b.durationMinutes*60})}else l({...p,remainingSeconds:v})},1e3),()=>{s.current&&clearInterval(s.current)}},[t==null?void 0:t.isRunning,t==null?void 0:t.blocks.length,t==null?void 0:t.currentIndex,l]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const u=()=>{const m=n.trim()||"Block",p=Math.max(1,Math.min(120,parseInt(i,10)||25)),v={id:fb(),label:m,durationMinutes:p,order:t.blocks.length},g={...t,blocks:[...t.blocks,v]};t.blocks.length===0&&(g.currentIndex=0,g.remainingSeconds=p*60),l(g),r(""),a("25")},c=m=>{const p=t.blocks.filter(b=>b.id!==m),v=Math.min(t.currentIndex,Math.max(0,p.length-1)),g=p[v];l({...t,blocks:p,currentIndex:v,remainingSeconds:g?g.durationMinutes*60:0,isRunning:!1})},d=()=>{if(!t.blocks.length)return;const m=t.blocks[t.currentIndex];m&&l({...t,remainingSeconds:m.durationMinutes*60,isRunning:!0})},h=()=>{l({...t,isRunning:!1})},f=t.blocks[t.currentIndex];return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Timeboxing"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Set blocks with labels and run them one by one."}),_.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[_.jsx("input",{type:"text",placeholder:"Block label",value:n,onChange:m=>r(m.target.value),className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("input",{type:"number",min:1,max:120,placeholder:"Minutes",value:i,onChange:m=>a(m.target.value),className:"w-20 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-sm text-white hover:bg-blue-700",onClick:u,children:"Add block"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:t.blocks.map((m,p)=>_.jsxs("li",{className:`flex items-center justify-between rounded border px-3 py-2 text-sm ${p===t.currentIndex?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-slate-200 dark:border-slate-600"}`,children:[_.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:m.label}),_.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[m.durationMinutes," min"]}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>c(m.id),"aria-label":"Remove block",children:""})]},m.id))}),f&&_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"mt-4 text-2xl font-mono text-slate-800 dark:text-slate-100",children:pee(t.remainingSeconds)}),_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:f.label}),_.jsx("div",{className:"mt-2 flex gap-2",children:t.isRunning?_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-4 py-2 text-sm dark:border-slate-600",onClick:h,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:d,children:"Start"})})]})]})}function gee(){const[t,e]=N.useState(null),[n,r]=N.useState(""),i=N.useCallback(async()=>{const u=await tee();e(u)},[]);N.useEffect(()=>{i()},[i]);const a=N.useCallback(u=>{nee(u),e(u)},[]);if(!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const s=()=>{const u=n.trim()||"Session",c={id:fb(),label:u,scheduledDate:new Date().toISOString().slice(0,10),completed:!1};a({...t,sessions:[...t.sessions,c]}),r("")},o=u=>{const c=t.sessions.map(d=>d.id===u?{...d,completed:!d.completed,completedAt:d.completed?void 0:Date.now()}:d);a({...t,sessions:c})},l=u=>{a({...t,sessions:t.sessions.filter(c=>c.id!==u)})};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spaced repetition planner"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Plan sessions and tick them off. Simple scheduler (no algorithm)."}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Session label",value:n,onChange:u=>r(u.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-sm text-white hover:bg-blue-700",onClick:s,children:"Add session"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:t.sessions.map(u=>_.jsxs("li",{className:`flex items-center gap-2 rounded border px-3 py-2 text-sm ${u.completed?"border-green-300 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-600"}`,children:[_.jsx("button",{type:"button",className:"flex-shrink-0 rounded border border-slate-300 p-0.5 dark:border-slate-600",onClick:()=>o(u.id),"aria-label":u.completed?"Mark incomplete":"Mark complete",children:u.completed?"":""}),_.jsx("span",{className:u.completed?"text-slate-500 line-through dark:text-slate-400":"text-slate-800 dark:text-slate-200",children:u.label}),_.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.scheduledDate}),_.jsx("button",{type:"button",className:"ml-auto text-red-600 hover:underline",onClick:()=>l(u.id),"aria-label":"Remove session",children:""})]},u.id))}),t.sessions.length===0&&_.jsx("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:"Add a session to get started."})]})}const yee=[{id:"pomodoro",label:"Pomodoro"},{id:"timer",label:"Custom timer"},{id:"flashcards",label:"Flashcards"},{id:"5217",label:"52/17"},{id:"timeboxing",label:"Timeboxing"},{id:"spacedrep",label:"Spaced rep"}];function vee(){const[t,e]=N.useState(()=>i2()??"pomodoro");N.useEffect(()=>{const r=i2();r&&e(r)},[]);const n=N.useCallback(r=>{e(r),VW(r)},[]);return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex flex-wrap gap-2 rounded-xl border border-slate-200 bg-white p-2 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:yee.map(({id:r,label:i})=>_.jsx("button",{type:"button",className:`rounded-lg px-3 py-2 text-sm font-medium transition-colors duration-150 ${t===r?"bg-blue-100 dark:bg-blue-900/50":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>n(r),children:i},r))}),t==="pomodoro"&&_.jsx(lee,{}),t==="timer"&&_.jsx(cee,{}),t==="flashcards"&&_.jsx(dee,{}),t==="5217"&&_.jsx(fee,{}),t==="timeboxing"&&_.jsx(mee,{}),t==="spacedrep"&&_.jsx(gee,{})]})}function bee(t){var n;const e=t.trim();if(!e)return null;try{const r=e.startsWith("http")?e:`https://${e}`,i=new URL(r);if(i.hostname==="www.youtube.com"||i.hostname==="youtube.com"||i.hostname==="m.youtube.com"){const a=i.searchParams.get("v");if(a)return a.split("&")[0]}if(i.hostname==="youtu.be"){const a=i.pathname.slice(1).split("/")[0].split("?")[0];if(a)return a}if((i.hostname==="www.youtube.com"||i.hostname==="youtube.com")&&i.pathname.startsWith("/embed/")){const a=(n=i.pathname.split("/")[2])==null?void 0:n.split("?")[0];if(a)return a}}catch{}return null}function xee({isOpen:t,onClose:e,onLoaded:n,initialSearchQuery:r="",searchResults:i=null,errorMessage:a=null,showFallbackPaste:s=!1,cachedVideoId:o=null,onSearchAgain:l}){const[u,c]=N.useState(r),[d,h]=N.useState(""),[f,m]=N.useState(null);if(N.useEffect(()=>{t&&c(r)},[t,r]),!t)return null;const p=!!(i&&i.length>0),v=S=>{n(S),e()},g=()=>{l==null||l(u)},b=()=>{m(null);const S=bee(d);if(!S){m("Invalid YouTube link. Use youtube.com/watch?v=..., youtu.be/..., or youtube.com/embed/... format.");return}n(S),e(),h("")},x=()=>{m(null),h(""),e()};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"find-youtube-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:x}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"find-youtube-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Find on YouTube"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:p?"Choose a video to play the full version.":s?"Paste a YouTube video URL below.":"Searching"}),p&&_.jsxs(_.Fragment,{children:[o&&_.jsx("div",{className:"mt-3",children:_.jsx(Rt,{variant:"secondary",size:"sm",onClick:()=>v(o),children:"Use previous match"})}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{htmlFor:"youtube-search-query",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Search query"}),_.jsx("input",{id:"youtube-search-query",type:"text",placeholder:"e.g. Artist - Track name",value:u,onChange:S=>c(S.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),l&&_.jsx(Rt,{variant:"primary",size:"sm",className:"mt-2",onClick:g,children:"Search again"})]}),_.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-auto rounded-lg border border-slate-200 dark:border-slate-600",children:i.map(S=>_.jsx("li",{children:_.jsxs("div",{role:"button",tabIndex:0,className:"flex cursor-pointer items-center gap-3 rounded-lg p-2 hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>v(S.videoId),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),v(S.videoId))},children:[S.thumbnailUrl&&_.jsx("img",{src:S.thumbnailUrl,alt:"",className:"h-14 w-24 flex-shrink-0 rounded object-cover"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("p",{className:"truncate text-sm font-medium text-slate-800 dark:text-slate-100",children:S.title}),_.jsx("p",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:S.channelTitle})]}),_.jsx(Rt,{variant:"primary",size:"sm",onClick:w=>{w.stopPropagation(),v(S.videoId)},children:"Select"})]})},S.videoId))})]}),s&&_.jsxs(_.Fragment,{children:[a&&_.jsx("p",{className:"mt-4 text-sm text-amber-600 dark:text-amber-400",role:"alert",children:a}),_.jsxs("div",{className:"mt-4",children:[_.jsx("label",{htmlFor:"youtube-paste-url",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste YouTube video URL here"}),_.jsx("input",{id:"youtube-paste-url",type:"url",placeholder:"https://www.youtube.com/watch?v=... or https://youtu.be/...",value:d,onChange:S=>{h(S.target.value),m(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":f?"url-error":void 0}),f&&_.jsx("p",{id:"url-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:f}),_.jsx(Rt,{variant:"primary",size:"md",className:"mt-2",onClick:b,children:"Load YouTube"})]})]}),!p&&!s&&_.jsx("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:"Loading"}),_.jsx("div",{className:"mt-6 flex justify-end",children:_.jsx(Rt,{variant:"secondary",onClick:x,children:"Cancel"})})]})]})}function wee(t){try{const e=new URL(t.trim().startsWith("http")?t.trim():`https://${t.trim()}`);if(e.hostname.includes("open.spotify.com")&&e.pathname.includes("/track/"))return`https://open.spotify.com${e.pathname}`}catch{}return t.trim()}function See(t){const e=(t??"").trim();if(!e)return{trackTitle:"",artist:""};const n=e.indexOf(" - ");return n===-1?{trackTitle:e,artist:""}:{trackTitle:e.slice(0,n).trim(),artist:e.slice(n+3).trim()}}function kee(t,e){const{trackTitle:n,artist:r}=See(t),i=r||(e??"").trim(),a=i?`${i} ${n}`.trim():n;return a?`${a} audio`:"audio"}async function _ee(t){const e=t.trim().startsWith("http")?t.trim():`https://${t.trim()}`;try{if(!new URL(e).hostname.includes("open.spotify.com"))return null}catch{return null}const r=`https://open.spotify.com/oembed?url=${encodeURIComponent(e)}`;try{const i=await fetch(r);if(!i.ok)return null;const a=await i.json();return typeof a.title!="string"?null:{title:a.title,author_name:a.author_name}}catch{return null}}const Aee="https://www.googleapis.com/youtube/v3";async function oN(t,e){if(!t.trim()||!e.trim())return[];const n=new URLSearchParams({part:"snippet",type:"video",maxResults:"6",q:t.trim(),key:e,videoEmbeddable:"true",safeSearch:"moderate"}),r=`${Aee}/search?${n.toString()}`;try{const i=await fetch(r);return i.ok?((await i.json()).items??[]).filter(o=>{var l;return((l=o.id)==null?void 0:l.videoId)&&o.snippet}).map(o=>{var l,u;return{videoId:o.id.videoId,title:o.snippet.title??"",channelTitle:o.snippet.channelTitle??"",thumbnailUrl:((u=(l=o.snippet.thumbnails)==null?void 0:l.default)==null?void 0:u.url)??""}}):[]}catch{return[]}}function lN(t){try{const e=new URL(t.trim());if(e.hostname.includes("open.spotify.com"))return`https://open.spotify.com/embed${e.pathname+e.search}`}catch{}return null}function uN(t){const e=t.trim();if(!e)return!1;try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.includes("open.spotify.com")}catch{return!1}}function Eee(){const{setSpotifyUrl:t,setYoutubeVideoId:e}=KC(),r=pl().spotify??"",[i,a]=N.useState(r),[s,o]=N.useState(null),[l,u]=N.useState(null),[c,d]=N.useState(()=>Ak()),[h,f]=N.useState(!1),[m,p]=N.useState(""),[v,g]=N.useState(null),[b,x]=N.useState(null),[S,w]=N.useState(null),[k,A]=N.useState(!1),[E,P]=N.useState(null);N.useEffect(()=>{if(a(r),r){const R=lN(r);o(R)}else o(null)},[r]),N.useEffect(()=>{d(Ak())},[h]);const O=()=>{const R=i.trim();if(!R){u("Paste a Spotify link first.");return}if(!uN(R)){u("Invalid Spotify link. Use a link from open.spotify.com (track, album, or playlist).");return}u(null);const V=lN(R);if(!V){u("Could not build embed URL.");return}o(V),ym({...pl(),spotify:R}),t(R),c&&T()},I=()=>{a(""),o(null),u(null),ym({...pl(),spotify:""}),t("")},T=()=>{T$(),d(null),e(null)},j=()=>{I(),T()},C=R=>{P$(R),d(R),e(R),b&&KW(b,R)},L=async()=>{const R=i.trim()||r;if(!R){u("Paste a Spotify link first.");return}if(!uN(R)){u("Invalid Spotify link.");return}u(null);const V=wee(R),H=M$(),$=V?H[V]??null:null;x(V||null),P($);const ie="AIzaSyAvFqRj0CLT_x1vy1XBJEn5Q_Qq8mhkEh8";if(!ie.trim()){w("Missing YouTube API key. Add VITE_YOUTUBE_API_KEY to .env and restart dev server."),A(!0),g(null),p(""),f(!0);return}const Z=await _ee(R);if(!(Z!=null&&Z.title)){w("Could not get track info from Spotify link."),A(!0),g(null),p(""),f(!0);return}const he=kee(Z.title,Z.author_name);p(he);let we=[];try{we=await oN(he,ie)}catch{we=[]}if(!we.length){w("No YouTube results. Try pasting a YouTube video URL below."),A(!0),g(null),f(!0);return}w(null),A(!1),g(we),f(!0),s&&I()},X=async R=>{const V="AIzaSyAvFqRj0CLT_x1vy1XBJEn5Q_Qq8mhkEh8";if(V.trim())try{const H=await oN(R.trim()||m,V);g(H),w(H.length?null:"No results. Try a different query or paste a URL below."),A(!H.length)}catch{w("Search failed. Try pasting a YouTube video URL below."),A(!0)}},z=()=>{f(!1),x(null),g(null),w(null),A(!1),P(null)},G=!!s,W=!!c;return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spotify + full playback"}),_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:"Spotify embed may be preview-only. Use YouTube for full playback."}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{htmlFor:"spotify-link-input",className:"sr-only",children:"Spotify link"}),_.jsx("input",{id:"spotify-link-input",type:"url",placeholder:"Paste Spotify track, album, or playlist link...",value:i,onChange:R=>{a(R.target.value),u(null)},className:"w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":l?"spotify-error":void 0}),l&&_.jsx("p",{id:"spotify-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:l})]}),_.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[_.jsx(Rt,{variant:"primary",size:"md",className:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",onClick:O,children:"Play preview (Spotify)"}),_.jsx(Rt,{variant:"danger",size:"md",onClick:L,children:"Play full version (YouTube)"}),(G||W)&&_.jsx(Rt,{variant:"secondary",size:"md",onClick:j,children:"Clear all"})]}),_.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:"Playback continues in the bar below."}),G&&s&&_.jsx("div",{className:"mt-4 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-950",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"Spotify preview loaded"}),_.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Playing in bottom bar"})]})]}),_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:I,children:"Clear"})]})}),W&&c&&_.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"YouTube full version loaded"}),_.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Playing in bottom bar"})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:L,children:"Change"}),_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:T,children:"Clear"})]})]})}),_.jsx(xee,{isOpen:h,onClose:z,onLoaded:C,initialSearchQuery:m,searchResults:v,errorMessage:S,showFallbackPaste:k,cachedVideoId:E,onSearchAgain:X})]})}function M0(t){var n;const e=t.trim();if(!e)return null;try{const r=e.startsWith("http")?e:`https://${e}`,i=new URL(r);if(i.hostname==="www.youtube.com"||i.hostname==="youtube.com"||i.hostname==="m.youtube.com"){const a=i.searchParams.get("v");if(a)return a.split("&")[0]}if(i.hostname==="youtu.be"){const a=i.pathname.slice(1).split("/")[0].split("?")[0];if(a)return a}if((i.hostname==="www.youtube.com"||i.hostname==="youtube.com")&&i.pathname.startsWith("/embed/")){const a=(n=i.pathname.split("/")[2])==null?void 0:n.split("?")[0];if(a)return a}}catch{}return null}function Cee(t){return`https://www.youtube.com/embed/${t}`}function cN(t,e){try{if(t==="spotify"){const n=new URL(e.trim());return n.hostname.includes("open.spotify.com")?`https://open.spotify.com/embed${n.pathname+n.search}`:null}if(t==="youtube"){const n=M0(e);return n?Cee(n):null}}catch{return null}return null}function Pee(t){try{return new URL(t).hostname}catch{return t.slice(0,40)+(t.length>40?"":"")}}function Tee(t){return t==="spotify"?"Spotify":t==="youtube"?"YouTube":t}const Oee={spotify:"352px",youtube:"auto"};function Mee({title:t,subtitle:e,provider:n,storageKey:r}){const{playerOwner:i,setYoutubeVideoId:a}=KC(),o=pl()[r]??"",[l,u]=N.useState(o),[c,d]=N.useState(null),[h,f]=N.useState(null),[m,p]=N.useState(null),[v,g]=N.useState(null),b=N.useRef(null),x=N.useRef(null);N.useEffect(()=>{if(u(o),o){const O=cN(n,o);if(d(O),n==="youtube"&&O){const I=M0(o);a(I)}}else d(null),n==="youtube"&&a(null)},[o,n,a]),N.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const S=()=>{g(`${Tee(r)} embed cleared`),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{g(null),b.current=null},2500)},w=()=>{d(null),u(""),f(null),p(null);const O={...pl(),[r]:""};ym(O),S(),n==="youtube"&&a(null),hG()},k=O=>{if(n!=="youtube")return O.trim();const I=O.trim();if(!I)return"";const T=I.split(/[\s\n]+/);for(const j of T){const C=M0(j);if(C)return`https://www.youtube.com/watch?v=${C}`}return I},A=O=>{const I=O.target.value,T=k(I);u(T),f(null)},E=O=>{O.preventDefault();const I=O.clipboardData.getData("text"),T=k(I);u(T),f(null)},P=()=>{const O=l.trim();if(!O){w();return}const I=cN(n,O);if(!I){f(n==="youtube"?"Invalid YouTube link. Use youtube.com/watch?v=..., youtu.be/..., or youtube.com/embed/... format.":"Invalid link for this provider.");return}d(I),f(null),p(null);const T={...pl(),[r]:O};if(ym(T),n==="youtube"){const j=M0(O);a(j)}};return N.useEffect(()=>{if(!c||!x.current)return;const O=()=>{p(n==="youtube"?"YouTube player failed to load. The video may be unavailable or restricted.":"Player failed to load. Please check the link and try again.")},I=x.current;return I.addEventListener("error",O),()=>{I.removeEventListener("error",O)}},[c,n]),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:t}),e&&_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:e}),_.jsxs("div",{className:"mt-2 flex gap-2",children:[_.jsx("input",{type:"url",placeholder:`Paste ${t} link...`,value:l,onChange:A,onPaste:E,className:"min-w-0 flex-1 rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":`${t} URL`,"aria-describedby":h?`${r}-error`:void 0}),_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:P,children:"Load"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:w,children:"Clear"})]}),h&&_.jsx("p",{id:`${r}-error`,className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:h}),v&&_.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",role:"status",children:v}),_.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:"Playback continues in the bar below."}),c&&o&&_.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:["Currently loaded: ",Pee(o)," ",_.jsx("button",{type:"button",className:"text-blue-600 underline hover:no-underline dark:text-blue-400",onClick:w,children:"Remove"})]}),c&&_.jsxs(_.Fragment,{children:[m&&_.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 dark:border-amber-800 dark:bg-amber-950",children:_.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",role:"alert",children:m})}),_.jsx("div",{className:`mt-4 w-full overflow-hidden rounded-lg bg-slate-900 ${n==="youtube"?"aspect-video":""}`,style:n!=="youtube"?{height:Oee[n]}:void 0,children:i==="popout"?_.jsx("div",{className:"flex h-full items-center justify-center",children:_.jsx("p",{className:"text-sm text-slate-400",children:"Playing in pop-out window. Close pop-out to resume here."})}):_.jsx("iframe",{ref:x,title:t,src:c,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})]})]})}function Nee(){return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Media Player Hub"}),_.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Playback and volume controls are handled by the provider embed."}),_.jsx(Eee,{}),_.jsx(Mee,{title:"YouTube",provider:"youtube",storageKey:"youtube"})]})}var AB={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(li,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,u={};function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var O=w(P);O.chunkSize=parseInt(O.chunkSize),P.step||P.chunk||(O.chunkSize=null),this._handle=new p(O),(this._handle.streamer=this)._config=O}).call(this,E),this.parseChunk=function(P,O){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let j=this._config.newline;j||(T=this._config.quoteChar||'"',j=this._handle.guessLineEndings(P,T)),P=[...P.split(j).slice(I)].join(j)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(P))!==void 0&&(P=T),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+P,T=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=T.meta.cursor,I=(this._finished||(this._partialLine=I.substring(P-this._baseIndex),this._baseIndex=P),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:T,workerId:u.WORKER_ID,finished:I});else if(A(this._config.chunk)&&!O){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!I||!A(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(P){A(this._config.error)?this._config.error(P):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function d(E){var P;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),c.call(this,E),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var O,I=this._config.downloadRequestHeaders;for(O in I)P.setRequestHeader(O,I[O])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+T));try{P.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(O){O=P.statusText||O,this._sendError(new Error(O))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),c.call(this,E);var P,O,I=typeof FileReader<"u";this.stream=function(T){this._input=T,O=T.slice||T.webkitSlice||T.mozSlice,I?((P=new FileReader).onload=k(this._chunkLoaded,this),P.onerror=k(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),T=O.call(T,this._start,j)),P.readAsText(T,this._config.encoding));I||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(P.error)}}function f(E){var P;c.call(this,E=E||{}),this.stream=function(O){return P=O,this._nextChunk()},this._nextChunk=function(){var O,I;if(!this._finished)return O=this._config.chunkSize,P=O?(I=P.substring(0,O),P.substring(O)):(I=P,""),this._finished=!P,this.parseChunk(I)}}function m(E){c.call(this,E=E||{});var P=[],O=!0,I=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):O=!0},this._streamData=k(function(T){try{P.push(typeof T=="string"?T:T.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(j){this._streamError(j)}},this),this._streamError=k(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=k(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(E){var P,O,I,T,j=Math.pow(2,53),C=-j,L=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,G=0,W=0,R=!1,V=!1,H=[],$={data:[],errors:[],meta:{}};function ie(me){return E.skipEmptyLines==="greedy"?me.join("").trim()==="":me.length===1&&me[0].length===0}function Z(){if($&&I&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),I=!1),E.skipEmptyLines&&($.data=$.data.filter(function(se){return!ie(se)})),he()){let se=function(_e,M){A(E.transformHeader)&&(_e=E.transformHeader(_e,M)),H.push(_e)};var pe=se;if($)if(Array.isArray($.data[0])){for(var me=0;he()&&me<$.data.length;me++)$.data[me].forEach(se);$.data.splice(0,1)}else $.data.forEach(se)}function ae(se,_e){for(var M=E.header?{}:[],te=0;te<se.length;te++){var K=te,q=se[te],q=((U,Y)=>(Q=>(E.dynamicTypingFunction&&E.dynamicTyping[Q]===void 0&&(E.dynamicTyping[Q]=E.dynamicTypingFunction(Q)),(E.dynamicTyping[Q]||E.dynamicTyping)===!0))(U)?Y==="true"||Y==="TRUE"||Y!=="false"&&Y!=="FALSE"&&((Q=>{if(L.test(Q)&&(Q=parseFloat(Q),C<Q&&Q<j))return 1})(Y)?parseFloat(Y):X.test(Y)?new Date(Y):Y===""?null:Y):Y)(K=E.header?te>=H.length?"__parsed_extra":H[te]:K,q=E.transform?E.transform(q,K):q);K==="__parsed_extra"?(M[K]=M[K]||[],M[K].push(q)):M[K]=q}return E.header&&(te>H.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+te,W+_e):te<H.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+te,W+_e)),M}var fe;$&&(E.header||E.dynamicTyping||E.transform)&&(fe=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(ae),fe=$.data.length):$.data=ae($.data,0),E.header&&$.meta&&($.meta.fields=H),W+=fe)}function he(){return E.header&&H.length===0}function we(me,ae,fe,pe){me={type:me,code:ae,message:fe},pe!==void 0&&(me.row=pe),$.errors.push(me)}A(E.step)&&(T=E.step,E.step=function(me){$=me,he()?Z():(Z(),$.data.length!==0&&(G+=me.data.length,E.preview&&G>E.preview?O.abort():($.data=$.data[0],T($,z))))}),this.parse=function(me,ae,fe){var pe=E.quoteChar||'"',pe=(E.newline||(E.newline=this.guessLineEndings(me,pe)),I=!1,E.delimiter?A(E.delimiter)&&(E.delimiter=E.delimiter(me),$.meta.delimiter=E.delimiter):((pe=((se,_e,M,te,K)=>{var q,U,Y,Q;K=K||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var de=0;de<K.length;de++){for(var ne,ye=K[de],xe=0,ge=0,ee=0,ue=(Y=void 0,new g({comments:te,delimiter:ye,newline:_e,preview:10}).parse(se)),ve=0;ve<ue.data.length;ve++)M&&ie(ue.data[ve])?ee++:(ne=ue.data[ve].length,ge+=ne,Y===void 0?Y=ne:0<ne&&(xe+=Math.abs(ne-Y),Y=ne));0<ue.data.length&&(ge/=ue.data.length-ee),(U===void 0||xe<=U)&&(Q===void 0||Q<ge)&&1.99<ge&&(U=xe,q=ye,Q=ge)}return{successful:!!(E.delimiter=q),bestDelimiter:q}})(me,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=pe.bestDelimiter:(I=!0,E.delimiter=u.DefaultDelimiter),$.meta.delimiter=E.delimiter),w(E));return E.preview&&E.header&&pe.preview++,P=me,O=new g(pe),$=O.parse(P,ae,fe),Z(),R?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,O.abort(),P=A(E.chunk)?"":P.substring(O.getCharIndex())},this.resume=function(){z.streamer._halted?(R=!1,z.streamer.parseChunk(P,!0)):setTimeout(z.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,O.abort(),$.meta.aborted=!0,A(E.complete)&&E.complete($),P=""},this.guessLineEndings=function(se,pe){se=se.substring(0,1048576);var pe=new RegExp(v(pe)+"([^]*?)"+v(pe),"gm"),fe=(se=se.replace(pe,"")).split("\r"),pe=se.split(`
`),se=1<pe.length&&pe[0].length<fe[0].length;if(fe.length===1||se)return`
`;for(var _e=0,M=0;M<fe.length;M++)fe[M][0]===`
`&&_e++;return _e>=fe.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(E){var P=(E=E||{}).delimiter,O=E.newline,I=E.comments,T=E.step,j=E.preview,C=E.fastMode,L=null,X=!1,z=E.quoteChar==null?'"':E.quoteChar,G=z;if(E.escapeChar!==void 0&&(G=E.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),I===P)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<u.BAD_DELIMITERS.indexOf(I))&&(I=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var W=0,R=!1;this.parse=function(V,H,$){if(typeof V!="string")throw new Error("Input must be a string");var ie=V.length,Z=P.length,he=O.length,we=I.length,me=A(T),ae=[],fe=[],pe=[],se=W=0;if(!V)return xe();if(C||C!==!1&&V.indexOf(z)===-1){for(var _e=V.split(O),M=0;M<_e.length;M++){if(pe=_e[M],W+=pe.length,M!==_e.length-1)W+=O.length;else if($)return xe();if(!I||pe.substring(0,we)!==I){if(me){if(ae=[],Q(pe.split(P)),ge(),R)return xe()}else Q(pe.split(P));if(j&&j<=M)return ae=ae.slice(0,j),xe(!0)}}return xe()}for(var te=V.indexOf(P,W),K=V.indexOf(O,W),q=new RegExp(v(G)+v(z),"g"),U=V.indexOf(z,W);;)if(V[W]===z)for(U=W,W++;;){if((U=V.indexOf(z,U+1))===-1)return $||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:W}),ne();if(U===ie-1)return ne(V.substring(W,U).replace(q,z));if(z===G&&V[U+1]===G)U++;else if(z===G||U===0||V[U-1]!==G){te!==-1&&te<U+1&&(te=V.indexOf(P,U+1));var Y=de((K=K!==-1&&K<U+1?V.indexOf(O,U+1):K)===-1?te:Math.min(te,K));if(V.substr(U+1+Y,Z)===P){pe.push(V.substring(W,U).replace(q,z)),V[W=U+1+Y+Z]!==z&&(U=V.indexOf(z,W)),te=V.indexOf(P,W),K=V.indexOf(O,W);break}if(Y=de(K),V.substring(U+1+Y,U+1+Y+he)===O){if(pe.push(V.substring(W,U).replace(q,z)),ye(U+1+Y+he),te=V.indexOf(P,W),U=V.indexOf(z,W),me&&(ge(),R))return xe();if(j&&ae.length>=j)return xe(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:W}),U++}}else if(I&&pe.length===0&&V.substring(W,W+we)===I){if(K===-1)return xe();W=K+he,K=V.indexOf(O,W),te=V.indexOf(P,W)}else if(te!==-1&&(te<K||K===-1))pe.push(V.substring(W,te)),W=te+Z,te=V.indexOf(P,W);else{if(K===-1)break;if(pe.push(V.substring(W,K)),ye(K+he),me&&(ge(),R))return xe();if(j&&ae.length>=j)return xe(!0)}return ne();function Q(ee){ae.push(ee),se=W}function de(ee){var ue=0;return ue=ee!==-1&&(ee=V.substring(U+1,ee))&&ee.trim()===""?ee.length:ue}function ne(ee){return $||(ee===void 0&&(ee=V.substring(W)),pe.push(ee),W=ie,Q(pe),me&&ge()),xe()}function ye(ee){W=ee,Q(pe),pe=[],K=V.indexOf(O,W)}function xe(ee){if(E.header&&!H&&ae.length&&!X){var ue=ae[0],ve=Object.create(null),oe=new Set(ue);let ke=!1;for(let Le=0;Le<ue.length;Le++){let De=ue[Le];if(ve[De=A(E.transformHeader)?E.transformHeader(De,Le):De]){let Me,Ie=ve[De];for(;Me=De+"_"+Ie,Ie++,oe.has(Me););oe.add(Me),ue[Le]=Me,ve[De]++,ke=!0,(L=L===null?{}:L)[Me]=De}else ve[De]=1,ue[Le]=De;oe.add(De)}ke&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:ae,errors:fe,meta:{delimiter:P,linebreak:O,aborted:R,truncated:!!ee,cursor:se+(H||0),renamedHeaders:L}}}function ge(){T(xe()),ae=[],fe=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return W}}function b(E){var P=E.data,O=o[P.workerId],I=!1;if(P.error)O.userError(P.error,P.file);else if(P.results&&P.results.data){var T={abort:function(){I=!0,x(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(A(O.userStep)){for(var j=0;j<P.results.data.length&&(O.userStep({data:P.results.data[j],errors:P.results.errors,meta:P.results.meta},T),!I);j++);delete P.results}else A(O.userChunk)&&(O.userChunk(P.results,T,P.file),delete P.results)}P.finished&&!I&&x(P.workerId,P.results)}function x(E,P){var O=o[E];A(O.userComplete)&&O.userComplete(P),O.terminate(),delete o[E]}function S(){throw new Error("Not implemented.")}function w(E){if(typeof E!="object"||E===null)return E;var P,O=Array.isArray(E)?[]:{};for(P in E)O[P]=w(E[P]);return O}function k(E,P){return function(){E.apply(P,arguments)}}function A(E){return typeof E=="function"}return u.parse=function(E,P){var O=(P=P||{}).dynamicTyping||!1;if(A(O)&&(P.dynamicTypingFunction=O,O={}),P.dynamicTyping=O,P.transform=!!A(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return O=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(E),O=new(P.download?d:f)(P)):E.readable===!0&&A(E.read)&&A(E.on)?O=new m(P):(r.File&&E instanceof File||E instanceof Object)&&(O=new h(P)),O.stream(E);(O=(()=>{var I;return!!u.WORKERS_SUPPORTED&&(I=(()=>{var T=r.URL||r.webkitURL||null,j=n.toString();return u.BLOB_URL||(u.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(I=new r.Worker(I)).onmessage=b,I.id=l++,o[I.id]=I)})()).userStep=P.step,O.userChunk=P.chunk,O.userComplete=P.complete,O.userError=P.error,P.step=A(P.step),P.chunk=A(P.chunk),P.complete=A(P.complete),P.error=A(P.error),delete P.worker,O.postMessage({input:E,config:P,workerId:O.id})},u.unparse=function(E,P){var O=!1,I=!0,T=",",j=`\r
`,C='"',L=C+C,X=!1,z=null,G=!1,W=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(H){return P.delimiter.indexOf(H)!==-1}).length||(T=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(O=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(X=P.skipEmptyLines),typeof P.newline=="string"&&(j=P.newline),typeof P.quoteChar=="string"&&(C=P.quoteChar),typeof P.header=="boolean"&&(I=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");z=P.columns}P.escapeChar!==void 0&&(L=P.escapeChar+C),P.escapeFormulae instanceof RegExp?G=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(C),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return R(null,E,X);if(typeof E[0]=="object")return R(z||Object.keys(E[0]),E,X)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||z),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),R(E.fields||[],E.data||[],X);throw new Error("Unable to serialize unrecognized input");function R(H,$,ie){var Z="",he=(typeof H=="string"&&(H=JSON.parse(H)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(H)&&0<H.length),we=!Array.isArray($[0]);if(he&&I){for(var me=0;me<H.length;me++)0<me&&(Z+=T),Z+=V(H[me],me);0<$.length&&(Z+=j)}for(var ae=0;ae<$.length;ae++){var fe=(he?H:$[ae]).length,pe=!1,se=he?Object.keys($[ae]).length===0:$[ae].length===0;if(ie&&!he&&(pe=ie==="greedy"?$[ae].join("").trim()==="":$[ae].length===1&&$[ae][0].length===0),ie==="greedy"&&he){for(var _e=[],M=0;M<fe;M++){var te=we?H[M]:M;_e.push($[ae][te])}pe=_e.join("").trim()===""}if(!pe){for(var K=0;K<fe;K++){0<K&&!se&&(Z+=T);var q=he&&we?H[K]:K;Z+=V($[ae][q],K)}ae<$.length-1&&(!ie||0<fe&&!se)&&(Z+=j)}}return Z}function V(H,$){var ie,Z;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(Z=!1,G&&typeof H=="string"&&G.test(H)&&(H="'"+H,Z=!0),ie=H.toString().replace(W,L),(Z=Z||O===!0||typeof O=="function"&&O(H,$)||Array.isArray(O)&&O[$]||((he,we)=>{for(var me=0;me<we.length;me++)if(-1<he.indexOf(we[me]))return!0;return!1})(ie,u.BAD_DELIMITERS)||-1<ie.indexOf(T)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?C+ie+C:ie)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=g,u.ParserHandle=p,u.NetworkStreamer=d,u.FileStreamer=h,u.StringStreamer=f,u.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(E){var P=E.config||{},O=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var C=0;C<this.files.length;C++)O.push({file:this.files[C],inputElem:this,instanceConfig:i.extend({},P)})}),I(),this;function I(){if(O.length===0)A(E.complete)&&E.complete();else{var j,C,L,X,z=O[0];if(A(E.before)){var G=E.before(z.file,z.inputElem);if(typeof G=="object"){if(G.action==="abort")return j="AbortError",C=z.file,L=z.inputElem,X=G.reason,void(A(E.error)&&E.error({name:j},C,L,X));if(G.action==="skip")return void T();typeof G.config=="object"&&(z.instanceConfig=i.extend(z.instanceConfig,G.config))}else if(G==="skip")return void T()}var W=z.instanceConfig.complete;z.instanceConfig.complete=function(R){A(W)&&W(R,z.file,z.inputElem),T()},u.parse(z.file,z.instanceConfig)}}function T(){O.splice(0,1),I()}}),s&&(r.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&r.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(m.prototype=Object.create(c.prototype)).constructor=m,u})})(AB);var Iee=AB.exports;const Ree=ot(Iee);var Lee=Array.isArray,Hr=Lee,jee=typeof li=="object"&&li&&li.Object===Object&&li,EB=jee,Dee=EB,$ee=typeof self=="object"&&self&&self.Object===Object&&self,Fee=Dee||$ee||Function("return this")(),ss=Fee,zee=ss,Bee=zee.Symbol,My=Bee,dN=My,CB=Object.prototype,Uee=CB.hasOwnProperty,Hee=CB.toString,Qf=dN?dN.toStringTag:void 0;function Wee(t){var e=Uee.call(t,Qf),n=t[Qf];try{t[Qf]=void 0;var r=!0}catch{}var i=Hee.call(t);return r&&(e?t[Qf]=n:delete t[Qf]),i}var Vee=Wee,Gee=Object.prototype,qee=Gee.toString;function Xee(t){return qee.call(t)}var Kee=Xee,hN=My,Yee=Vee,Zee=Kee,Qee="[object Null]",Jee="[object Undefined]",fN=hN?hN.toStringTag:void 0;function ete(t){return t==null?t===void 0?Jee:Qee:fN&&fN in Object(t)?Yee(t):Zee(t)}var co=ete;function tte(t){return t!=null&&typeof t=="object"}var ho=tte,nte=co,rte=ho,ite="[object Symbol]";function ate(t){return typeof t=="symbol"||rte(t)&&nte(t)==ite}var Sf=ate,ste=Hr,ote=Sf,lte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ute=/^\w*$/;function cte(t,e){if(ste(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ote(t)?!0:ute.test(t)||!lte.test(t)||e!=null&&t in Object(e)}var TP=cte;function dte(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=dte;const kf=ot(Tl);var hte=co,fte=Tl,pte="[object AsyncFunction]",mte="[object Function]",gte="[object GeneratorFunction]",yte="[object Proxy]";function vte(t){if(!fte(t))return!1;var e=hte(t);return e==mte||e==gte||e==pte||e==yte}var OP=vte;const qe=ot(OP);var bte=ss,xte=bte["__core-js_shared__"],wte=xte,eS=wte,pN=function(){var t=/[^.]+$/.exec(eS&&eS.keys&&eS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ste(t){return!!pN&&pN in t}var kte=Ste,_te=Function.prototype,Ate=_te.toString;function Ete(t){if(t!=null){try{return Ate.call(t)}catch{}try{return t+""}catch{}}return""}var PB=Ete,Cte=OP,Pte=kte,Tte=Tl,Ote=PB,Mte=/[\\^$.*+?()[\]{}|]/g,Nte=/^\[object .+?Constructor\]$/,Ite=Function.prototype,Rte=Object.prototype,Lte=Ite.toString,jte=Rte.hasOwnProperty,Dte=RegExp("^"+Lte.call(jte).replace(Mte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $te(t){if(!Tte(t)||Pte(t))return!1;var e=Cte(t)?Dte:Nte;return e.test(Ote(t))}var Fte=$te;function zte(t,e){return t==null?void 0:t[e]}var Bte=zte,Ute=Fte,Hte=Bte;function Wte(t,e){var n=Hte(t,e);return Ute(n)?n:void 0}var Mc=Wte,Vte=Mc,Gte=Vte(Object,"create"),mw=Gte,mN=mw;function qte(){this.__data__=mN?mN(null):{},this.size=0}var Xte=qte;function Kte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yte=Kte,Zte=mw,Qte="__lodash_hash_undefined__",Jte=Object.prototype,ene=Jte.hasOwnProperty;function tne(t){var e=this.__data__;if(Zte){var n=e[t];return n===Qte?void 0:n}return ene.call(e,t)?e[t]:void 0}var nne=tne,rne=mw,ine=Object.prototype,ane=ine.hasOwnProperty;function sne(t){var e=this.__data__;return rne?e[t]!==void 0:ane.call(e,t)}var one=sne,lne=mw,une="__lodash_hash_undefined__";function cne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lne&&e===void 0?une:e,this}var dne=cne,hne=Xte,fne=Yte,pne=nne,mne=one,gne=dne;function _f(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_f.prototype.clear=hne;_f.prototype.delete=fne;_f.prototype.get=pne;_f.prototype.has=mne;_f.prototype.set=gne;var yne=_f;function vne(){this.__data__=[],this.size=0}var bne=vne;function xne(t,e){return t===e||t!==t&&e!==e}var MP=xne,wne=MP;function Sne(t,e){for(var n=t.length;n--;)if(wne(t[n][0],e))return n;return-1}var gw=Sne,kne=gw,_ne=Array.prototype,Ane=_ne.splice;function Ene(t){var e=this.__data__,n=kne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ane.call(e,n,1),--this.size,!0}var Cne=Ene,Pne=gw;function Tne(t){var e=this.__data__,n=Pne(e,t);return n<0?void 0:e[n][1]}var One=Tne,Mne=gw;function Nne(t){return Mne(this.__data__,t)>-1}var Ine=Nne,Rne=gw;function Lne(t,e){var n=this.__data__,r=Rne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var jne=Lne,Dne=bne,$ne=Cne,Fne=One,zne=Ine,Bne=jne;function Af(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Af.prototype.clear=Dne;Af.prototype.delete=$ne;Af.prototype.get=Fne;Af.prototype.has=zne;Af.prototype.set=Bne;var yw=Af,Une=Mc,Hne=ss,Wne=Une(Hne,"Map"),NP=Wne,gN=yne,Vne=yw,Gne=NP;function qne(){this.size=0,this.__data__={hash:new gN,map:new(Gne||Vne),string:new gN}}var Xne=qne;function Kne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Yne=Kne,Zne=Yne;function Qne(t,e){var n=t.__data__;return Zne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vw=Qne,Jne=vw;function ere(t){var e=Jne(this,t).delete(t);return this.size-=e?1:0,e}var tre=ere,nre=vw;function rre(t){return nre(this,t).get(t)}var ire=rre,are=vw;function sre(t){return are(this,t).has(t)}var ore=sre,lre=vw;function ure(t,e){var n=lre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cre=ure,dre=Xne,hre=tre,fre=ire,pre=ore,mre=cre;function Ef(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ef.prototype.clear=dre;Ef.prototype.delete=hre;Ef.prototype.get=fre;Ef.prototype.has=pre;Ef.prototype.set=mre;var IP=Ef,TB=IP,gre="Expected a function";function RP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(gre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(RP.Cache||TB),n}RP.Cache=TB;var OB=RP;const yre=ot(OB);var vre=OB,bre=500;function xre(t){var e=vre(t,function(r){return n.size===bre&&n.clear(),r}),n=e.cache;return e}var wre=xre,Sre=wre,kre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_re=/\\(\\)?/g,Are=Sre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kre,function(n,r,i,a){e.push(i?a.replace(_re,"$1"):r||n)}),e}),Ere=Are;function Cre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var LP=Cre,yN=My,Pre=LP,Tre=Hr,Ore=Sf,vN=yN?yN.prototype:void 0,bN=vN?vN.toString:void 0;function MB(t){if(typeof t=="string")return t;if(Tre(t))return Pre(t,MB)+"";if(Ore(t))return bN?bN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mre=MB,Nre=Mre;function Ire(t){return t==null?"":Nre(t)}var NB=Ire,Rre=Hr,Lre=TP,jre=Ere,Dre=NB;function $re(t,e){return Rre(t)?t:Lre(t,e)?[t]:jre(Dre(t))}var IB=$re,Fre=Sf;function zre(t){if(typeof t=="string"||Fre(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bw=zre,Bre=IB,Ure=bw;function Hre(t,e){e=Bre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ure(e[n++])];return n&&n==r?t:void 0}var jP=Hre,Wre=jP;function Vre(t,e,n){var r=t==null?void 0:Wre(t,e);return r===void 0?n:r}var RB=Vre;const Di=ot(RB);function Gre(t){return t==null}var qre=Gre;const Qe=ot(qre);var Xre=co,Kre=Hr,Yre=ho,Zre="[object String]";function Qre(t){return typeof t=="string"||!Kre(t)&&Yre(t)&&Xre(t)==Zre}var Jre=Qre;const yc=ot(Jre);var LB={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP=Symbol.for("react.element"),$P=Symbol.for("react.portal"),xw=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),eie=Symbol.for("react.server_context"),Aw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Cw=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),Tw=Symbol.for("react.lazy"),tie=Symbol.for("react.offscreen"),jB;jB=Symbol.for("react.module.reference");function Wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DP:switch(t=t.type,t){case xw:case Sw:case ww:case Ew:case Cw:return t;default:switch(t=t&&t.$$typeof,t){case eie:case _w:case Aw:case Tw:case Pw:case kw:return t;default:return e}}case $P:return e}}}yt.ContextConsumer=_w;yt.ContextProvider=kw;yt.Element=DP;yt.ForwardRef=Aw;yt.Fragment=xw;yt.Lazy=Tw;yt.Memo=Pw;yt.Portal=$P;yt.Profiler=Sw;yt.StrictMode=ww;yt.Suspense=Ew;yt.SuspenseList=Cw;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(t){return Wi(t)===_w};yt.isContextProvider=function(t){return Wi(t)===kw};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DP};yt.isForwardRef=function(t){return Wi(t)===Aw};yt.isFragment=function(t){return Wi(t)===xw};yt.isLazy=function(t){return Wi(t)===Tw};yt.isMemo=function(t){return Wi(t)===Pw};yt.isPortal=function(t){return Wi(t)===$P};yt.isProfiler=function(t){return Wi(t)===Sw};yt.isStrictMode=function(t){return Wi(t)===ww};yt.isSuspense=function(t){return Wi(t)===Ew};yt.isSuspenseList=function(t){return Wi(t)===Cw};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xw||t===Sw||t===ww||t===Ew||t===Cw||t===tie||typeof t=="object"&&t!==null&&(t.$$typeof===Tw||t.$$typeof===Pw||t.$$typeof===kw||t.$$typeof===_w||t.$$typeof===Aw||t.$$typeof===jB||t.getModuleId!==void 0)};yt.typeOf=Wi;LB.exports=yt;var nie=LB.exports,rie=co,iie=ho,aie="[object Number]";function sie(t){return typeof t=="number"||iie(t)&&rie(t)==aie}var DB=sie;const oie=ot(DB);var lie=DB;function uie(t){return lie(t)&&t!=+t}var cie=uie;const Ny=ot(cie);var va=function(e){return e===0?0:e>0?1:-1},eu=function(e){return yc(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return oie(e)&&!Ny(e)},die=function(e){return Qe(e)},wn=function(e){return Ae(e)||yc(e)},hie=0,Iy=function(e){var n=++hie;return"".concat(e||"").concat(n)},vc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!yc(e))return r;var a;if(eu(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Ny(a)&&(a=r),i&&a>n&&(a=n),a},Eo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},fie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ma=function(e,n){return Ae(e)&&Ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function pb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Di(r,e))===n})}var pie=function(e,n){return Ae(e)&&Ae(n)?e-n:yc(e)&&yc(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Nd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dA(t){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}var mie=["viewBox","children"],gie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xN=["points","pathLength"],tS={svg:mie,polygon:xN,polyline:xN},FP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!kf(r))return null;var i={};return Object.keys(r).forEach(function(a){FP.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},yie=function(e,n,r){return function(i){return e(n,r,i),null}},gb=function(e,n,r){if(!kf(e)||dA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];FP.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=yie(s,n,r))}),i},vie=["children"],bie=["children"];function wN(t,e){if(t==null)return{};var n=xie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hA(t){"@babel/helpers - typeof";return hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hA(t)}var SN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kN=null,nS=null,zP=function t(e){if(e===kN&&Array.isArray(nS))return nS;var n=[];return N.Children.forEach(e,function(r){Qe(r)||(nie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),nS=n,kN=e,n};function $i(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xs(i)}):r=[Xs(e)],zP(t).forEach(function(i){var a=Di(i,"type.displayName")||Di(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ai(t,e){var n=$i(t,e);return n&&n[0]}var _N=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ae(r)||r<=0||!Ae(i)||i<=0)},wie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sie=function(e){return e&&e.type&&yc(e.type)&&wie.indexOf(e.type)>=0},kie=function(e){return e&&hA(e)==="object"&&"clipDot"in e},_ie=function(e,n,r,i){var a,s=(a=tS==null?void 0:tS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!qe(e)&&(i&&s.includes(n)||gie.includes(n))||r&&FP.includes(n)},nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!kf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;_ie((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},fA=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!AN(a,s))return!1}return!0},AN=function(e,n){if(Qe(e)&&Qe(n))return!0;if(!Qe(e)&&!Qe(n)){var r=e.props||{},i=r.children,a=wN(r,vie),s=n.props||{},o=s.children,l=wN(s,bie);return i&&o?Nd(a,l)&&fA(i,o):!i&&!o?Nd(a,l):!1}return!1},EN=function(e,n){var r=[],i={};return zP(e).forEach(function(a,s){if(Sie(a))r.push(a);else if(a){var o=Xs(a.type),l=n[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var d=u(a,o,s);r.push(d),i[o]=!0}}}),r},Aie=function(e){var n=e&&e.type;return n&&SN[n]?SN[n]:null},Eie=function(e,n){return zP(n).indexOf(e)},Cie=["children","width","height","viewBox","className","style","title","desc"];function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pA.apply(this,arguments)}function Pie(t,e){if(t==null)return{};var n=Tie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=Pie(t,Cie),c=i||{width:n,height:r,x:0,y:0},d=Ze("recharts-surface",a);return re.createElement("svg",pA({},nt(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),re.createElement("title",null,o),re.createElement("desc",null,l),e)}var Oie=["children","className"];function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA.apply(this,arguments)}function Mie(t,e){if(t==null)return{};var n=Nie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var en=re.forwardRef(function(t,e){var n=t.children,r=t.className,i=Mie(t,Oie),a=Ze("recharts-layer",r);return re.createElement("g",gA({className:a},nt(i,!0),{ref:e}),n)}),Ks=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Iie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Rie=Iie,Lie=Rie;function jie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Lie(t,e,n)}var Die=jie,$ie="\\ud800-\\udfff",Fie="\\u0300-\\u036f",zie="\\ufe20-\\ufe2f",Bie="\\u20d0-\\u20ff",Uie=Fie+zie+Bie,Hie="\\ufe0e\\ufe0f",Wie="\\u200d",Vie=RegExp("["+Wie+$ie+Uie+Hie+"]");function Gie(t){return Vie.test(t)}var $B=Gie;function qie(t){return t.split("")}var Xie=qie,FB="\\ud800-\\udfff",Kie="\\u0300-\\u036f",Yie="\\ufe20-\\ufe2f",Zie="\\u20d0-\\u20ff",Qie=Kie+Yie+Zie,Jie="\\ufe0e\\ufe0f",eae="["+FB+"]",yA="["+Qie+"]",vA="\\ud83c[\\udffb-\\udfff]",tae="(?:"+yA+"|"+vA+")",zB="[^"+FB+"]",BB="(?:\\ud83c[\\udde6-\\uddff]){2}",UB="[\\ud800-\\udbff][\\udc00-\\udfff]",nae="\\u200d",HB=tae+"?",WB="["+Jie+"]?",rae="(?:"+nae+"(?:"+[zB,BB,UB].join("|")+")"+WB+HB+")*",iae=WB+HB+rae,aae="(?:"+[zB+yA+"?",yA,BB,UB,eae].join("|")+")",sae=RegExp(vA+"(?="+vA+")|"+aae+iae,"g");function oae(t){return t.match(sae)||[]}var lae=oae,uae=Xie,cae=$B,dae=lae;function hae(t){return cae(t)?dae(t):uae(t)}var fae=hae,pae=Die,mae=$B,gae=fae,yae=NB;function vae(t){return function(e){e=yae(e);var n=mae(e)?gae(e):void 0,r=n?n[0]:e.charAt(0),i=n?pae(n,1).join(""):e.slice(1);return r[t]()+i}}var bae=vae,xae=bae,wae=xae("toUpperCase"),Sae=wae;const Ow=ot(Sae);function Pt(t){return function(){return t}}const VB=Math.cos,yb=Math.sin,Aa=Math.sqrt,vb=Math.PI,Mw=2*vb,bA=Math.PI,xA=2*bA,Vl=1e-6,kae=xA-Vl;function GB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _ae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return GB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Aae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?GB:_ae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,d=o-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Vl)if(!(Math.abs(d*l-u*c)>Vl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-s,m=i-o,p=l*l+u*u,v=f*f+m*m,g=Math.sqrt(p),b=Math.sqrt(h),x=a*Math.tan((bA-Math.acos((p+h-v)/(2*g*b)))/2),S=x/b,w=x/g;Math.abs(S-1)>Vl&&this._append`L${e+S*c},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*f>c*m)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Vl||Math.abs(this._y1-c)>Vl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%xA+xA),h>kae?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Vl&&this._append`A${r},${r},0,${+(h>=bA)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function BP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Aae(e)}function UP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nw(t){return new qB(t)}function XB(t){return t[0]}function KB(t){return t[1]}function YB(t,e){var n=Pt(!0),r=null,i=Nw,a=null,s=BP(o);t=typeof t=="function"?t:t===void 0?XB:Pt(t),e=typeof e=="function"?e:e===void 0?KB:Pt(e);function o(l){var u,c=(l=UP(l)).length,d,h=!1,f;for(r==null&&(a=i(f=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xv(t,e,n){var r=null,i=Pt(!0),a=null,s=Nw,o=null,l=BP(u);t=typeof t=="function"?t:t===void 0?XB:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?KB:Pt(+n);function u(d){var h,f,m,p=(d=UP(d)).length,v,g=!1,b,x=new Array(p),S=new Array(p);for(a==null&&(o=s(b=l())),h=0;h<=p;++h){if(!(h<p&&i(v=d[h],h,d))===g)if(g=!g)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=f;--m)o.point(x[m],S[m]);o.lineEnd(),o.areaEnd()}g&&(x[h]=+t(v,h,d),S[h]=+e(v,h,d),o.point(r?+r(v,h,d):x[h],n?+n(v,h,d):S[h]))}if(b)return o=null,b+""||null}function c(){return YB().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Pt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Pt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Pt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Pt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Pt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class ZB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Eae(t){return new ZB(t,!0)}function Cae(t){return new ZB(t,!1)}const HP={draw(t,e){const n=Aa(e/vb);t.moveTo(n,0),t.arc(0,0,n,0,Mw)}},Pae={draw(t,e){const n=Aa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QB=Aa(1/3),Tae=QB*2,Oae={draw(t,e){const n=Aa(e/Tae),r=n*QB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Mae={draw(t,e){const n=Aa(e),r=-n/2;t.rect(r,r,n,n)}},Nae=.8908130915292852,JB=yb(vb/10)/yb(7*vb/10),Iae=yb(Mw/10)*JB,Rae=-VB(Mw/10)*JB,Lae={draw(t,e){const n=Aa(e*Nae),r=Iae*n,i=Rae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Mw*a/5,o=VB(s),l=yb(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},rS=Aa(3),jae={draw(t,e){const n=-Aa(e/(rS*3));t.moveTo(0,n*2),t.lineTo(-rS*n,-n),t.lineTo(rS*n,-n),t.closePath()}},bi=-.5,xi=Aa(3)/2,wA=1/Aa(12),Dae=(wA/2+1)*3,$ae={draw(t,e){const n=Aa(e/Dae),r=n/2,i=n*wA,a=r,s=n*wA+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(bi*r-xi*i,xi*r+bi*i),t.lineTo(bi*a-xi*s,xi*a+bi*s),t.lineTo(bi*o-xi*l,xi*o+bi*l),t.lineTo(bi*r+xi*i,bi*i-xi*r),t.lineTo(bi*a+xi*s,bi*s-xi*a),t.lineTo(bi*o+xi*l,bi*l-xi*o),t.closePath()}};function Fae(t,e){let n=null,r=BP(i);t=typeof t=="function"?t:Pt(t||HP),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Pt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function bb(){}function xb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function e5(t){this._context=t}e5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zae(t){return new e5(t)}function t5(t){this._context=t}t5.prototype={areaStart:bb,areaEnd:bb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bae(t){return new t5(t)}function n5(t){this._context=t}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uae(t){return new n5(t)}function r5(t){this._context=t}r5.prototype={areaStart:bb,areaEnd:bb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Hae(t){return new r5(t)}function CN(t){return t<0?-1:1}function PN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(CN(a)+CN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function TN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function iS(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function wb(t){this._context=t}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iS(this,this._t0,TN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iS(this,TN(this,n=PN(this,t,e)),n);break;default:iS(this,this._t0,n=PN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function i5(t){this._context=new a5(t)}(i5.prototype=Object.create(wb.prototype)).point=function(t,e){wb.prototype.point.call(this,e,t)};function a5(t){this._context=t}a5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Wae(t){return new wb(t)}function Vae(t){return new i5(t)}function s5(t){this._context=t}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ON(t),i=ON(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ON(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Gae(t){return new s5(t)}function Iw(t,e){this._context=t,this._t=e}Iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qae(t){return new Iw(t,.5)}function Xae(t){return new Iw(t,0)}function Kae(t){return new Iw(t,1)}function Wh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function SA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Yae(t,e){return t[e]}function Zae(t){const e=[];return e.key=t,e}function Qae(){var t=Pt([]),e=SA,n=Wh,r=Yae;function i(a){var s=Array.from(t.apply(this,arguments),Zae),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,c=UP(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Pt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?SA:typeof a=="function"?a:Pt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Wh,i):n},i}function Jae(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Wh(t,e)}}function ese(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Wh(t,e)}}function tse(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],d=c[r][1]||0,h=c[r-1][1]||0,f=(d-h)/2,m=0;m<o;++m){var p=t[e[m]],v=p[r][1]||0,g=p[r-1][1]||0;f+=v-g}l+=d,u+=f*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Wh(t,e)}}function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}var nse=["type","size","sizeType"];function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kA.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e,n){return e=ise(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ise(t){var e=ase(t,"string");return Sm(e)=="symbol"?e:e+""}function ase(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t,e){if(t==null)return{};var n=ose(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var o5={symbolCircle:HP,symbolCross:Pae,symbolDiamond:Oae,symbolSquare:Mae,symbolStar:Lae,symbolTriangle:jae,symbolWye:$ae},lse=Math.PI/180,use=function(e){var n="symbol".concat(Ow(e));return o5[n]||HP},cse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*lse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dse=function(e,n){o5["symbol".concat(Ow(e))]=n},WP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=sse(e,nse),u=NN(NN({},l),{},{type:r,size:a,sizeType:o}),c=function(){var v=use(r),g=Fae().type(v).size(cse(a,o,r));return g()},d=u.className,h=u.cx,f=u.cy,m=nt(u,!0);return h===+h&&f===+f&&a===+a?re.createElement("path",kA({},m,{className:Ze("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};WP.registerSymbol=dse;function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(this,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function mse(t,e,n){return e&&pse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gse(t,e,n){return e=Sb(e),yse(t,l5()?Reflect.construct(e,n||[],Sb(t).constructor):e.apply(t,n))}function yse(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vse(t)}function vse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l5=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sb(t)}function bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AA(t,e)}function km(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=xse(t,"string");return Vh(e)=="symbol"?e:e+""}function xse(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=32,VP=function(t){function e(){return fse(this,e),gse(this,e,arguments)}return bse(e,t),mse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=wi/2,s=wi/6,o=wi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:wi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(wi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return re.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wi/8,"h").concat(wi,"v").concat(wi*3/4,"h").concat(-wi,"z"),className:"recharts-legend-icon"});if(re.isValidElement(r.legendIcon)){var u=hse({},r);return delete u.legendIcon,re.cloneElement(r.legendIcon,u)}return re.createElement(WP,{fill:l,cx:a,cy:a,size:wi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:wi,height:wi},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,m){var p=f.formatter||l,v=Ze(km(km({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var g=qe(f.value)?null:f.value;Ks(!qe(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return re.createElement("li",_A({className:v,style:d,key:"legend-item-".concat(m)},gb(r.props,f,m)),re.createElement(mA,{width:s,height:s,viewBox:c,style:h},r.renderIcon(f)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(g,f,m):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);km(VP,"displayName","Legend");km(VP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wse=yw;function Sse(){this.__data__=new wse,this.size=0}var kse=Sse;function _se(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ase=_se;function Ese(t){return this.__data__.get(t)}var Cse=Ese;function Pse(t){return this.__data__.has(t)}var Tse=Pse,Ose=yw,Mse=NP,Nse=IP,Ise=200;function Rse(t,e){var n=this.__data__;if(n instanceof Ose){var r=n.__data__;if(!Mse||r.length<Ise-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nse(r)}return n.set(t,e),this.size=n.size,this}var Lse=Rse,jse=yw,Dse=kse,$se=Ase,Fse=Cse,zse=Tse,Bse=Lse;function Cf(t){var e=this.__data__=new jse(t);this.size=e.size}Cf.prototype.clear=Dse;Cf.prototype.delete=$se;Cf.prototype.get=Fse;Cf.prototype.has=zse;Cf.prototype.set=Bse;var c5=Cf,Use="__lodash_hash_undefined__";function Hse(t){return this.__data__.set(t,Use),this}var Wse=Hse;function Vse(t){return this.__data__.has(t)}var Gse=Vse,qse=IP,Xse=Wse,Kse=Gse;function kb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qse;++e<n;)this.add(t[e])}kb.prototype.add=kb.prototype.push=Xse;kb.prototype.has=Kse;var d5=kb;function Yse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var h5=Yse;function Zse(t,e){return t.has(e)}var f5=Zse,Qse=d5,Jse=h5,eoe=f5,toe=1,noe=2;function roe(t,e,n,r,i,a){var s=n&toe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=n&noe?new Qse:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var m=t[d],p=e[d];if(r)var v=s?r(p,m,d,e,t,a):r(m,p,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!Jse(e,function(g,b){if(!eoe(f,b)&&(m===g||i(m,g,n,r,a)))return f.push(b)})){h=!1;break}}else if(!(m===p||i(m,p,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var p5=roe,ioe=ss,aoe=ioe.Uint8Array,soe=aoe;function ooe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var loe=ooe;function uoe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var GP=uoe,RN=My,LN=soe,coe=MP,doe=p5,hoe=loe,foe=GP,poe=1,moe=2,goe="[object Boolean]",yoe="[object Date]",voe="[object Error]",boe="[object Map]",xoe="[object Number]",woe="[object RegExp]",Soe="[object Set]",koe="[object String]",_oe="[object Symbol]",Aoe="[object ArrayBuffer]",Eoe="[object DataView]",jN=RN?RN.prototype:void 0,aS=jN?jN.valueOf:void 0;function Coe(t,e,n,r,i,a,s){switch(n){case Eoe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Aoe:return!(t.byteLength!=e.byteLength||!a(new LN(t),new LN(e)));case goe:case yoe:case xoe:return coe(+t,+e);case voe:return t.name==e.name&&t.message==e.message;case woe:case koe:return t==e+"";case boe:var o=hoe;case Soe:var l=r&poe;if(o||(o=foe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=moe,s.set(t,e);var c=doe(o(t),o(e),r,i,a,s);return s.delete(t),c;case _oe:if(aS)return aS.call(t)==aS.call(e)}return!1}var Poe=Coe;function Toe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var m5=Toe,Ooe=m5,Moe=Hr;function Noe(t,e,n){var r=e(t);return Moe(t)?r:Ooe(r,n(t))}var Ioe=Noe;function Roe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Loe=Roe;function joe(){return[]}var Doe=joe,$oe=Loe,Foe=Doe,zoe=Object.prototype,Boe=zoe.propertyIsEnumerable,DN=Object.getOwnPropertySymbols,Uoe=DN?function(t){return t==null?[]:(t=Object(t),$oe(DN(t),function(e){return Boe.call(t,e)}))}:Foe,Hoe=Uoe;function Woe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Voe=Woe,Goe=co,qoe=ho,Xoe="[object Arguments]";function Koe(t){return qoe(t)&&Goe(t)==Xoe}var Yoe=Koe,$N=Yoe,Zoe=ho,g5=Object.prototype,Qoe=g5.hasOwnProperty,Joe=g5.propertyIsEnumerable,ele=$N(function(){return arguments}())?$N:function(t){return Zoe(t)&&Qoe.call(t,"callee")&&!Joe.call(t,"callee")},qP=ele,_b={exports:{}};function tle(){return!1}var nle=tle;_b.exports;(function(t,e){var n=ss,r=nle,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(_b,_b.exports);var y5=_b.exports,rle=9007199254740991,ile=/^(?:0|[1-9]\d*)$/;function ale(t,e){var n=typeof t;return e=e??rle,!!e&&(n=="number"||n!="symbol"&&ile.test(t))&&t>-1&&t%1==0&&t<e}var XP=ale,sle=9007199254740991;function ole(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sle}var KP=ole,lle=co,ule=KP,cle=ho,dle="[object Arguments]",hle="[object Array]",fle="[object Boolean]",ple="[object Date]",mle="[object Error]",gle="[object Function]",yle="[object Map]",vle="[object Number]",ble="[object Object]",xle="[object RegExp]",wle="[object Set]",Sle="[object String]",kle="[object WeakMap]",_le="[object ArrayBuffer]",Ale="[object DataView]",Ele="[object Float32Array]",Cle="[object Float64Array]",Ple="[object Int8Array]",Tle="[object Int16Array]",Ole="[object Int32Array]",Mle="[object Uint8Array]",Nle="[object Uint8ClampedArray]",Ile="[object Uint16Array]",Rle="[object Uint32Array]",Nt={};Nt[Ele]=Nt[Cle]=Nt[Ple]=Nt[Tle]=Nt[Ole]=Nt[Mle]=Nt[Nle]=Nt[Ile]=Nt[Rle]=!0;Nt[dle]=Nt[hle]=Nt[_le]=Nt[fle]=Nt[Ale]=Nt[ple]=Nt[mle]=Nt[gle]=Nt[yle]=Nt[vle]=Nt[ble]=Nt[xle]=Nt[wle]=Nt[Sle]=Nt[kle]=!1;function Lle(t){return cle(t)&&ule(t.length)&&!!Nt[lle(t)]}var jle=Lle;function Dle(t){return function(e){return t(e)}}var v5=Dle,Ab={exports:{}};Ab.exports;(function(t,e){var n=EB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Ab,Ab.exports);var $le=Ab.exports,Fle=jle,zle=v5,FN=$le,zN=FN&&FN.isTypedArray,Ble=zN?zle(zN):Fle,b5=Ble,Ule=Voe,Hle=qP,Wle=Hr,Vle=y5,Gle=XP,qle=b5,Xle=Object.prototype,Kle=Xle.hasOwnProperty;function Yle(t,e){var n=Wle(t),r=!n&&Hle(t),i=!n&&!r&&Vle(t),a=!n&&!r&&!i&&qle(t),s=n||r||i||a,o=s?Ule(t.length,String):[],l=o.length;for(var u in t)(e||Kle.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Gle(u,l)))&&o.push(u);return o}var Zle=Yle,Qle=Object.prototype;function Jle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qle;return t===n}var eue=Jle;function tue(t,e){return function(n){return t(e(n))}}var x5=tue,nue=x5,rue=nue(Object.keys,Object),iue=rue,aue=eue,sue=iue,oue=Object.prototype,lue=oue.hasOwnProperty;function uue(t){if(!aue(t))return sue(t);var e=[];for(var n in Object(t))lue.call(t,n)&&n!="constructor"&&e.push(n);return e}var cue=uue,due=OP,hue=KP;function fue(t){return t!=null&&hue(t.length)&&!due(t)}var Ry=fue,pue=Zle,mue=cue,gue=Ry;function yue(t){return gue(t)?pue(t):mue(t)}var Rw=yue,vue=Ioe,bue=Hoe,xue=Rw;function wue(t){return vue(t,xue,bue)}var Sue=wue,BN=Sue,kue=1,_ue=Object.prototype,Aue=_ue.hasOwnProperty;function Eue(t,e,n,r,i,a){var s=n&kue,o=BN(t),l=o.length,u=BN(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Aue.call(e,h)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var g=t[h],b=e[h];if(r)var x=s?r(b,g,h,e,t,a):r(g,b,h,t,e,a);if(!(x===void 0?g===b||i(g,b,n,r,a):x)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(p=!1)}return a.delete(t),a.delete(e),p}var Cue=Eue,Pue=Mc,Tue=ss,Oue=Pue(Tue,"DataView"),Mue=Oue,Nue=Mc,Iue=ss,Rue=Nue(Iue,"Promise"),Lue=Rue,jue=Mc,Due=ss,$ue=jue(Due,"Set"),w5=$ue,Fue=Mc,zue=ss,Bue=Fue(zue,"WeakMap"),Uue=Bue,EA=Mue,CA=NP,PA=Lue,TA=w5,OA=Uue,S5=co,Pf=PB,UN="[object Map]",Hue="[object Object]",HN="[object Promise]",WN="[object Set]",VN="[object WeakMap]",GN="[object DataView]",Wue=Pf(EA),Vue=Pf(CA),Gue=Pf(PA),que=Pf(TA),Xue=Pf(OA),Gl=S5;(EA&&Gl(new EA(new ArrayBuffer(1)))!=GN||CA&&Gl(new CA)!=UN||PA&&Gl(PA.resolve())!=HN||TA&&Gl(new TA)!=WN||OA&&Gl(new OA)!=VN)&&(Gl=function(t){var e=S5(t),n=e==Hue?t.constructor:void 0,r=n?Pf(n):"";if(r)switch(r){case Wue:return GN;case Vue:return UN;case Gue:return HN;case que:return WN;case Xue:return VN}return e});var Kue=Gl,sS=c5,Yue=p5,Zue=Poe,Que=Cue,qN=Kue,XN=Hr,KN=y5,Jue=b5,ece=1,YN="[object Arguments]",ZN="[object Array]",wv="[object Object]",tce=Object.prototype,QN=tce.hasOwnProperty;function nce(t,e,n,r,i,a){var s=XN(t),o=XN(e),l=s?ZN:qN(t),u=o?ZN:qN(e);l=l==YN?wv:l,u=u==YN?wv:u;var c=l==wv,d=u==wv,h=l==u;if(h&&KN(t)){if(!KN(e))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new sS),s||Jue(t)?Yue(t,e,n,r,i,a):Zue(t,e,l,n,r,i,a);if(!(n&ece)){var f=c&&QN.call(t,"__wrapped__"),m=d&&QN.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,v=m?e.value():e;return a||(a=new sS),i(p,v,n,r,a)}}return h?(a||(a=new sS),Que(t,e,n,r,i,a)):!1}var rce=nce,ice=rce,JN=ho;function k5(t,e,n,r,i){return t===e?!0:t==null||e==null||!JN(t)&&!JN(e)?t!==t&&e!==e:ice(t,e,n,r,k5,i)}var YP=k5,ace=c5,sce=YP,oce=1,lce=2;function uce(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new ace;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?sce(c,u,oce|lce,r,d):h))return!1}}return!0}var cce=uce,dce=Tl;function hce(t){return t===t&&!dce(t)}var _5=hce,fce=_5,pce=Rw;function mce(t){for(var e=pce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fce(i)]}return e}var gce=mce;function yce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var A5=yce,vce=cce,bce=gce,xce=A5;function wce(t){var e=bce(t);return e.length==1&&e[0][2]?xce(e[0][0],e[0][1]):function(n){return n===t||vce(n,t,e)}}var Sce=wce;function kce(t,e){return t!=null&&e in Object(t)}var _ce=kce,Ace=IB,Ece=qP,Cce=Hr,Pce=XP,Tce=KP,Oce=bw;function Mce(t,e,n){e=Ace(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Oce(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Tce(i)&&Pce(s,i)&&(Cce(t)||Ece(t)))}var Nce=Mce,Ice=_ce,Rce=Nce;function Lce(t,e){return t!=null&&Rce(t,e,Ice)}var jce=Lce,Dce=YP,$ce=RB,Fce=jce,zce=TP,Bce=_5,Uce=A5,Hce=bw,Wce=1,Vce=2;function Gce(t,e){return zce(t)&&Bce(e)?Uce(Hce(t),e):function(n){var r=$ce(n,t);return r===void 0&&r===e?Fce(n,t):Dce(e,r,Wce|Vce)}}var qce=Gce;function Xce(t){return t}var Tf=Xce;function Kce(t){return function(e){return e==null?void 0:e[t]}}var Yce=Kce,Zce=jP;function Qce(t){return function(e){return Zce(e,t)}}var Jce=Qce,ede=Yce,tde=Jce,nde=TP,rde=bw;function ide(t){return nde(t)?ede(rde(t)):tde(t)}var ade=ide,sde=Sce,ode=qce,lde=Tf,ude=Hr,cde=ade;function dde(t){return typeof t=="function"?t:t==null?lde:typeof t=="object"?ude(t)?ode(t[0],t[1]):sde(t):cde(t)}var Ol=dde;function hde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var E5=hde;function fde(t){return t!==t}var pde=fde;function mde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var gde=mde,yde=E5,vde=pde,bde=gde;function xde(t,e,n){return e===e?bde(t,e,n):yde(t,vde,n)}var wde=xde,Sde=wde;function kde(t,e){var n=t==null?0:t.length;return!!n&&Sde(t,e,0)>-1}var _de=kde;function Ade(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ede=Ade;function Cde(){}var Pde=Cde,oS=w5,Tde=Pde,Ode=GP,Mde=1/0,Nde=oS&&1/Ode(new oS([,-0]))[1]==Mde?function(t){return new oS(t)}:Tde,Ide=Nde,Rde=d5,Lde=_de,jde=Ede,Dde=f5,$de=Ide,Fde=GP,zde=200;function Bde(t,e,n){var r=-1,i=Lde,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=jde;else if(a>=zde){var u=e?null:$de(t);if(u)return Fde(u);s=!1,i=Dde,l=new Rde}else l=e?[]:o;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(c)}else i(l,d,n)||(l!==o&&l.push(d),o.push(c))}return o}var Ude=Bde,Hde=Ol,Wde=Ude;function Vde(t,e){return t&&t.length?Wde(t,Hde(e)):[]}var Gde=Vde;const eI=ot(Gde);function C5(t,e,n){return e===!0?eI(t,n):qe(e)?eI(t,e):t}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var qde=["ref"];function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function Kde(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yde(t,e,n){return e=Eb(e),Zde(t,P5()?Reflect.construct(e,n||[],Eb(t).constructor):e.apply(t,n))}function Zde(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qde(t)}function Qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MA(t,e)}function Lw(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=ehe(t,"string");return Gh(e)=="symbol"?e:e+""}function ehe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function the(t,e){if(t==null)return{};var n=nhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rhe(t){return t.value}function ihe(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var n=the(e,qde);return re.createElement(VP,n)}var rI=1,Id=function(t){function e(){var n;Xde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Yde(this,e,[].concat(i)),Lw(n,"lastBoundingBox",{width:-1,height:-1}),n}return Jde(e,t),Kde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>rI||Math.abs(i.height-this.lastBoundingBox.height)>rI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?us({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return us(us({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=us(us({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return re.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},ihe(a,us(us({},this.props),{},{payload:C5(c,u,rhe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=us(us({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Ae(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);Lw(Id,"displayName","Legend");Lw(Id,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iI=My,ahe=qP,she=Hr,aI=iI?iI.isConcatSpreadable:void 0;function ohe(t){return she(t)||ahe(t)||!!(aI&&t&&t[aI])}var lhe=ohe,uhe=m5,che=lhe;function O5(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=che),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?O5(o,e-1,n,r,i):uhe(i,o):r||(i[i.length]=o)}return i}var M5=O5;function dhe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var hhe=dhe,fhe=hhe,phe=fhe(),mhe=phe,ghe=mhe,yhe=Rw;function vhe(t,e){return t&&ghe(t,e,yhe)}var N5=vhe,bhe=Ry;function xhe(t,e){return function(n,r){if(n==null)return n;if(!bhe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var whe=xhe,She=N5,khe=whe,_he=khe(She),ZP=_he,Ahe=ZP,Ehe=Ry;function Che(t,e){var n=-1,r=Ehe(t)?Array(t.length):[];return Ahe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var I5=Che;function Phe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var The=Phe,sI=Sf;function Ohe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=sI(t),s=e!==void 0,o=e===null,l=e===e,u=sI(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Mhe=Ohe,Nhe=Mhe;function Ihe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Nhe(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Rhe=Ihe,lS=LP,Lhe=jP,jhe=Ol,Dhe=I5,$he=The,Fhe=v5,zhe=Rhe,Bhe=Tf,Uhe=Hr;function Hhe(t,e,n){e.length?e=lS(e,function(a){return Uhe(a)?function(s){return Lhe(s,a.length===1?a[0]:a)}:a}):e=[Bhe];var r=-1;e=lS(e,Fhe(jhe));var i=Dhe(t,function(a,s,o){var l=lS(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return $he(i,function(a,s){return zhe(a,s,n)})}var Whe=Hhe;function Vhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ghe=Vhe,qhe=Ghe,oI=Math.max;function Xhe(t,e,n){return e=oI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=oI(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),qhe(t,this,o)}}var Khe=Xhe;function Yhe(t){return function(){return t}}var Zhe=Yhe,Qhe=Mc,Jhe=function(){try{var t=Qhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),R5=Jhe,efe=Zhe,lI=R5,tfe=Tf,nfe=lI?function(t,e){return lI(t,"toString",{configurable:!0,enumerable:!1,value:efe(e),writable:!0})}:tfe,rfe=nfe,ife=800,afe=16,sfe=Date.now;function ofe(t){var e=0,n=0;return function(){var r=sfe(),i=afe-(r-n);if(n=r,i>0){if(++e>=ife)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lfe=ofe,ufe=rfe,cfe=lfe,dfe=cfe(ufe),hfe=dfe,ffe=Tf,pfe=Khe,mfe=hfe;function gfe(t,e){return mfe(pfe(t,e,ffe),t+"")}var yfe=gfe,vfe=MP,bfe=Ry,xfe=XP,wfe=Tl;function Sfe(t,e,n){if(!wfe(n))return!1;var r=typeof e;return(r=="number"?bfe(n)&&xfe(e,n.length):r=="string"&&e in n)?vfe(n[e],t):!1}var jw=Sfe,kfe=M5,_fe=Whe,Afe=yfe,uI=jw,Efe=Afe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&uI(t,e[0],e[1])?e=[]:n>2&&uI(e[0],e[1],e[2])&&(e=[e[0]]),_fe(t,kfe(e,1),[])}),Cfe=Efe;const QP=ot(Cfe);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA.apply(this,arguments)}function Pfe(t,e){return Nfe(t)||Mfe(t,e)||Ofe(t,e)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(t,e){if(t){if(typeof t=="string")return cI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(t,e)}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Nfe(t){if(Array.isArray(t))return t}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Lfe(t,"string");return _m(e)=="symbol"?e:e+""}function Lfe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jfe(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var Dfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,v=e.labelFormatter,g=e.accessibilityLayer,b=g===void 0?!1:g,x=function(){if(c&&c.length){var T={padding:0,margin:0},j=(h?QP(c,h):c).map(function(C,L){if(C.type==="none")return null;var X=uS({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},o),z=C.formatter||d||jfe,G=C.value,W=C.name,R=G,V=W;if(z&&R!=null&&V!=null){var H=z(G,W,C,L,c);if(Array.isArray(H)){var $=Pfe(H,2);R=$[0],V=$[1]}else R=H}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:X},wn(V)?re.createElement("span",{className:"recharts-tooltip-item-name"},V):null,wn(V)?re.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,re.createElement("span",{className:"recharts-tooltip-item-value"},R),re.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:T},j)}return null},S=uS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=uS({margin:0},u),k=!Qe(p),A=k?p:"",E=Ze("recharts-default-tooltip",f),P=Ze("recharts-tooltip-label",m);k&&v&&c!==void 0&&c!==null&&(A=v(p,c));var O=b?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",NA({className:E,style:S},O),re.createElement("p",{className:P,style:w},re.isValidElement(A)?A:"".concat(A)),x())};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Sv(t,e,n){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Ffe(t,"string");return Am(e)=="symbol"?e:e+""}function Ffe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jf="recharts-tooltip-wrapper",zfe={visibility:"hidden"};function Bfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ze(Jf,Sv(Sv(Sv(Sv({},"".concat(Jf,"-right"),Ae(n)&&e&&Ae(e.x)&&n>=e.x),"".concat(Jf,"-left"),Ae(n)&&e&&Ae(e.x)&&n<e.x),"".concat(Jf,"-bottom"),Ae(r)&&e&&Ae(e.y)&&r>=e.y),"".concat(Jf,"-top"),Ae(r)&&e&&Ae(e.y)&&r<e.y))}function hI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ae(a[r]))return a[r];var c=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,f=l[r];return h<f?Math.max(d,l[r]):Math.max(c,l[r])}var m=d+o,p=l[r]+u;return m>p?Math.max(c,l[r]):Math.max(d,l[r])}function Ufe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=hI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=hI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Ufe({translateX:c,translateY:d,useTranslate3d:o})):u=zfe,{cssProperties:u,cssClasses:Bfe({translateX:c,translateY:d,coordinate:n})}}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){RA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function Gfe(t,e,n){return e&&Vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qfe(t,e,n){return e=Cb(e),Xfe(t,L5()?Reflect.construct(e,n||[],Cb(t).constructor):e.apply(t,n))}function Xfe(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kfe(t)}function Kfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cb(t)}function Yfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function RA(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5(t){var e=Zfe(t,"string");return qh(e)=="symbol"?e:e+""}function Zfe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mI=1,Qfe=function(t){function e(){var n;Wfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=qfe(this,e,[].concat(i)),RA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),RA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Yfe(e,t),Gfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>mI||Math.abs(r.height-this.state.lastBoundingBox.height)>mI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,m=i.position,p=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,b=i.wrapperStyle,x=Hfe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),S=x.cssClasses,w=x.cssProperties,k=pI(pI({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return re.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(E){r.wrapperNode=E}},u)}}])}(N.PureComponent),Jfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Of={isSsr:Jfe()};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){JP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$5(r.key),r)}}function npe(t,e,n){return e&&tpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rpe(t,e,n){return e=Pb(e),ipe(t,D5()?Reflect.construct(e,n||[],Pb(t).constructor):e.apply(t,n))}function ipe(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ape(t)}function ape(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pb(t)}function spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(t,e)}function JP(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=ope(t,"string");return Xh(e)=="symbol"?e:e+""}function ope(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lpe(t){return t.dataKey}function upe(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(Dfe,e)}var da=function(t){function e(){return epe(this,e),rpe(this,e,arguments)}return spe(e,t),npe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,m=i.payload,p=i.payloadUniqBy,v=i.position,g=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,w=m??[];d&&w.length&&(w=C5(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),p,lpe));var k=w.length>0;return re.createElement(Qfe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:f,position:v,reverseDirection:g,useTranslate3d:b,viewBox:x,wrapperStyle:S},upe(u,yI(yI({},this.props),{},{payload:w})))}}])}(N.PureComponent);JP(da,"displayName","Tooltip");JP(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Of.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cpe=ss,dpe=function(){return cpe.Date.now()},hpe=dpe,fpe=/\s/;function ppe(t){for(var e=t.length;e--&&fpe.test(t.charAt(e)););return e}var mpe=ppe,gpe=mpe,ype=/^\s+/;function vpe(t){return t&&t.slice(0,gpe(t)+1).replace(ype,"")}var bpe=vpe,xpe=bpe,vI=Tl,wpe=Sf,bI=NaN,Spe=/^[-+]0x[0-9a-f]+$/i,kpe=/^0b[01]+$/i,_pe=/^0o[0-7]+$/i,Ape=parseInt;function Epe(t){if(typeof t=="number")return t;if(wpe(t))return bI;if(vI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xpe(t);var n=kpe.test(t);return n||_pe.test(t)?Ape(t.slice(2),n?2:8):Spe.test(t)?bI:+t}var F5=Epe,Cpe=Tl,cS=hpe,xI=F5,Ppe="Expected a function",Tpe=Math.max,Ope=Math.min;function Mpe(t,e,n){var r,i,a,s,o,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Ppe);e=xI(e)||0,Cpe(n)&&(c=!!n.leading,d="maxWait"in n,a=d?Tpe(xI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function f(k){var A=r,E=i;return r=i=void 0,u=k,s=t.apply(E,A),s}function m(k){return u=k,o=setTimeout(g,e),c?f(k):s}function p(k){var A=k-l,E=k-u,P=e-A;return d?Ope(P,a-E):P}function v(k){var A=k-l,E=k-u;return l===void 0||A>=e||A<0||d&&E>=a}function g(){var k=cS();if(v(k))return b(k);o=setTimeout(g,p(k))}function b(k){return o=void 0,h&&r?f(k):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function S(){return o===void 0?s:b(cS())}function w(){var k=cS(),A=v(k);if(r=arguments,i=this,l=k,A){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(g,e),f(l)}return o===void 0&&(o=setTimeout(g,e)),s}return w.cancel=x,w.flush=S,w}var Npe=Mpe,Ipe=Npe,Rpe=Tl,Lpe="Expected a function";function jpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Lpe);return Rpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ipe(t,e,{leading:r,maxWait:e,trailing:i})}var Dpe=jpe;const z5=ot(Dpe);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){$pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $pe(t,e,n){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fpe(t){var e=zpe(t,"string");return Em(e)=="symbol"?e:e+""}function zpe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bpe(t,e){return Vpe(t)||Wpe(t,e)||Hpe(t,e)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Vpe(t){if(Array.isArray(t))return t}var Gpe=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,m=t.debounce,p=m===void 0?0:m,v=t.id,g=t.className,b=t.onResize,x=t.style,S=x===void 0?{}:x,w=N.useRef(null),k=N.useRef();k.current=b,N.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=N.useState({containerWidth:i.width,containerHeight:i.height}),E=Bpe(A,2),P=E[0],O=E[1],I=N.useCallback(function(j,C){O(function(L){var X=Math.round(j),z=Math.round(C);return L.containerWidth===X&&L.containerHeight===z?L:{containerWidth:X,containerHeight:z}})},[]);N.useEffect(function(){var j=function(W){var R,V=W[0].contentRect,H=V.width,$=V.height;I(H,$),(R=k.current)===null||R===void 0||R.call(k,H,$)};p>0&&(j=z5(j,p,{trailing:!0,leading:!1}));var C=new ResizeObserver(j),L=w.current.getBoundingClientRect(),X=L.width,z=L.height;return I(X,z),C.observe(w.current),function(){C.disconnect()}},[I,p]);var T=N.useMemo(function(){var j=P.containerWidth,C=P.containerHeight;if(j<0||C<0)return null;Ks(eu(s)||eu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ks(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=eu(s)?j:s,X=eu(l)?C:l;n&&n>0&&(L?X=L/n:X&&(L=X*n),h&&X>h&&(X=h)),Ks(L>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,X,s,l,c,d,n);var z=!Array.isArray(f)&&Xs(f.type).endsWith("Chart");return re.Children.map(f,function(G){return re.isValidElement(G)?N.cloneElement(G,kv({width:L,height:X},z?{style:kv({height:"100%",width:"100%",maxHeight:X,maxWidth:L},G.props.style)}:{})):G})},[n,f,l,h,d,c,P,s]);return re.createElement("div",{id:v?"".concat(v):void 0,className:Ze("recharts-responsive-container",g),style:kv(kv({},S),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:w},T)}),B5=function(e){return null};B5.displayName="Cell";function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return e=Xpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xpe(t){var e=Kpe(t,"string");return Cm(e)=="symbol"?e:e+""}function Kpe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wc={widthCache:{},cacheCount:0},Ype=2e3,Zpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_I="recharts_measurement_span";function Qpe(t){var e=jA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Gp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Of.isSsr)return{width:0,height:0};var r=Qpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Wc.widthCache[i])return Wc.widthCache[i];try{var a=document.getElementById(_I);a||(a=document.createElement("span"),a.setAttribute("id",_I),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=jA(jA({},Zpe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Wc.widthCache[i]=l,++Wc.cacheCount>Ype&&(Wc.cacheCount=0,Wc.widthCache={}),l}catch{return{width:0,height:0}}},Jpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Tb(t,e){return rme(t)||nme(t,e)||tme(t,e)||eme()}function eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tme(t,e){if(t){if(typeof t=="string")return AI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(t,e)}}function AI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rme(t){if(Array.isArray(t))return t}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sme(r.key),r)}}function ame(t,e,n){return e&&EI(t.prototype,e),n&&EI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t){var e=ome(t,"string");return Pm(e)=="symbol"?e:e+""}function ome(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ume=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cme=Object.keys(U5),gd="NaN";function dme(t,e){return t*U5[e]}var _v=function(){function t(e,n){ime(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!lme.test(n)&&(this.num=NaN,this.unit=""),cme.includes(n)&&(this.num=dme(e,n),this.unit="px")}return ame(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ume.exec(n))!==null&&r!==void 0?r:[],a=Tb(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function H5(t){if(t.includes(gd))return gd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CI.exec(e))!==null&&n!==void 0?n:[],i=Tb(r,4),a=i[1],s=i[2],o=i[3],l=_v.parse(a??""),u=_v.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return gd;e=e.replace(CI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=PI.exec(e))!==null&&d!==void 0?d:[],f=Tb(h,4),m=f[1],p=f[2],v=f[3],g=_v.parse(m??""),b=_v.parse(v??""),x=p==="+"?g.add(b):g.subtract(b);if(x.isNaN())return gd;e=e.replace(PI,x.toString())}return e}var TI=/\(([^()]*)\)/;function hme(t){for(var e=t;e.includes("(");){var n=TI.exec(e),r=Tb(n,2),i=r[1];e=e.replace(TI,H5(i))}return e}function fme(t){var e=t.replace(/\s+/g,"");return e=hme(e),e=H5(e),e}function pme(t){try{return fme(t)}catch{return gd}}function dS(t){var e=pme(t.slice(5,-1));return e===gd?"":e}var mme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gme=["dx","dy","angle","className","breakAll"];function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(this,arguments)}function OI(t,e){if(t==null)return{};var n=yme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MI(t,e){return wme(t)||xme(t,e)||bme(t,e)||vme()}function vme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(t,e){if(t){if(typeof t=="string")return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}}function NI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wme(t){if(Array.isArray(t))return t}var W5=/[ \f\n\r\t\v\u2028\u2029]+/,V5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Qe(n)||(r?a=n.toString().split(""):a=n.toString().split(W5));var s=a.map(function(l){return{word:l,width:Gp(l,i).width}}),o=r?0:Gp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Sme=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,c=Ae(s),d=o,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(X,z){var G=z.word,W=z.width,R=X[X.length-1];if(R&&(i==null||a||R.width+W+r<Number(i)))R.words.push(G),R.width+=W+r;else{var V={words:[G],width:W};X.push(V)}return X},[])},f=h(n),m=function(L){return L.reduce(function(X,z){return X.width>z.width?X:z})};if(!c)return f;for(var p="",v=function(L){var X=d.slice(0,L),z=V5({breakAll:u,style:l,children:X+p}).wordsWithComputedWidth,G=h(z),W=G.length>s||m(G).width>Number(i);return[W,G]},g=0,b=d.length-1,x=0,S;g<=b&&x<=d.length-1;){var w=Math.floor((g+b)/2),k=w-1,A=v(k),E=MI(A,2),P=E[0],O=E[1],I=v(w),T=MI(I,1),j=T[0];if(!P&&!j&&(g=w+1),P&&j&&(b=w-1),!P&&j){S=O;break}x++}return S||f},II=function(e){var n=Qe(e)?[]:e.toString().split(W5);return[{words:n}]},kme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Of.isSsr){var l,u,c=V5({breakAll:s,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return II(i);return Sme({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return II(i)},RI="#808080",Ob=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,p=m===void 0?"end":m,v=e.fill,g=v===void 0?RI:v,b=OI(e,mme),x=N.useMemo(function(){return kme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,w=b.dy,k=b.angle,A=b.className,E=b.breakAll,P=OI(b,gme);if(!wn(r)||!wn(a))return null;var O=r+(Ae(S)?S:0),I=a+(Ae(w)?w:0),T;switch(p){case"start":T=dS("calc(".concat(u,")"));break;case"middle":T=dS("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:T=dS("calc(".concat(x.length-1," * -").concat(o,")"));break}var j=[];if(d){var C=x[0].width,L=b.width;j.push("scale(".concat((Ae(L)?L/C:1)/C,")"))}return k&&j.push("rotate(".concat(k,", ").concat(O,", ").concat(I,")")),j.length&&(P.transform=j.join(" ")),re.createElement("text",DA({},nt(P,!0),{x:O,y:I,className:Ze("recharts-text",A),textAnchor:f,fill:g.includes("url")?RI:g}),x.map(function(X,z){var G=X.words.join(E?"":" ");return re.createElement("tspan",{x:O,dy:z===0?T:o,key:"".concat(G,"-").concat(z)},G)}))};function ml(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _me(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eT(t){let e,n,r;t.length!==2?(e=ml,n=(o,l)=>ml(t(o),l),r=(o,l)=>t(o)-l):(e=t===ml||t===_me?t:Ame,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Ame(){return 0}function G5(t){return t===null?NaN:+t}function*Eme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cme=eT(ml),Ly=Cme.right;eT(G5).center;class LI extends Map{constructor(e,n=Ome){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jI(this,e))}has(e){return super.has(jI(this,e))}set(e,n){return super.set(Pme(this,e),n)}delete(e){return super.delete(Tme(this,e))}}function jI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Tme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ome(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mme(t=ml){if(t===ml)return q5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function q5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nme=Math.sqrt(50),Ime=Math.sqrt(10),Rme=Math.sqrt(2);function Mb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Nme?10:a>=Ime?5:a>=Rme?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?Mb(t,e,n*2):[o,l,u]}function $A(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Mb(e,t,n):Mb(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function FA(t,e,n){return e=+e,t=+t,n=+n,Mb(t,e,n)[2]}function zA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?FA(e,t,n):FA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $I(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?q5:Mme(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(n,Math.floor(e-u*d/l+h)),m=Math.min(r,Math.floor(e+(l-u)*d/l+h));X5(t,e,f,m,i)}const a=t[e];let s=n,o=r;for(ep(t,n,e),i(t[r],a)>0&&ep(t,n,r);s<o;){for(ep(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?ep(t,n,o):(++o,ep(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function ep(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Lme(t,e,n){if(t=Float64Array.from(Eme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $I(t);if(e>=1)return DI(t);var r,i=(r-1)*e,a=Math.floor(i),s=DI(X5(t,a).subarray(0,a+1)),o=$I(t.subarray(a+1));return s+(o-s)*(i-a)}}function jme(t,e,n=G5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Dme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BA=Symbol("implicit");function tT(){var t=new LI,e=[],n=[],r=BA;function i(a){let s=t.get(a);if(s===void 0){if(r!==BA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new LI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tT(e,n).unknown(r)},Vi.apply(i,arguments),i}function Tm(){var t=tT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,f=i<r,m=f?i:r,p=f?r:i;a=(p-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(p-m-a*(h-l))*c,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=Dme(h).map(function(g){return m+a*g});return n(f?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Tm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Vi.apply(d(),arguments)}function K5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return K5(e())},t}function qp(){return K5(Tm.apply(null,arguments).paddingInner(1))}function nT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Y5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jy(){}var Om=.7,Nb=1/Om,Rd="\\s*([+-]?\\d+)\\s*",Mm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$me=/^#([0-9a-f]{3,8})$/,Fme=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),zme=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),Bme=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${Mm}\\)$`),Ume=new RegExp(`^rgba\\(${ts},${ts},${ts},${Mm}\\)$`),Hme=new RegExp(`^hsl\\(${Mm},${ts},${ts}\\)$`),Wme=new RegExp(`^hsla\\(${Mm},${ts},${ts},${Mm}\\)$`),FI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nT(jy,Nm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zI,formatHex:zI,formatHex8:Vme,formatHsl:Gme,formatRgb:BI,toString:BI});function zI(){return this.rgb().formatHex()}function Vme(){return this.rgb().formatHex8()}function Gme(){return Z5(this).formatHsl()}function BI(){return this.rgb().formatRgb()}function Nm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$me.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UI(e):n===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Av(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Av(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fme.exec(t))?new Lr(e[1],e[2],e[3],1):(e=zme.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bme.exec(t))?Av(e[1],e[2],e[3],e[4]):(e=Ume.exec(t))?Av(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hme.exec(t))?VI(e[1],e[2]/100,e[3]/100,1):(e=Wme.exec(t))?VI(e[1],e[2]/100,e[3]/100,e[4]):FI.hasOwnProperty(t)?UI(FI[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function UI(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function Av(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lr(t,e,n,r)}function qme(t){return t instanceof jy||(t=Nm(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function UA(t,e,n,r){return arguments.length===1?qme(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nT(Lr,UA,Y5(jy,{brighter(t){return t=t==null?Nb:Math.pow(Nb,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Om:Math.pow(Om,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(nc(this.r),nc(this.g),nc(this.b),Ib(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HI,formatHex:HI,formatHex8:Xme,formatRgb:WI,toString:WI}));function HI(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function Xme(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function WI(){const t=Ib(this.opacity);return`${t===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${t===1?")":`, ${t})`}`}function Ib(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tu(t){return t=nc(t),(t<16?"0":"")+t.toString(16)}function VI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,n,r)}function Z5(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof jy||(t=Nm(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ga(s,o,l,t.opacity)}function Kme(t,e,n,r){return arguments.length===1?Z5(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nT(ga,Kme,Y5(jy,{brighter(t){return t=t==null?Nb:Math.pow(Nb,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Om:Math.pow(Om,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lr(hS(t>=240?t-240:t+120,i,r),hS(t,i,r),hS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ga(GI(this.h),Ev(this.s),Ev(this.l),Ib(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ib(this.opacity);return`${t===1?"hsl(":"hsla("}${GI(this.h)}, ${Ev(this.s)*100}%, ${Ev(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GI(t){return t=(t||0)%360,t<0?t+360:t}function Ev(t){return Math.max(0,Math.min(1,t||0))}function hS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rT=t=>()=>t;function Yme(t,e){return function(n){return t+n*e}}function Zme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qme(t){return(t=+t)==1?Q5:function(e,n){return n-e?Zme(e,n,t):rT(isNaN(e)?n:e)}}function Q5(t,e){var n=e-t;return n?Yme(t,n):rT(isNaN(t)?e:t)}const qI=function t(e){var n=Qme(e);function r(i,a){var s=n((i=UA(i)).r,(a=UA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Q5(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Jme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function ege(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Mf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function nge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var HA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fS=new RegExp(HA.source,"g");function ige(t){return function(){return t}}function age(t){return function(e){return t(e)+""}}function sge(t,e){var n=HA.lastIndex=fS.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=HA.exec(t))&&(i=fS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Rb(r,i)})),n=fS.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?age(l[0].x):ige(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Mf(t,e){var n=typeof e,r;return e==null||n==="boolean"?rT(e):(n==="number"?Rb:n==="string"?(r=Nm(e))?(e=r,qI):sge:e instanceof Nm?qI:e instanceof Date?nge:ege(e)?Jme:Array.isArray(e)?tge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rge:Rb)(t,e)}function iT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function oge(t,e){e===void 0&&(e=t,t=Mf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function lge(t){return function(){return t}}function Lb(t){return+t}var XI=[0,1];function vr(t){return t}function WA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lge(isNaN(e)?NaN:.5)}function uge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cge(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=WA(i,r),a=n(s,a)):(r=WA(r,i),a=n(a,s)),function(o){return a(r(o))}}function dge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=WA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Ly(t,o,1,r)-1;return a[l](i[l](o))}}function Dy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dw(){var t=XI,e=XI,n=Mf,r,i,a,s=vr,o,l,u;function c(){var h=Math.min(t.length,e.length);return s!==vr&&(s=uge(t[0],t[h-1])),o=h>2?dge:cge,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=o(e,t.map(r),Rb)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Lb),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=iT,c()},d.clamp=function(h){return arguments.length?(s=h?!0:vr,c()):s!==vr},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,f){return r=h,i=f,c()}}function aT(){return Dw()(vr,vr)}function hge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jb(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kh(t){return t=jb(Math.abs(t)),t?t[1]:NaN}function fge(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function pge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Im(t){if(!(e=mge.exec(t)))throw new Error("invalid format: "+t);var e;return new sT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Im.prototype=sT.prototype;function sT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Db;function yge(t,e){var n=jb(t,e);if(!n)return Db=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Db=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+jb(t,Math.max(0,e+a-1))[0]}function KI(t,e){var n=jb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KI(t*100,e),r:KI,s:yge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZI(t){return t}var QI=Array.prototype.map,JI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vge(t){var e=t.grouping===void 0||t.thousands===void 0?ZI:fge(QI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZI:pge(QI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=Im(d);var f=d.fill,m=d.align,p=d.sign,v=d.symbol,g=d.zero,b=d.width,x=d.comma,S=d.precision,w=d.trim,k=d.type;k==="n"?(x=!0,k="g"):YI[k]||(S===void 0&&(S=12),w=!0,k="g"),(g||f==="0"&&m==="=")&&(g=!0,f="0",m="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),E=(v==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=YI[k],O=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(T){var j=A,C=E,L,X,z;if(k==="c")C=P(T)+C,T="";else{T=+T;var G=T<0||1/T<0;if(T=isNaN(T)?l:P(Math.abs(T),S),w&&(T=gge(T)),G&&+T==0&&p!=="+"&&(G=!1),j=(G?p==="("?p:o:p==="-"||p==="("?"":p)+j,C=(k==="s"&&!isNaN(T)&&Db!==void 0?JI[8+Db/3]:"")+C+(G&&p==="("?")":""),O){for(L=-1,X=T.length;++L<X;)if(z=T.charCodeAt(L),48>z||z>57){C=(z===46?i+T.slice(L+1):T.slice(L))+C,T=T.slice(0,L);break}}}x&&!g&&(T=e(T,1/0));var W=j.length+T.length+C.length,R=W<b?new Array(b-W+1).join(f):"";switch(x&&g&&(T=e(R+T,R.length?b-C.length:1/0),R=""),m){case"<":T=j+T+C+R;break;case"=":T=j+R+T+C;break;case"^":T=R.slice(0,W=R.length>>1)+j+T+C+R.slice(W);break;default:T=R+j+T+C;break}return a(T)}return I.toString=function(){return d+""},I}function c(d,h){var f=Math.max(-8,Math.min(8,Math.floor(Kh(h)/3)))*3,m=Math.pow(10,-f),p=u((d=Im(d),d.type="f",d),{suffix:JI[8+f/3]});return function(v){return p(m*v)}}return{format:u,formatPrefix:c}}var Cv,oT,J5;bge({thousands:",",grouping:[3],currency:["$",""]});function bge(t){return Cv=vge(t),oT=Cv.format,J5=Cv.formatPrefix,Cv}function xge(t){return Math.max(0,-Kh(Math.abs(t)))}function wge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kh(e)/3)))*3-Kh(Math.abs(t)))}function Sge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kh(e)-Kh(t))+1}function e4(t,e,n,r){var i=zA(t,e,n),a;switch(r=Im(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=wge(i,s))&&(r.precision=a),J5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Sge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=xge(i))&&(r.precision=a-(r.type==="%")*2);break}}return oT(r)}function Ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return $A(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return e4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=FA(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function $b(){var t=aT();return t.copy=function(){return Dy(t,$b())},Vi.apply(t,arguments),Ml(t)}function t4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return t4(t).unknown(e)},t=arguments.length?Array.from(t,Lb):[0,1],Ml(n)}function n4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function eR(t){return Math.log(t)}function tR(t){return Math.exp(t)}function kge(t){return-Math.log(-t)}function _ge(t){return-Math.exp(-t)}function Age(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ege(t){return t===10?Age:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Cge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nR(t){return(e,n)=>-t(-e,n)}function lT(t){const e=t(eR,tR),n=e.domain;let r=10,i,a;function s(){return i=Cge(r),a=Ege(r),n()[0]<0?(i=nR(i),a=nR(a),t(kge,_ge)):t(eR,tR),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),f=i(c),m,p;const v=o==null?10:+o;let g=[];if(!(r%1)&&f-h<v){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(m=1;m<r;++m)if(p=h<0?m/a(-h):m*a(h),!(p<u)){if(p>c)break;g.push(p)}}else for(;h<=f;++h)for(m=r-1;m>=1;--m)if(p=h>0?m/a(-h):m*a(h),!(p<u)){if(p>c)break;g.push(p)}g.length*2<v&&(g=$A(u,c,v))}else g=$A(h,f,Math.min(f-h,v)).map(a);return d?g.reverse():g},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Im(l)).precision==null&&(l.trim=!0),l=oT(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(n4(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function r4(){const t=lT(Dw()).domain([1,10]);return t.copy=()=>Dy(t,r4()).base(t.base()),Vi.apply(t,arguments),t}function rR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uT(t){var e=1,n=t(rR(e),iR(e));return n.constant=function(r){return arguments.length?t(rR(e=+r),iR(e)):e},Ml(n)}function i4(){var t=uT(Dw());return t.copy=function(){return Dy(t,i4()).constant(t.constant())},Vi.apply(t,arguments)}function aR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tge(t){return t<0?-t*t:t*t}function cT(t){var e=t(vr,vr),n=1;function r(){return n===1?t(vr,vr):n===.5?t(Pge,Tge):t(aR(n),aR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ml(e)}function dT(){var t=cT(Dw());return t.copy=function(){return Dy(t,dT()).exponent(t.exponent())},Vi.apply(t,arguments),t}function Oge(){return dT.apply(null,arguments).exponent(.5)}function sR(t){return Math.sign(t)*t*t}function Mge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a4(){var t=aT(),e=[0,1],n=!1,r;function i(a){var s=Mge(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(sR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lb)).map(sR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return a4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vi.apply(i,arguments),Ml(i)}function s4(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=jme(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ly(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ml),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return s4().domain(t).range(e).unknown(r)},Vi.apply(a,arguments)}function o4(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ly(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return o4().domain([t,e]).range(i).unknown(a)},Vi.apply(Ml(s),arguments)}function l4(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ly(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return l4().domain(t).range(e).unknown(n)},Vi.apply(i,arguments)}const pS=new Date,mS=new Date;function kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>kn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(pS.setTime(+a),mS.setTime(+s),t(pS),t(mS),Math.floor(n(pS,mS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Fb=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Fb);Fb.range;const Us=1e3,Li=Us*60,Hs=Li*60,ro=Hs*24,hT=ro*7,oR=ro*30,gS=ro*365,nu=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getUTCSeconds());nu.range;const fT=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Us)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());fT.range;const pT=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());pT.range;const mT=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Us-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getHours());mT.range;const gT=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCHours());gT.range;const $y=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/ro,t=>t.getDate()-1);$y.range;const $w=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);$w.range;const u4=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));u4.range;function Nc(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/hT)}const Fw=Nc(0),zb=Nc(1),Nge=Nc(2),Ige=Nc(3),Yh=Nc(4),Rge=Nc(5),Lge=Nc(6);Fw.range;zb.range;Nge.range;Ige.range;Yh.range;Rge.range;Lge.range;function Ic(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hT)}const zw=Ic(0),Bb=Ic(1),jge=Ic(2),Dge=Ic(3),Zh=Ic(4),$ge=Ic(5),Fge=Ic(6);zw.range;Bb.range;jge.range;Dge.range;Zh.range;$ge.range;Fge.range;const yT=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yT.range;const vT=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vT.range;const io=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});io.range;const ao=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ao.range;function c4(t,e,n,r,i,a){const s=[[nu,1,Us],[nu,5,5*Us],[nu,15,15*Us],[nu,30,30*Us],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,Hs],[i,3,3*Hs],[i,6,6*Hs],[i,12,12*Hs],[r,1,ro],[r,2,2*ro],[n,1,hT],[e,1,oR],[e,3,3*oR],[t,1,gS]];function o(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),m=f?f.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,d){const h=Math.abs(c-u)/d,f=eT(([,,v])=>v).right(s,h);if(f===s.length)return t.every(zA(u/gS,c/gS,d));if(f===0)return Fb.every(Math.max(zA(u,c,d),1));const[m,p]=s[h/s[f-1][2]<s[f][2]/h?f-1:f];return m.every(p)}return[o,l]}const[zge,Bge]=c4(ao,vT,zw,u4,gT,pT),[Uge,Hge]=c4(io,yT,Fw,$y,mT,fT);function yS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=np(i),c=rp(i),d=np(a),h=rp(a),f=np(s),m=rp(s),p=np(o),v=rp(o),g=np(l),b=rp(l),x={a:z,A:G,b:W,B:R,c:null,d:fR,e:fR,f:fye,g:kye,G:Aye,H:cye,I:dye,j:hye,L:d4,m:pye,M:mye,p:V,q:H,Q:gR,s:yR,S:gye,u:yye,U:vye,V:bye,w:xye,W:wye,x:null,X:null,y:Sye,Y:_ye,Z:Eye,"%":mR},S={a:$,A:ie,b:Z,B:he,c:null,d:pR,e:pR,f:Oye,g:zye,G:Uye,H:Cye,I:Pye,j:Tye,L:f4,m:Mye,M:Nye,p:we,q:me,Q:gR,s:yR,S:Iye,u:Rye,U:Lye,V:jye,w:Dye,W:$ye,x:null,X:null,y:Fye,Y:Bye,Z:Hye,"%":mR},w={a:O,A:I,b:T,B:j,c:C,d:dR,e:dR,f:sye,g:cR,G:uR,H:hR,I:hR,j:nye,L:aye,m:tye,M:rye,p:P,q:eye,Q:lye,s:uye,S:iye,u:Kge,U:Yge,V:Zge,w:Xge,W:Qge,x:L,X,y:cR,Y:uR,Z:Jge,"%":oye};x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),S.x=k(n,S),S.X=k(r,S),S.c=k(e,S);function k(ae,fe){return function(pe){var se=[],_e=-1,M=0,te=ae.length,K,q,U;for(pe instanceof Date||(pe=new Date(+pe));++_e<te;)ae.charCodeAt(_e)===37&&(se.push(ae.slice(M,_e)),(q=lR[K=ae.charAt(++_e)])!=null?K=ae.charAt(++_e):q=K==="e"?" ":"0",(U=fe[K])&&(K=U(pe,q)),se.push(K),M=_e+1);return se.push(ae.slice(M,_e)),se.join("")}}function A(ae,fe){return function(pe){var se=tp(1900,void 0,1),_e=E(se,ae,pe+="",0),M,te;if(_e!=pe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(fe&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(M=vS(tp(se.y,0,1)),te=M.getUTCDay(),M=te>4||te===0?Bb.ceil(M):Bb(M),M=$w.offset(M,(se.V-1)*7),se.y=M.getUTCFullYear(),se.m=M.getUTCMonth(),se.d=M.getUTCDate()+(se.w+6)%7):(M=yS(tp(se.y,0,1)),te=M.getDay(),M=te>4||te===0?zb.ceil(M):zb(M),M=$y.offset(M,(se.V-1)*7),se.y=M.getFullYear(),se.m=M.getMonth(),se.d=M.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),te="Z"in se?vS(tp(se.y,0,1)).getUTCDay():yS(tp(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(te+5)%7:se.w+se.U*7-(te+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,vS(se)):yS(se)}}function E(ae,fe,pe,se){for(var _e=0,M=fe.length,te=pe.length,K,q;_e<M;){if(se>=te)return-1;if(K=fe.charCodeAt(_e++),K===37){if(K=fe.charAt(_e++),q=w[K in lR?fe.charAt(_e++):K],!q||(se=q(ae,pe,se))<0)return-1}else if(K!=pe.charCodeAt(se++))return-1}return se}function P(ae,fe,pe){var se=u.exec(fe.slice(pe));return se?(ae.p=c.get(se[0].toLowerCase()),pe+se[0].length):-1}function O(ae,fe,pe){var se=f.exec(fe.slice(pe));return se?(ae.w=m.get(se[0].toLowerCase()),pe+se[0].length):-1}function I(ae,fe,pe){var se=d.exec(fe.slice(pe));return se?(ae.w=h.get(se[0].toLowerCase()),pe+se[0].length):-1}function T(ae,fe,pe){var se=g.exec(fe.slice(pe));return se?(ae.m=b.get(se[0].toLowerCase()),pe+se[0].length):-1}function j(ae,fe,pe){var se=p.exec(fe.slice(pe));return se?(ae.m=v.get(se[0].toLowerCase()),pe+se[0].length):-1}function C(ae,fe,pe){return E(ae,e,fe,pe)}function L(ae,fe,pe){return E(ae,n,fe,pe)}function X(ae,fe,pe){return E(ae,r,fe,pe)}function z(ae){return s[ae.getDay()]}function G(ae){return a[ae.getDay()]}function W(ae){return l[ae.getMonth()]}function R(ae){return o[ae.getMonth()]}function V(ae){return i[+(ae.getHours()>=12)]}function H(ae){return 1+~~(ae.getMonth()/3)}function $(ae){return s[ae.getUTCDay()]}function ie(ae){return a[ae.getUTCDay()]}function Z(ae){return l[ae.getUTCMonth()]}function he(ae){return o[ae.getUTCMonth()]}function we(ae){return i[+(ae.getUTCHours()>=12)]}function me(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var fe=k(ae+="",x);return fe.toString=function(){return ae},fe},parse:function(ae){var fe=A(ae+="",!1);return fe.toString=function(){return ae},fe},utcFormat:function(ae){var fe=k(ae+="",S);return fe.toString=function(){return ae},fe},utcParse:function(ae){var fe=A(ae+="",!0);return fe.toString=function(){return ae},fe}}}var lR={"-":"",_:" ",0:"0"},In=/^\s*\d+/,Vge=/^%/,Gge=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function qge(t){return t.replace(Gge,"\\$&")}function np(t){return new RegExp("^(?:"+t.map(qge).join("|")+")","i")}function rp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xge(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kge(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yge(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zge(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Qge(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function uR(t,e,n){var r=In.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cR(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Jge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eye(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function tye(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dR(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nye(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hR(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rye(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iye(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function aye(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sye(t,e,n){var r=In.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oye(t,e,n){var r=Vge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function lye(t,e,n){var r=In.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uye(t,e,n){var r=In.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fR(t,e){return st(t.getDate(),e,2)}function cye(t,e){return st(t.getHours(),e,2)}function dye(t,e){return st(t.getHours()%12||12,e,2)}function hye(t,e){return st(1+$y.count(io(t),t),e,3)}function d4(t,e){return st(t.getMilliseconds(),e,3)}function fye(t,e){return d4(t,e)+"000"}function pye(t,e){return st(t.getMonth()+1,e,2)}function mye(t,e){return st(t.getMinutes(),e,2)}function gye(t,e){return st(t.getSeconds(),e,2)}function yye(t){var e=t.getDay();return e===0?7:e}function vye(t,e){return st(Fw.count(io(t)-1,t),e,2)}function h4(t){var e=t.getDay();return e>=4||e===0?Yh(t):Yh.ceil(t)}function bye(t,e){return t=h4(t),st(Yh.count(io(t),t)+(io(t).getDay()===4),e,2)}function xye(t){return t.getDay()}function wye(t,e){return st(zb.count(io(t)-1,t),e,2)}function Sye(t,e){return st(t.getFullYear()%100,e,2)}function kye(t,e){return t=h4(t),st(t.getFullYear()%100,e,2)}function _ye(t,e){return st(t.getFullYear()%1e4,e,4)}function Aye(t,e){var n=t.getDay();return t=n>=4||n===0?Yh(t):Yh.ceil(t),st(t.getFullYear()%1e4,e,4)}function Eye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function pR(t,e){return st(t.getUTCDate(),e,2)}function Cye(t,e){return st(t.getUTCHours(),e,2)}function Pye(t,e){return st(t.getUTCHours()%12||12,e,2)}function Tye(t,e){return st(1+$w.count(ao(t),t),e,3)}function f4(t,e){return st(t.getUTCMilliseconds(),e,3)}function Oye(t,e){return f4(t,e)+"000"}function Mye(t,e){return st(t.getUTCMonth()+1,e,2)}function Nye(t,e){return st(t.getUTCMinutes(),e,2)}function Iye(t,e){return st(t.getUTCSeconds(),e,2)}function Rye(t){var e=t.getUTCDay();return e===0?7:e}function Lye(t,e){return st(zw.count(ao(t)-1,t),e,2)}function p4(t){var e=t.getUTCDay();return e>=4||e===0?Zh(t):Zh.ceil(t)}function jye(t,e){return t=p4(t),st(Zh.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function Dye(t){return t.getUTCDay()}function $ye(t,e){return st(Bb.count(ao(t)-1,t),e,2)}function Fye(t,e){return st(t.getUTCFullYear()%100,e,2)}function zye(t,e){return t=p4(t),st(t.getUTCFullYear()%100,e,2)}function Bye(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function Uye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zh(t):Zh.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function Hye(){return"+0000"}function mR(){return"%"}function gR(t){return+t}function yR(t){return Math.floor(+t/1e3)}var Vc,m4,g4;Wye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wye(t){return Vc=Wge(t),m4=Vc.format,Vc.parse,g4=Vc.utcFormat,Vc.utcParse,Vc}function Vye(t){return new Date(t)}function Gye(t){return t instanceof Date?+t:+new Date(+t)}function bT(t,e,n,r,i,a,s,o,l,u){var c=aT(),d=c.invert,h=c.domain,f=u(".%L"),m=u(":%S"),p=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),x=u("%B"),S=u("%Y");function w(k){return(l(k)<k?f:o(k)<k?m:s(k)<k?p:a(k)<k?v:r(k)<k?i(k)<k?g:b:n(k)<k?x:S)(k)}return c.invert=function(k){return new Date(d(k))},c.domain=function(k){return arguments.length?h(Array.from(k,Gye)):h().map(Vye)},c.ticks=function(k){var A=h();return t(A[0],A[A.length-1],k??10)},c.tickFormat=function(k,A){return A==null?w:u(A)},c.nice=function(k){var A=h();return(!k||typeof k.range!="function")&&(k=e(A[0],A[A.length-1],k??10)),k?h(n4(A,k)):c},c.copy=function(){return Dy(c,bT(t,e,n,r,i,a,s,o,l,u))},c}function qye(){return Vi.apply(bT(Uge,Hge,io,yT,Fw,$y,mT,fT,nu,m4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xye(){return Vi.apply(bT(zge,Bge,ao,vT,zw,$w,gT,pT,nu,g4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bw(){var t=0,e=1,n,r,i,a,s=vr,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var f,m;return arguments.length?([f,m]=h,s=d(f,m),u):[s(0),s(1)]}}return u.range=c(Mf),u.rangeRound=c(iT),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y4(){var t=Ml(Bw()(vr));return t.copy=function(){return Nl(t,y4())},fo.apply(t,arguments)}function v4(){var t=lT(Bw()).domain([1,10]);return t.copy=function(){return Nl(t,v4()).base(t.base())},fo.apply(t,arguments)}function b4(){var t=uT(Bw());return t.copy=function(){return Nl(t,b4()).constant(t.constant())},fo.apply(t,arguments)}function xT(){var t=cT(Bw());return t.copy=function(){return Nl(t,xT()).exponent(t.exponent())},fo.apply(t,arguments)}function Kye(){return xT.apply(null,arguments).exponent(.5)}function x4(){var t=[],e=vr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ly(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ml),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Lme(t,a/r))},n.copy=function(){return x4(e).domain(t)},fo.apply(n,arguments)}function Uw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=vr,c,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+c(p))-a)*(r*p<r*a?o:l),u(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,n]=p,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f):[t,e,n]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(u=p,f):u};function m(p){return function(v){var g,b,x;return arguments.length?([g,b,x]=v,u=oge(p,[g,b,x]),f):[u(0),u(.5),u(1)]}}return f.range=m(Mf),f.rangeRound=m(iT),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return c=p,i=p(t),a=p(e),s=p(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f}}function w4(){var t=Ml(Uw()(vr));return t.copy=function(){return Nl(t,w4())},fo.apply(t,arguments)}function S4(){var t=lT(Uw()).domain([.1,1,10]);return t.copy=function(){return Nl(t,S4()).base(t.base())},fo.apply(t,arguments)}function k4(){var t=uT(Uw());return t.copy=function(){return Nl(t,k4()).constant(t.constant())},fo.apply(t,arguments)}function wT(){var t=cT(Uw());return t.copy=function(){return Nl(t,wT()).exponent(t.exponent())},fo.apply(t,arguments)}function Yye(){return wT.apply(null,arguments).exponent(.5)}const vR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tm,scaleDiverging:w4,scaleDivergingLog:S4,scaleDivergingPow:wT,scaleDivergingSqrt:Yye,scaleDivergingSymlog:k4,scaleIdentity:t4,scaleImplicit:BA,scaleLinear:$b,scaleLog:r4,scaleOrdinal:tT,scalePoint:qp,scalePow:dT,scaleQuantile:s4,scaleQuantize:o4,scaleRadial:a4,scaleSequential:y4,scaleSequentialLog:v4,scaleSequentialPow:xT,scaleSequentialQuantile:x4,scaleSequentialSqrt:Kye,scaleSequentialSymlog:b4,scaleSqrt:Oge,scaleSymlog:i4,scaleThreshold:l4,scaleTime:qye,scaleUtc:Xye,tickFormat:e4},Symbol.toStringTag,{value:"Module"}));var Zye=Sf;function Qye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!Zye(s):n(s,o)))var o=s,l=a}return l}var _4=Qye;function Jye(t,e){return t>e}var eve=Jye,tve=_4,nve=eve,rve=Tf;function ive(t){return t&&t.length?tve(t,rve,nve):void 0}var ave=ive;const Hw=ot(ave);function sve(t,e){return t<e}var ove=sve,lve=_4,uve=ove,cve=Tf;function dve(t){return t&&t.length?lve(t,cve,uve):void 0}var hve=dve;const Ww=ot(hve);var fve=LP,pve=Ol,mve=I5,gve=Hr;function yve(t,e){var n=gve(t)?fve:mve;return n(t,pve(e))}var vve=yve,bve=M5,xve=vve;function wve(t,e){return bve(xve(t,e),1)}var Sve=wve;const kve=ot(Sve);var _ve=YP;function Ave(t,e){return _ve(t,e)}var Eve=Ave;const Vw=ot(Eve);var Nf=1e9,Cve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kT,Ft=!0,Hi="[DecimalError] ",rc=Hi+"Invalid argument: ",ST=Hi+"Exponent out of range: ",If=Math.floor,ql=Math.pow,Pve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,On=1e7,It=7,A4=9007199254740991,Ub=If(A4/It),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Ys(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return St(Ys(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return cn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(oi))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(oi)?new r(0):(Ft=!1,e=Ys(Rm(n,a),Rm(t,a),a),Ft=!0,St(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P4(e,t):E4(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hi+"NaN");return n.s?(Ft=!1,e=Ys(n,t,0,1).times(t),Ft=!0,n.minus(e)):St(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return C4(this)};Oe.naturalLogarithm=Oe.ln=function(){return Rm(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E4(e,t):P4(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rc+t);if(e=cn(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Hi+"NaN")}for(t=cn(o),Ft=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=If((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ys(o,a,s+2)).times(.5),Qa(a.d).slice(0,s)===(e=Qa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Ft=!0,St(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,d=c.constructor,h=c.d,f=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=f.length,l<u&&(a=h,h=f,f=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+f[r]*h[i-r-1]+e,a[i--]=o%On|0,e=o/On|0;a[i]=(a[i]+e)%On|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ft?St(t,d.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(is(t,0,Nf),e===void 0?e=r.rounding:is(e,0,8),St(n,t+cn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bc(r,!0):(is(t,0,Nf),e===void 0?e=i.rounding:is(e,0,8),r=St(new i(r),t+1,e),n=bc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bc(i):(is(t,0,Nf),e===void 0?e=a.rounding:is(e,0,8),r=St(new a(i),t+cn(i)+1,e),n=bc(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return St(new e(t),cn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(oi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Hi+"Infinity");return o}if(o.eq(oi))return o;if(r=l.precision,t.eq(oi))return St(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=A4){for(i=new l(oi),e=Math.ceil(r/It+4),Ft=!1;n%2&&(i=i.times(o),xR(i.d,e)),n=If(n/2),n!==0;)o=o.times(o),xR(o.d,e);return Ft=!0,t.s<0?new l(oi).div(i):St(i,r)}}else if(a<0)throw Error(Hi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ft=!1,i=t.times(Rm(o,r+u)),Ft=!0,i=C4(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=cn(i),r=bc(i,n<=a.toExpNeg||n>=a.toExpPos)):(is(t,1,Nf),e===void 0?e=a.rounding:is(e,0,8),i=St(new a(i),t,e),n=cn(i),r=bc(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(is(t,1,Nf),e===void 0?e=r.rounding:is(e,0,8)),St(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return bc(t,e<=n.toExpNeg||e>=n.toExpPos)};function E4(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ft?St(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/It),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/On|0,l[a]%=On;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Ft?St(e,d):e}function is(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rc+t)}function Qa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(a+=So(n)),a+=r;s=t[e],r=s+"",n=It-r.length,n&&(a+=So(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ys=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%On|0,s=a/On|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*On+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,d,h,f,m,p,v,g,b,x,S,w,k,A,E,P=r.constructor,O=r.s==i.s?1:-1,I=r.d,T=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Hi+"Division by zero");for(l=r.e-i.e,A=T.length,w=I.length,f=new P(O),m=f.d=[],u=0;T[u]==(I[u]||0);)++u;if(T[u]>(I[u]||0)&&--l,a==null?b=a=P.precision:s?b=a+(cn(r)-cn(i))+1:b=a,b<0)return new P(0);if(b=b/It+2|0,u=0,A==1)for(c=0,T=T[0],b++;(u<w||c)&&b--;u++)x=c*On+(I[u]||0),m[u]=x/T|0,c=x%T|0;else{for(c=On/(T[0]+1)|0,c>1&&(T=t(T,c),I=t(I,c),A=T.length,w=I.length),S=A,p=I.slice(0,A),v=p.length;v<A;)p[v++]=0;E=T.slice(),E.unshift(0),k=T[0],T[1]>=On/2&&++k;do c=0,o=e(T,p,A,v),o<0?(g=p[0],A!=v&&(g=g*On+(p[1]||0)),c=g/k|0,c>1?(c>=On&&(c=On-1),d=t(T,c),h=d.length,v=p.length,o=e(d,p,h,v),o==1&&(c--,n(d,A<h?E:T,h))):(c==0&&(o=c=1),d=T.slice()),h=d.length,h<v&&d.unshift(0),n(p,d,v),o==-1&&(v=p.length,o=e(T,p,A,v),o<1&&(c++,n(p,A<v?E:T,v))),v=p.length):o===0&&(c++,p=[0]),m[u++]=c,o&&p[0]?p[v++]=I[S]||0:(p=[I[S]],v=1);while((S++<w||p[0]!==void 0)&&b--)}return m[0]||m.shift(),f.e=l,St(f,s?a+cn(f)+1:a)}}();function C4(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,d=c.precision;if(cn(t)>16)throw Error(ST+cn(t));if(!t.s)return new c(oi);for(Ft=!1,o=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ql(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(oi),c.precision=o;;){if(i=St(i.times(t),o),n=n.times(++l),s=a.plus(Ys(i,n,o)),Qa(s.d).slice(0,o)===Qa(a.d).slice(0,o)){for(;u--;)a=St(a.times(a),o);return c.precision=d,e==null?(Ft=!0,St(a,d)):a}a=s}}function cn(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function bS(t,e,n){if(e>t.LN10.sd())throw Ft=!0,n&&(t.precision=n),Error(Hi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function So(t){for(var e="";t--;)e+="0";return e}function Rm(t,e){var n,r,i,a,s,o,l,u,c,d=1,h=10,f=t,m=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(Hi+(f.s?"NaN":"-Infinity"));if(f.eq(oi))return new p(0);if(e==null?(Ft=!1,u=v):u=e,f.eq(10))return e==null&&(Ft=!0),bS(p,u);if(u+=h,p.precision=u,n=Qa(m),r=n.charAt(0),a=cn(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(t),n=Qa(f.d),r=n.charAt(0),d++;a=cn(f),r>1?(f=new p("0."+n),a++):f=new p(r+"."+n.slice(1))}else return l=bS(p,u+2,v).times(a+""),f=Rm(new p(r+"."+n.slice(1)),u-h).plus(l),p.precision=v,e==null?(Ft=!0,St(f,v)):f;for(o=s=f=Ys(f.minus(oi),f.plus(oi),u),c=St(f.times(f),u),i=3;;){if(s=St(s.times(c),u),l=o.plus(Ys(s,new p(i),u)),Qa(l.d).slice(0,u)===Qa(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(bS(p,u+2,v).times(a+""))),o=Ys(o,new p(d),u),p.precision=v,e==null?(Ft=!0,St(o,v)):o;o=l,i+=2}}function bR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=If(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ft&&(t.e>Ub||t.e<-Ub))throw Error(ST+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,s,o,l,u,c,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=It,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/It),a=d.length,c>=a)return t;for(u=a=d[c],s=1;a>=10;a/=10)s++;r%=It,i=r-It+s}if(n!==void 0&&(a=ql(10,s-i-1),o=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/ql(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=cn(t),d.length=1,e=e-a-1,d[0]=ql(10,(It-e%It)%It),t.e=If(-e/It)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=ql(10,It-r),d[c]=i>0?(u/ql(10,s-i)%ql(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==On&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=On)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Ft&&(t.e>Ub||t.e<-Ub))throw Error(ST+cn(t));return t}function P4(t,e){var n,r,i,a,s,o,l,u,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ft?St(e,f):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(f/It),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=On-1;--l[a],l[i]+=On}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ft?St(e,f):e):new h(0)}function bc(t,e,n){var r,i=cn(t),a=Qa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+So(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+So(-i-1)+a,n&&(r=n-s)>0&&(a+=So(r))):i>=s?(a+=So(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+So(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=So(r))),t.s<0?"-"+a:a}function xR(t,e){if(t.length>e)return t.length=e,!0}function T4(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(rc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return bR(s,a.toString())}else if(typeof a!="string")throw Error(rc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Pve.test(a))bR(s,a);else throw Error(rc+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=T4,i.config=i.set=Tve,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Tve(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,n,r,i=["precision",1,Nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(If(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rc+n+": "+r);return this}var kT=T4(Cve);oi=new kT(1);const vt=kT;function Ove(t){return Rve(t)||Ive(t)||Nve(t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t,e){if(t){if(typeof t=="string")return VA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(t,e)}}function Ive(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rve(t){if(Array.isArray(t))return VA(t)}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lve=function(e){return e},O4={},M4=function(e){return e===O4},wR=function(e){return function n(){return arguments.length===0||arguments.length===1&&M4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jve=function t(e,n){return e===1?n:wR(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==O4}).length;return s>=e?n.apply(void 0,i):t(e-s,wR(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(d){return M4(d)?l.shift():d});return n.apply(void 0,Ove(c).concat(l))}))})},Gw=function(e){return jve(e.length,e)},GA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Dve=Gw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$ve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Lve;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},qA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},N4=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Fve(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function zve(t,e,n){for(var r=new vt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Bve=Gw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Uve=Gw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Hve=Gw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const qw={rangeStep:zve,getDigitCount:Fve,interpolateNumber:Bve,uninterpolateNumber:Uve,uninterpolateTruncation:Hve};function XA(t){return Gve(t)||Vve(t)||I4(t)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gve(t){if(Array.isArray(t))return KA(t)}function Lm(t,e){return Kve(t)||Xve(t,e)||I4(t,e)||qve()}function qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Kve(t){if(Array.isArray(t))return t}function R4(t){var e=Lm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function L4(t,e,n){if(t.lte(0))return new vt(0);var r=qw.getDigitCount(t.toNumber()),i=new vt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new vt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new vt(Math.ceil(l))}function Yve(t,e,n){var r=1,i=new vt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new vt(10).pow(qw.getDigitCount(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var s=Math.floor((e-1)/2),o=$ve(Dve(function(l){return i.add(new vt(l-s).mul(r)).toNumber()}),GA);return o(0,e)}function j4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=L4(new vt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new vt(0):(s=new vt(t).add(e).div(2),s=s.sub(new vt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new vt(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?j4(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new vt(o).mul(a)),tickMax:s.add(new vt(l).mul(a))})}function Zve(t){var e=Lm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=R4([n,r]),l=Lm(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(XA(GA(0,i-1).map(function(){return 1/0}))):[].concat(XA(GA(0,i-1).map(function(){return-1/0})),[c]);return n>r?qA(d):d}if(u===c)return Yve(u,i,a);var h=j4(u,c,s,a),f=h.step,m=h.tickMin,p=h.tickMax,v=qw.rangeStep(m,p.add(new vt(.1).mul(f)),f);return n>r?qA(v):v}function Qve(t,e){var n=Lm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=R4([r,i]),o=Lm(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=L4(new vt(u).sub(l).div(c-1),a,0),h=[].concat(XA(qw.rangeStep(new vt(l),new vt(u).sub(new vt(.99).mul(d)),d)),[u]);return r>i?qA(h):h}var Jve=N4(Zve),e0e=N4(Qve),t0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function n0e(t,e){return s0e(t)||a0e(t,e)||i0e(t,e)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return SR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(t,e)}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function s0e(t){if(Array.isArray(t))return t}function o0e(t,e){if(t==null)return{};var n=l0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function d0e(t,e,n){return e&&c0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h0e(t,e,n){return e=Wb(e),f0e(t,D4()?Reflect.construct(e,n||[],Wb(t).constructor):e.apply(t,n))}function f0e(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p0e(t)}function p0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!t})()}function Wb(t){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wb(t)}function m0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function $4(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=g0e(t,"string");return Qh(e)=="symbol"?e:e+""}function g0e(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fy=function(t){function e(){return u0e(this,e),h0e(this,e,arguments)}return m0e(e,t),d0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=o0e(r,t0e),f=nt(h,!1);this.props.direction==="x"&&c.type!=="number"&&rt(!1);var m=l.map(function(p){var v=u(p,o),g=v.x,b=v.y,x=v.value,S=v.errorVal;if(!S)return null;var w=[],k,A;if(Array.isArray(S)){var E=n0e(S,2);k=E[0],A=E[1]}else k=A=S;if(a==="vertical"){var P=c.scale,O=b+i,I=O+s,T=O-s,j=P(x-k),C=P(x+A);w.push({x1:C,y1:I,x2:C,y2:T}),w.push({x1:j,y1:O,x2:C,y2:O}),w.push({x1:j,y1:I,x2:j,y2:T})}else if(a==="horizontal"){var L=d.scale,X=g+i,z=X-s,G=X+s,W=L(x-k),R=L(x+A);w.push({x1:z,y1:R,x2:G,y2:R}),w.push({x1:X,y1:W,x2:X,y2:R}),w.push({x1:z,y1:W,x2:G,y2:W})}return re.createElement(en,Hb({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},f),w.map(function(V){return re.createElement("line",Hb({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return re.createElement(en,{className:"recharts-errorBars"},m)}}])}(re.Component);$4(Fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$4(Fy,"displayName","ErrorBar");function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y0e(t,e,n){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=b0e(t,"string");return jm(e)=="symbol"?e:e+""}function b0e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ai(n,Id);if(!s)return null;var o=Id.defaultProps,l=o!==void 0?Dl(Dl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return c.concat(m.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,f=h!==void 0?Dl(Dl({},h),d.props):{},m=f.dataKey,p=f.name,v=f.legendType,g=f.hide;return{inactive:g,dataKey:m,type:l.iconType||v||"square",color:_T(d),value:p||m,payload:f}}),Dl(Dl(Dl({},l),Id.getWithHeight(s,i)),{},{payload:u,item:s})};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function _R(t){return k0e(t)||S0e(t)||w0e(t)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0e(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}}function S0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k0e(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Ld(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ld(t,e,n){return e=_0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=A0e(t,"string");return Dm(e)=="symbol"?e:e+""}function A0e(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(t,e,n){return Qe(t)||Qe(e)?n:wn(e)?Di(t,e,n):qe(e)?e(t):n}function Xp(t,e,n,r){var i=kve(t,function(o){return pi(o,e)});if(n==="number"){var a=i.filter(function(o){return Ae(o)||parseFloat(o)});return a.length?[Ww(a),Hw(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Qe(o)}):i;return s.map(function(o){return wn(o)||o instanceof Date?o:""})}var E0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(va(d-c)!==va(h-d)){var m=[];if(va(h-d)===va(l[1]-l[0])){f=h;var p=d+l[1]-l[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{f=c;var v=h+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var b=Math.min(c,h),x=Math.max(c,h);if(e>(b+d)/2&&e<=(x+d)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},_T=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},C0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,d=Object.keys(c),h=0,f=d.length;h<f;h++){var m=c[d[h]],p=m.items,v=m.cateAxisId,g=p.filter(function(A){return Xs(A.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,x=b!==void 0?Yt(Yt({},b),g[0].props):g[0].props,S=x.barSize,w=x[v];s[w]||(s[w]=[]);var k=Qe(S)?n:S;s[w].push({item:g[0],stackList:g.slice(1),barSize:Qe(k)?void 0:vc(k,r,0)})}}return s},P0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=vc(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,f=i/l,m=s.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&f>0&&(h=!0,f*=.9,m=l*f);var p=(i-m)/2>>0,v={offset:p-u,size:0};c=s.reduce(function(S,w){var k={item:w.item,position:{offset:v.offset+v.size+u,size:h?f:w.barSize}},A=[].concat(_R(S),[k]);return v=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){A.push({item:E,position:v})}),A},d)}else{var g=vc(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var b=(i-2*g-(l-1)*u)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;c=s.reduce(function(S,w,k){var A=[].concat(_R(S),[{item:w.item,position:{offset:g+(b+u)*k+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},d)}return c},T0e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=z4({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,f=u.align,m=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&f!=="center"&&Ae(e[f]))return Yt(Yt({},e),{},Ld({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&m!=="middle"&&Ae(e[m]))return Yt(Yt({},e),{},Ld({},m,e[m]+(h||0)))}return e},O0e=function(e,n,r){return Qe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},B4=function(e,n,r,i,a){var s=n.props.children,o=$i(s,Fy).filter(function(u){return O0e(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=pi(c,r);if(Qe(d))return u;var h=Array.isArray(d)?[Ww(d),Hw(d)]:[d,d],f=l.reduce(function(m,p){var v=pi(c,p,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},M0e=function(e,n,r,i,a){var s=n.map(function(o){return B4(e,o,r,a,i)}).filter(function(o){return!Qe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},U4=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&B4(e,l,u,i)||Xp(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},H4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},W4=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ws=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?va(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Ny(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},xS=new WeakMap,Pv=function(e,n){if(typeof n!="function")return e;xS.has(e)||xS.set(e,new WeakMap);var r=xS.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},N0e=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Tm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:$b(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:qp(),realScaleType:"point"}:a==="category"?{scale:Tm(),realScaleType:"band"}:{scale:$b(),realScaleType:"linear"};if(yc(i)){var l="scale".concat(Ow(i));return{scale:(vR[l]||qp)(),realScaleType:vR[l]?l:"point"}}return qe(i)?{scale:i}:{scale:qp(),realScaleType:"point"}},ER=1e-4,I0e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-ER,s=Math.max(i[0],i[1])+ER,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},R0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},L0e=function(e,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ae(e[0])||e[0]<r)&&(a[0]=r),(!Ae(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},j0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Ny(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},D0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Ny(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},$0e={sign:j0e,expand:Jae,none:Wh,silhouette:ese,wiggle:tse,positive:D0e},F0e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=$0e[r],s=Qae().keys(i).value(function(o,l){return+pi(o,l,0)}).order(SA).offset(a);return s(e)},z0e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Yt(Yt({},h.type.defaultProps),h.props):h.props,p=m.stackId,v=m.hide;if(v)return d;var g=m[r],b=d[g]||{hasStack:!1,stackGroups:{}};if(wn(p)){var x=b.stackGroups[p]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[p]=x}else b.stackGroups[Iy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Yt(Yt({},d),{},Ld({},g,b))},l),c={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,v){var g=f.stackGroups[v];return Yt(Yt({},p),{},Ld({},v,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:F0e(e,g.items,a)}))},m)}return Yt(Yt({},d),{},Ld({},h,f))},c)},B0e=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Jve(u,a,o);return e.domain([Ww(c),Hw(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),h=e0e(d,a,o);return{niceTicks:h}}return null};function CR(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var o=pb(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=pi(i,Qe(s)?e.dataKey:s);return Qe(l)?null:e.scale(l)}var PR=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=pi(s,n.dataKey,n.domain[o]);return Qe(l)?null:n.scale(l)-a/2+i},U0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},H0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(wn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},W0e=function(e){return e.reduce(function(n,r){return[Ww(r.concat([n[0]]).filter(Ae)),Hw(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},V4=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,c){var d=W0e(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TR.test(e[0])){var a=+TR.exec(e[0])[1];i[0]=n[0]-a}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(OR.test(e[1])){var s=+OR.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=QP(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},MR=function(e,n,r){return!e||!e.length||Vw(e,Di(r,"type.defaultProps.domain"))?n:e},G4=function(e,n){var r=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Yt(Yt({},nt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:_T(e),value:pi(n,i),type:l,payload:n,chartType:u,hide:c})};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){V0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0e(t,e,n){return e=G0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=q0e(t,"string");return $m(e)=="symbol"?e:e+""}function q0e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gb=Math.PI/180,X0e=function(e){return e*180/Math.PI},Un=function(e,n,r,i){return{x:e+Math.cos(-Gb*i)*r,y:n+Math.sin(-Gb*i)*r}},K0e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},Y0e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=K0e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:X0e(u),angleInRadian:u}},Z0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Q0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},RR=function(e,n){var r=e.x,i=e.y,a=Y0e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Z0e(n),d=c.startAngle,h=c.endAngle,f=o,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?IR(IR({},n),{},{radius:s,angle:Q0e(f,n)}):null};function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}var J0e=["offset"];function ebe(t){return ibe(t)||rbe(t)||nbe(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(t,e){if(t){if(typeof t=="string")return JA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(t,e)}}function rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ibe(t){if(Array.isArray(t))return JA(t)}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function abe(t,e){if(t==null)return{};var n=sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function obe(t,e,n){return e=lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lbe(t){var e=ube(t,"string");return Fm(e)=="symbol"?e:e+""}function ube(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}var cbe=function(e){var n=e.value,r=e.formatter,i=Qe(e.children)?n:e.children;return qe(r)?r(i):i},dbe=function(e,n){var r=va(n-e),i=Math.min(Math.abs(n-e),360);return r*i},hbe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,m=l.endAngle,p=l.clockWise,v=(d+h)/2,g=dbe(f,m),b=g>=0?1:-1,x,S;i==="insideStart"?(x=f+b*s,S=p):i==="insideEnd"?(x=m-b*s,S=!p):i==="end"&&(x=m+b*s,S=p),S=g<=0?S:!S;var w=Un(u,c,v,x),k=Un(u,c,v,x+(S?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Qe(e.id)?Iy("recharts-radial-line-"):e.id;return re.createElement("text",zm({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",o)}),re.createElement("defs",null,re.createElement("path",{id:E,d:A})),re.createElement("textPath",{xlinkHref:"#".concat(E)},n))},fbe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,h=(c+d)/2;if(i==="outside"){var f=Un(s,o,u+r,h),m=f.x,p=f.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,g=Un(s,o,v,h),b=g.x,x=g.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},pbe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,f=d>0?"end":"start",m=d>0?"start":"end",p=u>=0?1:-1,v=p*i,g=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var x={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return pn(pn({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return pn(pn({},S),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return pn(pn({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:o+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return pn(pn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return a==="insideLeft"?pn({x:o+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideRight"?pn({x:o+u-v,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},A):a==="insideTop"?pn({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?pn({x:o+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:f},A):a==="insideTopLeft"?pn({x:o+v,y:l+h,textAnchor:b,verticalAnchor:m},A):a==="insideTopRight"?pn({x:o+u-v,y:l+h,textAnchor:g,verticalAnchor:m},A):a==="insideBottomLeft"?pn({x:o+v,y:l+c-h,textAnchor:b,verticalAnchor:f},A):a==="insideBottomRight"?pn({x:o+u-v,y:l+c-h,textAnchor:g,verticalAnchor:f},A):kf(a)&&(Ae(a.x)||eu(a.x))&&(Ae(a.y)||eu(a.y))?pn({x:o+vc(a.x,u),y:l+vc(a.y,c),textAnchor:"end",verticalAnchor:"end"},A):pn({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},mbe=function(e){return"cx"in e&&Ae(e.cx)};function rr(t){var e=t.offset,n=e===void 0?5:e,r=abe(t,J0e),i=pn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!a||Qe(o)&&Qe(l)&&!N.isValidElement(u)&&!qe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var f;if(qe(u)){if(f=N.createElement(u,i),N.isValidElement(f))return f}else f=cbe(i);var m=mbe(a),p=nt(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return hbe(i,f,p);var v=m?fbe(i):pbe(i);return re.createElement(Ob,zm({className:Ze("recharts-label",d)},p,v,{breakAll:h}),f)}rr.displayName="Label";var q4=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,p=e.width,v=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(Ae(p)&&Ae(v)){if(Ae(d)&&Ae(h))return{x:d,y:h,width:p,height:v};if(Ae(f)&&Ae(m))return{x:f,y:m,width:p,height:v}}return Ae(d)&&Ae(h)?{x:d,y:h,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:g}:e.viewBox?e.viewBox:{}},gbe=function(e,n){return e?e===!0?re.createElement(rr,{key:"label-implicit",viewBox:n}):wn(e)?re.createElement(rr,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===rr?N.cloneElement(e,{key:"label-implicit",viewBox:n}):re.createElement(rr,{key:"label-implicit",content:e,viewBox:n}):qe(e)?re.createElement(rr,{key:"label-implicit",content:e,viewBox:n}):kf(e)?re.createElement(rr,zm({viewBox:n},e,{key:"label-implicit"})):null:null},ybe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=q4(e),s=$i(i,rr).map(function(l,u){return N.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=gbe(e.label,n||a);return[o].concat(ebe(s))};rr.parseViewBox=q4;rr.renderCallByParent=ybe;function vbe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var bbe=vbe;const xbe=ot(bbe);function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}var wbe=["valueAccessor"],Sbe=["data","dataKey","clockWise","id","textBreakAll"];function kbe(t){return Cbe(t)||Ebe(t)||Abe(t)||_be()}function _be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function Ebe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cbe(t){if(Array.isArray(t))return eE(t)}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Pbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pbe(t,e,n){return e=Tbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tbe(t){var e=Obe(t,"string");return Bm(e)=="symbol"?e:e+""}function Obe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $R(t,e){if(t==null)return{};var n=Mbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nbe=function(e){return Array.isArray(e.value)?xbe(e.value):e.value};function gl(t){var e=t.valueAccessor,n=e===void 0?Nbe:e,r=$R(t,wbe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=$R(r,Sbe);return!i||!i.length?null:re.createElement(en,{className:"recharts-label-list"},i.map(function(c,d){var h=Qe(a)?n(c,d):pi(c&&c.payload,a),f=Qe(o)?{}:{id:"".concat(o,"-").concat(d)};return re.createElement(rr,qb({},nt(c,!0),u,f,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:rr.parseViewBox(Qe(s)?c:DR(DR({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}gl.displayName="LabelList";function Ibe(t,e){return t?t===!0?re.createElement(gl,{key:"labelList-implicit",data:e}):re.isValidElement(t)||qe(t)?re.createElement(gl,{key:"labelList-implicit",data:e,content:t}):kf(t)?re.createElement(gl,qb({data:e},t,{key:"labelList-implicit"})):null:null}function Rbe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=$i(r,gl).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Ibe(t.label,e);return[a].concat(kbe(i))}gl.renderCallByParent=Rbe;function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Lbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lbe(t,e,n){return e=jbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jbe(t){var e=Dbe(t,"string");return Um(e)=="symbol"?e:e+""}function Dbe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $be=function(e,n){var r=va(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Tv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(o?1:-1)+i,d=Math.asin(l/c)/Gb,h=u?a:a+s*d,f=Un(n,r,c,h),m=Un(n,r,i,h),p=u?a-s*d:a,v=Un(n,r,c*Math.cos(d*Gb),p);return{center:f,circleTangency:m,lineTangency:v,theta:d}},X4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=$be(s,o),u=s+l,c=Un(n,r,a,s),d=Un(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=Un(n,r,i,s),m=Un(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Fbe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=va(c-u),h=Tv({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),f=h.circleTangency,m=h.lineTangency,p=h.theta,v=Tv({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=v.circleTangency,b=v.lineTangency,x=v.theta,S=l?Math.abs(u-c):Math.abs(u-c)-p-x;if(S<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):X4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=Tv({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=k.circleTangency,E=k.lineTangency,P=k.theta,O=Tv({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=O.circleTangency,T=O.lineTangency,j=O.theta,C=l?Math.abs(u-c):Math.abs(u-c)-P-j;if(C<0&&s===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},zbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},K4=function(e){var n=zR(zR({},zbe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<a||c===d)return null;var f=Ze("recharts-sector",h),m=s-a,p=vc(o,m,0,!0),v;return p>0&&Math.abs(c-d)<360?v=Fbe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=X4({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),re.createElement("path",tE({},nt(n,!0),{className:f,d:v,role:"img"}))};function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Bbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bbe(t,e,n){return e=Ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ube(t){var e=Hbe(t,"string");return Hm(e)=="symbol"?e:e+""}function Hbe(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HR={curveBasisClosed:Bae,curveBasisOpen:Uae,curveBasis:zae,curveBumpX:Eae,curveBumpY:Cae,curveLinearClosed:Hae,curveLinear:Nw,curveMonotoneX:Wae,curveMonotoneY:Vae,curveNatural:Gae,curveStep:qae,curveStepAfter:Kae,curveStepBefore:Xae},Ov=function(e){return e.x===+e.x&&e.y===+e.y},ip=function(e){return e.x},ap=function(e){return e.y},Wbe=function(e,n){if(qe(e))return e;var r="curve".concat(Ow(e));return(r==="curveMonotone"||r==="curveBump")&&n?HR["".concat(r).concat(n==="vertical"?"Y":"X")]:HR[r]||Nw},Vbe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Wbe(r,o),d=u?a.filter(function(p){return Ov(p)}):a,h;if(Array.isArray(s)){var f=u?s.filter(function(p){return Ov(p)}):s,m=d.map(function(p,v){return UR(UR({},p),{},{base:f[v]})});return o==="vertical"?h=xv().y(ap).x1(ip).x0(function(p){return p.base.x}):h=xv().x(ip).y1(ap).y0(function(p){return p.base.y}),h.defined(Ov).curve(c),h(m)}return o==="vertical"&&Ae(s)?h=xv().y(ap).x1(ip).x0(s):Ae(s)?h=xv().x(ip).y1(ap).y0(s):h=YB().x(ip).y(ap),h.defined(Ov).curve(c),h(d)},rE=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Vbe(e):i;return N.createElement("path",nE({},nt(e,!1),mb(e),{className:Ze("recharts-curve",n),d:s,ref:a}))},Y4={exports:{}},Gbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qbe=Gbe,Xbe=qbe;function Z4(){}function Q4(){}Q4.resetWarningCache=Z4;var Kbe=function(){function t(r,i,a,s,o,l){if(l!==Xbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Q4,resetWarningCache:Z4};return n.PropTypes=n,n};Y4.exports=Kbe();var Ybe=Y4.exports;const ct=ot(Ybe),{getOwnPropertyNames:Zbe,getOwnPropertySymbols:Qbe}=Object,{hasOwnProperty:Jbe}=Object.prototype;function wS(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Mv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function exe(t){return t!=null?t[Symbol.toStringTag]:void 0}function WR(t){return Zbe(t).concat(Qbe(t))}const txe=Object.hasOwn||((t,e)=>Jbe.call(t,e));function Rc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const nxe="__v",rxe="__o",ixe="_owner",{getOwnPropertyDescriptor:VR,keys:GR}=Object;function axe(t,e){return t.byteLength===e.byteLength&&Xb(new Uint8Array(t),new Uint8Array(e))}function sxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function oxe(t,e){return t.byteLength===e.byteLength&&Xb(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function lxe(t,e){return Rc(t.getTime(),e.getTime())}function uxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function cxe(t,e){return t===e}function qR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(o=u.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,f=o.value;if(n.equals(h[0],f[0],l,d,t,e,n)&&n.equals(h[1],f[1],h[0],f[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const dxe=Rc;function hxe(t,e,n){const r=GR(t);let i=r.length;if(GR(e).length!==i)return!1;for(;i-- >0;)if(!J4(t,e,n,r[i]))return!1;return!0}function sp(t,e,n){const r=WR(t);let i=r.length;if(WR(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!J4(t,e,n,a)||(s=VR(t,a),o=VR(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function fxe(t,e){return Rc(t.valueOf(),e.valueOf())}function pxe(t,e){return t.source===e.source&&t.flags===e.flags}function XR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(o=l.next())&&!o.done;){if(!i[c]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Xb(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function mxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J4(t,e,n,r){return(r===ixe||r===rxe||r===nxe)&&(t.$$typeof||e.$$typeof)?!0:txe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const gxe="[object ArrayBuffer]",yxe="[object Arguments]",vxe="[object Boolean]",bxe="[object DataView]",xxe="[object Date]",wxe="[object Error]",Sxe="[object Map]",kxe="[object Number]",_xe="[object Object]",Axe="[object RegExp]",Exe="[object Set]",Cxe="[object String]",Pxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Txe="[object URL]",Oxe=Object.prototype.toString;function Mxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:m}){return function(v,g,b){if(v===g)return!0;if(v==null||g==null)return!1;const x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(v,g,b):x==="function"?a(v,g,b):!1;const S=v.constructor;if(S!==g.constructor)return!1;if(S===Object)return l(v,g,b);if(Array.isArray(v))return e(v,g,b);if(S===Date)return r(v,g,b);if(S===RegExp)return c(v,g,b);if(S===Map)return s(v,g,b);if(S===Set)return d(v,g,b);const w=Oxe.call(v);if(w===xxe)return r(v,g,b);if(w===Axe)return c(v,g,b);if(w===Sxe)return s(v,g,b);if(w===Exe)return d(v,g,b);if(w===_xe)return typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,b);if(w===Txe)return f(v,g,b);if(w===wxe)return i(v,g,b);if(w===yxe)return l(v,g,b);if(Pxe[w])return h(v,g,b);if(w===gxe)return t(v,g,b);if(w===bxe)return n(v,g,b);if(w===vxe||w===kxe||w===Cxe)return u(v,g,b);if(m){let k=m[w];if(!k){const A=exe(v);A&&(k=m[A])}if(k)return k(v,g,b)}return!1}}function Nxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:axe,areArraysEqual:n?sp:sxe,areDataViewsEqual:oxe,areDatesEqual:lxe,areErrorsEqual:uxe,areFunctionsEqual:cxe,areMapsEqual:n?wS(qR,sp):qR,areNumbersEqual:dxe,areObjectsEqual:n?sp:hxe,arePrimitiveWrappersEqual:fxe,areRegExpsEqual:pxe,areSetsEqual:n?wS(XR,sp):XR,areTypedArraysEqual:n?wS(Xb,sp):Xb,areUrlsEqual:mxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Mv(r.areArraysEqual),a=Mv(r.areMapsEqual),s=Mv(r.areObjectsEqual),o=Mv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function Ixe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Rxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(o,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const Lxe=Il();Il({strict:!0});Il({circular:!0});Il({circular:!0,strict:!0});Il({createInternalComparator:()=>Rc});Il({strict:!0,createInternalComparator:()=>Rc});Il({circular:!0,createInternalComparator:()=>Rc});Il({circular:!0,createInternalComparator:()=>Rc,strict:!0});function Il(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Nxe(t),s=Mxe(a),o=n?n(s):Ixe(s);return Rxe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function jxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):jxe(i)};requestAnimationFrame(r)}function iE(t){"@babel/helpers - typeof";return iE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iE(t)}function Dxe(t){return Bxe(t)||zxe(t)||Fxe(t)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fxe(t,e){if(t){if(typeof t=="string")return YR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YR(t,e)}}function YR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bxe(t){if(Array.isArray(t))return t}function Uxe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Dxe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){KR(i.bind(null,u),l);return}i(l),KR(i.bind(null,u));return}iE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){e6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e6(t,e,n){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hxe(t){var e=Wxe(t,"string");return Wm(e)==="symbol"?e:String(e)}function Wxe(t,e){if(Wm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Gxe=function(e){return e},qxe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Kp=function(e,n){return Object.keys(n).reduce(function(r,i){return QR(QR({},r),{},e6({},i,e(i,n[i])))},{})},JR=function(e,n,r){return e.map(function(i){return"".concat(qxe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Xxe(t,e){return Zxe(t)||Yxe(t,e)||t6(t,e)||Kxe()}function Kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Zxe(t){if(Array.isArray(t))return t}function Qxe(t){return twe(t)||ewe(t)||t6(t)||Jxe()}function Jxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function ewe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function twe(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kb=1e-4,n6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},r6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},eL=function(e,n){return function(r){var i=n6(e,n);return r6(i,r)}},nwe=function(e,n){return function(r){var i=n6(e,n),a=[].concat(Qxe(i.map(function(s,o){return s*o}).slice(1)),[0]);return r6(a,r)}},tL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Xxe(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var d=eL(i,s),h=eL(a,o),f=nwe(i,s),m=function(g){return g>1?1:g<0?0:g},p=function(g){for(var b=g>1?1:g,x=b,S=0;S<8;++S){var w=d(x)-b,k=f(x);if(Math.abs(w-b)<Kb||k<Kb)return h(x);x=m(x-w/k)}return h(x)};return p.isStepper=!1,p},rwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(c,d,h){var f=-(c-d)*r,m=h*a,p=h+(f-m)*o/1e3,v=h*o/1e3+c;return Math.abs(v-d)<Kb&&Math.abs(p)<Kb?[d,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},iwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tL(i);case"spring":return rwe();default:if(i.split("(")[0]==="cubic-bezier")return tL(i)}return typeof i=="function"?i:null};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function nL(t){return owe(t)||swe(t)||i6(t)||awe()}function awe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function owe(t){if(Array.isArray(t))return oE(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){sE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sE(t,e,n){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=uwe(t,"string");return Vm(e)==="symbol"?e:String(e)}function uwe(t,e){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cwe(t,e){return fwe(t)||hwe(t,e)||i6(t,e)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function fwe(t){if(Array.isArray(t))return t}var Yb=function(e,n,r){return e+(n-e)*r},lE=function(e){var n=e.from,r=e.to;return n!==r},pwe=function t(e,n,r){var i=Kp(function(a,s){if(lE(s)){var o=e(s.from,s.to,s.velocity),l=cwe(o,2),u=l[0],c=l[1];return zn(zn({},s),{},{from:u,velocity:c})}return s},n);return r<1?Kp(function(a,s){return lE(s)?zn(zn({},s),{},{velocity:Yb(s.velocity,i[a].velocity,r),from:Yb(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const mwe=function(t,e,n,r,i){var a=Vxe(t,e),s=a.reduce(function(v,g){return zn(zn({},v),{},sE({},g,[t[g],e[g]]))},{}),o=a.reduce(function(v,g){return zn(zn({},v),{},sE({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Kp(function(g,b){return b.from},o)},f=function(){return!Object.values(o).filter(lE).length},m=function(g){u||(u=g);var b=g-u,x=b/n.dt;o=pwe(n,o,x),i(zn(zn(zn({},t),e),h())),u=g,f()||(l=requestAnimationFrame(d))},p=function(g){c||(c=g);var b=(g-c)/r,x=Kp(function(w,k){return Yb.apply(void 0,nL(k).concat([n(b)]))},s);if(i(zn(zn(zn({},t),e),x)),b<1)l=requestAnimationFrame(d);else{var S=Kp(function(w,k){return Yb.apply(void 0,nL(k).concat([n(1)]))},s);i(zn(zn(zn({},t),e),S))}};return d=n.isStepper?m:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}var gwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ywe(t,e){if(t==null)return{};var n=vwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SS(t){return Swe(t)||wwe(t)||xwe(t)||bwe()}function bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Swe(t){if(Array.isArray(t))return uE(t)}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Op(t,e,n){return e=a6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a6(r.key),r)}}function Awe(t,e,n){return e&&_we(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a6(t){var e=Ewe(t,"string");return Jh(e)==="symbol"?e:String(e)}function Ewe(t,e){if(Jh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function Pwe(t){var e=Twe();return function(){var r=Zb(t),i;if(e){var a=Zb(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return dE(this,i)}}function dE(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hE(t)}function hE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Twe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}var so=function(t){Cwe(n,t);var e=Pwe(n);function n(r,i){var a;kwe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,f=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(hE(a)),a.changeStyle=a.changeStyle.bind(hE(a)),!o||f<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),dE(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},dE(a);a.state={style:l?Op({},l,u):u}}else a.state={style:{}};return a}return Awe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,h=this.state.style;if(o){if(!s){var f={style:l?Op({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(f);return}if(!(Lxe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||u?d:i.to;if(this.state&&h){var v={style:l?Op({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(qi(qi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=mwe(s,o,iwe(u),l,this.changeStyle),m=function(){a.stopJSAnimation=f()};this.manager.start([h,c,m,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,f=function(p,v,g){if(g===0)return p;var b=v.duration,x=v.easing,S=x===void 0?"ease":x,w=v.style,k=v.properties,A=v.onAnimationEnd,E=g>0?s[g-1]:v,P=k||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(SS(p),[a.runJSAnimation.bind(a,{from:E.style,to:w,duration:b,easing:S}),b]);var O=JR(P,b,S),I=qi(qi(qi({},E.style),w),{},{transition:O});return[].concat(SS(p),[I,b,A]).filter(Gxe)};return this.manager.start([l].concat(SS(s.reduce(f,[c,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Uxe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=o?Op({},o,l):l,v=JR(Object.keys(p),s,u);m.start([c,a,qi(qi({},p),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ywe(i,gwe),u=N.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var d=function(f){var m=f.props,p=m.style,v=p===void 0?{}:p,g=m.className,b=N.cloneElement(f,qi(qi({},l),{},{style:qi(qi({},v),c),className:g}));return b};return u===1?d(N.Children.only(a)):re.createElement("div",null,N.Children.map(a,function(h){return d(h)}))}}]),n}(N.PureComponent);so.displayName="Animate";so.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};so.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qb.apply(this,arguments)}function Owe(t,e){return Rwe(t)||Iwe(t,e)||Nwe(t,e)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(t,e){if(t){if(typeof t=="string")return aL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(t,e)}}function aL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Rwe(t){if(Array.isArray(t))return t}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){Lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lwe(t,e,n){return e=jwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jwe(t){var e=Dwe(t,"string");return Gm(e)=="symbol"?e:e+""}function Dwe(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lL=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=a[h]>s?s:a[h];c="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*d[1])),c+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*d[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);c="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},$we=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},Fwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AT=function(e){var n=oL(oL({},Fwe),e),r=N.useRef(),i=N.useState(-1),a=Owe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,f=n.className,m=n.animationEasing,p=n.animationDuration,v=n.animationBegin,g=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var x=Ze("recharts-rectangle",f);return b?re.createElement(so,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:p,animationEasing:m,isActive:b},function(S){var w=S.width,k=S.height,A=S.x,E=S.y;return re.createElement(so,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:g,easing:m},re.createElement("path",Qb({},nt(n,!0),{className:x,d:lL(A,E,w,k,h),ref:r})))}):re.createElement("path",Qb({},nt(n,!0),{className:x,d:lL(l,u,c,d,h)}))};function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}var ET=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ze("recharts-dot",a);return n===+n&&r===+r&&i===+i?N.createElement("circle",fE({},nt(e,!1),mb(e),{className:s,cx:n,cy:r,r:i})):null};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var zwe=["x","y","top","left","width","height","className"];function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){Uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uwe(t,e,n){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Wwe(t,"string");return qm(e)=="symbol"?e:e+""}function Wwe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vwe(t,e){if(t==null)return{};var n=Gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qwe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Xwe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,f=h===void 0?0:h,m=e.className,p=Vwe(e,zwe),v=Bwe({x:r,y:a,top:o,left:u,width:d,height:f},p);return!Ae(r)||!Ae(a)||!Ae(d)||!Ae(f)||!Ae(o)||!Ae(u)?null:re.createElement("path",pE({},nt(v,!0),{className:Ze("recharts-cross",m),d:qwe(r,a,d,f,o,u)}))},Kwe=x5,Ywe=Kwe(Object.getPrototypeOf,Object),Zwe=Ywe,Qwe=co,Jwe=Zwe,e1e=ho,t1e="[object Object]",n1e=Function.prototype,r1e=Object.prototype,s6=n1e.toString,i1e=r1e.hasOwnProperty,a1e=s6.call(Object);function s1e(t){if(!e1e(t)||Qwe(t)!=t1e)return!1;var e=Jwe(t);if(e===null)return!0;var n=i1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&s6.call(n)==a1e}var o1e=s1e;const l1e=ot(o1e);var u1e=co,c1e=ho,d1e="[object Boolean]";function h1e(t){return t===!0||t===!1||c1e(t)&&u1e(t)==d1e}var f1e=h1e;const p1e=ot(f1e);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}function m1e(t,e){return b1e(t)||v1e(t,e)||y1e(t,e)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t,e){if(t){if(typeof t=="string")return cL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function b1e(t){if(Array.isArray(t))return t}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){x1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1e(t,e,n){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=S1e(t,"string");return Xm(e)=="symbol"?e:e+""}function S1e(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fL=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},k1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_1e=function(e){var n=hL(hL({},k1e),e),r=N.useRef(),i=N.useState(-1),a=m1e(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,f=n.className,m=n.animationEasing,p=n.animationDuration,v=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Ze("recharts-trapezoid",f);return g?re.createElement(so,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:p,animationEasing:m,isActive:g},function(x){var S=x.upperWidth,w=x.lowerWidth,k=x.height,A=x.x,E=x.y;return re.createElement(so,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},re.createElement("path",Jb({},nt(n,!0),{className:b,d:fL(A,E,S,w,k),ref:r})))}):re.createElement("g",null,re.createElement("path",Jb({},nt(n,!0),{className:b,d:fL(l,u,c,d,h)})))},A1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function E1e(t,e){if(t==null)return{};var n=C1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){P1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P1e(t,e,n){return e=T1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T1e(t){var e=O1e(t,"string");return Km(e)=="symbol"?e:e+""}function O1e(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M1e(t,e){return ex(ex({},e),t)}function N1e(t,e){return t==="symbols"}function mL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return re.createElement(AT,n);case"trapezoid":return re.createElement(_1e,n);case"sector":return re.createElement(K4,n);case"symbols":if(N1e(e))return re.createElement(WP,n);break;default:return null}}function I1e(t){return N.isValidElement(t)?t.props:t}function R1e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?M1e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=E1e(t,A1e),u;if(N.isValidElement(e))u=N.cloneElement(e,ex(ex({},l),I1e(e)));else if(qe(e))u=e(l);else if(l1e(e)&&!p1e(e)){var c=i(e,l);u=re.createElement(mL,{shapeType:n,elementProps:c})}else{var d=l;u=re.createElement(mL,{shapeType:n,elementProps:d})}return o?re.createElement(en,{className:s},u):u}function Xw(t,e){return e!=null&&"trapezoids"in t.props}function Kw(t,e){return e!=null&&"sectors"in t.props}function Ym(t,e){return e!=null&&"points"in t.props}function L1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function j1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function D1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $1e(t,e){var n;return Xw(t,e)?n=L1e:Kw(t,e)?n=j1e:Ym(t,e)&&(n=D1e),n}function F1e(t,e){var n;return Xw(t,e)?n="trapezoids":Kw(t,e)?n="sectors":Ym(t,e)&&(n="points"),n}function z1e(t,e){if(Xw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Kw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ym(t,e)?e.payload:{}}function B1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=F1e(n,e),a=z1e(n,e),s=r.filter(function(l,u){var c=Vw(a,l),d=n.props[i].filter(function(m){var p=$1e(n,e);return p(m,e)}),h=n.props[i].indexOf(d[d.length-1]),f=u===h;return c&&f}),o=r.indexOf(s[s.length-1]);return o}var U1e=Math.ceil,H1e=Math.max;function W1e(t,e,n,r){for(var i=-1,a=H1e(U1e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var V1e=W1e,G1e=F5,gL=1/0,q1e=17976931348623157e292;function X1e(t){if(!t)return t===0?t:0;if(t=G1e(t),t===gL||t===-gL){var e=t<0?-1:1;return e*q1e}return t===t?t:0}var o6=X1e,K1e=V1e,Y1e=jw,kS=o6;function Z1e(t){return function(e,n,r){return r&&typeof r!="number"&&Y1e(e,n,r)&&(n=r=void 0),e=kS(e),n===void 0?(n=e,e=0):n=kS(n),r=r===void 0?e<n?1:-1:kS(r),K1e(e,n,r,t)}}var Q1e=Z1e,J1e=Q1e,eSe=J1e(),tSe=eSe;const tx=ot(tSe);function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){l6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l6(t,e,n){return e=nSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nSe(t){var e=rSe(t,"string");return Zm(e)=="symbol"?e:e+""}function rSe(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iSe=["Webkit","Moz","O","ms"],aSe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=iSe.reduce(function(a,s){return vL(vL({},a),{},l6({},s+r,n))},{});return i[e]=n,i};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c6(r.key),r)}}function oSe(t,e,n){return e&&xL(t.prototype,e),n&&xL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lSe(t,e,n){return e=rx(e),uSe(t,u6()?Reflect.construct(e,n||[],rx(t).constructor):e.apply(t,n))}function uSe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cSe(t)}function cSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(t)}function dSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function Xr(t,e,n){return e=c6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t){var e=hSe(t,"string");return ef(e)=="symbol"?e:e+""}function hSe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=qp().domain(tx(0,l)).range([a,a+s-o]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},wL=function(e){return e.changedTouches&&!!e.changedTouches.length},tf=function(t){function e(n){var r;return sSe(this,e),r=lSe(this,e,[n]),Xr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Xr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Xr(r,"handleSlideDragStart",function(i){var a=wL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return dSe(e,t),oSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,d=Math.min(i,a),h=Math.max(i,a),f=e.getIndexInRange(s,d),m=e.getIndexInRange(s,h);return{startIndex:f-f%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=pi(a[r],o,r);return qe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,m=l.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+c-d-o,u+c-d-s):p<0&&(p=Math.max(p,u-s,u-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==f)&&m&&m(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=wL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,f=c.travellerWidth,m=c.onChange,p=c.gap,v=c.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-f-u):b<0&&(b=Math.max(b,d-u)),g[s]=u+b;var x=this.getIndex(g),S=x.startIndex,w=x.endIndex,k=function(){var E=v.length-1;return s==="startX"&&(o>l?S%p===0:w%p===0)||o<l&&w===E||s==="endX"&&(o>l?w%p===0:S%p===0)||o>l&&w===E};this.setState(Xr(Xr({},s,u+b),"brushMoveStartX",r.pageX),function(){m&&k()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=o.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var f=o[h];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(Xr({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return re.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,c=r.padding,d=N.Children.only(u);return d?re.cloneElement(d,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,m=l.data,p=l.startIndex,v=l.endIndex,g=Math.max(r,this.props.x),b=_S(_S({},nt(this.props,!1)),{},{x:g,y:u,width:c,height:d}),x=f||"Min value: ".concat((a=m[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return re.createElement(en,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,f=5,m={pointerEvents:"none",fill:u};return re.createElement(en,{className:"recharts-brush-texts"},re.createElement(Ob,nx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:s+o/2},m),this.getTextOfTick(i)),re.createElement(Ob,nx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,f=h.startX,m=h.endX,p=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Ae(o)||!Ae(l)||!Ae(u)||!Ae(c)||u<=0||c<=0)return null;var x=Ze("recharts-brush",a),S=re.Children.count(s)===1,w=aSe("userSelect","none");return re.createElement(en,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(p||v||g||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),re.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return re.isValidElement(r)?a=re.cloneElement(r,i):qe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return _S({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?fSe({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(N.PureComponent);Xr(tf,"displayName","Brush");Xr(tf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pSe=ZP;function mSe(t,e){var n;return pSe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var gSe=mSe,ySe=h5,vSe=Ol,bSe=gSe,xSe=Hr,wSe=jw;function SSe(t,e,n){var r=xSe(t)?ySe:bSe;return n&&wSe(t,e,n)&&(e=void 0),r(t,vSe(e))}var kSe=SSe;const _Se=ot(kSe);var ns=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},SL=R5;function ASe(t,e,n){e=="__proto__"&&SL?SL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ESe=ASe,CSe=ESe,PSe=N5,TSe=Ol;function OSe(t,e){var n={};return e=TSe(e),PSe(t,function(r,i,a){CSe(n,i,e(r,i,a))}),n}var MSe=OSe;const NSe=ot(MSe);function ISe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var RSe=ISe,LSe=ZP;function jSe(t,e){var n=!0;return LSe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var DSe=jSe,$Se=RSe,FSe=DSe,zSe=Ol,BSe=Hr,USe=jw;function HSe(t,e,n){var r=BSe(t)?$Se:FSe;return n&&USe(t,e,n)&&(e=void 0),r(t,zSe(e))}var WSe=HSe;const d6=ot(WSe);var VSe=["x","y"];function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){GSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GSe(t,e,n){return e=qSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qSe(t){var e=XSe(t,"string");return Qm(e)=="symbol"?e:e+""}function XSe(t,e){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KSe(t,e){if(t==null)return{};var n=YSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZSe(t,e){var n=t.x,r=t.y,i=KSe(t,VSe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return op(op(op(op(op({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function _L(t){return re.createElement(R1e,gE({shapeType:"rectangle",propTransformer:ZSe,activeClassName:"recharts-active-bar"},t))}var QSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ae(r)||die(r);return a?e(r,i):(a||rt(!1),n)}},JSe=["value","background"],h6;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function eke(t,e){if(t==null)return{};var n=tke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p6(r.key),r)}}function rke(t,e,n){return e&&EL(t.prototype,e),n&&EL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ike(t,e,n){return e=ax(e),ake(t,f6()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function ake(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ske(t)}function ske(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yE(t,e)}function il(t,e,n){return e=p6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p6(t){var e=lke(t,"string");return nf(e)=="symbol"?e:e+""}function lke(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lc=function(t){function e(){var n;nke(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ike(this,e,[].concat(i)),il(n,"state",{isAnimationFinished:!1}),il(n,"id",Iy("recharts-bar-")),il(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),il(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return oke(e,t),rke(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=nt(this.props,!1);return r&&r.map(function(d,h){var f=h===l,m=f?u:s,p=on(on(on({},c),d),{},{isActive:f,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(en,ix({className:"recharts-bar-rectangle"},gb(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),re.createElement(_L,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return re.createElement(so,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,p=a.map(function(v,g){var b=h&&h[g];if(b){var x=ma(b.x,v.x),S=ma(b.y,v.y),w=ma(b.width,v.width),k=ma(b.height,v.height);return on(on({},v),{},{x:x(m),y:S(m),width:w(m),height:k(m)})}if(s==="horizontal"){var A=ma(0,v.height),E=A(m);return on(on({},v),{},{y:v.y+v.height-E,height:E})}var P=ma(0,v.width),O=P(m);return on(on({},v),{},{width:O})});return re.createElement(en,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Vw(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=nt(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,h=eke(u,JSe);if(!d)return null;var f=on(on(on(on(on({},h),{},{fill:"#eee"},d),l),gb(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return re.createElement(_L,ix({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},f))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=$i(c,Fy);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,f=function(v,g){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:pi(v,g)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(en,m,d.map(function(p){return re.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,f=r.isAnimationActive,m=r.background,p=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=Ze("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,S=b||x,w=Qe(p)?this.id:p;return re.createElement(en,{className:g},b||x?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(w)},re.createElement("rect",{x:b?u:u-d/2,y:x?c:c-h/2,width:b?d:d*2,height:x?h:h*2}))):null,re.createElement(en,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!f||v)&&gl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);h6=Lc;il(Lc,"displayName","Bar");il(Lc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});il(Lc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,f=R0e(r,n);if(!f)return null;var m=e.layout,p=n.type.defaultProps,v=p!==void 0?on(on({},p),n.props):n.props,g=v.dataKey,b=v.children,x=v.minPointSize,S=m==="horizontal"?s:a,w=u?S.scale.domain():null,k=U0e({numericAxis:S}),A=$i(b,B5),E=d.map(function(P,O){var I,T,j,C,L,X;u?I=L0e(u[c+O],w):(I=pi(P,g),Array.isArray(I)||(I=[k,I]));var z=QSe(x,h6.defaultProps.minPointSize)(I[1],O);if(m==="horizontal"){var G,W=[s.scale(I[0]),s.scale(I[1])],R=W[0],V=W[1];T=PR({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:P,index:O}),j=(G=V??R)!==null&&G!==void 0?G:void 0,C=f.size;var H=R-V;if(L=Number.isNaN(H)?0:H,X={x:T,y:s.y,width:C,height:s.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var $=va(L||z)*(Math.abs(z)-Math.abs(L));j-=$,L+=$}}else{var ie=[a.scale(I[0]),a.scale(I[1])],Z=ie[0],he=ie[1];if(T=Z,j=PR({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:P,index:O}),C=he-Z,L=f.size,X={x:a.x,y:j,width:a.width,height:L},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var we=va(C||z)*(Math.abs(z)-Math.abs(C));C+=we}}return on(on(on({},P),{},{x:T,y:j,width:C,height:L,value:u?I:I[1],payload:P,background:X},A&&A[O]&&A[O].props),{},{tooltipPayload:[G4(n,P)],tooltipPosition:{x:T+C/2,y:j+L/2}})});return on({data:E,layout:m},h)});function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m6(r.key),r)}}function cke(t,e,n){return e&&CL(t.prototype,e),n&&CL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){Yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yw(t,e,n){return e=m6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m6(t){var e=dke(t,"string");return Jm(e)=="symbol"?e:e+""}function dke(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g6=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!ai(u,Lc);return c.reduce(function(f,m){var p=n[m],v=p.orientation,g=p.domain,b=p.padding,x=b===void 0?{}:b,S=p.mirror,w=p.reversed,k="".concat(v).concat(S?"Mirror":""),A,E,P,O,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=g[1]-g[0],j=1/0,C=p.categoricalDomain.sort(pie);if(C.forEach(function(ie,Z){Z>0&&(j=Math.min((ie||0)-(C[Z-1]||0),j))}),Number.isFinite(j)){var L=j/T,X=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(A=L*X/2),p.padding==="no-gap"){var z=vc(e.barCategoryGap,L*X),G=L*X/2;A=G-z-(G-z)/X*z}}}i==="xAxis"?E=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:E=p.range,w&&(E=[E[1],E[0]]);var W=N0e(p,a,h),R=W.scale,V=W.realScaleType;R.domain(g).range(E),I0e(R);var H=B0e(R,ha(ha({},p),{},{realScaleType:V}));i==="xAxis"?(I=v==="top"&&!S||v==="bottom"&&S,P=r.left,O=d[k]-I*p.height):i==="yAxis"&&(I=v==="left"&&!S||v==="right"&&S,P=d[k]-I*p.width,O=r.top);var $=ha(ha(ha({},p),H),{},{realScaleType:V,x:P,y:O,scale:R,width:i==="xAxis"?r.width:p.width,height:i==="yAxis"?r.height:p.height});return $.bandSize=Vb($,H),!p.hide&&i==="xAxis"?d[k]+=(I?-1:1)*$.height:p.hide||(d[k]+=(I?-1:1)*$.width),ha(ha({},f),{},Yw({},m,$))},{})},y6=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},hke=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return y6({x:n,y:r},{x:i,y:a})},v6=function(){function t(e){uke(this,t),this.scale=e}return cke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Yw(v6,"EPS",1e-4);var CT=function(e){var n=Object.keys(e).reduce(function(r,i){return ha(ha({},r),{},Yw({},i,v6.create(e[i])))},{});return ha(ha({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return NSe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return d6(i,function(a,s){return n[s].isInRange(a)})}})};function fke(t){return(t%180+180)%180}var pke=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fke(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},mke=Ol,gke=Ry,yke=Rw;function vke(t){return function(e,n,r){var i=Object(e);if(!gke(e)){var a=mke(n);e=yke(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var bke=vke,xke=o6;function wke(t){var e=xke(t),n=e%1;return e===e?n?e-n:e:0}var Ske=wke,kke=E5,_ke=Ol,Ake=Ske,Eke=Math.max;function Cke(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ake(n);return i<0&&(i=Eke(r+i,0)),kke(t,_ke(e),i)}var Pke=Cke,Tke=bke,Oke=Pke,Mke=Tke(Oke),Nke=Mke;const Ike=ot(Nke);var Rke=yre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PT=N.createContext(void 0),TT=N.createContext(void 0),b6=N.createContext(void 0),x6=N.createContext({}),w6=N.createContext(void 0),S6=N.createContext(0),k6=N.createContext(0),TL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,c=Rke(a);return re.createElement(PT.Provider,{value:r},re.createElement(TT.Provider,{value:i},re.createElement(x6.Provider,{value:a},re.createElement(b6.Provider,{value:c},re.createElement(w6.Provider,{value:s},re.createElement(S6.Provider,{value:u},re.createElement(k6.Provider,{value:l},o)))))))},Lke=function(){return N.useContext(w6)},_6=function(e){var n=N.useContext(PT);n==null&&rt(!1);var r=n[e];return r==null&&rt(!1),r},jke=function(){var e=N.useContext(PT);return Eo(e)},Dke=function(){var e=N.useContext(TT),n=Ike(e,function(r){return d6(r.domain,Number.isFinite)});return n||Eo(e)},A6=function(e){var n=N.useContext(TT);n==null&&rt(!1);var r=n[e];return r==null&&rt(!1),r},$ke=function(){var e=N.useContext(b6);return e},Fke=function(){return N.useContext(x6)},OT=function(){return N.useContext(k6)},MT=function(){return N.useContext(S6)};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function zke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function Uke(t,e,n){return e&&Bke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hke(t,e,n){return e=sx(e),Wke(t,E6()?Reflect.construct(e,n||[],sx(t).constructor):e.apply(t,n))}function Wke(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vke(t)}function Vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function Gke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){NT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NT(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=qke(t,"string");return rf(e)=="symbol"?e:e+""}function qke(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xke(t,e){return Qke(t)||Zke(t,e)||Yke(t,e)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yke(t,e){if(t){if(typeof t=="string")return NL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NL(t,e)}}function NL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Qke(t){if(Array.isArray(t))return t}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}var Jke=function(e,n){var r;return re.isValidElement(e)?r=re.cloneElement(e,n):qe(e)?r=e(n):r=re.createElement("line",bE({},n,{className:"recharts-reference-line-line"})),r},e_e=function(e,n,r,i,a,s,o,l,u){var c=a.x,d=a.y,h=a.width,f=a.height;if(r){var m=u.y,p=e.y.apply(m,{position:s});if(ns(u,"discard")&&!e.y.isInRange(p))return null;var v=[{x:c+h,y:p},{x:c,y:p}];return l==="left"?v.reverse():v}if(n){var g=u.x,b=e.x.apply(g,{position:s});if(ns(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:d+f},{x:b,y:d}];return o==="top"?x.reverse():x}if(i){var S=u.segment,w=S.map(function(k){return e.apply(k,{position:s})});return ns(u,"discard")&&_Se(w,function(k){return!e.isInRange(k)})?null:w}return null};function t_e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Lke(),c=_6(i),d=A6(a),h=$ke();if(!u||!h)return null;Ks(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=CT({x:c.scale,y:d.scale}),m=wn(e),p=wn(n),v=r&&r.length===2,g=e_e(f,m,p,v,h,t.position,c.orientation,d.orientation,t);if(!g)return null;var b=Xke(g,2),x=b[0],S=x.x,w=x.y,k=b[1],A=k.x,E=k.y,P=ns(t,"hidden")?"url(#".concat(u,")"):void 0,O=ML(ML({clipPath:P},nt(t,!0)),{},{x1:S,y1:w,x2:A,y2:E});return re.createElement(en,{className:Ze("recharts-reference-line",o)},Jke(s,O),rr.renderCallByParent(t,hke({x1:S,y1:w,x2:A,y2:E})))}var IT=function(t){function e(){return zke(this,e),Hke(this,e,arguments)}return Gke(e,t),Uke(e,[{key:"render",value:function(){return re.createElement(t_e,this.props)}}])}(re.Component);NT(IT,"displayName","ReferenceLine");NT(IT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(this,arguments)}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){Zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T6(r.key),r)}}function i_e(t,e,n){return e&&r_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_e(t,e,n){return e=ox(e),s_e(t,P6()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function s_e(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P6=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function Zw(t,e,n){return e=T6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T6(t){var e=u_e(t,"string");return af(e)=="symbol"?e:e+""}function u_e(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c_e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=CT({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return ns(e,"discard")&&!s.isInRange(o)?null:o},Qw=function(t){function e(){return n_e(this,e),a_e(this,e,arguments)}return l_e(e,t),i_e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=wn(i),c=wn(a);if(Ks(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=c_e(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,p=m.shape,v=m.className,g=ns(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=RL(RL({clipPath:g},nt(this.props,!0)),{},{cx:h,cy:f});return re.createElement(en,{className:Ze("recharts-reference-dot",v)},e.renderDot(p,b),rr.renderCallByParent(this.props,{x:h-s,y:f-s,width:2*s,height:2*s}))}}])}(re.Component);Zw(Qw,"displayName","ReferenceDot");Zw(Qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zw(Qw,"renderDot",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):qe(t)?n=t(e):n=re.createElement(ET,xE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){Jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function f_e(t,e,n){return e&&h_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p_e(t,e,n){return e=lx(e),m_e(t,O6()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function m_e(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_e(t)}function g_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function Jw(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=v_e(t,"string");return sf(e)=="symbol"?e:e+""}function v_e(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b_e=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var h=CT({x:c.scale,y:d.scale}),f={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ns(a,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:y6(f,m)},e1=function(t){function e(){return d_e(this,e),p_e(this,e,arguments)}return y_e(e,t),f_e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ks(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=wn(i),h=wn(a),f=wn(s),m=wn(o),p=this.props.shape;if(!d&&!h&&!f&&!m&&!p)return null;var v=b_e(d,h,f,m,this.props);if(!v&&!p)return null;var g=ns(this.props,"hidden")?"url(#".concat(c,")"):void 0;return re.createElement(en,{className:Ze("recharts-reference-area",l)},e.renderRect(p,jL(jL({clipPath:g},nt(this.props,!0)),v)),rr.renderCallByParent(this.props,v))}}])}(re.Component);Jw(e1,"displayName","ReferenceArea");Jw(e1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jw(e1,"renderRect",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):qe(t)?n=t(e):n=re.createElement(AT,SE({},e,{className:"recharts-reference-area-rect"})),n});function N6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function x_e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return pke(r,n)}function w_e(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function ux(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function S_e(t,e){return N6(t,e+1)}function k_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,c=s,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:N6(r,u)};var p=l,v,g=function(){return v===void 0&&(v=n(m,p)),v},b=m.coordinate,x=l===0||ux(t,b,g,c,o);x||(l=0,c=s,u+=1),x&&(c=b+t*(g()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){__e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function __e(t,e,n){return e=A_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_e(t){var e=E_e(t,"string");return eg(e)=="symbol"?e:e+""}function E_e(t,e){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C_e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var f=a[h],m,p=function(){return m===void 0&&(m=n(f,h)),m};if(h===s-1){var v=t*(f.coordinate+t*p()/2-l);a[h]=f=tr(tr({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate})}else a[h]=f=tr(tr({},f),{},{tickCoord:f.coordinate});var g=ux(t,f.tickCoord,p,o,l);g&&(l=f.tickCoord-t*(p()/2+i),a[h]=tr(tr({},f),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function P_e(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var c=r[o-1],d=n(c,o-1),h=t*(c.coordinate+t*d/2-u);s[o-1]=c=tr(tr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var f=ux(t,c.tickCoord,function(){return d},l,u);f&&(u=c.tickCoord-t*(d/2+i),s[o-1]=tr(tr({},c),{},{isShow:!0}))}for(var m=a?o-1:o,p=function(b){var x=s[b],S,w=function(){return S===void 0&&(S=n(x,b)),S};if(b===0){var k=t*(x.coordinate-t*w()/2-l);s[b]=x=tr(tr({},x),{},{tickCoord:k<0?x.coordinate-k*t:x.coordinate})}else s[b]=x=tr(tr({},x),{},{tickCoord:x.coordinate});var A=ux(t,x.tickCoord,w,l,u);A&&(l=x.tickCoord+t*(w()/2+i),s[b]=tr(tr({},x),{},{isShow:!0}))},v=0;v<m;v++)p(v);return s}function RT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Ae(l)||Of.isSsr)return S_e(i,typeof l=="number"&&Ae(l)?l:0);var h=[],f=o==="top"||o==="bottom"?"width":"height",m=c&&f==="width"?Gp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(x,S){var w=qe(u)?u(x.value,S):x.value;return f==="width"?x_e(Gp(w,{fontSize:e,letterSpacing:n}),m,d):Gp(w,{fontSize:e,letterSpacing:n})[f]},v=i.length>=2?va(i[1].coordinate-i[0].coordinate):1,g=w_e(a,v,f);return l==="equidistantPreserveStart"?k_e(v,g,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=P_e(v,g,p,i,s,l==="preserveStartEnd"):h=C_e(v,g,p,i,s),h.filter(function(b){return b.isShow}))}var T_e=["viewBox"],O_e=["viewBox"],M_e=["ticks"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(this,arguments)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AS(t,e){if(t==null)return{};var n=N_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function R_e(t,e,n){return e&&FL(t.prototype,e),n&&FL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L_e(t,e,n){return e=cx(e),j_e(t,I6()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function j_e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(t)}function D_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function $_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function LT(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=F_e(t,"string");return of(e)=="symbol"?e:e+""}function F_e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rf=function(t){function e(n){var r;return I_e(this,e),r=L_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return $_e(e,t),R_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=AS(r,T_e),o=this.props,l=o.viewBox,u=AS(o,O_e);return!Nd(a,l)||!Nd(s,u)||!Nd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,f,m,p,v,g,b,x=d?-1:1,S=r.tickSize||c,w=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":f=m=r.coordinate,v=s+ +!d*l,p=v-x*S,b=p-x*h,g=w;break;case"left":p=v=r.coordinate,m=a+ +!d*o,f=m-x*S,g=f-x*h,b=w;break;case"right":p=v=r.coordinate,m=a+ +d*o,f=m+x*S,g=f+x*h,b=w;break;default:f=m=r.coordinate,v=s+ +d*l,p=v+x*S,b=p+x*h,g=w;break}return{line:{x1:f,y1:p,x2:m,y2:v},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=hn(hn(hn({},nt(this.props,!1)),nt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=hn(hn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var f=+(l==="left"&&!u||l==="right"&&u);d=hn(hn({},d),{},{x1:i+f*s,y1:a,x2:i+f*s,y2:a+o})}return re.createElement("line",yd({},d,{className:Ze("recharts-cartesian-axis-line",Di(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,d=o.tickFormatter,h=o.unit,f=RT(hn(hn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=nt(this.props,!1),g=nt(c,!1),b=hn(hn({},v),{},{fill:"none"},nt(l,!1)),x=f.map(function(S,w){var k=s.getTickLineCoord(S),A=k.line,E=k.tick,P=hn(hn(hn(hn({textAnchor:m,verticalAnchor:p},v),{},{stroke:"none",fill:u},g),E),{},{index:w,payload:S,visibleTicksCount:f.length,tickFormatter:d});return re.createElement(en,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},gb(s.props,S,w)),l&&re.createElement("line",yd({},b,A,{className:Ze("recharts-cartesian-axis-tick-line",Di(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(qe(d)?d(S.value,w):S.value).concat(h||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,f=AS(d,M_e),m=h;return qe(l)&&(m=h&&h.length>0?l(this.props):l(f)),s<=0||o<=0||!m||!m.length?null:re.createElement(en,{className:Ze("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Ze(i.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(r)?s=re.cloneElement(r,hn(hn({},i),{},{className:o})):qe(r)?s=r(hn(hn({},i),{},{className:o})):s=re.createElement(Ob,yd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(N.Component);LT(Rf,"displayName","CartesianAxis");LT(Rf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var z_e=["x1","y1","x2","y2","key"],B_e=["offset"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function zL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(n),!0).forEach(function(r){U_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_e(t,e,n){return e=H_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t){var e=W_e(t,"string");return xc(e)=="symbol"?e:e+""}function W_e(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}function BL(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var G_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return re.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function L6(t,e){var n;if(re.isValidElement(t))n=re.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=BL(e,z_e),u=nt(l,!1);u.offset;var c=BL(u,B_e);n=re.createElement("line",ru({},c,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function q_e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ir(ir({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return L6(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function X_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ir(ir({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return L6(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function K_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var m=!c[f+1],p=m?i+s-h:c[f+1]-h;if(p<=0)return null;var v=f%e.length;return re.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:p,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Y_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var m=!c[f+1],p=m?a+o-h:c[f+1]-h;if(p<=0)return null;var v=f%r.length;return re.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Z_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return W4(RT(ir(ir(ir({},Rf.defaultProps),r),{},{ticks:Ws(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},Q_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return W4(RT(ir(ir(ir({},Rf.defaultProps),r),{},{ticks:Ws(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function AE(t){var e,n,r,i,a,s,o=OT(),l=MT(),u=Fke(),c=ir(ir({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Gc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Gc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Gc.verticalFill,x:Ae(t.x)?t.x:u.left,y:Ae(t.y)?t.y:u.top,width:Ae(t.width)?t.width:u.width,height:Ae(t.height)?t.height:u.height}),d=c.x,h=c.y,f=c.width,m=c.height,p=c.syncWithTicks,v=c.horizontalValues,g=c.verticalValues,b=jke(),x=Dke();if(!Ae(f)||f<=0||!Ae(m)||m<=0||!Ae(d)||d!==+d||!Ae(h)||h!==+h)return null;var S=c.verticalCoordinatesGenerator||Z_e,w=c.horizontalCoordinatesGenerator||Q_e,k=c.horizontalPoints,A=c.verticalPoints;if((!k||!k.length)&&qe(w)){var E=v&&v.length,P=w({yAxis:x?ir(ir({},x),{},{ticks:E?v:x.ticks}):void 0,width:o,height:l,offset:u},E?!0:p);Ks(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xc(P),"]")),Array.isArray(P)&&(k=P)}if((!A||!A.length)&&qe(S)){var O=g&&g.length,I=S({xAxis:b?ir(ir({},b),{},{ticks:O?g:b.ticks}):void 0,width:o,height:l,offset:u},O?!0:p);Ks(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xc(I),"]")),Array.isArray(I)&&(A=I)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(G_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),re.createElement(q_e,ru({},c,{offset:u,horizontalPoints:k,xAxis:b,yAxis:x})),re.createElement(X_e,ru({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:x})),re.createElement(K_e,ru({},c,{horizontalPoints:k})),re.createElement(Y_e,ru({},c,{verticalPoints:A})))}AE.displayName="CartesianGrid";var J_e=["type","layout","connectNulls","ref"],eAe=["key"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function UL(t,e){if(t==null)return{};var n=tAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qc(t){return aAe(t)||iAe(t)||rAe(t)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(t,e){if(t){if(typeof t=="string")return EE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(t,e)}}function iAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aAe(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D6(r.key),r)}}function oAe(t,e,n){return e&&WL(t.prototype,e),n&&WL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lAe(t,e,n){return e=dx(e),uAe(t,j6()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function uAe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(t)}function cAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function dAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CE(t,e)}function fa(t,e,n){return e=D6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t){var e=hAe(t,"string");return lf(e)=="symbol"?e:e+""}function hAe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=function(t){function e(){var n;sAe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lAe(this,e,[].concat(i)),fa(n,"state",{isAnimationFinished:!0,totalLength:0}),fa(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),fa(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(g,b){return g+b});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),d=s%u,h=o-s,f=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>d){f=[].concat(qc(l.slice(0,m)),[d-p]);break}var v=f.length%2===0?[0,h]:[h];return[].concat(qc(e.repeat(l,c)),qc(f),v).map(function(g){return"".concat(g,"px")}).join(", ")}),fa(n,"id",Iy("recharts-line-")),fa(n,"pathRef",function(s){n.mainCurve=s}),fa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),fa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return dAe(e,t),oAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=$i(c,Fy);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:pi(p.payload,v)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(en,f,d.map(function(m){return re.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,d=nt(this.props,!1),h=nt(l,!0),f=u.map(function(p,v){var g=qr(qr(qr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:c,payload:p.payload,points:u});return e.renderDotItem(l,g)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return re.createElement(en,Yp({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var d=UL(o,J_e),h=qr(qr(qr({},nt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return re.createElement(rE,Yp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,f=s.animationId,m=s.animateNewValues,p=s.width,v=s.height,g=this.state,b=g.prevPoints,x=g.totalLength;return re.createElement(so,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(b){var k=b.length/o.length,A=o.map(function(T,j){var C=Math.floor(j*k);if(b[C]){var L=b[C],X=ma(L.x,T.x),z=ma(L.y,T.y);return qr(qr({},T),{},{x:X(w),y:z(w)})}if(m){var G=ma(p*2,T.x),W=ma(v/2,T.y);return qr(qr({},T),{},{x:G(w),y:W(w)})}return qr(qr({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(A,r,i)}var E=ma(0,x),P=E(w),O;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=a.getStrokeDasharray(P,x,I)}else O=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(o,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!Vw(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,f=i.width,m=i.height,p=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var g=this.state.isAnimationFinished,b=o.length===1,x=Ze("recharts-line",l),S=u&&u.allowDataOverflow,w=c&&c.allowDataOverflow,k=S||w,A=Qe(v)?this.id:v,E=(r=nt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=E.r,O=P===void 0?3:P,I=E.strokeWidth,T=I===void 0?2:I,j=kie(s)?s:{},C=j.clipDot,L=C===void 0?!0:C,X=O*2+T;return re.createElement(en,{className:x},S||w?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(A)},re.createElement("rect",{x:S?h:h-f/2,y:w?d:d-m/2,width:S?f:f*2,height:w?m:m*2})),!L&&re.createElement("clipPath",{id:"clipPath-dots-".concat(A)},re.createElement("rect",{x:h-X/2,y:d-X/2,width:f+X,height:m+X}))):null,!b&&this.renderCurve(k,A),this.renderErrorBar(k,A),(b||s)&&this.renderDots(k,L,A),(!p||g)&&gl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(qc(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(qc(s),qc(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(re.isValidElement(r))a=re.cloneElement(r,i);else if(qe(r))a=r(i);else{var s=i.key,o=UL(i,eAe),l=Ze("recharts-line-dot",typeof r!="boolean"?r.className:"");a=re.createElement(ET,Yp({key:s},o,{className:l}))}return a}}])}(N.PureComponent);fa(zy,"displayName","Line");fa(zy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Of.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fa(zy,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,f){var m=pi(h,s);return c==="horizontal"?{x:CR({axis:n,ticks:i,bandSize:o,entry:h,index:f}),y:Qe(m)?null:r.scale(m),value:m,payload:h}:{x:Qe(m)?null:n.scale(m),y:CR({axis:r,ticks:a,bandSize:o,entry:h,index:f}),value:m,payload:h}});return qr({points:d,layout:c},u)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function fAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function mAe(t,e,n){return e&&pAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gAe(t,e,n){return e=hx(e),yAe(t,$6()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function yAe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(t)}function vAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function bAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function F6(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=xAe(t,"string");return uf(e)=="symbol"?e:e+""}function xAe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function wAe(t){var e=t.xAxisId,n=OT(),r=MT(),i=_6(e);return i==null?null:N.createElement(Rf,TE({},i,{className:Ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ws(s,!0)}}))}var cf=function(t){function e(){return fAe(this,e),gAe(this,e,arguments)}return bAe(e,t),mAe(e,[{key:"render",value:function(){return N.createElement(wAe,this.props)}}])}(N.Component);F6(cf,"displayName","XAxis");F6(cf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function SAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function _Ae(t,e,n){return e&&kAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AAe(t,e,n){return e=fx(e),EAe(t,B6()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function EAe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(t)}function CAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function PAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function U6(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=TAe(t,"string");return df(e)=="symbol"?e:e+""}function TAe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}var OAe=function(e){var n=e.yAxisId,r=OT(),i=MT(),a=A6(n);return a==null?null:N.createElement(Rf,ME({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ws(o,!0)}}))},hf=function(t){function e(){return SAe(this,e),AAe(this,e,arguments)}return PAe(e,t),_Ae(e,[{key:"render",value:function(){return N.createElement(OAe,this.props)}}])}(N.Component);U6(hf,"displayName","YAxis");U6(hf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VL(t){return RAe(t)||IAe(t)||NAe(t)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(t,e){if(t){if(typeof t=="string")return NE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NE(t,e)}}function IAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RAe(t){if(Array.isArray(t))return NE(t)}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IE=function(e,n,r,i,a){var s=$i(e,IT),o=$i(e,Qw),l=[].concat(VL(s),VL(o)),u=$i(e,e1),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(p,v){if(v.props[c]===r&&ns(v.props,"extendDomain")&&Ae(v.props[d])){var g=v.props[d];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},h)),u.length){var f="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(p,v){if(v.props[c]===r&&ns(v.props,"extendDomain")&&Ae(v.props[f])&&Ae(v.props[m])){var g=v.props[f],b=v.props[m];return[Math.min(p[0],g,b),Math.max(p[1],g,b)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,v){return Ae(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},W6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,f,m){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],g=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,f),!0;case 6:return v.fn.call(v.context,c,d,h,f,m),!0}for(x=1,b=new Array(g-1);x<g;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var S=v.length,w;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,d);break;case 4:v[x].fn.call(v[x].context,c,d,h);break;default:if(!b)for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&s(this,f);else{for(var p=0,v=[],g=m.length;p<g;p++)(m[p].fn!==c||h&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[f]=v.length===1?v[0]:v:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(W6);var LAe=W6.exports;const jAe=ot(LAe);var ES=new jAe,CS="recharts.syncMouseEvents";function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function DAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V6(r.key),r)}}function FAe(t,e,n){return e&&$Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PS(t,e,n){return e=V6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6(t){var e=zAe(t,"string");return tg(e)=="symbol"?e:e+""}function zAe(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BAe=function(){function t(){DAe(this,t),PS(this,"activeIndex",0),PS(this,"coordinateList",[]),PS(this,"layout","horizontal")}return FAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,h=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function UAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ae(r)&&Ae(i))return!0}return!1}function HAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G6(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Un(e,n,r,i),o=Un(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function WAe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Un(o,l,u,d),f=Un(o,l,c,d);r=h.x,i=h.y,a=f.x,s=f.y}else return G6(e);return[{x:r,y:i},{x:a,y:s}]}function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){VAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VAe(t,e,n){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GAe(t){var e=qAe(t,"string");return ng(e)=="symbol"?e:e+""}function qAe(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XAe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,p=rE;if(h==="ScatterChart")m=s,p=Xwe;else if(h==="BarChart")m=HAe(d,s,l,c),p=AT;else if(d==="radial"){var v=G6(s),g=v.cx,b=v.cy,x=v.radius,S=v.startAngle,w=v.endAngle;m={cx:g,cy:b,startAngle:S,endAngle:w,innerRadius:x,outerRadius:x},p=K4}else m={points:WAe(d,s,l)},p=rE;var k=Nv(Nv(Nv(Nv({stroke:"#ccc",pointerEvents:"none"},l),m),nt(f,!1)),{},{payload:o,payloadIndex:u,className:Ze("recharts-tooltip-cursor",f.className)});return N.isValidElement(f)?N.cloneElement(f,k):N.createElement(p,k)}var KAe=["item"],YAe=["children","className","width","height","style","compact","title","desc"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}function qL(t,e){return JAe(t)||QAe(t,e)||X6(t,e)||ZAe()}function ZAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function JAe(t){if(Array.isArray(t))return t}function XL(t,e){if(t==null)return{};var n=eEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function rEe(t,e,n){return e&&nEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iEe(t,e,n){return e=px(e),aEe(t,q6()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function aEe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(t)}function sEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q6=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function oEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function pf(t){return cEe(t)||uEe(t)||X6(t)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function uEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cEe(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function je(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=dEe(t,"string");return ff(e)=="symbol"?e:e+""}function dEe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hEe={xAxis:["bottom","top"],yAxis:["left","right"]},fEe={width:"100%",height:"100%"},Y6={x:0,y:0};function Iv(t){return t}var pEe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},mEe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ce(ce(ce({},i),Un(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return ce(ce(ce({},i),Un(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Y6},t1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(pf(o),pf(u)):o},[]);return s.length>0?s:e&&e.length&&Ae(i)&&Ae(a)?e.slice(i,a+1):[]};function Z6(t){return t==="number"?[0,"auto"]:void 0}var jE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=t1(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var f=d===void 0?o:d;h=pb(f,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(pf(l),[G4(u,h)]):l},[])},YL=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=pEe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=E0e(s,o,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=jE(e,n,c,d),f=mEe(r,o,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},gEe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,f=H4(c,a);return r.reduce(function(m,p){var v,g=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,b=g.type,x=g.dataKey,S=g.allowDataOverflow,w=g.allowDuplicatedCategory,k=g.scale,A=g.ticks,E=g.includeHidden,P=g[s];if(m[P])return m;var O=t1(e.data,{graphicalItems:i.filter(function(H){var $,ie=s in H.props?H.props[s]:($=H.type.defaultProps)===null||$===void 0?void 0:$[s];return ie===P}),dataStartIndex:l,dataEndIndex:u}),I=O.length,T,j,C;UAe(g.domain,S,b)&&(T=QA(g.domain,null,S),f&&(b==="number"||k!=="auto")&&(C=Xp(O,x,"category")));var L=Z6(b);if(!T||T.length===0){var X,z=(X=g.domain)!==null&&X!==void 0?X:L;if(x){if(T=Xp(O,x,b),b==="category"&&f){var G=fie(T);w&&G?(j=T,T=tx(0,I)):w||(T=MR(z,T,p).reduce(function(H,$){return H.indexOf($)>=0?H:[].concat(pf(H),[$])},[]))}else if(b==="category")w?T=T.filter(function(H){return H!==""&&!Qe(H)}):T=MR(z,T,p).reduce(function(H,$){return H.indexOf($)>=0||$===""||Qe($)?H:[].concat(pf(H),[$])},[]);else if(b==="number"){var W=M0e(O,i.filter(function(H){var $,ie,Z=s in H.props?H.props[s]:($=H.type.defaultProps)===null||$===void 0?void 0:$[s],he="hide"in H.props?H.props.hide:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return Z===P&&(E||!he)}),x,a,c);W&&(T=W)}f&&(b==="number"||k!=="auto")&&(C=Xp(O,x,"category"))}else f?T=tx(0,I):o&&o[P]&&o[P].hasStack&&b==="number"?T=h==="expand"?[0,1]:V4(o[P].stackGroups,l,u):T=U4(O,i.filter(function(H){var $=s in H.props?H.props[s]:H.type.defaultProps[s],ie="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return $===P&&(E||!ie)}),b,c,!0);if(b==="number")T=IE(d,T,P,a,A),z&&(T=QA(z,T,S));else if(b==="category"&&z){var R=z,V=T.every(function(H){return R.indexOf(H)>=0});V&&(T=R)}}return ce(ce({},m),{},je({},P,ce(ce({},g),{},{axisType:a,domain:T,categoricalDomain:C,duplicateDomain:j,originalDomain:(v=g.domain)!==null&&v!==void 0?v:L,isCategorical:f,layout:c})))},{})},yEe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=t1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),f=h.length,m=H4(c,a),p=-1;return r.reduce(function(v,g){var b=g.type.defaultProps!==void 0?ce(ce({},g.type.defaultProps),g.props):g.props,x=b[s],S=Z6("number");if(!v[x]){p++;var w;return m?w=tx(0,f):o&&o[x]&&o[x].hasStack?(w=V4(o[x].stackGroups,l,u),w=IE(d,w,x,a)):(w=QA(S,U4(h,r.filter(function(k){var A,E,P=s in k.props?k.props[s]:(A=k.type.defaultProps)===null||A===void 0?void 0:A[s],O="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===x&&!O}),"number",c),i.defaultProps.allowDataOverflow),w=IE(d,w,x,a)),ce(ce({},v),{},je({},x,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:Di(hEe,"".concat(a,".").concat(p%2),null),domain:w,originalDomain:S,isCategorical:m,layout:c})))}return v},{})},vEe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=$i(c,a),f={};return h&&h.length?f=gEe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(f=yEe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),f},bEe=function(e){var n=Eo(e),r=Ws(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:QP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vb(n,r)}},ZL=function(e){var n=e.children,r=e.defaultShowTooltip,i=ai(n,tf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},xEe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xs(n&&n.type);return r&&r.indexOf("Bar")>=0})},QL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wEe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,c=r.height,d=r.children,h=r.margin||{},f=ai(d,tf),m=ai(d,Id),p=Object.keys(l).reduce(function(w,k){var A=l[k],E=A.orientation;return!A.mirror&&!A.hide?ce(ce({},w),{},je({},E,w[E]+A.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,k){var A=s[k],E=A.orientation;return!A.mirror&&!A.hide?ce(ce({},w),{},je({},E,Di(w,"".concat(E))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),g=ce(ce({},v),p),b=g.bottom;f&&(g.bottom+=f.props.height||tf.defaultProps.height),m&&n&&(g=T0e(g,i,r,n));var x=u-g.left-g.right,S=c-g.top-g.bottom;return ce(ce({brushBottom:b},g),{},{width:Math.max(x,0),height:Math.max(S,0)})},SEe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Q6=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(g,b){var x=b.graphicalItems,S=b.stackGroups,w=b.offset,k=b.updateId,A=b.dataStartIndex,E=b.dataEndIndex,P=g.barSize,O=g.layout,I=g.barGap,T=g.barCategoryGap,j=g.maxBarSize,C=QL(O),L=C.numericAxisName,X=C.cateAxisName,z=xEe(x),G=[];return x.forEach(function(W,R){var V=t1(g.data,{graphicalItems:[W],dataStartIndex:A,dataEndIndex:E}),H=W.type.defaultProps!==void 0?ce(ce({},W.type.defaultProps),W.props):W.props,$=H.dataKey,ie=H.maxBarSize,Z=H["".concat(L,"Id")],he=H["".concat(X,"Id")],we={},me=l.reduce(function(de,ne){var ye=b["".concat(ne.axisType,"Map")],xe=H["".concat(ne.axisType,"Id")];ye&&ye[xe]||ne.axisType==="zAxis"||rt(!1);var ge=ye[xe];return ce(ce({},de),{},je(je({},ne.axisType,ge),"".concat(ne.axisType,"Ticks"),Ws(ge)))},we),ae=me[X],fe=me["".concat(X,"Ticks")],pe=S&&S[Z]&&S[Z].hasStack&&H0e(W,S[Z].stackGroups),se=Xs(W.type).indexOf("Bar")>=0,_e=Vb(ae,fe),M=[],te=z&&C0e({barSize:P,stackGroups:S,totalSize:SEe(me,X)});if(se){var K,q,U=Qe(ie)?j:ie,Y=(K=(q=Vb(ae,fe,!0))!==null&&q!==void 0?q:U)!==null&&K!==void 0?K:0;M=P0e({barGap:I,barCategoryGap:T,bandSize:Y!==_e?Y:_e,sizeList:te[he],maxBarSize:U}),Y!==_e&&(M=M.map(function(de){return ce(ce({},de),{},{position:ce(ce({},de.position),{},{offset:de.position.offset-Y/2})})}))}var Q=W&&W.type&&W.type.getComposedData;Q&&G.push({props:ce(ce({},Q(ce(ce({},me),{},{displayedData:V,props:g,dataKey:$,item:W,bandSize:_e,barPosition:M,offset:w,stackedData:pe,layout:O,dataStartIndex:A,dataEndIndex:E}))),{},je(je(je({key:W.key||"item-".concat(R)},L,me[L]),X,me[X]),"animationId",k)),childIndex:Eie(W,g.children),item:W})}),G},f=function(g,b){var x=g.props,S=g.dataStartIndex,w=g.dataEndIndex,k=g.updateId;if(!_N({props:x}))return null;var A=x.children,E=x.layout,P=x.stackOffset,O=x.data,I=x.reverseStackOrder,T=QL(E),j=T.numericAxisName,C=T.cateAxisName,L=$i(A,r),X=z0e(O,L,"".concat(j,"Id"),"".concat(C,"Id"),P,I),z=l.reduce(function(H,$){var ie="".concat($.axisType,"Map");return ce(ce({},H),{},je({},ie,vEe(x,ce(ce({},$),{},{graphicalItems:L,stackGroups:$.axisType===j&&X,dataStartIndex:S,dataEndIndex:w}))))},{}),G=wEe(ce(ce({},z),{},{props:x,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(H){z[H]=c(x,z[H],G,H.replace("Map",""),n)});var W=z["".concat(C,"Map")],R=bEe(W),V=h(x,ce(ce({},z),{},{dataStartIndex:S,dataEndIndex:w,updateId:k,graphicalItems:L,stackGroups:X,offset:G}));return ce(ce({formattedGraphicalItems:V,graphicalItems:L,offset:G,stackGroups:X},R),z)},m=function(v){function g(b){var x,S,w;return tEe(this,g),w=iEe(this,g,[b]),je(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(w,"accessibilityManager",new BAe),je(w,"handleLegendBBoxUpdate",function(k){if(k){var A=w.state,E=A.dataStartIndex,P=A.dataEndIndex,O=A.updateId;w.setState(ce({legendBBox:k},f({props:w.props,dataStartIndex:E,dataEndIndex:P,updateId:O},ce(ce({},w.state),{},{legendBBox:k}))))}}),je(w,"handleReceiveSyncEvent",function(k,A,E){if(w.props.syncId===k){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),je(w,"handleBrushChange",function(k){var A=k.startIndex,E=k.endIndex;if(A!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return ce({dataStartIndex:A,dataEndIndex:E},f({props:w.props,dataStartIndex:A,dataEndIndex:E,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),je(w,"handleMouseEnter",function(k){var A=w.getMouseInfo(k);if(A){var E=ce(ce({},A),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var P=w.props.onMouseEnter;qe(P)&&P(E,k)}}),je(w,"triggeredAfterMouseMove",function(k){var A=w.getMouseInfo(k),E=A?ce(ce({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var P=w.props.onMouseMove;qe(P)&&P(E,k)}),je(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),je(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),je(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),je(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var E=w.props.onMouseLeave;qe(E)&&E(A,k)}),je(w,"handleOuterEvent",function(k){var A=Aie(k),E=Di(w.props,"".concat(A));if(A&&qe(E)){var P,O;/.*touch.*/i.test(A)?O=w.getMouseInfo(k.changedTouches[0]):O=w.getMouseInfo(k),E((P=O)!==null&&P!==void 0?P:{},k)}}),je(w,"handleClick",function(k){var A=w.getMouseInfo(k);if(A){var E=ce(ce({},A),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var P=w.props.onClick;qe(P)&&P(E,k)}}),je(w,"handleMouseDown",function(k){var A=w.props.onMouseDown;if(qe(A)){var E=w.getMouseInfo(k);A(E,k)}}),je(w,"handleMouseUp",function(k){var A=w.props.onMouseUp;if(qe(A)){var E=w.getMouseInfo(k);A(E,k)}}),je(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),je(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),je(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),je(w,"handleDoubleClick",function(k){var A=w.props.onDoubleClick;if(qe(A)){var E=w.getMouseInfo(k);A(E,k)}}),je(w,"handleContextMenu",function(k){var A=w.props.onContextMenu;if(qe(A)){var E=w.getMouseInfo(k);A(E,k)}}),je(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&ES.emit(CS,w.props.syncId,k,w.eventEmitterSymbol)}),je(w,"applySyncEvent",function(k){var A=w.props,E=A.layout,P=A.syncMethod,O=w.state.updateId,I=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(ce({dataStartIndex:I,dataEndIndex:T},f({props:w.props,dataStartIndex:I,dataEndIndex:T,updateId:O},w.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,C=k.chartY,L=k.activeTooltipIndex,X=w.state,z=X.offset,G=X.tooltipTicks;if(!z)return;if(typeof P=="function")L=P(G,k);else if(P==="value"){L=-1;for(var W=0;W<G.length;W++)if(G[W].value===k.activeLabel){L=W;break}}var R=ce(ce({},z),{},{x:z.left,y:z.top}),V=Math.min(j,R.x+R.width),H=Math.min(C,R.y+R.height),$=G[L]&&G[L].value,ie=jE(w.state,w.props.data,L),Z=G[L]?{x:E==="horizontal"?G[L].coordinate:V,y:E==="horizontal"?H:G[L].coordinate}:Y6;w.setState(ce(ce({},k),{},{activeLabel:$,activeCoordinate:Z,activePayload:ie,activeTooltipIndex:L}))}else w.setState(k)}),je(w,"renderCursor",function(k){var A,E=w.state,P=E.isTooltipActive,O=E.activeCoordinate,I=E.activePayload,T=E.offset,j=E.activeTooltipIndex,C=E.tooltipAxisBandSize,L=w.getTooltipEventType(),X=(A=k.props.active)!==null&&A!==void 0?A:P,z=w.props.layout,G=k.key||"_recharts-cursor";return re.createElement(XAe,{key:G,activeCoordinate:O,activePayload:I,activeTooltipIndex:j,chartName:n,element:k,isActive:X,layout:z,offset:T,tooltipAxisBandSize:C,tooltipEventType:L})}),je(w,"renderPolarAxis",function(k,A,E){var P=Di(k,"type.axisType"),O=Di(w.state,"".concat(P,"Map")),I=k.type.defaultProps,T=I!==void 0?ce(ce({},I),k.props):k.props,j=O&&O[T["".concat(P,"Id")]];return N.cloneElement(k,ce(ce({},j),{},{className:Ze(P,j.className),key:k.key||"".concat(A,"-").concat(E),ticks:Ws(j,!0)}))}),je(w,"renderPolarGrid",function(k){var A=k.props,E=A.radialLines,P=A.polarAngles,O=A.polarRadius,I=w.state,T=I.radiusAxisMap,j=I.angleAxisMap,C=Eo(T),L=Eo(j),X=L.cx,z=L.cy,G=L.innerRadius,W=L.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(P)?P:Ws(L,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(O)?O:Ws(C,!0).map(function(R){return R.coordinate}),cx:X,cy:z,innerRadius:G,outerRadius:W,key:k.key||"polar-grid",radialLines:E})}),je(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,A=w.props,E=A.children,P=A.width,O=A.height,I=w.props.margin||{},T=P-(I.left||0)-(I.right||0),j=z4({children:E,formattedGraphicalItems:k,legendWidth:T,legendContent:u});if(!j)return null;var C=j.item,L=XL(j,KAe);return N.cloneElement(C,ce(ce({},L),{},{chartWidth:P,chartHeight:O,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),je(w,"renderTooltip",function(){var k,A=w.props,E=A.children,P=A.accessibilityLayer,O=ai(E,da);if(!O)return null;var I=w.state,T=I.isTooltipActive,j=I.activeCoordinate,C=I.activePayload,L=I.activeLabel,X=I.offset,z=(k=O.props.active)!==null&&k!==void 0?k:T;return N.cloneElement(O,{viewBox:ce(ce({},X),{},{x:X.left,y:X.top}),active:z,label:L,payload:z?C:[],coordinate:j,accessibilityLayer:P})}),je(w,"renderBrush",function(k){var A=w.props,E=A.margin,P=A.data,O=w.state,I=O.offset,T=O.dataStartIndex,j=O.dataEndIndex,C=O.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Pv(w.handleBrushChange,k.props.onChange),data:P,x:Ae(k.props.x)?k.props.x:I.left,y:Ae(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(E.bottom||0),width:Ae(k.props.width)?k.props.width:I.width,startIndex:T,endIndex:j,updateId:"brush-".concat(C)})}),je(w,"renderReferenceElement",function(k,A,E){if(!k)return null;var P=w,O=P.clipPathId,I=w.state,T=I.xAxisMap,j=I.yAxisMap,C=I.offset,L=k.type.defaultProps||{},X=k.props,z=X.xAxisId,G=z===void 0?L.xAxisId:z,W=X.yAxisId,R=W===void 0?L.yAxisId:W;return N.cloneElement(k,{key:k.key||"".concat(A,"-").concat(E),xAxis:T[G],yAxis:j[R],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:O})}),je(w,"renderActivePoints",function(k){var A=k.item,E=k.activePoint,P=k.basePoint,O=k.childIndex,I=k.isRange,T=[],j=A.props.key,C=A.item.type.defaultProps!==void 0?ce(ce({},A.item.type.defaultProps),A.item.props):A.item.props,L=C.activeDot,X=C.dataKey,z=ce(ce({index:O,dataKey:X,cx:E.x,cy:E.y,r:4,fill:_T(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},nt(L,!1)),mb(L));return T.push(g.renderActiveDot(L,z,"".concat(j,"-activePoint-").concat(O))),P?T.push(g.renderActiveDot(L,ce(ce({},z),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(O))):I&&T.push(null),T}),je(w,"renderGraphicChild",function(k,A,E){var P=w.filterFormatItem(k,A,E);if(!P)return null;var O=w.getTooltipEventType(),I=w.state,T=I.isTooltipActive,j=I.tooltipAxis,C=I.activeTooltipIndex,L=I.activeLabel,X=w.props.children,z=ai(X,da),G=P.props,W=G.points,R=G.isRange,V=G.baseLine,H=P.item.type.defaultProps!==void 0?ce(ce({},P.item.type.defaultProps),P.item.props):P.item.props,$=H.activeDot,ie=H.hide,Z=H.activeBar,he=H.activeShape,we=!!(!ie&&T&&z&&($||Z||he)),me={};O!=="axis"&&z&&z.props.trigger==="click"?me={onClick:Pv(w.handleItemMouseEnter,k.props.onClick)}:O!=="axis"&&(me={onMouseLeave:Pv(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Pv(w.handleItemMouseEnter,k.props.onMouseEnter)});var ae=N.cloneElement(k,ce(ce({},P.props),me));function fe(ne){return typeof j.dataKey=="function"?j.dataKey(ne.payload):null}if(we)if(C>=0){var pe,se;if(j.dataKey&&!j.allowDuplicatedCategory){var _e=typeof j.dataKey=="function"?fe:"payload.".concat(j.dataKey.toString());pe=pb(W,_e,L),se=R&&V&&pb(V,_e,L)}else pe=W==null?void 0:W[C],se=R&&V&&V[C];if(he||Z){var M=k.props.activeIndex!==void 0?k.props.activeIndex:C;return[N.cloneElement(k,ce(ce(ce({},P.props),me),{},{activeIndex:M})),null,null]}if(!Qe(pe))return[ae].concat(pf(w.renderActivePoints({item:P,activePoint:pe,basePoint:se,childIndex:C,isRange:R})))}else{var te,K=(te=w.getItemByXY(w.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:ae},q=K.graphicalItem,U=q.item,Y=U===void 0?k:U,Q=q.childIndex,de=ce(ce(ce({},P.props),me),{},{activeIndex:Q});return[N.cloneElement(Y,de),null,null]}return R?[ae,null,null]:[ae,null]}),je(w,"renderCustomized",function(k,A,E){return N.cloneElement(k,ce(ce({key:"recharts-customized-".concat(E)},w.props),w.state))}),je(w,"renderMap",{CartesianGrid:{handler:Iv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Iv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Iv},YAxis:{handler:Iv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Iy("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=z5(w.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return oEe(g,v),rEe(g,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,S=x.children,w=x.data,k=x.height,A=x.layout,E=ai(S,da);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=jE(this.state,w,P,O),T=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+k)/2,C=A==="horizontal",L=C?{x:T,y:j}:{y:T,x:j},X=this.state.formattedGraphicalItems.find(function(G){var W=G.item;return W.type.name==="Scatter"});X&&(L=ce(ce({},L),X.props.points[P].tooltipPosition),I=X.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:L};this.setState(z),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(x){fA([ai(x.children,da)],[ai(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=ai(this.props.children,da);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),k=Jpe(w),A={chartX:Math.round(x.pageX-k.left),chartY:Math.round(x.pageY-k.top)},E=w.width/S.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,E);if(!P)return null;var O=this.state,I=O.xAxisMap,T=O.yAxisMap,j=this.getTooltipEventType(),C=YL(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&I&&T){var L=Eo(I).scale,X=Eo(T).scale,z=L&&L.invert?L.invert(A.chartX):null,G=X&&X.invert?X.invert(A.chartY):null;return ce(ce({},A),{},{xValue:z,yValue:G},C)}return C?ce(ce({},A),C):null}},{key:"inRange",value:function(x,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,A=x/w,E=S/w;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,O=A>=P.left&&A<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return O?{x:A,y:E}:null}var I=this.state,T=I.angleAxisMap,j=I.radiusAxisMap;if(T&&j){var C=Eo(T);return RR({x:A,y:E},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),w=ai(x,da),k={};w&&S==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=mb(this.props,this.handleOuterEvent);return ce(ce({},A),k)}},{key:"addListener",value:function(){ES.on(CS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ES.removeListener(CS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,w){for(var k=this.state.formattedGraphicalItems,A=0,E=k.length;A<E;A++){var P=k[A];if(P.item===x||P.props.key===x.key||S===Xs(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,w=S.left,k=S.top,A=S.height,E=S.width;return re.createElement("defs",null,re.createElement("clipPath",{id:x},re.createElement("rect",{x:w,y:k,height:A,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,w){var k=qL(w,2),A=k[0],E=k[1];return ce(ce({},S),{},je({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,w){var k=qL(w,2),A=k[0],E=k[1];return ce(ce({},S),{},je({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,w=S.formattedGraphicalItems,k=S.activeItem;if(w&&w.length)for(var A=0,E=w.length;A<E;A++){var P=w[A],O=P.props,I=P.item,T=I.type.defaultProps!==void 0?ce(ce({},I.type.defaultProps),I.props):I.props,j=Xs(I.type);if(j==="Bar"){var C=(O.data||[]).find(function(G){return $we(x,G)});if(C)return{graphicalItem:P,payload:C}}else if(j==="RadialBar"){var L=(O.data||[]).find(function(G){return RR(x,G)});if(L)return{graphicalItem:P,payload:L}}else if(Xw(P,k)||Kw(P,k)||Ym(P,k)){var X=B1e({graphicalItem:P,activeTooltipItem:k,itemData:T.data}),z=T.activeIndex===void 0?X:T.activeIndex;return{graphicalItem:ce(ce({},P),{},{childIndex:z}),payload:Ym(P,k)?T.data[X]:P.props.data[X]}}}return null}},{key:"render",value:function(){var x=this;if(!_N(this))return null;var S=this.props,w=S.children,k=S.className,A=S.width,E=S.height,P=S.style,O=S.compact,I=S.title,T=S.desc,j=XL(S,YAe),C=nt(j,!1);if(O)return re.createElement(TL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(mA,vd({},C,{width:A,height:E,title:I,desc:T}),this.renderClipPath(),EN(w,this.renderMap)));if(this.props.accessibilityLayer){var L,X;C.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,C.role=(X=this.props.role)!==null&&X!==void 0?X:"application",C.onKeyDown=function(G){x.accessibilityManager.keyboardEvent(G)},C.onFocus=function(){x.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return re.createElement(TL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",vd({className:Ze("recharts-wrapper",k),style:ce({position:"relative",cursor:"default",width:A,height:E},P)},z,{ref:function(W){x.container=W}}),re.createElement(mA,vd({},C,{width:A,height:E,title:I,desc:T,style:fEe}),this.renderClipPath(),EN(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);je(m,"displayName",n),je(m,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),je(m,"getDerivedStateFromProps",function(v,g){var b=v.dataKey,x=v.data,S=v.children,w=v.width,k=v.height,A=v.layout,E=v.stackOffset,P=v.margin,O=g.dataStartIndex,I=g.dataEndIndex;if(g.updateId===void 0){var T=ZL(v);return ce(ce(ce({},T),{},{updateId:0},f(ce(ce({props:v},T),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:k,prevLayout:A,prevStackOffset:E,prevMargin:P,prevChildren:S})}if(b!==g.prevDataKey||x!==g.prevData||w!==g.prevWidth||k!==g.prevHeight||A!==g.prevLayout||E!==g.prevStackOffset||!Nd(P,g.prevMargin)){var j=ZL(v),C={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=ce(ce({},YL(g,x,A)),{},{updateId:g.updateId+1}),X=ce(ce(ce({},j),C),L);return ce(ce(ce({},X),f(ce({props:v},X),g)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:k,prevLayout:A,prevStackOffset:E,prevMargin:P,prevChildren:S})}if(!fA(S,g.prevChildren)){var z,G,W,R,V=ai(S,tf),H=V&&(z=(G=V.props)===null||G===void 0?void 0:G.startIndex)!==null&&z!==void 0?z:O,$=V&&(W=(R=V.props)===null||R===void 0?void 0:R.endIndex)!==null&&W!==void 0?W:I,ie=H!==O||$!==I,Z=!Qe(x),he=Z&&!ie?g.updateId:g.updateId+1;return ce(ce({updateId:he},f(ce(ce({props:v},g),{},{updateId:he,dataStartIndex:H,dataEndIndex:$}),g)),{},{prevChildren:S,dataStartIndex:H,dataEndIndex:$})}return null}),je(m,"renderActiveDot",function(v,g,b){var x;return N.isValidElement(v)?x=N.cloneElement(v,g):qe(v)?x=v(g):x=re.createElement(ET,g),re.createElement(en,{className:"recharts-active-dot",key:b},x)});var p=N.forwardRef(function(g,b){return re.createElement(m,vd({},g,{ref:b}))});return p.displayName=m.displayName,p},kEe=Q6({chartName:"LineChart",GraphicalChild:zy,axisComponents:[{axisType:"xAxis",AxisComp:cf},{axisType:"yAxis",AxisComp:hf}],formatAxisMap:g6}),_Ee=Q6({chartName:"BarChart",GraphicalChild:Lc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cf},{axisType:"yAxis",AxisComp:hf}],formatAxisMap:g6});const J6="csvPrefs";async function AEe(t){return _a(J6,t)}async function EEe(t){await Br(J6,{...t,fileId:t.fileId})}function CEe(t){const n=Ree.parse(t,{skipEmptyLines:!0}).data.filter(r=>r.length>0);return n.length?n.map(r=>r.map(i=>(i??"").trim())):n}function PEe(t){if(t==null||String(t).trim()==="")return!1;const e=Number(t);return Number.isFinite(e)}function JL(t,e){let n=0,r=0;for(const i of t){const a=i[e];a==null||String(a).trim()===""||(r++,PEe(String(a))&&n++)}return r>0&&n>=r/2}function TS(t){if(t==null||String(t).trim()==="")return null;const e=Number(t);return Number.isFinite(e)?e:null}function TEe(t){const e=String(t).trim();return/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d+$/.test(e)}function OEe(){const{items:t,getItem:e}=oF(),n=t.filter(O=>ki(O)&&O.fileType==="csv"),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState([]),u=r?e(r):null,c=u&&ki(u)?u:null;N.useEffect(()=>{if(!r){l([]);return}AEe(r).then(O=>s(O??{fileId:r}))},[r]),N.useEffect(()=>{if(!c){l([]);return}l(CEe(c.content))},[c]);const d=N.useCallback(async O=>{if(!r)return;const I={...a,...O,fileId:r};s(I),await EEe(I)},[r,a]),h=o[0]??[],f=o.slice(1),m=a!=null&&a.xColumn&&h.includes(a.xColumn)?a.xColumn:h[0],p=a!=null&&a.yColumn&&h.includes(a.yColumn)?a.yColumn:h[1],v=(a==null?void 0:a.chartType)??"bar",g=(a==null?void 0:a.aggregation)??"sum",b=h.indexOf(m),x=h.indexOf(p),S=x>=0&&JL(f,x),w=b>=0&&JL(f,b),k=f.map(O=>{const I={};return h.forEach((T,j)=>{const C=O[j]??"",L=TS(String(C));I[T]=L!==null?L:C||""}),I}),A=k.some(O=>{const I=O[p];return I!=null&&I!==""&&(typeof I=="number"||!Number.isNaN(Number(I)))}),E=S||A;let P;if(v==="line"){if(P=[...k].map(O=>({...O,[p]:typeof O[p]=="number"?O[p]:TS(String(O[p]??""))})),m&&P.length>0){const O=P[0][m];w&&typeof O=="number"?P.sort((I,T)=>(Number(I[m])??0)-(Number(T[m])??0)):typeof O=="string"&&TEe(O)&&P.sort((I,T)=>String(I[m]).localeCompare(String(T[m])))}}else{const O=new Map;for(const T of k){const j=String(T[m]??""),L=(typeof T[p]=="number"?T[p]:TS(String(T[p]??"")))??0,X=O.get(j);X?(X.sum+=L,X.count+=1):O.set(j,{sum:L,count:1})}P=[...new Set(k.map(T=>String(T[m]??"")))].map(T=>{const j=O.get(T),C=g==="average"?j.sum/j.count:j.sum;return{[m]:T,[p]:C}})}return n.length===0?_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"CSV Visualizer"}),_.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"No CSV files in your workspace. Import a CSV file from the Workspace section first."})]}):_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("label",{htmlFor:"csv-file-select",className:"mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Select CSV file"}),_.jsxs("select",{id:"csv-file-select",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:r??"",onChange:O=>i(O.target.value||null),children:[_.jsx("option",{value:"",children:"Choose a file..."}),n.map(O=>_.jsx("option",{value:O.id,children:O.name},O.id))]})]}),c&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart options"}),_.jsxs("div",{className:"flex flex-wrap gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-x",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"X axis"}),_.jsx("select",{id:"csv-x",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:m,onChange:O=>d({xColumn:O.target.value}),children:h.map(O=>_.jsx("option",{value:O,children:O},O))})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-y",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Y axis"}),_.jsx("select",{id:"csv-y",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:p,onChange:O=>d({yColumn:O.target.value}),children:h.map(O=>_.jsx("option",{value:O,children:O},O))})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-type",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Chart type"}),_.jsxs("select",{id:"csv-type",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:v,onChange:O=>d({chartType:O.target.value}),children:[_.jsx("option",{value:"bar",children:"Bar"}),_.jsx("option",{value:"line",children:"Line"})]})]}),v==="bar"&&_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-agg",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Aggregation"}),_.jsxs("select",{id:"csv-agg",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:g,onChange:O=>d({aggregation:O.target.value}),children:[_.jsx("option",{value:"sum",children:"Sum"}),_.jsx("option",{value:"average",children:"Average"})]})]})]})]}),_.jsxs(Yx,{orientation:"vertical",className:"min-h-[600px]",children:[_.jsx(hc,{defaultSize:40,minSize:20,maxSize:80,className:"pb-2",children:_.jsxs("div",{className:"h-full rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800 flex flex-col",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Table"}),_.jsxs("div",{className:"overflow-auto flex-1",children:[_.jsxs("table",{className:"w-full min-w-[400px] text-left text-sm",children:[_.jsx("thead",{className:"sticky top-0 bg-white dark:bg-slate-800",children:_.jsx("tr",{className:"border-b border-slate-200 dark:border-slate-600",children:h.map(O=>_.jsx("th",{className:"px-2 py-1.5 font-medium text-slate-800 dark:text-slate-100",children:O},O))})}),_.jsx("tbody",{children:f.slice(0,50).map((O,I)=>_.jsx("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:h.map((T,j)=>_.jsx("td",{className:"px-2 py-1.5 text-slate-600 dark:text-slate-400",children:O[j]},j))},I))})]}),f.length>50&&_.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Showing first 50 rows."})]})]})}),_.jsx(Zx,{className:"h-1.5 bg-slate-200 hover:bg-blue-400 active:bg-blue-500 transition-colors dark:bg-slate-700 dark:hover:bg-blue-600 dark:active:bg-blue-700 cursor-row-resize"}),_.jsx(hc,{defaultSize:60,minSize:20,children:_.jsxs("div",{className:"h-full rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800 flex flex-col",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart"}),_.jsx("div",{className:"flex-1 min-h-[200px]",children:m&&p&&!E?_.jsx("p",{className:"text-amber-600 dark:text-amber-400",children:"Selected Y column has no numeric data."}):m&&p&&P.length>0&&E?_.jsx(Gpe,{width:"100%",height:"100%",children:v==="bar"?_.jsxs(_Ee,{data:P,children:[_.jsx(AE,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),_.jsx(cf,{dataKey:m,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),_.jsx(hf,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),_.jsx(da,{}),_.jsx(Lc,{dataKey:p,fill:"#3b82f6"})]}):_.jsxs(kEe,{data:P,children:[_.jsx(AE,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),_.jsx(cf,{dataKey:m,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),_.jsx(hf,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),_.jsx(da,{}),_.jsx(zy,{type:"monotone",dataKey:p,stroke:"#3b82f6",connectNulls:!1})]})}):_.jsx("p",{className:"text-slate-500",children:"Select X and Y columns to show a chart."})})]})})]})]}),r&&!c&&_.jsx("p",{className:"text-slate-500",children:"File not found. It may have been deleted."})]})}function MEe(){const{theme:t,setTheme:e,compact:n,setCompact:r,sidebarCollapsed:i,reduceMotion:a,setReduceMotion:s}=D$();return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Settings"}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Theme"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Choose Light, Dark, Cyberpunk, or Octopus."}),_.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:$W.map(o=>_.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 text-sm font-medium capitalize ${t===o?"bg-blue-600 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,onClick:()=>e(o),children:o},o))})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Compact mode"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Reduce padding and font size across the app."}),_.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[_.jsx("button",{type:"button",role:"switch","aria-checked":n,className:`relative inline-flex h-6 w-11 flex-shrink-0 rounded-full transition-colors ${n?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>r(!n),children:_.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${n?"translate-x-5":"translate-x-0.5"}`,style:{marginTop:2}})}),_.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:n?"On":"Off"})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Reduce motion"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Minimize animations and transitions. Also respects your system preference."}),_.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[_.jsx("button",{type:"button",role:"switch","aria-checked":a,className:`relative inline-flex h-6 w-11 flex-shrink-0 rounded-full transition-colors ${a?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>s(!a),children:_.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a?"translate-x-5":"translate-x-0.5"}`,style:{marginTop:2}})}),_.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:a?"On":"Off"})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Sidebar"}),_.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:["Sidebar is ",i?"collapsed":"expanded",". Use the collapse/expand button on the sidebar to change it."]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Theme preview"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Verify contrast: card, button, input, and flashcard sample."}),_.jsxs("div",{className:"mt-4 space-y-3",children:[_.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-600 dark:bg-slate-700/50",children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Sample card"}),_.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:"Secondary text"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-3 py-1.5 text-sm text-white hover:bg-blue-700",children:"Primary"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-100 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",children:"Secondary"})]}),_.jsx("input",{type:"text",readOnly:!0,value:"Sample input",className:"w-full rounded border border-slate-300 bg-white px-2 py-1.5 text-sm text-slate-800 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsxs("div",{className:"rounded-lg border-2 border-border-default bg-flashcard p-4",children:[_.jsx("p",{className:"text-sm text-text-primary",children:"Flashcard sample text"}),_.jsx("p",{className:"mt-1 text-xs text-text-muted",children:"Muted text"})]})]})]})]})}const NEe={workspace:_B,study:vee,media:Nee,csv:OEe,settings:MEe};function IEe(){const{section:t}=jC(),n=NEe[t??"workspace"]??_B;return _.jsx(n,{})}function REe(){return _.jsxs(_W,{children:[_.jsx(zl,{path:"/",element:_.jsx(mV,{})}),_.jsxs(zl,{path:"/app",element:_.jsx(bG,{}),children:[_.jsx(zl,{index:!0,element:_.jsx(xG,{})}),_.jsx(zl,{path:"spotify-callback",element:_.jsx(rb,{to:"/app/media",replace:!0})}),_.jsx(zl,{path:":section",element:_.jsx(IEe,{})})]}),_.jsx(zl,{path:"*",element:_.jsx(rb,{to:"/",replace:!0})})]})}p$(document.getElementById("root")).render(_.jsx(N.StrictMode,{children:_.jsx(cV,{children:_.jsx(QW,{children:_.jsx(rV,{children:_.jsx(sV,{children:_.jsx(MW,{children:_.jsx(REe,{})})})})})})}));

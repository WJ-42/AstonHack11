var X6=Object.defineProperty;var iT=t=>{throw TypeError(t)};var Y6=(t,e,n)=>e in t?X6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ie=(t,e,n)=>Y6(t,typeof e!="symbol"?e+"":e,n),Ew=(t,e,n)=>e.has(t)||iT("Cannot "+n);var g=(t,e,n)=>(Ew(t,e,"read from private field"),n?n.call(t):e.get(t)),z=(t,e,n)=>e.has(t)?iT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),D=(t,e,n,r)=>(Ew(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(Ew(t,e,"access private method"),n);var tr=(t,e,n,r)=>({set _(i){D(t,e,i,n)},get _(){return g(t,e,r)}});function K6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ij={exports:{}},ax={},aj={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=Symbol.for("react.element"),Z6=Symbol.for("react.portal"),Q6=Symbol.for("react.fragment"),J6=Symbol.for("react.strict_mode"),e4=Symbol.for("react.profiler"),t4=Symbol.for("react.provider"),n4=Symbol.for("react.context"),r4=Symbol.for("react.forward_ref"),i4=Symbol.for("react.suspense"),a4=Symbol.for("react.memo"),s4=Symbol.for("react.lazy"),aT=Symbol.iterator;function o4(t){return t===null||typeof t!="object"?null:(t=aT&&t[aT]||t["@@iterator"],typeof t=="function"?t:null)}var sj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oj=Object.assign,lj={};function Hh(t,e,n){this.props=t,this.context=e,this.refs=lj,this.updater=n||sj}Hh.prototype.isReactComponent={};Hh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uj(){}uj.prototype=Hh.prototype;function oE(t,e,n){this.props=t,this.context=e,this.refs=lj,this.updater=n||sj}var lE=oE.prototype=new uj;lE.constructor=oE;oj(lE,Hh.prototype);lE.isPureReactComponent=!0;var sT=Array.isArray,cj=Object.prototype.hasOwnProperty,uE={current:null},dj={key:!0,ref:!0,__self:!0,__source:!0};function hj(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)cj.call(e,r)&&!dj.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vg,type:t,key:a,ref:s,props:i,_owner:uE.current}}function l4(t,e){return{$$typeof:Vg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vg}function u4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oT=/\/+/g;function Cw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u4(""+t.key):e.toString(36)}function lv(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Vg:case Z6:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Cw(s,0):r,sT(i)?(n="",t!=null&&(n=t.replace(oT,"$&/")+"/"),lv(i,e,n,"",function(u){return u})):i!=null&&(cE(i)&&(i=l4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",sT(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Cw(a,o);s+=lv(a,e,n,l,i)}else if(l=o4(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Cw(a,o++),s+=lv(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gy(t,e,n){if(t==null)return t;var r=[],i=0;return lv(t,r,"","",function(a){return e.call(n,a,i++)}),r}function c4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},uv={transition:null},d4={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:uv,ReactCurrentOwner:uE};function fj(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:gy,forEach:function(t,e,n){gy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gy(t,function(){e++}),e},toArray:function(t){return gy(t,function(e){return e})||[]},only:function(t){if(!cE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Hh;Ye.Fragment=Q6;Ye.Profiler=e4;Ye.PureComponent=oE;Ye.StrictMode=J6;Ye.Suspense=i4;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d4;Ye.act=fj;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oj({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=uE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)cj.call(e,l)&&!dj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vg,type:t.type,key:i,ref:a,props:r,_owner:s}};Ye.createContext=function(t){return t={$$typeof:n4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t4,_context:t},t.Consumer=t};Ye.createElement=hj;Ye.createFactory=function(t){var e=hj.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:r4,render:t}};Ye.isValidElement=cE;Ye.lazy=function(t){return{$$typeof:s4,_payload:{_status:-1,_result:t},_init:c4}};Ye.memo=function(t,e){return{$$typeof:a4,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=uv.transition;uv.transition={};try{t()}finally{uv.transition=e}};Ye.unstable_act=fj;Ye.useCallback=function(t,e){return dr.current.useCallback(t,e)};Ye.useContext=function(t){return dr.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return dr.current.useEffect(t,e)};Ye.useId=function(){return dr.current.useId()};Ye.useImperativeHandle=function(t,e,n){return dr.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return dr.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return dr.current.useReducer(t,e,n)};Ye.useRef=function(t){return dr.current.useRef(t)};Ye.useState=function(t){return dr.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return dr.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return dr.current.useTransition()};Ye.version="18.3.1";aj.exports=Ye;var N=aj.exports;const ne=nt(N),h4=K6({__proto__:null,default:ne},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4=N,p4=Symbol.for("react.element"),m4=Symbol.for("react.fragment"),g4=Object.prototype.hasOwnProperty,y4=f4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v4={key:!0,ref:!0,__self:!0,__source:!0};function pj(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)g4.call(e,r)&&!v4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:p4,type:t,key:a,ref:s,props:i,_owner:y4.current}}ax.Fragment=m4;ax.jsx=pj;ax.jsxs=pj;ij.exports=ax;var _=ij.exports,mj={exports:{}},ii={},gj={exports:{}},yj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,G){var R=q.length;q.push(G);e:for(;0<R;){var B=R-1>>>1,H=q[B];if(0<i(H,G))q[B]=G,q[R]=H,R=B;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],R=q.pop();if(R!==G){q[0]=R;e:for(var B=0,H=q.length,L=H>>>1;B<L;){var ae=2*(B+1)-1,Z=q[ae],de=ae+1,Se=q[de];if(0>i(Z,R))de<H&&0>i(Se,Z)?(q[B]=Se,q[de]=R,B=de):(q[B]=Z,q[ae]=R,B=ae);else if(de<H&&0>i(Se,R))q[B]=Se,q[de]=R,B=de;else break e}}return G}function i(q,G){var R=q.sortIndex-G.sortIndex;return R!==0?R:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(q){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=q)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function k(q){if(p=!1,x(q),!m)if(n(l)!==null)m=!0,X(S);else{var G=n(u);G!==null&&U(k,G.startTime-q)}}function S(q,G){m=!1,p&&(p=!1,y(E),E=-1),f=!0;var R=h;try{for(x(G),d=n(l);d!==null&&(!(d.expirationTime>G)||q&&!I());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var H=B(d.expirationTime<=G);G=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),x(G)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var ae=n(u);ae!==null&&U(k,ae.startTime-G),L=!1}return L}finally{d=null,h=R,f=!1}}var w=!1,A=null,E=-1,C=5,O=-1;function I(){return!(t.unstable_now()-O<C)}function T(){if(A!==null){var q=t.unstable_now();O=q;var G=!0;try{G=A(!0,q)}finally{G?j():(w=!1,A=null)}}else w=!1}var j;if(typeof b=="function")j=function(){b(T)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=T,j=function(){$.postMessage(null)}}else j=function(){v(T,0)};function X(q){A=q,w||(w=!0,j())}function U(q,G){E=v(function(){q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,X(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var R=h;h=G;try{return q()}finally{h=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var R=h;h=q;try{return G()}finally{h=R}},t.unstable_scheduleCallback=function(q,G,R){var B=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,q={id:c++,callback:G,priorityLevel:q,startTime:R,expirationTime:H,sortIndex:-1},R>B?(q.sortIndex=R,e(u,q),n(l)===null&&q===n(u)&&(p?(y(E),E=-1):p=!0,U(k,R-B))):(q.sortIndex=H,e(l,q),m||f||(m=!0,X(S))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var G=h;return function(){var R=h;h=G;try{return q.apply(this,arguments)}finally{h=R}}}})(yj);gj.exports=yj;var b4=gj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=N,ni=b4;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vj=new Set,Ep={};function rc(t,e){ch(t,e),ch(t+"Capture",e)}function ch(t,e){for(Ep[t]=e,t=0;t<e.length;t++)vj.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rS=Object.prototype.hasOwnProperty,w4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lT={},uT={};function S4(t){return rS.call(uT,t)?!0:rS.call(lT,t)?!1:w4.test(t)?uT[t]=!0:(lT[t]=!0,!1)}function k4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _4(t,e,n,r){if(e===null||typeof e>"u"||k4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dE=/[\-:]([a-z])/g;function hE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dE,hE);Dn[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dE,hE);Dn[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dE,hE);Dn[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fE(t,e,n,r){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_4(e,n,i,r)&&(n=null),r||i===null?S4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=x4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yy=Symbol.for("react.element"),Ic=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),iS=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),xj=Symbol.for("react.context"),mE=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),sS=Symbol.for("react.suspense_list"),gE=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),wj=Symbol.for("react.offscreen"),cT=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=cT&&t[cT]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Pw;function Df(t){if(Pw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pw=e&&e[1]||""}return`
`+Pw+t}var Tw=!1;function Ow(t,e){if(!t||Tw)return"";Tw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Tw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Df(t):""}function A4(t){switch(t.tag){case 5:return Df(t.type);case 16:return Df("Lazy");case 13:return Df("Suspense");case 19:return Df("SuspenseList");case 0:case 2:case 15:return t=Ow(t.type,!1),t;case 11:return t=Ow(t.type.render,!1),t;case 1:return t=Ow(t.type,!0),t;default:return""}}function oS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rc:return"Fragment";case Ic:return"Portal";case iS:return"Profiler";case pE:return"StrictMode";case aS:return"Suspense";case sS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xj:return(t.displayName||"Context")+".Consumer";case bj:return(t._context.displayName||"Context")+".Provider";case mE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gE:return e=t.displayName||null,e!==null?e:oS(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return oS(t(e))}catch{}}return null}function E4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oS(e);case 8:return e===pE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C4(t){var e=Sj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vy(t){t._valueTracker||(t._valueTracker=C4(t))}function kj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function a0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lS(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _j(t,e){e=e.checked,e!=null&&fE(t,"checked",e,!1)}function uS(t,e){_j(t,e);var n=tl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cS(t,e.type,n):e.hasOwnProperty("defaultValue")&&cS(t,e.type,tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cS(t,e,n){(e!=="number"||a0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $f=Array.isArray;function Kc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if($f(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tl(n)}}function Aj(t,e){var n=tl(e.value),r=tl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ej(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ej(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var by,Cj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(by=by||document.createElement("div"),by.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=by.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P4=["Webkit","ms","Moz","O"];Object.keys(sp).forEach(function(t){P4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sp[e]=sp[t]})});function Pj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sp.hasOwnProperty(t)&&sp[t]?(""+e).trim():e+"px"}function Tj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Pj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var T4=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fS(t,e){if(e){if(T4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function pS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mS=null;function yE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gS=null,Zc=null,Qc=null;function mT(t){if(t=Xg(t)){if(typeof gS!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=cx(e),gS(t.stateNode,t.type,e))}}function Oj(t){Zc?Qc?Qc.push(t):Qc=[t]:Zc=t}function Mj(){if(Zc){var t=Zc,e=Qc;if(Qc=Zc=null,mT(t),e)for(t=0;t<e.length;t++)mT(e[t])}}function Nj(t,e){return t(e)}function Ij(){}var Mw=!1;function Rj(t,e,n){if(Mw)return t(e,n);Mw=!0;try{return Nj(t,e,n)}finally{Mw=!1,(Zc!==null||Qc!==null)&&(Ij(),Mj())}}function Pp(t,e){var n=t.stateNode;if(n===null)return null;var r=cx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var yS=!1;if(Fs)try{var hf={};Object.defineProperty(hf,"passive",{get:function(){yS=!0}}),window.addEventListener("test",hf,hf),window.removeEventListener("test",hf,hf)}catch{yS=!1}function O4(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var op=!1,s0=null,o0=!1,vS=null,M4={onError:function(t){op=!0,s0=t}};function N4(t,e,n,r,i,a,s,o,l){op=!1,s0=null,O4.apply(M4,arguments)}function I4(t,e,n,r,i,a,s,o,l){if(N4.apply(this,arguments),op){if(op){var u=s0;op=!1,s0=null}else throw Error(xe(198));o0||(o0=!0,vS=u)}}function ic(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gT(t){if(ic(t)!==t)throw Error(xe(188))}function R4(t){var e=t.alternate;if(!e){if(e=ic(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return gT(i),t;if(a===r)return gT(i),e;a=a.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function Lj(t){return t=R4(t),t!==null?Dj(t):null}function Dj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dj(t);if(e!==null)return e;t=t.sibling}return null}var $j=ni.unstable_scheduleCallback,yT=ni.unstable_cancelCallback,j4=ni.unstable_shouldYield,L4=ni.unstable_requestPaint,Gt=ni.unstable_now,D4=ni.unstable_getCurrentPriorityLevel,vE=ni.unstable_ImmediatePriority,Fj=ni.unstable_UserBlockingPriority,l0=ni.unstable_NormalPriority,$4=ni.unstable_LowPriority,Bj=ni.unstable_IdlePriority,sx=null,$a=null;function F4(t){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(sx,t,void 0,(t.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:U4,B4=Math.log,z4=Math.LN2;function U4(t){return t>>>=0,t===0?32:31-(B4(t)/z4|0)|0}var xy=64,wy=4194304;function Ff(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function u0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Ff(o):(a&=s,a!==0&&(r=Ff(a)))}else s=n&~i,s!==0?r=Ff(s):a!==0&&(r=Ff(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oa(e),i=1<<n,r|=t[n],e&=~i;return r}function H4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-oa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=H4(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function bS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zj(){var t=xy;return xy<<=1,!(xy&4194240)&&(xy=64),t}function Nw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oa(e),t[e]=n}function V4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function bE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dt=0;function Uj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hj,xE,Wj,Vj,Gj,xS=!1,Sy=[],Ho=null,Wo=null,Vo=null,Tp=new Map,Op=new Map,oo=[],G4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vT(t,e){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(e.pointerId)}}function ff(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xg(e),e!==null&&xE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q4(t,e,n,r,i){switch(e){case"focusin":return Ho=ff(Ho,t,e,n,r,i),!0;case"dragenter":return Wo=ff(Wo,t,e,n,r,i),!0;case"mouseover":return Vo=ff(Vo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tp.set(a,ff(Tp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Op.set(a,ff(Op.get(a)||null,t,e,n,r,i)),!0}return!1}function qj(t){var e=Rl(t.target);if(e!==null){var n=ic(e);if(n!==null){if(e=n.tag,e===13){if(e=jj(n),e!==null){t.blockedOn=e,Gj(t.priority,function(){Wj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mS=r,n.target.dispatchEvent(r),mS=null}else return e=Xg(n),e!==null&&xE(e),t.blockedOn=n,!1;e.shift()}return!0}function bT(t,e,n){cv(t)&&n.delete(e)}function X4(){xS=!1,Ho!==null&&cv(Ho)&&(Ho=null),Wo!==null&&cv(Wo)&&(Wo=null),Vo!==null&&cv(Vo)&&(Vo=null),Tp.forEach(bT),Op.forEach(bT)}function pf(t,e){t.blockedOn===e&&(t.blockedOn=null,xS||(xS=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,X4)))}function Mp(t){function e(i){return pf(i,t)}if(0<Sy.length){pf(Sy[0],t);for(var n=1;n<Sy.length;n++){var r=Sy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ho!==null&&pf(Ho,t),Wo!==null&&pf(Wo,t),Vo!==null&&pf(Vo,t),Tp.forEach(e),Op.forEach(e),n=0;n<oo.length;n++)r=oo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oo.length&&(n=oo[0],n.blockedOn===null);)qj(n),n.blockedOn===null&&oo.shift()}var Jc=Ys.ReactCurrentBatchConfig,c0=!0;function Y4(t,e,n,r){var i=dt,a=Jc.transition;Jc.transition=null;try{dt=1,wE(t,e,n,r)}finally{dt=i,Jc.transition=a}}function K4(t,e,n,r){var i=dt,a=Jc.transition;Jc.transition=null;try{dt=4,wE(t,e,n,r)}finally{dt=i,Jc.transition=a}}function wE(t,e,n,r){if(c0){var i=wS(t,e,n,r);if(i===null)Uw(t,e,r,d0,n),vT(t,r);else if(q4(i,t,e,n,r))r.stopPropagation();else if(vT(t,r),e&4&&-1<G4.indexOf(t)){for(;i!==null;){var a=Xg(i);if(a!==null&&Hj(a),a=wS(t,e,n,r),a===null&&Uw(t,e,r,d0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Uw(t,e,r,null,n)}}var d0=null;function wS(t,e,n,r){if(d0=null,t=yE(r),t=Rl(t),t!==null)if(e=ic(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return d0=t,null}function Xj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D4()){case vE:return 1;case Fj:return 4;case l0:case $4:return 16;case Bj:return 536870912;default:return 16}default:return 16}}var Fo=null,SE=null,dv=null;function Yj(){if(dv)return dv;var t,e=SE,n=e.length,r,i="value"in Fo?Fo.value:Fo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return dv=i.slice(t,1<r?1-r:void 0)}function hv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ky(){return!0}function xT(){return!1}function ai(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ky:xT,this.isPropagationStopped=xT,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ky)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ky)},persist:function(){},isPersistent:ky}),e}var Wh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kE=ai(Wh),qg=Ft({},Wh,{view:0,detail:0}),Z4=ai(qg),Iw,Rw,mf,ox=Ft({},qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_E,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mf&&(mf&&t.type==="mousemove"?(Iw=t.screenX-mf.screenX,Rw=t.screenY-mf.screenY):Rw=Iw=0,mf=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Rw}}),wT=ai(ox),Q4=Ft({},ox,{dataTransfer:0}),J4=ai(Q4),e8=Ft({},qg,{relatedTarget:0}),jw=ai(e8),t8=Ft({},Wh,{animationName:0,elapsedTime:0,pseudoElement:0}),n8=ai(t8),r8=Ft({},Wh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i8=ai(r8),a8=Ft({},Wh,{data:0}),ST=ai(a8),s8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l8[t])?!!e[t]:!1}function _E(){return u8}var c8=Ft({},qg,{key:function(t){if(t.key){var e=s8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_E,charCode:function(t){return t.type==="keypress"?hv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d8=ai(c8),h8=Ft({},ox,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kT=ai(h8),f8=Ft({},qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_E}),p8=ai(f8),m8=Ft({},Wh,{propertyName:0,elapsedTime:0,pseudoElement:0}),g8=ai(m8),y8=Ft({},ox,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v8=ai(y8),b8=[9,13,27,32],AE=Fs&&"CompositionEvent"in window,lp=null;Fs&&"documentMode"in document&&(lp=document.documentMode);var x8=Fs&&"TextEvent"in window&&!lp,Kj=Fs&&(!AE||lp&&8<lp&&11>=lp),_T=" ",AT=!1;function Zj(t,e){switch(t){case"keyup":return b8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jc=!1;function w8(t,e){switch(t){case"compositionend":return Qj(e);case"keypress":return e.which!==32?null:(AT=!0,_T);case"textInput":return t=e.data,t===_T&&AT?null:t;default:return null}}function S8(t,e){if(jc)return t==="compositionend"||!AE&&Zj(t,e)?(t=Yj(),dv=SE=Fo=null,jc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kj&&e.locale!=="ko"?null:e.data;default:return null}}var k8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ET(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k8[t.type]:e==="textarea"}function Jj(t,e,n,r){Oj(r),e=h0(e,"onChange"),0<e.length&&(n=new kE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var up=null,Np=null;function _8(t){cL(t,0)}function lx(t){var e=$c(t);if(kj(e))return t}function A8(t,e){if(t==="change")return e}var eL=!1;if(Fs){var Lw;if(Fs){var Dw="oninput"in document;if(!Dw){var CT=document.createElement("div");CT.setAttribute("oninput","return;"),Dw=typeof CT.oninput=="function"}Lw=Dw}else Lw=!1;eL=Lw&&(!document.documentMode||9<document.documentMode)}function PT(){up&&(up.detachEvent("onpropertychange",tL),Np=up=null)}function tL(t){if(t.propertyName==="value"&&lx(Np)){var e=[];Jj(e,Np,t,yE(t)),Rj(_8,e)}}function E8(t,e,n){t==="focusin"?(PT(),up=e,Np=n,up.attachEvent("onpropertychange",tL)):t==="focusout"&&PT()}function C8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lx(Np)}function P8(t,e){if(t==="click")return lx(e)}function T8(t,e){if(t==="input"||t==="change")return lx(e)}function O8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ua=typeof Object.is=="function"?Object.is:O8;function Ip(t,e){if(ua(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rS.call(e,i)||!ua(t[i],e[i]))return!1}return!0}function TT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var n=TT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TT(n)}}function nL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rL(){for(var t=window,e=a0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=a0(t.document)}return e}function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M8(t){var e=rL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nL(n.ownerDocument.documentElement,n)){if(r!==null&&EE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=OT(n,a);var s=OT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N8=Fs&&"documentMode"in document&&11>=document.documentMode,Lc=null,SS=null,cp=null,kS=!1;function MT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kS||Lc==null||Lc!==a0(r)||(r=Lc,"selectionStart"in r&&EE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cp&&Ip(cp,r)||(cp=r,r=h0(SS,"onSelect"),0<r.length&&(e=new kE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lc)))}function _y(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dc={animationend:_y("Animation","AnimationEnd"),animationiteration:_y("Animation","AnimationIteration"),animationstart:_y("Animation","AnimationStart"),transitionend:_y("Transition","TransitionEnd")},$w={},iL={};Fs&&(iL=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function ux(t){if($w[t])return $w[t];if(!Dc[t])return t;var e=Dc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iL)return $w[t]=e[n];return t}var aL=ux("animationend"),sL=ux("animationiteration"),oL=ux("animationstart"),lL=ux("transitionend"),uL=new Map,NT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(t,e){uL.set(t,e),rc(e,[t])}for(var Fw=0;Fw<NT.length;Fw++){var Bw=NT[Fw],I8=Bw.toLowerCase(),R8=Bw[0].toUpperCase()+Bw.slice(1);ol(I8,"on"+R8)}ol(aL,"onAnimationEnd");ol(sL,"onAnimationIteration");ol(oL,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(lL,"onTransitionEnd");ch("onMouseEnter",["mouseout","mouseover"]);ch("onMouseLeave",["mouseout","mouseover"]);ch("onPointerEnter",["pointerout","pointerover"]);ch("onPointerLeave",["pointerout","pointerover"]);rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bf));function IT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I4(r,e,void 0,t),t.currentTarget=null}function cL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;IT(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;IT(i,o,u),a=l}}}if(o0)throw t=vS,o0=!1,vS=null,t}function kt(t,e){var n=e[PS];n===void 0&&(n=e[PS]=new Set);var r=t+"__bubble";n.has(r)||(dL(e,t,2,!1),n.add(r))}function zw(t,e,n){var r=0;e&&(r|=4),dL(n,t,r,e)}var Ay="_reactListening"+Math.random().toString(36).slice(2);function Rp(t){if(!t[Ay]){t[Ay]=!0,vj.forEach(function(n){n!=="selectionchange"&&(j8.has(n)||zw(n,!1,t),zw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ay]||(e[Ay]=!0,zw("selectionchange",!1,e))}}function dL(t,e,n,r){switch(Xj(e)){case 1:var i=Y4;break;case 4:i=K4;break;default:i=wE}n=i.bind(null,e,n,t),i=void 0,!yS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uw(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Rl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Rj(function(){var u=a,c=yE(n),d=[];e:{var h=uL.get(t);if(h!==void 0){var f=kE,m=t;switch(t){case"keypress":if(hv(n)===0)break e;case"keydown":case"keyup":f=d8;break;case"focusin":m="focus",f=jw;break;case"focusout":m="blur",f=jw;break;case"beforeblur":case"afterblur":f=jw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=J4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=p8;break;case aL:case sL:case oL:f=n8;break;case lL:f=g8;break;case"scroll":f=Z4;break;case"wheel":f=v8;break;case"copy":case"cut":case"paste":f=i8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=kT}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,x;b!==null;){x=b;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,y!==null&&(k=Pp(b,y),k!=null&&p.push(jp(b,k,x)))),v)break;b=b.return}0<p.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==mS&&(m=n.relatedTarget||n.fromElement)&&(Rl(m)||m[Bs]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Rl(m):null,m!==null&&(v=ic(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=wT,k="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=kT,k="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?h:$c(f),x=m==null?h:$c(m),h=new p(k,b+"leave",f,n,c),h.target=v,h.relatedTarget=x,k=null,Rl(c)===u&&(p=new p(y,b+"enter",m,n,c),p.target=x,p.relatedTarget=v,k=p),v=k,f&&m)t:{for(p=f,y=m,b=0,x=p;x;x=mc(x))b++;for(x=0,k=y;k;k=mc(k))x++;for(;0<b-x;)p=mc(p),b--;for(;0<x-b;)y=mc(y),x--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=mc(p),y=mc(y)}p=null}else p=null;f!==null&&RT(d,h,f,p,!1),m!==null&&v!==null&&RT(d,v,m,p,!0)}}e:{if(h=u?$c(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=A8;else if(ET(h))if(eL)S=T8;else{S=C8;var w=E8}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=P8);if(S&&(S=S(t,u))){Jj(d,S,n,c);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&cS(h,"number",h.value)}switch(w=u?$c(u):window,t){case"focusin":(ET(w)||w.contentEditable==="true")&&(Lc=w,SS=u,cp=null);break;case"focusout":cp=SS=Lc=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,MT(d,n,c);break;case"selectionchange":if(N8)break;case"keydown":case"keyup":MT(d,n,c)}var A;if(AE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else jc?Zj(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Kj&&n.locale!=="ko"&&(jc||E!=="onCompositionStart"?E==="onCompositionEnd"&&jc&&(A=Yj()):(Fo=c,SE="value"in Fo?Fo.value:Fo.textContent,jc=!0)),w=h0(u,E),0<w.length&&(E=new ST(E,t,null,n,c),d.push({event:E,listeners:w}),A?E.data=A:(A=Qj(n),A!==null&&(E.data=A)))),(A=x8?w8(t,n):S8(t,n))&&(u=h0(u,"onBeforeInput"),0<u.length&&(c=new ST("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}cL(d,e)})}function jp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function h0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pp(t,n),a!=null&&r.unshift(jp(t,a,i)),a=Pp(t,e),a!=null&&r.push(jp(t,a,i))),t=t.return}return r}function mc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Pp(n,a),l!=null&&s.unshift(jp(n,l,o))):i||(l=Pp(n,a),l!=null&&s.push(jp(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var L8=/\r\n?/g,D8=/\u0000|\uFFFD/g;function jT(t){return(typeof t=="string"?t:""+t).replace(L8,`
`).replace(D8,"")}function Ey(t,e,n){if(e=jT(e),jT(t)!==e&&n)throw Error(xe(425))}function f0(){}var _S=null,AS=null;function ES(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CS=typeof setTimeout=="function"?setTimeout:void 0,$8=typeof clearTimeout=="function"?clearTimeout:void 0,LT=typeof Promise=="function"?Promise:void 0,F8=typeof queueMicrotask=="function"?queueMicrotask:typeof LT<"u"?function(t){return LT.resolve(null).then(t).catch(B8)}:CS;function B8(t){setTimeout(function(){throw t})}function Hw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mp(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vh=Math.random().toString(36).slice(2),ja="__reactFiber$"+Vh,Lp="__reactProps$"+Vh,Bs="__reactContainer$"+Vh,PS="__reactEvents$"+Vh,z8="__reactListeners$"+Vh,U8="__reactHandles$"+Vh;function Rl(t){var e=t[ja];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bs]||n[ja]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DT(t);t!==null;){if(n=t[ja])return n;t=DT(t)}return e}t=n,n=t.parentNode}return null}function Xg(t){return t=t[ja]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function cx(t){return t[Lp]||null}var TS=[],Fc=-1;function ll(t){return{current:t}}function Ct(t){0>Fc||(t.current=TS[Fc],TS[Fc]=null,Fc--)}function wt(t,e){Fc++,TS[Fc]=t.current,t.current=e}var nl={},Jn=ll(nl),Er=ll(!1),zu=nl;function dh(t,e){var n=t.type.contextTypes;if(!n)return nl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cr(t){return t=t.childContextTypes,t!=null}function p0(){Ct(Er),Ct(Jn)}function $T(t,e,n){if(Jn.current!==nl)throw Error(xe(168));wt(Jn,e),wt(Er,n)}function hL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,E4(t)||"Unknown",i));return Ft({},n,r)}function m0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nl,zu=Jn.current,wt(Jn,t),wt(Er,Er.current),!0}function FT(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=hL(t,e,zu),r.__reactInternalMemoizedMergedChildContext=t,Ct(Er),Ct(Jn),wt(Jn,t)):Ct(Er),wt(Er,n)}var ts=null,dx=!1,Ww=!1;function fL(t){ts===null?ts=[t]:ts.push(t)}function H8(t){dx=!0,fL(t)}function ul(){if(!Ww&&ts!==null){Ww=!0;var t=0,e=dt;try{var n=ts;for(dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ts=null,dx=!1}catch(i){throw ts!==null&&(ts=ts.slice(t+1)),$j(vE,ul),i}finally{dt=e,Ww=!1}}return null}var Bc=[],zc=0,g0=null,y0=0,gi=[],yi=0,Uu=null,Cs=1,Ps="";function wl(t,e){Bc[zc++]=y0,Bc[zc++]=g0,g0=t,y0=e}function pL(t,e,n){gi[yi++]=Cs,gi[yi++]=Ps,gi[yi++]=Uu,Uu=t;var r=Cs;t=Ps;var i=32-oa(r)-1;r&=~(1<<i),n+=1;var a=32-oa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cs=1<<32-oa(e)+i|n<<i|r,Ps=a+t}else Cs=1<<a|n<<i|r,Ps=t}function CE(t){t.return!==null&&(wl(t,1),pL(t,1,0))}function PE(t){for(;t===g0;)g0=Bc[--zc],Bc[zc]=null,y0=Bc[--zc],Bc[zc]=null;for(;t===Uu;)Uu=gi[--yi],gi[yi]=null,Ps=gi[--yi],gi[yi]=null,Cs=gi[--yi],gi[yi]=null}var ei=null,Qr=null,Ot=!1,na=null;function mL(t,e){var n=wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ei=t,Qr=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ei=t,Qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Uu!==null?{id:Cs,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ei=t,Qr=null,!0):!1;default:return!1}}function OS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MS(t){if(Ot){var e=Qr;if(e){var n=e;if(!BT(t,e)){if(OS(t))throw Error(xe(418));e=Go(n.nextSibling);var r=ei;e&&BT(t,e)?mL(r,n):(t.flags=t.flags&-4097|2,Ot=!1,ei=t)}}else{if(OS(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Ot=!1,ei=t}}}function zT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ei=t}function Cy(t){if(t!==ei)return!1;if(!Ot)return zT(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ES(t.type,t.memoizedProps)),e&&(e=Qr)){if(OS(t))throw gL(),Error(xe(418));for(;e;)mL(t,e),e=Go(e.nextSibling)}if(zT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qr=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qr=null}}else Qr=ei?Go(t.stateNode.nextSibling):null;return!0}function gL(){for(var t=Qr;t;)t=Go(t.nextSibling)}function hh(){Qr=ei=null,Ot=!1}function TE(t){na===null?na=[t]:na.push(t)}var W8=Ys.ReactCurrentBatchConfig;function gf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function Py(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UT(t){var e=t._init;return e(t._payload)}function yL(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Ko(y,b),y.index=0,y.sibling=null,y}function a(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,x,k){return b===null||b.tag!==6?(b=Zw(x,y.mode,k),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,k){var S=x.type;return S===Rc?c(y,b,x.props.children,k,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ro&&UT(S)===b.type)?(k=i(b,x.props),k.ref=gf(y,b,x),k.return=y,k):(k=bv(x.type,x.key,x.props,null,y.mode,k),k.ref=gf(y,b,x),k.return=y,k)}function u(y,b,x,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Qw(x,y.mode,k),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function c(y,b,x,k,S){return b===null||b.tag!==7?(b=$u(x,y.mode,k,S),b.return=y,b):(b=i(b,x),b.return=y,b)}function d(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zw(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yy:return x=bv(b.type,b.key,b.props,null,y.mode,x),x.ref=gf(y,null,b),x.return=y,x;case Ic:return b=Qw(b,y.mode,x),b.return=y,b;case ro:var k=b._init;return d(y,k(b._payload),x)}if($f(b)||df(b))return b=$u(b,y.mode,x,null),b.return=y,b;Py(y,b)}return null}function h(y,b,x,k){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(y,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:return x.key===S?l(y,b,x,k):null;case Ic:return x.key===S?u(y,b,x,k):null;case ro:return S=x._init,h(y,b,S(x._payload),k)}if($f(x)||df(x))return S!==null?null:c(y,b,x,k,null);Py(y,x)}return null}function f(y,b,x,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(x)||null,o(b,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yy:return y=y.get(k.key===null?x:k.key)||null,l(b,y,k,S);case Ic:return y=y.get(k.key===null?x:k.key)||null,u(b,y,k,S);case ro:var w=k._init;return f(y,b,x,w(k._payload),S)}if($f(k)||df(k))return y=y.get(x)||null,c(b,y,k,S,null);Py(b,k)}return null}function m(y,b,x,k){for(var S=null,w=null,A=b,E=b=0,C=null;A!==null&&E<x.length;E++){A.index>E?(C=A,A=null):C=A.sibling;var O=h(y,A,x[E],k);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(y,A),b=a(O,b,E),w===null?S=O:w.sibling=O,w=O,A=C}if(E===x.length)return n(y,A),Ot&&wl(y,E),S;if(A===null){for(;E<x.length;E++)A=d(y,x[E],k),A!==null&&(b=a(A,b,E),w===null?S=A:w.sibling=A,w=A);return Ot&&wl(y,E),S}for(A=r(y,A);E<x.length;E++)C=f(A,y,E,x[E],k),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?E:C.key),b=a(C,b,E),w===null?S=C:w.sibling=C,w=C);return t&&A.forEach(function(I){return e(y,I)}),Ot&&wl(y,E),S}function p(y,b,x,k){var S=df(x);if(typeof S!="function")throw Error(xe(150));if(x=S.call(x),x==null)throw Error(xe(151));for(var w=S=null,A=b,E=b=0,C=null,O=x.next();A!==null&&!O.done;E++,O=x.next()){A.index>E?(C=A,A=null):C=A.sibling;var I=h(y,A,O.value,k);if(I===null){A===null&&(A=C);break}t&&A&&I.alternate===null&&e(y,A),b=a(I,b,E),w===null?S=I:w.sibling=I,w=I,A=C}if(O.done)return n(y,A),Ot&&wl(y,E),S;if(A===null){for(;!O.done;E++,O=x.next())O=d(y,O.value,k),O!==null&&(b=a(O,b,E),w===null?S=O:w.sibling=O,w=O);return Ot&&wl(y,E),S}for(A=r(y,A);!O.done;E++,O=x.next())O=f(A,y,E,O.value,k),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?E:O.key),b=a(O,b,E),w===null?S=O:w.sibling=O,w=O);return t&&A.forEach(function(T){return e(y,T)}),Ot&&wl(y,E),S}function v(y,b,x,k){if(typeof x=="object"&&x!==null&&x.type===Rc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:e:{for(var S=x.key,w=b;w!==null;){if(w.key===S){if(S=x.type,S===Rc){if(w.tag===7){n(y,w.sibling),b=i(w,x.props.children),b.return=y,y=b;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ro&&UT(S)===w.type){n(y,w.sibling),b=i(w,x.props),b.ref=gf(y,w,x),b.return=y,y=b;break e}n(y,w);break}else e(y,w);w=w.sibling}x.type===Rc?(b=$u(x.props.children,y.mode,k,x.key),b.return=y,y=b):(k=bv(x.type,x.key,x.props,null,y.mode,k),k.ref=gf(y,b,x),k.return=y,y=k)}return s(y);case Ic:e:{for(w=x.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Qw(x,y.mode,k),b.return=y,y=b}return s(y);case ro:return w=x._init,v(y,b,w(x._payload),k)}if($f(x))return m(y,b,x,k);if(df(x))return p(y,b,x,k);Py(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,x),b.return=y,y=b):(n(y,b),b=Zw(x,y.mode,k),b.return=y,y=b),s(y)):n(y,b)}return v}var fh=yL(!0),vL=yL(!1),v0=ll(null),b0=null,Uc=null,OE=null;function ME(){OE=Uc=b0=null}function NE(t){var e=v0.current;Ct(v0),t._currentValue=e}function NS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ed(t,e){b0=t,OE=Uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kr=!0),t.firstContext=null)}function Ci(t){var e=t._currentValue;if(OE!==t)if(t={context:t,memoizedValue:e,next:null},Uc===null){if(b0===null)throw Error(xe(308));Uc=t,b0.dependencies={lanes:0,firstContext:t}}else Uc=Uc.next=t;return e}var jl=null;function IE(t){jl===null?jl=[t]:jl.push(t)}function bL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,IE(e)):(n.next=i.next,i.next=n),e.interleaved=n,zs(t,r)}function zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var io=!1;function RE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zs(t,n)}return i=r.interleaved,i===null?(e.next=e,IE(r)):(e.next=i.next,i.next=e),r.interleaved=e,zs(t,n)}function fv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bE(t,n)}}function HT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function x0(t,e,n,r){var i=t.updateQueue;io=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,f=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(h=e,f=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Ft({},d,h);break e;case 2:io=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Wu|=s,t.lanes=s,t.memoizedState=d}}function WT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var Yg={},Fa=ll(Yg),Dp=ll(Yg),$p=ll(Yg);function Ll(t){if(t===Yg)throw Error(xe(174));return t}function jE(t,e){switch(wt($p,e),wt(Dp,t),wt(Fa,Yg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hS(e,t)}Ct(Fa),wt(Fa,e)}function ph(){Ct(Fa),Ct(Dp),Ct($p)}function wL(t){Ll($p.current);var e=Ll(Fa.current),n=hS(e,t.type);e!==n&&(wt(Dp,t),wt(Fa,n))}function LE(t){Dp.current===t&&(Ct(Fa),Ct(Dp))}var Dt=ll(0);function w0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vw=[];function DE(){for(var t=0;t<Vw.length;t++)Vw[t]._workInProgressVersionPrimary=null;Vw.length=0}var pv=Ys.ReactCurrentDispatcher,Gw=Ys.ReactCurrentBatchConfig,Hu=0,$t=null,dn=null,An=null,S0=!1,dp=!1,Fp=0,V8=0;function Fn(){throw Error(xe(321))}function $E(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ua(t[n],e[n]))return!1;return!0}function FE(t,e,n,r,i,a){if(Hu=a,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pv.current=t===null||t.memoizedState===null?Y8:K8,t=n(r,i),dp){a=0;do{if(dp=!1,Fp=0,25<=a)throw Error(xe(301));a+=1,An=dn=null,e.updateQueue=null,pv.current=Z8,t=n(r,i)}while(dp)}if(pv.current=k0,e=dn!==null&&dn.next!==null,Hu=0,An=dn=$t=null,S0=!1,e)throw Error(xe(300));return t}function BE(){var t=Fp!==0;return Fp=0,t}function ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?$t.memoizedState=An=t:An=An.next=t,An}function Pi(){if(dn===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=An===null?$t.memoizedState:An.next;if(e!==null)An=e,dn=t;else{if(t===null)throw Error(xe(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},An===null?$t.memoizedState=An=t:An=An.next=t}return An}function Bp(t,e){return typeof e=="function"?e(t):e}function qw(t){var e=Pi(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=dn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Hu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,$t.lanes|=c,Wu|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,ua(r,e.memoizedState)||(kr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,$t.lanes|=a,Wu|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xw(t){var e=Pi(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ua(a,e.memoizedState)||(kr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function SL(){}function kL(t,e){var n=$t,r=Pi(),i=e(),a=!ua(r.memoizedState,i);if(a&&(r.memoizedState=i,kr=!0),r=r.queue,zE(EL.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,zp(9,AL.bind(null,n,r,i,e),void 0,null),En===null)throw Error(xe(349));Hu&30||_L(n,e,i)}return i}function _L(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AL(t,e,n,r){e.value=n,e.getSnapshot=r,CL(e)&&PL(t)}function EL(t,e,n){return n(function(){CL(e)&&PL(t)})}function CL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ua(t,n)}catch{return!0}}function PL(t){var e=zs(t,1);e!==null&&la(e,t,1,-1)}function VT(t){var e=ma();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bp,lastRenderedState:t},e.queue=t,t=t.dispatch=X8.bind(null,$t,t),[e.memoizedState,t]}function zp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TL(){return Pi().memoizedState}function mv(t,e,n,r){var i=ma();$t.flags|=t,i.memoizedState=zp(1|e,n,void 0,r===void 0?null:r)}function hx(t,e,n,r){var i=Pi();r=r===void 0?null:r;var a=void 0;if(dn!==null){var s=dn.memoizedState;if(a=s.destroy,r!==null&&$E(r,s.deps)){i.memoizedState=zp(e,n,a,r);return}}$t.flags|=t,i.memoizedState=zp(1|e,n,a,r)}function GT(t,e){return mv(8390656,8,t,e)}function zE(t,e){return hx(2048,8,t,e)}function OL(t,e){return hx(4,2,t,e)}function ML(t,e){return hx(4,4,t,e)}function NL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IL(t,e,n){return n=n!=null?n.concat([t]):null,hx(4,4,NL.bind(null,e,t),n)}function UE(){}function RL(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$E(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jL(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$E(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LL(t,e,n){return Hu&21?(ua(n,e)||(n=zj(),$t.lanes|=n,Wu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kr=!0),t.memoizedState=n)}function G8(t,e){var n=dt;dt=n!==0&&4>n?n:4,t(!0);var r=Gw.transition;Gw.transition={};try{t(!1),e()}finally{dt=n,Gw.transition=r}}function DL(){return Pi().memoizedState}function q8(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$L(t))FL(e,n);else if(n=bL(t,e,n,r),n!==null){var i=or();la(n,t,r,i),BL(n,e,r)}}function X8(t,e,n){var r=Yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($L(t))FL(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ua(o,s)){var l=e.interleaved;l===null?(i.next=i,IE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=bL(t,e,i,r),n!==null&&(i=or(),la(n,t,r,i),BL(n,e,r))}}function $L(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function FL(t,e){dp=S0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bE(t,n)}}var k0={readContext:Ci,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},Y8={readContext:Ci,useCallback:function(t,e){return ma().memoizedState=[t,e===void 0?null:e],t},useContext:Ci,useEffect:GT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mv(4194308,4,NL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mv(4194308,4,t,e)},useInsertionEffect:function(t,e){return mv(4,2,t,e)},useMemo:function(t,e){var n=ma();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ma();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q8.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=ma();return t={current:t},e.memoizedState=t},useState:VT,useDebugValue:UE,useDeferredValue:function(t){return ma().memoizedState=t},useTransition:function(){var t=VT(!1),e=t[0];return t=G8.bind(null,t[1]),ma().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=ma();if(Ot){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),En===null)throw Error(xe(349));Hu&30||_L(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,GT(EL.bind(null,r,a,t),[t]),r.flags|=2048,zp(9,AL.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ma(),e=En.identifierPrefix;if(Ot){var n=Ps,r=Cs;n=(r&~(1<<32-oa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K8={readContext:Ci,useCallback:RL,useContext:Ci,useEffect:zE,useImperativeHandle:IL,useInsertionEffect:OL,useLayoutEffect:ML,useMemo:jL,useReducer:qw,useRef:TL,useState:function(){return qw(Bp)},useDebugValue:UE,useDeferredValue:function(t){var e=Pi();return LL(e,dn.memoizedState,t)},useTransition:function(){var t=qw(Bp)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:SL,useSyncExternalStore:kL,useId:DL,unstable_isNewReconciler:!1},Z8={readContext:Ci,useCallback:RL,useContext:Ci,useEffect:zE,useImperativeHandle:IL,useInsertionEffect:OL,useLayoutEffect:ML,useMemo:jL,useReducer:Xw,useRef:TL,useState:function(){return Xw(Bp)},useDebugValue:UE,useDeferredValue:function(t){var e=Pi();return dn===null?e.memoizedState=t:LL(e,dn.memoizedState,t)},useTransition:function(){var t=Xw(Bp)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:SL,useSyncExternalStore:kL,useId:DL,unstable_isNewReconciler:!1};function Di(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function IS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fx={isMounted:function(t){return(t=t._reactInternals)?ic(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=or(),i=Yo(t),a=Ns(r,i);a.payload=e,n!=null&&(a.callback=n),e=qo(t,a,i),e!==null&&(la(e,t,i,r),fv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=or(),i=Yo(t),a=Ns(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=qo(t,a,i),e!==null&&(la(e,t,i,r),fv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=or(),r=Yo(t),i=Ns(n,r);i.tag=2,e!=null&&(i.callback=e),e=qo(t,i,r),e!==null&&(la(e,t,r,n),fv(e,t,r))}};function qT(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ip(n,r)||!Ip(i,a):!0}function zL(t,e,n){var r=!1,i=nl,a=e.contextType;return typeof a=="object"&&a!==null?a=Ci(a):(i=Cr(e)?zu:Jn.current,r=e.contextTypes,a=(r=r!=null)?dh(t,i):nl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function XT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fx.enqueueReplaceState(e,e.state,null)}function RS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},RE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ci(a):(a=Cr(e)?zu:Jn.current,i.context=dh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(IS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fx.enqueueReplaceState(i,i.state,null),x0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mh(t,e){try{var n="",r=e;do n+=A4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Yw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Q8=typeof WeakMap=="function"?WeakMap:Map;function UL(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){A0||(A0=!0,VS=r),jS(t,e)},n}function HL(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jS(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function YT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Q8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hU.bind(null,t,e,n),e.then(t,t))}function KT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,qo(n,e,1))),n.lanes|=1),t)}var J8=Ys.ReactCurrentOwner,kr=!1;function ir(t,e,n,r){e.child=t===null?vL(e,null,n,r):fh(e,t.child,n,r)}function QT(t,e,n,r,i){n=n.render;var a=e.ref;return ed(e,i),r=FE(t,e,n,r,a,i),n=BE(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(Ot&&n&&CE(e),e.flags|=1,ir(t,e,r,i),e.child)}function JT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!KE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,WL(t,e,a,r,i)):(t=bv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ip,n(s,r)&&t.ref===e.ref)return Us(t,e,i)}return e.flags|=1,t=Ko(a,r),t.ref=e.ref,t.return=e,e.child=t}function WL(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ip(a,r)&&t.ref===e.ref)if(kr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(kr=!0);else return e.lanes=t.lanes,Us(t,e,i)}return LS(t,e,n,r,i)}function VL(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Wc,qr),qr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(Wc,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,wt(Wc,qr),qr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,wt(Wc,qr),qr|=r;return ir(t,e,i,n),e.child}function GL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function LS(t,e,n,r,i){var a=Cr(n)?zu:Jn.current;return a=dh(e,a),ed(e,i),n=FE(t,e,n,r,a,i),r=BE(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(Ot&&r&&CE(e),e.flags|=1,ir(t,e,n,i),e.child)}function eO(t,e,n,r,i){if(Cr(n)){var a=!0;m0(e)}else a=!1;if(ed(e,i),e.stateNode===null)gv(t,e),zL(e,n,r),RS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ci(u):(u=Cr(n)?zu:Jn.current,u=dh(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&XT(e,s,r,u),io=!1;var h=e.memoizedState;s.state=h,x0(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Er.current||io?(typeof c=="function"&&(IS(e,n,c,r),l=e.memoizedState),(o=io||qT(e,n,o,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,xL(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Di(e.type,o),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ci(l):(l=Cr(n)?zu:Jn.current,l=dh(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&XT(e,s,r,l),io=!1,h=e.memoizedState,s.state=h,x0(e,r,s,i);var m=e.memoizedState;o!==d||h!==m||Er.current||io?(typeof f=="function"&&(IS(e,n,f,r),m=e.memoizedState),(u=io||qT(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return DS(t,e,n,r,a,i)}function DS(t,e,n,r,i,a){GL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&FT(e,n,!1),Us(t,e,a);r=e.stateNode,J8.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=fh(e,t.child,null,a),e.child=fh(e,null,o,a)):ir(t,e,o,a),e.memoizedState=r.state,i&&FT(e,n,!0),e.child}function qL(t){var e=t.stateNode;e.pendingContext?$T(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$T(t,e.context,!1),jE(t,e.containerInfo)}function tO(t,e,n,r,i){return hh(),TE(i),e.flags|=256,ir(t,e,n,r),e.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function FS(t){return{baseLanes:t,cachePool:null,transitions:null}}function XL(t,e,n){var r=e.pendingProps,i=Dt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wt(Dt,i&1),t===null)return MS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=gx(s,r,0,null),t=$u(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=FS(n),e.memoizedState=$S,t):HE(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return eU(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ko(o,a):(a=$u(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?FS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=$S,r}return a=t.child,t=a.sibling,r=Ko(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function HE(t,e){return e=gx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ty(t,e,n,r){return r!==null&&TE(r),fh(e,t.child,null,n),t=HE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eU(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Yw(Error(xe(422))),Ty(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=gx({mode:"visible",children:r.children},i,0,null),a=$u(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&fh(e,t.child,null,s),e.child.memoizedState=FS(s),e.memoizedState=$S,a);if(!(e.mode&1))return Ty(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(xe(419)),r=Yw(a,r,void 0),Ty(t,e,s,r)}if(o=(s&t.childLanes)!==0,kr||o){if(r=En,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,zs(t,i),la(r,t,i,-1))}return YE(),r=Yw(Error(xe(421))),Ty(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Qr=Go(i.nextSibling),ei=e,Ot=!0,na=null,t!==null&&(gi[yi++]=Cs,gi[yi++]=Ps,gi[yi++]=Uu,Cs=t.id,Ps=t.overflow,Uu=e),e=HE(e,r.children),e.flags|=4096,e)}function nO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),NS(t.return,e,n)}function Kw(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function YL(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ir(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nO(t,n,e);else if(t.tag===19)nO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&w0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kw(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&w0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kw(e,!0,n,null,a);break;case"together":Kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tU(t,e,n){switch(e.tag){case 3:qL(e),hh();break;case 5:wL(e);break;case 1:Cr(e.type)&&m0(e);break;case 4:jE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wt(v0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?XL(t,e,n):(wt(Dt,Dt.current&1),t=Us(t,e,n),t!==null?t.sibling:null);wt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,VL(t,e,n)}return Us(t,e,n)}var KL,BS,ZL,QL;KL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BS=function(){};ZL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ll(Fa.current);var a=null;switch(n){case"input":i=lS(t,i),r=lS(t,r),a=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),a=[];break;case"textarea":i=dS(t,i),r=dS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=f0)}fS(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ep.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&kt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};QL=function(t,e,n,r){n!==r&&(e.flags|=4)};function yf(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nU(t,e,n){var r=e.pendingProps;switch(PE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return Cr(e.type)&&p0(),Bn(e),null;case 3:return r=e.stateNode,ph(),Ct(Er),Ct(Jn),DE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,na!==null&&(XS(na),na=null))),BS(t,e),Bn(e),null;case 5:LE(e);var i=Ll($p.current);if(n=e.type,t!==null&&e.stateNode!=null)ZL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return Bn(e),null}if(t=Ll(Fa.current),Cy(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[ja]=e,r[Lp]=a,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Bf.length;i++)kt(Bf[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":dT(r,a),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kt("invalid",r);break;case"textarea":fT(r,a),kt("invalid",r)}fS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ey(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ey(r.textContent,o,t),i=["children",""+o]):Ep.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&kt("scroll",r)}switch(n){case"input":vy(r),hT(r,a,!0);break;case"textarea":vy(r),pT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=f0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ej(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ja]=e,t[Lp]=r,KL(t,e,!1,!1),e.stateNode=t;e:{switch(s=pS(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bf.length;i++)kt(Bf[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":dT(t,r),i=lS(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),kt("invalid",t);break;case"textarea":fT(t,r),i=dS(t,r),kt("invalid",t);break;default:i=r}fS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Tj(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cj(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cp(t,l):typeof l=="number"&&Cp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ep.hasOwnProperty(a)?l!=null&&a==="onScroll"&&kt("scroll",t):l!=null&&fE(t,a,l,s))}switch(n){case"input":vy(t),hT(t,r,!1);break;case"textarea":vy(t),pT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Kc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Kc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=f0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)QL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=Ll($p.current),Ll(Fa.current),Cy(e)){if(r=e.stateNode,n=e.memoizedProps,r[ja]=e,(a=r.nodeValue!==n)&&(t=ei,t!==null))switch(t.tag){case 3:Ey(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ey(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ja]=e,e.stateNode=r}return Bn(e),null;case 13:if(Ct(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Qr!==null&&e.mode&1&&!(e.flags&128))gL(),hh(),e.flags|=98560,a=!1;else if(a=Cy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(xe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(xe(317));a[ja]=e}else hh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),a=!1}else na!==null&&(XS(na),na=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?pn===0&&(pn=3):YE())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return ph(),BS(t,e),t===null&&Rp(e.stateNode.containerInfo),Bn(e),null;case 10:return NE(e.type._context),Bn(e),null;case 17:return Cr(e.type)&&p0(),Bn(e),null;case 19:if(Ct(Dt),a=e.memoizedState,a===null)return Bn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)yf(a,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=w0(t),s!==null){for(e.flags|=128,yf(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wt(Dt,Dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gt()>gh&&(e.flags|=128,r=!0,yf(a,!1),e.lanes=4194304)}else{if(!r)if(t=w0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ot)return Bn(e),null}else 2*Gt()-a.renderingStartTime>gh&&n!==1073741824&&(e.flags|=128,r=!0,yf(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gt(),e.sibling=null,n=Dt.current,wt(Dt,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return XE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qr&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function rU(t,e){switch(PE(e),e.tag){case 1:return Cr(e.type)&&p0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ph(),Ct(Er),Ct(Jn),DE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LE(e),null;case 13:if(Ct(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));hh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(Dt),null;case 4:return ph(),null;case 10:return NE(e.type._context),null;case 22:case 23:return XE(),null;case 24:return null;default:return null}}var Oy=!1,Xn=!1,iU=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function zS(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var rO=!1;function aU(t,e){if(_S=c0,t=rL(),EE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AS={focusedElem:t,selectionRange:n},c0=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Di(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(k){Ut(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return m=rO,rO=!1,m}function hp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&zS(e,n,a)}i=i.next}while(i!==r)}}function px(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function US(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JL(t){var e=t.alternate;e!==null&&(t.alternate=null,JL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ja],delete e[Lp],delete e[PS],delete e[z8],delete e[U8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eD(t){return t.tag===5||t.tag===3||t.tag===4}function iO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function HS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=f0));else if(r!==4&&(t=t.child,t!==null))for(HS(t,e,n),t=t.sibling;t!==null;)HS(t,e,n),t=t.sibling}function WS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(WS(t,e,n),t=t.sibling;t!==null;)WS(t,e,n),t=t.sibling}var In=null,Qi=!1;function Js(t,e,n){for(n=n.child;n!==null;)tD(t,e,n),n=n.sibling}function tD(t,e,n){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(sx,n)}catch{}switch(n.tag){case 5:Xn||Hc(n,e);case 6:var r=In,i=Qi;In=null,Js(t,e,n),In=r,Qi=i,In!==null&&(Qi?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(Qi?(t=In,n=n.stateNode,t.nodeType===8?Hw(t.parentNode,n):t.nodeType===1&&Hw(t,n),Mp(t)):Hw(In,n.stateNode));break;case 4:r=In,i=Qi,In=n.stateNode.containerInfo,Qi=!0,Js(t,e,n),In=r,Qi=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&zS(n,e,s),i=i.next}while(i!==r)}Js(t,e,n);break;case 1:if(!Xn&&(Hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ut(n,e,o)}Js(t,e,n);break;case 21:Js(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,Js(t,e,n),Xn=r):Js(t,e,n);break;default:Js(t,e,n)}}function aO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iU),e.forEach(function(r){var i=pU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:In=o.stateNode,Qi=!1;break e;case 3:In=o.stateNode.containerInfo,Qi=!0;break e;case 4:In=o.stateNode.containerInfo,Qi=!0;break e}o=o.return}if(In===null)throw Error(xe(160));tD(a,s,i),In=null,Qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nD(e,t),e=e.sibling}function nD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ri(e,t),fa(t),r&4){try{hp(3,t,t.return),px(3,t)}catch(p){Ut(t,t.return,p)}try{hp(5,t,t.return)}catch(p){Ut(t,t.return,p)}}break;case 1:Ri(e,t),fa(t),r&512&&n!==null&&Hc(n,n.return);break;case 5:if(Ri(e,t),fa(t),r&512&&n!==null&&Hc(n,n.return),t.flags&32){var i=t.stateNode;try{Cp(i,"")}catch(p){Ut(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&_j(i,a),pS(o,s);var u=pS(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Tj(i,d):c==="dangerouslySetInnerHTML"?Cj(i,d):c==="children"?Cp(i,d):fE(i,c,d,u)}switch(o){case"input":uS(i,a);break;case"textarea":Aj(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Kc(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?Kc(i,!!a.multiple,a.defaultValue,!0):Kc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Lp]=a}catch(p){Ut(t,t.return,p)}}break;case 6:if(Ri(e,t),fa(t),r&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){Ut(t,t.return,p)}}break;case 3:if(Ri(e,t),fa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mp(e.containerInfo)}catch(p){Ut(t,t.return,p)}break;case 4:Ri(e,t),fa(t);break;case 13:Ri(e,t),fa(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(GE=Gt())),r&4&&aO(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(u=Xn)||c,Ri(e,t),Xn=u):Ri(e,t),fa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ce=t,c=t.child;c!==null;){for(d=Ce=c;Ce!==null;){switch(h=Ce,f=h.child,h.tag){case 0:case 11:case 14:case 15:hp(4,h,h.return);break;case 1:Hc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Ut(r,n,p)}}break;case 5:Hc(h,h.return);break;case 22:if(h.memoizedState!==null){oO(d);continue}}f!==null?(f.return=h,Ce=f):oO(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Pj("display",s))}catch(p){Ut(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ut(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ri(e,t),fa(t),r&4&&aO(t);break;case 21:break;default:Ri(e,t),fa(t)}}function fa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eD(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cp(i,""),r.flags&=-33);var a=iO(t);WS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=iO(t);HS(t,o,s);break;default:throw Error(xe(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sU(t,e,n){Ce=t,rD(t)}function rD(t,e,n){for(var r=(t.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Oy;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xn;o=Oy;var u=Xn;if(Oy=s,(Xn=l)&&!u)for(Ce=i;Ce!==null;)s=Ce,l=s.child,s.tag===22&&s.memoizedState!==null?lO(i):l!==null?(l.return=s,Ce=l):lO(i);for(;a!==null;)Ce=a,rD(a),a=a.sibling;Ce=i,Oy=o,Xn=u}sO(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):sO(t)}}function sO(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||px(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Di(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&WT(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WT(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Mp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Xn||e.flags&512&&US(e)}catch(h){Ut(e,e.return,h)}}if(e===t){Ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function oO(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function lO(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{px(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var a=e.return;try{US(e)}catch(l){Ut(e,a,l)}break;case 5:var s=e.return;try{US(e)}catch(l){Ut(e,s,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){Ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ce=o;break}Ce=e.return}}var oU=Math.ceil,_0=Ys.ReactCurrentDispatcher,WE=Ys.ReactCurrentOwner,ki=Ys.ReactCurrentBatchConfig,et=0,En=null,tn=null,jn=0,qr=0,Wc=ll(0),pn=0,Up=null,Wu=0,mx=0,VE=0,fp=null,Sr=null,GE=0,gh=1/0,Qa=null,A0=!1,VS=null,Xo=null,My=!1,Bo=null,E0=0,pp=0,GS=null,yv=-1,vv=0;function or(){return et&6?Gt():yv!==-1?yv:yv=Gt()}function Yo(t){return t.mode&1?et&2&&jn!==0?jn&-jn:W8.transition!==null?(vv===0&&(vv=zj()),vv):(t=dt,t!==0||(t=window.event,t=t===void 0?16:Xj(t.type)),t):1}function la(t,e,n,r){if(50<pp)throw pp=0,GS=null,Error(xe(185));Gg(t,n,r),(!(et&2)||t!==En)&&(t===En&&(!(et&2)&&(mx|=n),pn===4&&lo(t,jn)),Pr(t,r),n===1&&et===0&&!(e.mode&1)&&(gh=Gt()+500,dx&&ul()))}function Pr(t,e){var n=t.callbackNode;W4(t,e);var r=u0(t,t===En?jn:0);if(r===0)n!==null&&yT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yT(n),e===1)t.tag===0?H8(uO.bind(null,t)):fL(uO.bind(null,t)),F8(function(){!(et&6)&&ul()}),n=null;else{switch(Uj(r)){case 1:n=vE;break;case 4:n=Fj;break;case 16:n=l0;break;case 536870912:n=Bj;break;default:n=l0}n=dD(n,iD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iD(t,e){if(yv=-1,vv=0,et&6)throw Error(xe(327));var n=t.callbackNode;if(td()&&t.callbackNode!==n)return null;var r=u0(t,t===En?jn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=C0(t,r);else{e=r;var i=et;et|=2;var a=sD();(En!==t||jn!==e)&&(Qa=null,gh=Gt()+500,Du(t,e));do try{cU();break}catch(o){aD(t,o)}while(!0);ME(),_0.current=a,et=i,tn!==null?e=0:(En=null,jn=0,e=pn)}if(e!==0){if(e===2&&(i=bS(t),i!==0&&(r=i,e=qS(t,i))),e===1)throw n=Up,Du(t,0),lo(t,r),Pr(t,Gt()),n;if(e===6)lo(t,r);else{if(i=t.current.alternate,!(r&30)&&!lU(i)&&(e=C0(t,r),e===2&&(a=bS(t),a!==0&&(r=a,e=qS(t,a))),e===1))throw n=Up,Du(t,0),lo(t,r),Pr(t,Gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:Sl(t,Sr,Qa);break;case 3:if(lo(t,r),(r&130023424)===r&&(e=GE+500-Gt(),10<e)){if(u0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=CS(Sl.bind(null,t,Sr,Qa),e);break}Sl(t,Sr,Qa);break;case 4:if(lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oU(r/1960))-r,10<r){t.timeoutHandle=CS(Sl.bind(null,t,Sr,Qa),r);break}Sl(t,Sr,Qa);break;case 5:Sl(t,Sr,Qa);break;default:throw Error(xe(329))}}}return Pr(t,Gt()),t.callbackNode===n?iD.bind(null,t):null}function qS(t,e){var n=fp;return t.current.memoizedState.isDehydrated&&(Du(t,e).flags|=256),t=C0(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&XS(e)),t}function XS(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function lU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ua(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lo(t,e){for(e&=~VE,e&=~mx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oa(e),r=1<<n;t[n]=-1,e&=~r}}function uO(t){if(et&6)throw Error(xe(327));td();var e=u0(t,0);if(!(e&1))return Pr(t,Gt()),null;var n=C0(t,e);if(t.tag!==0&&n===2){var r=bS(t);r!==0&&(e=r,n=qS(t,r))}if(n===1)throw n=Up,Du(t,0),lo(t,e),Pr(t,Gt()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,Sr,Qa),Pr(t,Gt()),null}function qE(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(gh=Gt()+500,dx&&ul())}}function Vu(t){Bo!==null&&Bo.tag===0&&!(et&6)&&td();var e=et;et|=1;var n=ki.transition,r=dt;try{if(ki.transition=null,dt=1,t)return t()}finally{dt=r,ki.transition=n,et=e,!(et&6)&&ul()}}function XE(){qr=Wc.current,Ct(Wc)}function Du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$8(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(PE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&p0();break;case 3:ph(),Ct(Er),Ct(Jn),DE();break;case 5:LE(r);break;case 4:ph();break;case 13:Ct(Dt);break;case 19:Ct(Dt);break;case 10:NE(r.type._context);break;case 22:case 23:XE()}n=n.return}if(En=t,tn=t=Ko(t.current,null),jn=qr=e,pn=0,Up=null,VE=mx=Wu=0,Sr=fp=null,jl!==null){for(e=0;e<jl.length;e++)if(n=jl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}jl=null}return t}function aD(t,e){do{var n=tn;try{if(ME(),pv.current=k0,S0){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}S0=!1}if(Hu=0,An=dn=$t=null,dp=!1,Fp=0,WE.current=null,n===null||n.return===null){pn=1,Up=e,tn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=jn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=KT(s);if(f!==null){f.flags&=-257,ZT(f,s,o,a,e),f.mode&1&&YT(a,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){YT(a,u,e),YE();break e}l=Error(xe(426))}}else if(Ot&&o.mode&1){var v=KT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ZT(v,s,o,a,e),TE(mh(l,o));break e}}a=l=mh(l,o),pn!==4&&(pn=2),fp===null?fp=[a]:fp.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=UL(a,l,e);HT(a,y);break e;case 1:o=l;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xo===null||!Xo.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=HL(a,o,e);HT(a,k);break e}}a=a.return}while(a!==null)}lD(n)}catch(S){e=S,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function sD(){var t=_0.current;return _0.current=k0,t===null?k0:t}function YE(){(pn===0||pn===3||pn===2)&&(pn=4),En===null||!(Wu&268435455)&&!(mx&268435455)||lo(En,jn)}function C0(t,e){var n=et;et|=2;var r=sD();(En!==t||jn!==e)&&(Qa=null,Du(t,e));do try{uU();break}catch(i){aD(t,i)}while(!0);if(ME(),et=n,_0.current=r,tn!==null)throw Error(xe(261));return En=null,jn=0,pn}function uU(){for(;tn!==null;)oD(tn)}function cU(){for(;tn!==null&&!j4();)oD(tn)}function oD(t){var e=cD(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?lD(t):tn=e,WE.current=null}function lD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rU(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,tn=null;return}}else if(n=nU(n,e,qr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);pn===0&&(pn=5)}function Sl(t,e,n){var r=dt,i=ki.transition;try{ki.transition=null,dt=1,dU(t,e,n,r)}finally{ki.transition=i,dt=r}return null}function dU(t,e,n,r){do td();while(Bo!==null);if(et&6)throw Error(xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(V4(t,a),t===En&&(tn=En=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||My||(My=!0,dD(l0,function(){return td(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ki.transition,ki.transition=null;var s=dt;dt=1;var o=et;et|=4,WE.current=null,aU(t,n),nD(n,t),M8(AS),c0=!!_S,AS=_S=null,t.current=n,sU(n),L4(),et=o,dt=s,ki.transition=a}else t.current=n;if(My&&(My=!1,Bo=t,E0=i),a=t.pendingLanes,a===0&&(Xo=null),F4(n.stateNode),Pr(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(A0)throw A0=!1,t=VS,VS=null,t;return E0&1&&t.tag!==0&&td(),a=t.pendingLanes,a&1?t===GS?pp++:(pp=0,GS=t):pp=0,ul(),null}function td(){if(Bo!==null){var t=Uj(E0),e=ki.transition,n=dt;try{if(ki.transition=null,dt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,E0=0,et&6)throw Error(xe(331));var i=et;for(et|=4,Ce=t.current;Ce!==null;){var a=Ce,s=a.child;if(Ce.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ce=u;Ce!==null;){var c=Ce;switch(c.tag){case 0:case 11:case 15:hp(8,c,a)}var d=c.child;if(d!==null)d.return=c,Ce=d;else for(;Ce!==null;){c=Ce;var h=c.sibling,f=c.return;if(JL(c),c===u){Ce=null;break}if(h!==null){h.return=f,Ce=h;break}Ce=f}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ce=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ce=s;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hp(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ce=y;break e}Ce=a.return}}var b=t.current;for(Ce=b;Ce!==null;){s=Ce;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ce=x;else e:for(s=b;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:px(9,o)}}catch(S){Ut(o,o.return,S)}if(o===s){Ce=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Ce=k;break e}Ce=o.return}}if(et=i,ul(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(sx,t)}catch{}r=!0}return r}finally{dt=n,ki.transition=e}}return!1}function cO(t,e,n){e=mh(n,e),e=UL(t,e,1),t=qo(t,e,1),e=or(),t!==null&&(Gg(t,1,e),Pr(t,e))}function Ut(t,e,n){if(t.tag===3)cO(t,t,n);else for(;e!==null;){if(e.tag===3){cO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=mh(n,t),t=HL(e,t,1),e=qo(e,t,1),t=or(),e!==null&&(Gg(e,1,t),Pr(e,t));break}}e=e.return}}function hU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(jn&n)===n&&(pn===4||pn===3&&(jn&130023424)===jn&&500>Gt()-GE?Du(t,0):VE|=n),Pr(t,e)}function uD(t,e){e===0&&(t.mode&1?(e=wy,wy<<=1,!(wy&130023424)&&(wy=4194304)):e=1);var n=or();t=zs(t,e),t!==null&&(Gg(t,e,n),Pr(t,n))}function fU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uD(t,n)}function pU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),uD(t,n)}var cD;cD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)kr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kr=!1,tU(t,e,n);kr=!!(t.flags&131072)}else kr=!1,Ot&&e.flags&1048576&&pL(e,y0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gv(t,e),t=e.pendingProps;var i=dh(e,Jn.current);ed(e,n),i=FE(null,e,r,t,i,n);var a=BE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(r)?(a=!0,m0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,RE(e),i.updater=fx,e.stateNode=i,i._reactInternals=e,RS(e,r,t,n),e=DS(null,e,r,!0,a,n)):(e.tag=0,Ot&&a&&CE(e),ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gU(r),t=Di(r,t),i){case 0:e=LS(null,e,r,t,n);break e;case 1:e=eO(null,e,r,t,n);break e;case 11:e=QT(null,e,r,t,n);break e;case 14:e=JT(null,e,r,Di(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),LS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),eO(t,e,r,i,n);case 3:e:{if(qL(e),t===null)throw Error(xe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,xL(t,e),x0(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=mh(Error(xe(423)),e),e=tO(t,e,r,n,i);break e}else if(r!==i){i=mh(Error(xe(424)),e),e=tO(t,e,r,n,i);break e}else for(Qr=Go(e.stateNode.containerInfo.firstChild),ei=e,Ot=!0,na=null,n=vL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hh(),r===i){e=Us(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return wL(e),t===null&&MS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,ES(r,i)?s=null:a!==null&&ES(r,a)&&(e.flags|=32),GL(t,e),ir(t,e,s,n),e.child;case 6:return t===null&&MS(e),null;case 13:return XL(t,e,n);case 4:return jE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fh(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),QT(t,e,r,i,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,wt(v0,r._currentValue),r._currentValue=s,a!==null)if(ua(a.value,s)){if(a.children===i.children&&!Er.current){e=Us(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ns(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),NS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(xe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),NS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ed(e,n),i=Ci(i),r=r(i),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,i=Di(r,e.pendingProps),i=Di(r.type,i),JT(t,e,r,i,n);case 15:return WL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),gv(t,e),e.tag=1,Cr(r)?(t=!0,m0(e)):t=!1,ed(e,n),zL(e,r,i),RS(e,r,i,n),DS(null,e,r,!0,t,n);case 19:return YL(t,e,n);case 22:return VL(t,e,n)}throw Error(xe(156,e.tag))};function dD(t,e){return $j(t,e)}function mU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(t,e,n,r){return new mU(t,e,n,r)}function KE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gU(t){if(typeof t=="function")return KE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mE)return 11;if(t===gE)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")KE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rc:return $u(n.children,i,a,e);case pE:s=8,i|=8;break;case iS:return t=wi(12,n,e,i|2),t.elementType=iS,t.lanes=a,t;case aS:return t=wi(13,n,e,i),t.elementType=aS,t.lanes=a,t;case sS:return t=wi(19,n,e,i),t.elementType=sS,t.lanes=a,t;case wj:return gx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bj:s=10;break e;case xj:s=9;break e;case mE:s=11;break e;case gE:s=14;break e;case ro:s=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=wi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function $u(t,e,n,r){return t=wi(7,t,r,e),t.lanes=n,t}function gx(t,e,n,r){return t=wi(22,t,r,e),t.elementType=wj,t.lanes=n,t.stateNode={isHidden:!1},t}function Zw(t,e,n){return t=wi(6,t,null,e),t.lanes=n,t}function Qw(t,e,n){return e=wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nw(0),this.expirationTimes=Nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZE(t,e,n,r,i,a,s,o,l){return t=new yU(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},RE(a),t}function vU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ic,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hD(t){if(!t)return nl;t=t._reactInternals;e:{if(ic(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Cr(n))return hL(t,n,e)}return e}function fD(t,e,n,r,i,a,s,o,l){return t=ZE(n,r,!0,t,i,a,s,o,l),t.context=hD(null),n=t.current,r=or(),i=Yo(n),a=Ns(r,i),a.callback=e??null,qo(n,a,i),t.current.lanes=i,Gg(t,i,r),Pr(t,r),t}function yx(t,e,n,r){var i=e.current,a=or(),s=Yo(i);return n=hD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qo(i,e,s),t!==null&&(la(t,i,s,a),fv(t,i,s)),s}function P0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function QE(t,e){dO(t,e),(t=t.alternate)&&dO(t,e)}function bU(){return null}var pD=typeof reportError=="function"?reportError:function(t){console.error(t)};function JE(t){this._internalRoot=t}vx.prototype.render=JE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));yx(t,e,null,null)};vx.prototype.unmount=JE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vu(function(){yx(null,t,null,null)}),e[Bs]=null}};function vx(t){this._internalRoot=t}vx.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oo.length&&e!==0&&e<oo[n].priority;n++);oo.splice(n,0,t),n===0&&qj(t)}};function eC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hO(){}function xU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=P0(s);a.call(u)}}var s=fD(e,r,t,0,null,!1,!1,"",hO);return t._reactRootContainer=s,t[Bs]=s.current,Rp(t.nodeType===8?t.parentNode:t),Vu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=P0(l);o.call(u)}}var l=ZE(t,0,!1,null,null,!1,!1,"",hO);return t._reactRootContainer=l,t[Bs]=l.current,Rp(t.nodeType===8?t.parentNode:t),Vu(function(){yx(e,l,n,r)}),l}function xx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=P0(s);o.call(l)}}yx(e,s,t,i)}else s=xU(n,e,t,i,r);return P0(s)}Hj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ff(e.pendingLanes);n!==0&&(bE(e,n|1),Pr(e,Gt()),!(et&6)&&(gh=Gt()+500,ul()))}break;case 13:Vu(function(){var r=zs(t,1);if(r!==null){var i=or();la(r,t,1,i)}}),QE(t,1)}};xE=function(t){if(t.tag===13){var e=zs(t,134217728);if(e!==null){var n=or();la(e,t,134217728,n)}QE(t,134217728)}};Wj=function(t){if(t.tag===13){var e=Yo(t),n=zs(t,e);if(n!==null){var r=or();la(n,t,e,r)}QE(t,e)}};Vj=function(){return dt};Gj=function(t,e){var n=dt;try{return dt=t,e()}finally{dt=n}};gS=function(t,e,n){switch(e){case"input":if(uS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cx(r);if(!i)throw Error(xe(90));kj(r),uS(r,i)}}}break;case"textarea":Aj(t,n);break;case"select":e=n.value,e!=null&&Kc(t,!!n.multiple,e,!1)}};Nj=qE;Ij=Vu;var wU={usingClientEntryPoint:!1,Events:[Xg,$c,cx,Oj,Mj,qE]},vf={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SU={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lj(t),t===null?null:t.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||bU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{sx=Ny.inject(SU),$a=Ny}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wU;ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eC(e))throw Error(xe(200));return vU(t,e,null,n)};ii.createRoot=function(t,e){if(!eC(t))throw Error(xe(299));var n=!1,r="",i=pD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZE(t,1,!1,null,null,n,!1,r,i),t[Bs]=e.current,Rp(t.nodeType===8?t.parentNode:t),new JE(e)};ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=Lj(e),t=t===null?null:t.stateNode,t};ii.flushSync=function(t){return Vu(t)};ii.hydrate=function(t,e,n){if(!bx(e))throw Error(xe(200));return xx(null,t,e,!0,n)};ii.hydrateRoot=function(t,e,n){if(!eC(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=pD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fD(e,null,t,1,n??null,i,!1,a,s),t[Bs]=e.current,Rp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vx(e)};ii.render=function(t,e,n){if(!bx(e))throw Error(xe(200));return xx(null,t,e,!1,n)};ii.unmountComponentAtNode=function(t){if(!bx(t))throw Error(xe(40));return t._reactRootContainer?(Vu(function(){xx(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};ii.unstable_batchedUpdates=qE;ii.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bx(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return xx(t,e,n,!1,r)};ii.version="18.3.1-next-f1338f8080-20240426";function mD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mD)}catch(t){console.error(t)}}mD(),mj.exports=ii;var kU=mj.exports,gD,fO=kU;gD=fO.createRoot,fO.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}var zo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zo||(zo={}));const pO="popstate";function _U(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return YS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:T0(i)}return EU(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AU(){return Math.random().toString(36).substr(2,8)}function mO(t,e){return{usr:t.state,key:t.key,idx:e}}function YS(t,e,n,r){return n===void 0&&(n=null),Hp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gh(e):e,{state:n,key:e&&e.key||r||AU()})}function T0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=zo.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Hp({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=zo.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:o,location:p.location,delta:y})}function h(v,y){o=zo.Push;let b=YS(p.location,v,y);u=c()+1;let x=mO(b,u),k=p.createHref(b);try{s.pushState(x,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}a&&l&&l({action:o,location:p.location,delta:1})}function f(v,y){o=zo.Replace;let b=YS(p.location,v,y);u=c();let x=mO(b,u),k=p.createHref(b);s.replaceState(x,"",k),a&&l&&l({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:T0(v);return b=b.replace(/ $/,"%20"),Xt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pO,d),l=v,()=>{i.removeEventListener(pO,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return s.go(v)}};return p}var gO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gO||(gO={}));function CU(t,e,n){return n===void 0&&(n="/"),PU(t,e,n)}function PU(t,e,n,r){let i=typeof e=="string"?Gh(e):e,a=nC(i.pathname||"/",n);if(a==null)return null;let s=yD(t);TU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=zU(a);o=$U(s[l],u)}return o}function yD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zo([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yD(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:LU(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of vD(a.path))i(a,s,l)}),e}function vD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=vD(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function TU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OU=/^:[\w-]+$/,MU=3,NU=2,IU=1,RU=10,jU=-2,yO=t=>t==="*";function LU(t,e){let n=t.split("/"),r=n.length;return n.some(yO)&&(r+=jU),e&&(r+=NU),n.filter(i=>!yO(i)).reduce((i,a)=>i+(OU.test(a)?MU:a===""?IU:RU),r)}function DU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $U(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=FU({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Zo([a,d.pathname]),pathnameBase:GU(Zo([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Zo([a,d.pathnameBase]))}return s}function FU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=o[d]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function BU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const UU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HU=t=>UU.test(t);function WU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gh(t):t,a;if(n)if(HU(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),tC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=vO(n.substring(1),"/"):a=vO(n,e)}else a=e;return{pathname:a,search:qU(r),hash:XU(i)}}function vO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rC(t,e){let n=VU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gh(t):(i=Hp({},t),Xt(!i.pathname||!i.pathname.includes("?"),Jw("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),Jw("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),Jw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=WU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zo=t=>t.join("/").replace(/\/\/+/g,"/"),GU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bD=["post","put","patch","delete"];new Set(bD);const KU=["get",...bD];new Set(KU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}const aC=N.createContext(null),ZU=N.createContext(null),cl=N.createContext(null),wx=N.createContext(null),Wa=N.createContext({outlet:null,matches:[],isDataRoute:!1}),xD=N.createContext(null);function QU(t,e){let{relative:n}=e===void 0?{}:e;qh()||Xt(!1);let{basename:r,navigator:i}=N.useContext(cl),{hash:a,pathname:s,search:o}=SD(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Zo([r,s])),i.createHref({pathname:l,search:o,hash:a})}function qh(){return N.useContext(wx)!=null}function Kg(){return qh()||Xt(!1),N.useContext(wx).location}function wD(t){N.useContext(cl).static||N.useLayoutEffect(t)}function Sx(){let{isDataRoute:t}=N.useContext(Wa);return t?fH():JU()}function JU(){qh()||Xt(!1);let t=N.useContext(aC),{basename:e,future:n,navigator:r}=N.useContext(cl),{matches:i}=N.useContext(Wa),{pathname:a}=Kg(),s=JSON.stringify(rC(i,n.v7_relativeSplatPath)),o=N.useRef(!1);return wD(()=>{o.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=iC(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,a,t])}const eH=N.createContext(null);function tH(t){let e=N.useContext(Wa).outlet;return e&&N.createElement(eH.Provider,{value:t},e)}function sC(){let{matches:t}=N.useContext(Wa),e=t[t.length-1];return e?e.params:{}}function SD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(cl),{matches:i}=N.useContext(Wa),{pathname:a}=Kg(),s=JSON.stringify(rC(i,r.v7_relativeSplatPath));return N.useMemo(()=>iC(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function nH(t,e){return rH(t,e)}function rH(t,e,n,r){qh()||Xt(!1);let{navigator:i}=N.useContext(cl),{matches:a}=N.useContext(Wa),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Kg(),c;if(e){var d;let v=typeof e=="string"?Gh(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Xt(!1),c=v}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=CU(t,{pathname:f}),p=lH(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Zo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Zo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&p?N.createElement(wx.Provider,{value:{location:Wp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:zo.Pop}},p):p}function iH(){let t=hH(),e=YU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const aH=N.createElement(iH,null);class sH extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Wa.Provider,{value:this.props.routeContext},N.createElement(xD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oH(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(aC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Wa.Provider,{value:e},r)}function lH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Xt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,m=!1,p=null,v=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||aH,l&&(u<0&&h===0?(pH("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),b=()=>{let x;return f?x=p:m?x=v:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,N.createElement(oH,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?N.createElement(sH,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var kD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kD||{}),_D=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_D||{});function uH(t){let e=N.useContext(aC);return e||Xt(!1),e}function cH(t){let e=N.useContext(ZU);return e||Xt(!1),e}function dH(t){let e=N.useContext(Wa);return e||Xt(!1),e}function AD(t){let e=dH(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function hH(){var t;let e=N.useContext(xD),n=cH(),r=AD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fH(){let{router:t}=uH(kD.UseNavigateStable),e=AD(_D.UseNavigateStable),n=N.useRef(!1);return wD(()=>{n.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wp({fromRouteId:e},a)))},[t,e])}const bO={};function pH(t,e,n){bO[t]||(bO[t]=!0)}function mH(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function O0(t){let{to:e,replace:n,state:r,relative:i}=t;qh()||Xt(!1);let{future:a,static:s}=N.useContext(cl),{matches:o}=N.useContext(Wa),{pathname:l}=Kg(),u=Sx(),c=iC(e,rC(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function gH(t){return tH(t.context)}function kl(t){Xt(!1)}function yH(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zo.Pop,navigator:a,static:s=!1,future:o}=t;qh()&&Xt(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:s,future:Wp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Gh(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,p=N.useMemo(()=>{let v=nC(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return p==null?null:N.createElement(cl.Provider,{value:u},N.createElement(wx.Provider,{children:n,value:p}))}function vH(t){let{children:e,location:n}=t;return nH(KS(e),n)}new Promise(()=>{});function KS(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){n.push.apply(n,KS(r.props.children,a));return}r.type!==kl&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=KS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(this,arguments)}function bH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wH(t,e){return t.button===0&&(!e||e==="_self")&&!xH(t)}const SH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kH="6";try{window.__reactRouterVersion=kH}catch{}const _H="startTransition",xO=h4[_H];function AH(t){let{basename:e,children:n,future:r,window:i}=t,a=N.useRef();a.current==null&&(a.current=_U({window:i,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=N.useCallback(d=>{u&&xO?xO(()=>l(d)):l(d)},[l,u]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.useEffect(()=>mH(r),[r]),N.createElement(yH,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const EH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yh=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=bH(e,SH),{basename:f}=N.useContext(cl),m,p=!1;if(typeof u=="string"&&CH.test(u)&&(m=u,EH))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=nC(k.pathname,f);k.origin===x.origin&&S!=null?u=S+k.search+k.hash:p=!0}catch{}let v=QU(u,{relative:i}),y=PH(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(x){r&&r(x),x.defaultPrevented||y(x)}return N.createElement("a",ZS({},h,{href:m||v,onClick:p||a?r:b,ref:n,target:l}))});var wO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wO||(wO={}));var SO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SO||(SO={}));function PH(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Sx(),u=Kg(),c=SD(t,{relative:s});return N.useCallback(d=>{if(wH(d,n)){d.preventDefault();let h=r!==void 0?r:T0(u)===T0(c);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,t,a,s,o])}const TH="studyhub-db",OH=2;let Iy=null;function Zg(){return Iy||(Iy=new Promise((t,e)=>{const n=indexedDB.open(TH,OH);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{const r=n.result;if(r.objectStoreNames.contains("workspace")){if(r.objectStoreNames.contains("workspace")){const i=n.transaction.objectStore("workspace");i.indexNames.contains("workspaceId")||i.createIndex("workspaceId","workspaceId",{unique:!1})}}else{const i=r.createObjectStore("workspace",{keyPath:"id"});i.createIndex("kind","kind",{unique:!1}),i.createIndex("folderId","folderId",{unique:!1}),i.createIndex("parentId","parentId",{unique:!1}),i.createIndex("workspaceId","workspaceId",{unique:!1})}r.objectStoreNames.contains("tabs")||r.createObjectStore("tabs",{keyPath:"id"}),r.objectStoreNames.contains("study")||r.createObjectStore("study",{keyPath:"id"}),r.objectStoreNames.contains("csvPrefs")||r.createObjectStore("csvPrefs",{keyPath:"fileId"})}}),Iy)}async function da(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readonly").objectStore(t).get(e);s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async function oC(t){const e=await Zg();return new Promise((n,r)=>{const a=e.transaction(t,"readonly").objectStore(t).getAll();a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)})}async function MH(t,e,n){const r=await Zg();return new Promise((i,a)=>{const u=r.transaction(t,"readonly").objectStore(t).index(e).getAll(n);u.onsuccess=()=>i(u.result),u.onerror=()=>a(u.error)})}async function Or(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).put(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async function Gu(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).delete(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}const lC="studyapp_";function fr(t){return typeof window>"u"?null:localStorage.getItem(lC+t)}function pr(t,e){typeof window>"u"||localStorage.setItem(lC+t,e)}function M0(t){typeof window>"u"||localStorage.removeItem(lC+t)}const ED=["light","dark","cyberpunk","octopus","pipboy","lofi"];function NH(){const t=fr("theme");return t==="light"||t==="dark"||t==="cyberpunk"||t==="octopus"||t==="pipboy"||t==="lofi"?t:"light"}function IH(t){pr("theme",t)}const CD=["dm-sans","lora","fraunces","space-grotesk","nunito"],RH={"dm-sans":"DM Sans",lora:"Lora",fraunces:"Fraunces","space-grotesk":"Space Grotesk",nunito:"Nunito"};function jH(t){return RH[t]}const LH={"dm-sans":'"DM Sans", sans-serif',lora:"Lora, Georgia, serif",fraunces:'"Fraunces", Georgia, serif',"space-grotesk":'"Space Grotesk", sans-serif',nunito:'"Nunito", sans-serif'};function DH(t){return LH[t]}function $H(){const t=fr("font");return t&&CD.includes(t)?t:"dm-sans"}function FH(t){pr("font",t)}function BH(){return fr("compact")==="true"}function zH(t){pr("compact",t?"true":"false")}function UH(){return fr("sidebar_collapsed")==="true"}function HH(t){pr("sidebar_collapsed",t?"true":"false")}const PD="study_last_mode";function kO(){const t=fr(PD);return t&&["pomodoro","timer","flashcards","5217","timeboxing","spacedrep"].includes(t)?t:null}function WH(t){pr(PD,t)}const TD="reduce_motion";function OD(){const t=fr(TD);return t==="true"||t==="false"?t==="true":!1}function VH(t){pr(TD,t?"true":"false")}function Qo(){try{const t=fr("media_links");return t?JSON.parse(t):{}}catch{return{}}}function Vp(t){pr("media_links",JSON.stringify(t))}const MD="workspace_expanded";function GH(){try{const t=fr(MD);return t?JSON.parse(t):{}}catch{return{}}}function qH(t){pr(MD,JSON.stringify(t))}const uC="media_spotify_youtube";function QS(){return fr(uC)}function ND(t){pr(uC,t)}function ID(){M0(uC)}const RD="spotify_youtube_cache";function jD(){try{const t=fr(RD);return t?JSON.parse(t):{}}catch{return{}}}function XH(t,e){const n=jD();n[t]=e,pr(RD,JSON.stringify(n))}const JS="user_avatar";function ek(){return fr(JS)}function LD(t){t==null?M0(JS):pr(JS,t)}const DD="workspace_list",$D="active_workspace_id";function zf(){try{const t=fr(DD);return t?JSON.parse(t):[]}catch{return[]}}function xv(t){pr(DD,JSON.stringify(t))}function e1(){return fr($D)}function wv(t){pr($D,t)}const FD=N.createContext(null);function _O(){if(typeof window>"u")return!1;const t=OD(),e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;return t||e}function YH({children:t}){const[e,n]=N.useState(()=>NH()),[r,i]=N.useState(()=>$H()),[a,s]=N.useState(()=>BH()),[o,l]=N.useState(()=>UH()),[u,c]=N.useState(()=>OD());N.useEffect(()=>{document.documentElement.classList.remove("theme-light","theme-dark","theme-cyberpunk","theme-octopus","theme-pipboy","theme-lofi"),document.documentElement.classList.add(`theme-${e}`),e==="dark"||e==="cyberpunk"||e==="octopus"||e==="pipboy"||e==="lofi"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),N.useEffect(()=>{document.documentElement.setAttribute("data-font",r)},[r]),N.useEffect(()=>{a?document.documentElement.classList.add("compact"):document.documentElement.classList.remove("compact")},[a]),N.useEffect(()=>{_O()?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[u]),N.useEffect(()=>{const v=window.matchMedia("(prefers-reduced-motion: reduce)"),y=()=>{_O()?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")};return v.addEventListener("change",y),()=>v.removeEventListener("change",y)},[u]);const d=N.useCallback(v=>{n(v),IH(v)},[]),h=N.useCallback(v=>{i(v),FH(v)},[]),f=N.useCallback(v=>{s(v),zH(v)},[]),m=N.useCallback(v=>{l(v),HH(v)},[]),p=N.useCallback(v=>{c(v),VH(v)},[]);return _.jsx(FD.Provider,{value:{theme:e,setTheme:d,font:r,setFont:h,compact:a,setCompact:f,sidebarCollapsed:o,setSidebarCollapsed:m,reduceMotion:u,setReduceMotion:p},children:t})}function Qg(){const t=N.useContext(FD);if(!t)throw new Error("useSettings must be used within SettingsProvider");return t}const KH={success:"bg-green-600 text-white dark:bg-green-700",info:"bg-blue-600 text-white dark:bg-blue-700",error:"bg-red-600 text-white dark:bg-red-700"};function ZH({id:t,message:e,variant:n="info",duration:r=4e3,onClose:i}){return N.useEffect(()=>{if(r<=0)return;const a=setTimeout(()=>i(t),r);return()=>clearTimeout(a)},[t,r,i]),_.jsxs("div",{className:`flex items-center justify-between gap-3 rounded-lg px-4 py-3 shadow-lg animate-toast-enter ${KH[n]}`,role:"status",children:[_.jsx("span",{className:"text-sm font-medium",children:e}),_.jsx("button",{type:"button",className:"rounded p-1 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close",onClick:()=>i(t),children:""})]})}const BD=N.createContext(null);let QH=0;function JH(){return`toast-${++QH}`}function eW({children:t}){const[e,n]=N.useState([]),r=N.useCallback(a=>{n(s=>s.filter(o=>o.id!==a))},[]),i=N.useCallback((a,s="info",o=4e3)=>{const l=JH();n(u=>[...u,{id:l,message:a,variant:s,duration:o}])},[]);return _.jsxs(BD.Provider,{value:{showToast:i},children:[t,_.jsx("div",{className:"fixed right-4 top-4 z-50 flex max-w-sm flex-col gap-2","aria-live":"polite",children:e.map(a=>_.jsx(ZH,{id:a.id,message:a.message,variant:a.variant,duration:a.duration,onClose:r},a.id))})]})}function tW(){const t=N.useContext(BD);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const nW={query:"",setQuery:()=>{}},zD=N.createContext(nW);function rW({children:t}){const[e,n]=N.useState("");return _.jsx(zD.Provider,{value:{query:e,setQuery:n},children:t})}function UD(){return N.useContext(zD)}const HD=N.createContext(null);function iW({children:t}){const[e,n]=N.useState(""),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState("main"),[u,c]=N.useState(!1),[d,h]=N.useState(!1),[f,m]=N.useState(0);N.useEffect(()=>{const w=Qo();n(w.spotify??""),i(QS())},[]),N.useEffect(()=>{if(e||r){const w=setTimeout(()=>{c(!0)},1e3);return()=>clearTimeout(w)}else c(!1)},[e,r]);const p=N.useCallback(w=>{n(w),Vp({...Qo(),spotify:w})},[]),v=N.useCallback(w=>{i(w),w?ND(w):ID()},[]),y=N.useCallback(w=>{s(w)},[]),b=N.useCallback(w=>{l(w)},[]),x=N.useCallback(w=>{c(w)},[]),k=N.useCallback(w=>{h(w)},[]),S=N.useCallback(w=>{m(w)},[]);return _.jsx(HD.Provider,{value:{spotifyUrl:e,youtubeVideoId:r,trackMetadata:a,playerOwner:o,isPlaying:u,isPopupOpen:d,currentTime:f,setSpotifyUrl:p,setYoutubeVideoId:v,setTrackMetadata:y,setPlayerOwner:b,setIsPlaying:x,setIsPopupOpen:k,setCurrentTime:S},children:t})}function kx(){const t=N.useContext(HD);if(!t)throw new Error("useMedia must be used within MediaProvider");return t}const aW="studyhub-db",sW="studyapp_";async function oW(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n!=null&&n.startsWith(sW)&&t.push(n)}return t.forEach(e=>localStorage.removeItem(e)),new Promise((e,n)=>{const r=indexedDB.deleteDatabase(aW);r.onsuccess=()=>e(),r.onerror=()=>n(r.error),r.onblocked=()=>e()})}class lW extends N.Component{constructor(n){super(n);Ie(this,"handleGoToWorkspace",()=>{window.location.href="/app/workspace"});Ie(this,"handleReload",()=>{window.location.reload()});Ie(this,"handleClearData",async()=>{await oW(),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?_.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-slate-100 p-6 dark:bg-slate-900",children:[_.jsx("h1",{className:"text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Something went wrong."}),_.jsx("p",{className:"text-center text-slate-600 dark:text-slate-400",children:"An unexpected error occurred. You can go to the workspace, reload the app, or clear local data and start over."}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white hover:bg-blue-700",onClick:this.handleGoToWorkspace,children:"Go to Workspace"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-4 py-2 font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",onClick:this.handleReload,children:"Reload App"}),_.jsx("button",{type:"button",className:"rounded-lg border border-red-300 bg-white px-4 py-2 font-medium text-red-700 hover:bg-red-50 dark:border-red-700 dark:bg-slate-800 dark:text-red-300 dark:hover:bg-red-900/20",onClick:this.handleClearData,children:"Clear Local Data"})]})]}):this.props.children}}const uW=14,cW=2e3,dW=120;function hW(t,e){const n=N.useRef(0),r=N.useRef(null),i=N.useRef(t),a=N.useRef(null);return i.current=t,N.useCallback((s,o)=>{a.current={x:s,y:o};const l=Date.now();if(l-n.current>=e){n.current=l;const c=a.current;c&&i.current(c.x,c.y);return}r.current===null&&(r.current=requestAnimationFrame(()=>{r.current=null,n.current=Date.now();const c=a.current;c&&i.current(c.x,c.y)}))},[e])}function fW(){const{theme:t,reduceMotion:e}=Qg(),[n,r]=N.useState([]),i=N.useRef(0),a=N.useRef(new Map),s=hW(N.useCallback((l,u)=>{if(e)return;const c=++i.current,d=l+(Math.random()-.5)*24,h=u+(Math.random()-.5)*24;r(m=>[...m,{id:c,x:d,y:h}].slice(-10));const f=setTimeout(()=>{a.current.delete(c),r(m=>m.filter(p=>p.id!==c))},cW);a.current.set(c,f)},[e]),dW);if(N.useEffect(()=>{const l=u=>s(u.clientX,u.clientY);return window.addEventListener("mousemove",l),()=>{window.removeEventListener("mousemove",l),a.current.forEach(u=>clearTimeout(u)),a.current.clear()}},[s]),t!=="octopus")return null;const o=!e;return _.jsx("div",{className:"pointer-events-none fixed inset-0 z-[1] overflow-hidden","aria-hidden":!0,children:o&&_.jsxs(_.Fragment,{children:[Array.from({length:uW},(l,u)=>{const c=4+u%9,d=(u*7+13)%100,h=8+u%8,f=u*.8%6;return _.jsx("div",{className:"octopus-bubble-float absolute bottom-0 rounded-full bg-white/40",style:{width:c,height:c,left:`${d}%`,animation:`octopus-bubble-float ${h}s ease-in infinite`,animationDelay:`${f}s`}},`ambient-${u}`)}),n.map(l=>_.jsx("div",{className:"octopus-bubble-float absolute rounded-full bg-white/50",style:{width:6,height:6,left:l.x,top:l.y,transform:"translate(-50%, -50%)",animation:"octopus-bubble-float 2s ease-in forwards"}},l.id))]})})}function WD(){return fr("logged_in")==="true"}function t1(t){pr("logged_in","true")}function VD(){return fr("user_name")}function pW(t){pr("user_name",t)}function mW(){M0("logged_in"),M0("user_name"),LD(null)}function GD({className:t}){return _.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:[_.jsx("ellipse",{cx:"12",cy:"10",rx:"6",ry:"5"}),_.jsx("circle",{cx:"9",cy:"9",r:"1.2"}),_.jsx("circle",{cx:"15",cy:"9",r:"1.2"}),_.jsx("path",{d:"M7 14 Q5 18 6 20 Q7 19 8 16",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round"}),_.jsx("path",{d:"M10 14 Q8 19 9 21 Q10 20 11 17",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round"}),_.jsx("path",{d:"M12 15 Q12 20 12 22 Q12 21 12 18",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round"}),_.jsx("path",{d:"M14 14 Q16 19 15 21 Q14 20 13 17",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round"}),_.jsx("path",{d:"M17 14 Q19 18 18 20 Q17 19 16 16",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round"})]})}const gW=[{id:"workspace",title:"Workspace",description:"Organise files and folders. Import documents and open them in tabs.",studentHelp:"Keep all your lecture notes, PDFs, and study materials in one place. No more hunting through downloadseverything stays organised and opens in quick-switch tabs.",icon:""},{id:"study",title:"Study Modes",description:"Pomodoro timer, custom countdown, and flashcards to study effectively.",studentHelp:"Beat procrastination with focused work blocks, time exams with custom timers, and ace your revision with built-in flashcards. All in one tab.",icon:""},{id:"media",title:"Media Player Hub",description:"Embed Spotify and YouTube. Keep your last link per provider.",studentHelp:"Study with your favourite lo-fi playlists or white noise. Paste a link once and it staysno switching apps or losing your focus music.",icon:""},{id:"csv",title:"CSV Visualizer",description:"Open CSV files, view as table, and build bar or line charts from your data.",studentHelp:"Turn data-heavy assignments into clear charts in seconds. Great for stats, research projects, or any coursework with spreadsheets.",icon:""},{id:"settings",title:"Settings",description:"Theme, compact mode, and sidebar preferences that persist across sessions.",studentHelp:"Tweak the layout and appearance to fit your workflow. Compact mode gives you more screen space; sidebar options keep your workspace clean.",icon:""},{id:"themes",title:"Themes",description:"Choose how Study Hub looks. Light, Dark, Cyberpunk, Octopus, Pip-Boy, or Lofi.",studentHelp:"Find a theme that matches your vibe. Dark for late-night cramming, Lofi for a cosy feel, or something bold when you need that extra motivation.",icon:""}];function qD(t=.1){const e=N.useRef(null),[n,r]=N.useState(!1);return N.useEffect(()=>{const i=e.current;if(!i)return;const a=new IntersectionObserver(([s])=>r(s.isIntersecting),{threshold:t,rootMargin:"0px 0px -80px 0px"});return a.observe(i),()=>a.disconnect()},[t]),{ref:e,isVisible:n}}function yW(){const t=Sx(),e=WD(),{theme:n,setTheme:r}=Qg();N.useEffect(()=>{e&&t("/app",{replace:!0})},[e,t]);const i=()=>{t1(),t("/app")},a=()=>{t1(),t("/app")},s=()=>{t1(),t("/app")};return _.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:_.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-16 sm:py-24",children:[_.jsxs("section",{className:"animate-landing-intro text-center",children:[_.jsxs("h1",{className:"flex items-center justify-center gap-3 text-4xl font-bold tracking-tight text-slate-800 dark:text-slate-100 sm:text-5xl",children:[n==="octopus"&&_.jsx(GD,{className:"h-10 w-10 shrink-0 sm:h-12 sm:w-12"}),"Study Hub"]}),_.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-400",children:"Organise, study, and focus in one place. Files, timers, flashcards, and music  all in your browser."}),_.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-3",children:[_.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:bg-slate-50 hover:shadow-md active:translate-y-0 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Login"}),_.jsx("button",{type:"button",onClick:s,className:"rounded-xl border border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:bg-slate-50 hover:shadow-md active:translate-y-0 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Create Account"}),_.jsx("button",{type:"button",onClick:i,className:"rounded-xl bg-blue-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-200 hover:-translate-y-0.5 hover:bg-blue-700 hover:shadow-xl active:translate-y-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",children:"Use as Guest"})]})]}),_.jsxs("section",{className:"mt-28",children:[_.jsx(vW,{}),_.jsx("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:gW.map(o=>_.jsx(bW,{feature:o,isThemes:o.id==="themes",theme:n,setTheme:r},o.id))})]})]})})}function vW(){const{ref:t,isVisible:e}=qD(.1);return _.jsx("h2",{ref:t,className:`text-center text-2xl font-semibold text-slate-800 transition-all duration-500 dark:text-slate-100 ${e?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:"Everything you need to study"})}function bW({feature:t,isThemes:e,theme:n,setTheme:r}){const{ref:i,isVisible:a}=qD(.15),s=`flex min-h-0 flex-col rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-500 dark:border-slate-700 dark:bg-slate-800 ${a?"translate-y-0 opacity-100":"translate-y-8 opacity-0"} hover:-translate-y-1 hover:shadow-lg hover:border-slate-300 dark:hover:border-slate-600`,o=e&&n&&r?_.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:ED.map(l=>_.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 text-sm font-medium capitalize transition-all duration-200 hover:-translate-y-0.5 active:translate-y-0 ${n===l?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md shadow-blue-500/20":"border border-slate-300 bg-slate-50 text-slate-700 hover:border-slate-400 hover:bg-slate-100 hover:shadow-md dark:border-slate-600 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,onClick:()=>r(l),children:l},l))}):_.jsx("div",{className:"mt-auto border-t border-slate-200/60 pt-4 dark:border-slate-600/60",children:_.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Get started to explore "})});return _.jsxs("div",{ref:i,className:s,children:[_.jsx("span",{className:"text-2xl","aria-hidden":!0,children:t.icon}),_.jsx("h3",{className:"mt-3 font-semibold text-slate-800 dark:text-slate-100",children:t.title}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:t.description}),_.jsx("p",{className:"mt-3 text-xs text-slate-500 dark:text-slate-500",children:t.studentHelp}),o]})}const XD=N.createContext(null);function xW({children:t}){const[e,n]=N.useState(!1);return _.jsx(XD.Provider,{value:{mobileMenuOpen:e,setMobileMenuOpen:n},children:t})}function YD(){return N.useContext(XD)??{mobileMenuOpen:!1,setMobileMenuOpen:()=>{}}}const wW={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 disabled:opacity-50",secondary:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 disabled:opacity-50",ghost:"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"},SW={sm:"rounded px-2 py-1 text-xs",md:"rounded-lg px-4 py-2 text-sm",lg:"rounded-xl px-6 py-3 text-base"};function hn({variant:t="secondary",size:e="md",className:n="",disabled:r,type:i="button",...a}){return _.jsx("button",{type:i,disabled:r,className:`font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${wW[t]} ${SW[e]} ${n}`,...a})}function kW({open:t,onClose:e}){const[n,r]=N.useState(""),[i,a]=N.useState(null),s=N.useRef(null);N.useEffect(()=>{t&&(r(VD()??""),a(ek()))},[t]);const o=()=>{const c=n.trim();c&&pW(c),LD(i),e(!0)},l=c=>{var f;const d=(f=c.target.files)==null?void 0:f[0];if(!d||!d.type.startsWith("image/"))return;const h=new FileReader;h.onload=()=>{const m=h.result;a(m)},h.readAsDataURL(d),c.target.value=""},u=()=>{a(null)};return t?_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"profile-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:()=>e()}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"profile-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Profile"}),_.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display name"}),_.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Your name"}),_.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Profile picture"}),_.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[_.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-600 dark:bg-slate-700",children:i?_.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover"}):_.jsx("div",{className:"flex h-full w-full items-center justify-center text-2xl text-slate-400",children:n.trim()?n.trim().charAt(0).toUpperCase():"?"})}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:l}),_.jsx(hn,{variant:"secondary",size:"sm",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:"Upload"}),i&&_.jsx(hn,{variant:"ghost",size:"sm",onClick:u,children:"Remove"})]})]}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(hn,{variant:"secondary",onClick:()=>e(),children:"Cancel"}),_.jsx(hn,{variant:"primary",onClick:o,children:"Save"})]})]})]}):null}function _W(){const t=Sx(),e=VD(),{query:n,setQuery:r}=UD(),{setMobileMenuOpen:i}=YD(),{theme:a}=Qg(),[s,o]=N.useState(!1),[l,u]=N.useState(!1),[c,d]=N.useState(()=>ek()),h=N.useRef(null);N.useEffect(()=>{function m(p){h.current&&!h.current.contains(p.target)&&o(!1)}if(s)return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[s]);const f=()=>{mW(),t("/")};return _.jsxs("header",{className:"flex h-14 items-center justify-between border-b border-slate-200 bg-white px-4 dark:border-slate-700 dark:bg-slate-900",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",className:"md:hidden rounded p-2 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(!0),"aria-label":"Open menu",children:_.jsxs("svg",{className:"h-6 w-6 text-current",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:[_.jsx("rect",{x:"3",y:"6",width:"18",height:"1.5",rx:"0.75"}),_.jsx("rect",{x:"3",y:"11.25",width:"18",height:"1.5",rx:"0.75"}),_.jsx("rect",{x:"3",y:"16.5",width:"18",height:"1.5",rx:"0.75"})]})}),_.jsxs(yh,{to:"/app/workspace",className:"flex items-center gap-2 text-lg font-semibold text-slate-800 dark:text-slate-100",children:[a==="octopus"&&_.jsx(GD,{className:"h-6 w-6 shrink-0"}),"Study Hub"]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("input",{type:"search",placeholder:"Search workspace...",value:n,onChange:m=>r(m.target.value),className:"rounded-lg border border-slate-300 bg-slate-50 px-3 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Search workspace"}),_.jsxs("div",{className:"relative",ref:h,children:[_.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800","aria-haspopup":"true","aria-expanded":s,"aria-label":"User menu",onClick:m=>{m.stopPropagation(),o(p=>!p)},children:[c?_.jsx("img",{src:c,alt:"",className:"h-8 w-8 rounded-full object-cover"}):_.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-sm font-medium text-white",children:(e||"U").charAt(0).toUpperCase()}),_.jsx("span",{className:"hidden text-sm text-slate-700 dark:text-slate-300 sm:inline",children:e||"User"})]}),s&&_.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 min-w-[140px] rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{o(!1),u(!0)},children:"Profile"}),_.jsx(yh,{to:"/app/settings",className:"block px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>o(!1),children:"Settings"}),_.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:f,children:"Logout"})]}),_.jsx(kW,{open:l,onClose:m=>{u(!1),m&&d(ek())}})]})]})]})}const AW=[{id:"workspace",label:"Workspace"},{id:"study",label:"Study Modes"},{id:"media",label:"Media Player Hub"},{id:"csv",label:"CSV Visualizer"},{id:"settings",label:"Settings"}],ca="workspace";async function tk(t){return await MH(ca,"workspaceId",t)}async function EW(){return oC(ca)}async function AO(t){return da(ca,t)}async function EO(t){await Or(ca,t)}async function gc(t){await Or(ca,t)}async function CW(t,e){const n=await da(ca,t);(n==null?void 0:n.kind)==="file"&&await Or(ca,{...n,content:e})}async function PW(t,e){const n=await da(ca,t);if(!n||n.kind!=="file")return;const r={...n,folderId:e,updatedAt:Date.now()};return await Or(ca,r),r}async function TW(t){await Gu(ca,t)}async function OW(t){const e=await tk(t);for(const n of e)await Gu(ca,n.id)}function yc(){return crypto.randomUUID()}const cC="tabs";function dC(t){return`tabs_${t}`}async function MW(t){const e=dC(t);return await da(cC,e)??{id:e,openTabIds:[],activeTabId:null}}async function KD(t,e){const n=dC(t);await Or(cC,{...e,id:n})}async function NW(t){await Gu(cC,dC(t))}const IW="workspace",CO="tabs",Ry="default";async function RW(){if(zf().length>0)return;const e=Date.now();xv([{id:Ry,name:"Default",createdAt:e,updatedAt:e}]),wv(Ry);const r=await EW();for(const a of r){const s=a;(s.workspaceId==null||s.workspaceId===void 0)&&await Or(IW,{...a,workspaceId:Ry})}const i=await da(CO,"tabs");i&&Array.isArray(i.openTabIds)&&(await KD(Ry,{openTabIds:i.openTabIds,activeTabId:i.activeTabId??null}),await Gu(CO,"tabs"))}const ZD=N.createContext(null);function jW({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState("default"),[a,s]=N.useState(!1);N.useEffect(()=>{RW().then(()=>{n(zf()),i(e1()??"default"),s(!0)})},[]);const o=N.useCallback(h=>{i(h),wv(h)},[]),l=N.useCallback(h=>{const f=crypto.randomUUID(),m=Date.now(),p={id:f,name:h||"New workspace",createdAt:m,updatedAt:m};return n(v=>[...v,p]),xv([...zf(),p]),i(f),wv(f),f},[]),u=N.useCallback((h,f)=>{const m=zf().map(p=>p.id===h?{...p,name:f||p.name,updatedAt:Date.now()}:p);n(m),xv(m)},[]),c=N.useCallback(async h=>{const f=zf();if(f.length<=1)return;await OW(h),await NW(h);const m=f.filter(p=>p.id!==h);if(xv(m),n(m),e1()===h){const p=m[0];i(p.id),wv(p.id)}},[]),d={workspaceList:e,activeWorkspaceId:a?r:e1()??"default",setActiveWorkspace:o,createWorkspace:l,renameWorkspace:u,deleteWorkspace:c};return _.jsx(ZD.Provider,{value:d,children:t})}function hC(){const t=N.useContext(ZD);if(!t)throw new Error("useActiveWorkspace must be used within WorkspaceProvider");return t}function nk({open:t,title:e,label:n,defaultValue:r="",submitLabel:i="Save",cancelLabel:a="Cancel",onSubmit:s,onCancel:o}){const[l,u]=N.useState(r);if(N.useEffect(()=>{t&&(console.log(" InputModal opened with defaultValue:",r),u(r))},[t,r]),!t)return null;console.log(" InputModal rendering, open:",t,"value:",l);const c=()=>{const h=l.trim();h&&s(h),o()},d=()=>{u(r),o()};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"input-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200","aria-hidden":!0,onClick:d}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl animate-fade-in-up dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"input-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),_.jsx("label",{htmlFor:"input-modal-field",className:"mt-3 block text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),_.jsx("input",{id:"input-modal-field",type:"text",value:l,onChange:h=>u(h.target.value),onKeyDown:h=>{h.key==="Enter"&&l.trim()&&c(),h.key==="Escape"&&d()},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(hn,{variant:"secondary",onClick:d,children:a}),_.jsx(hn,{variant:"primary",onClick:c,disabled:!l.trim(),children:i})]})]})]})}function fC({open:t,title:e,message:n,confirmLabel:r,cancelLabel:i="Cancel",variant:a="primary",onConfirm:s,onCancel:o}){return t?_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200","aria-hidden":!0,onClick:o}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl animate-fade-in-up dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"confirm-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),_.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:n}),_.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[_.jsx(hn,{variant:"secondary",onClick:o,children:i}),_.jsx(hn,{variant:a,onClick:()=>s(),children:r})]})]})]}):null}const LW={workspace:"",study:"",media:"",csv:"",settings:""};function DW(){var P;const{section:t}=sC(),e=t??"workspace",{sidebarCollapsed:n,setSidebarCollapsed:r}=Qg(),{mobileMenuOpen:i,setMobileMenuOpen:a}=YD(),{workspaceList:s,activeWorkspaceId:o,setActiveWorkspace:l,createWorkspace:u,renameWorkspace:c,deleteWorkspace:d}=hC(),[h,f]=N.useState(!1),[m,p]=N.useState(!1),[v,y]=N.useState(!1),[b,x]=N.useState(null),[k,S]=N.useState(!1),[w,A]=N.useState(null),E=N.useRef(null),C=()=>a(!1),O=s.find($=>$.id===o),I=(O==null?void 0:O.name)??"Workspace",T=s.length>1;N.useEffect(()=>{function $(X){E.current&&!E.current.contains(X.target)&&f(!1)}if(h)return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[h]);const j=_.jsx("nav",{className:"flex flex-col gap-1 p-3","aria-label":"Main navigation",children:AW.map(({id:$,label:X})=>_.jsxs(yh,{to:`/app/${$}`,title:n?X:void 0,className:`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-colors duration-200 ${e===$?"bg-blue-600 text-white shadow-sm":"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700/50"} ${n?"justify-center px-2":""}`,onClick:C,children:[_.jsx("span",{className:"text-lg","aria-hidden":!0,children:LW[$]}),!n&&_.jsx("span",{children:X})]},$))});return _.jsxs(_.Fragment,{children:[i&&_.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden","aria-hidden":!0,onClick:C}),_.jsxs("aside",{className:`flex flex-col border-r border-slate-200/60 bg-slate-50/80 backdrop-blur-sm transition-[width] dark:border-slate-700/60 dark:bg-slate-800/40
          ${n?"w-16":"w-64"}
          md:relative
          fixed inset-y-0 left-0 z-50 mt-14 md:mt-0 shadow-xl
          ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[_.jsxs("div",{className:"flex items-center justify-between p-3",children:[_.jsx("button",{type:"button",className:"rounded-lg p-2.5 hover:bg-slate-200/60 dark:hover:bg-slate-700/60 transition-colors",onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",title:n?"Expand sidebar":"Collapse sidebar",children:_.jsxs("svg",{className:"h-6 w-6 text-current",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:[_.jsx("rect",{x:"3",y:"6",width:"18",height:"1.5",rx:"0.75"}),_.jsx("rect",{x:"3",y:"11.25",width:"18",height:"1.5",rx:"0.75"}),_.jsx("rect",{x:"3",y:"16.5",width:"18",height:"1.5",rx:"0.75"})]})}),_.jsx("button",{type:"button",className:"rounded-lg p-2.5 hover:bg-slate-200/60 dark:hover:bg-slate-700/60 transition-colors md:hidden",onClick:C,"aria-label":"Close menu",children:""})]}),!n&&_.jsxs("div",{className:"relative px-3 pb-3",ref:E,children:[_.jsxs("button",{type:"button",className:"flex w-full items-center justify-between rounded-xl border border-slate-200/60 bg-white/80 backdrop-blur-sm px-4 py-3 text-left text-sm font-medium text-slate-800 hover:bg-white hover:shadow-md transition-all dark:border-slate-600/60 dark:bg-slate-800/80 dark:text-slate-200 dark:hover:bg-slate-700/80",onClick:()=>f($=>!$),"aria-haspopup":"true","aria-expanded":h,children:[_.jsx("span",{className:"truncate",children:I}),_.jsx("span",{className:"text-slate-400",children:""})]}),h&&_.jsxs("div",{className:"absolute left-3 right-3 top-full z-10 mt-1 max-h-64 overflow-auto rounded-xl border border-slate-200/60 bg-white/95 backdrop-blur-md py-1 shadow-2xl dark:border-slate-700/60 dark:bg-slate-800/95",children:[_.jsx("button",{type:"button",className:"block w-full px-4 py-2.5 text-left text-sm text-slate-700 hover:bg-slate-100/80 transition-colors dark:text-slate-300 dark:hover:bg-slate-700/80",onClick:()=>{f(!1),p(!0)},children:"Create workspace"}),_.jsx("button",{type:"button",className:"block w-full px-4 py-2.5 text-left text-sm text-slate-700 hover:bg-slate-100/80 transition-colors dark:text-slate-300 dark:hover:bg-slate-700/80",onClick:()=>{f(!1),x(o),y(!0)},children:"Rename workspace"}),T&&_.jsx("button",{type:"button",className:"block w-full px-4 py-2.5 text-left text-sm text-red-600 hover:bg-slate-100/80 transition-colors dark:text-red-400 dark:hover:bg-slate-700/80",onClick:()=>{f(!1),A(o),S(!0)},children:"Delete workspace"}),_.jsx("div",{className:"my-1 border-t border-slate-200/60 dark:border-slate-600/60"}),s.map($=>_.jsx("button",{type:"button",className:`block w-full truncate px-4 py-2.5 text-left text-sm transition-colors ${$.id===o?"bg-blue-50/80 font-medium text-blue-800 dark:bg-blue-900/40 dark:text-blue-200":"text-slate-700 hover:bg-slate-100/80 dark:text-slate-300 dark:hover:bg-slate-700/80"}`,onClick:()=>{l($.id),f(!1)},children:$.name},$.id))]})]}),j,_.jsx(nk,{open:m,title:"Create workspace",label:"Workspace name",defaultValue:"",submitLabel:"Create",onSubmit:$=>{u($),p(!1)},onCancel:()=>p(!1)}),_.jsx(nk,{open:v,title:"Rename workspace",label:"Workspace name",defaultValue:b?((P=s.find($=>$.id===b))==null?void 0:P.name)??"":"",submitLabel:"Save",onSubmit:$=>{b&&c(b,$),y(!1),x(null)},onCancel:()=>{y(!1),x(null)}}),_.jsx(fC,{open:k,title:"Delete workspace",message:"Delete this workspace and all its files? This cannot be undone.",confirmLabel:"Delete",variant:"danger",onConfirm:async()=>{w&&await d(w),S(!1),A(null)},onCancel:()=>{S(!1),A(null)}})]})]})}function $W({embedUrl:t,provider:e,onClose:n}){const{trackMetadata:r,currentTime:i,setCurrentTime:a}=kx(),s=N.useRef(null),o=N.useRef(null),l=N.useRef(null),u=N.useRef(null),[c,d]=N.useState(!1),[h,f]=N.useState({x:0,y:0}),[m,p]=N.useState({x:window.innerWidth/2-400,y:window.innerHeight/2-300}),[v,y]=N.useState(!1),[b,x]=N.useState(""),[k,S]=N.useState({width:800,height:600}),w=C=>{if(!u.current)return;const O=u.current.getBoundingClientRect();d(!0),f({x:C.clientX-O.left,y:C.clientY-O.top})};N.useEffect(()=>{const C=I=>{if(c&&p({x:I.clientX-h.x,y:I.clientY-h.y}),v&&u.current){const T=u.current.getBoundingClientRect();let j=k.width,P=k.height,$=m.x,X=m.y;b.includes("e")&&(j=I.clientX-T.left),b.includes("s")&&(P=I.clientY-T.top),b.includes("w")&&(j=T.right-I.clientX,$=I.clientX),b.includes("n")&&(P=T.bottom-I.clientY,X=I.clientY),j>=400&&P>=300&&(S({width:j,height:P}),(b.includes("w")||b.includes("n"))&&p({x:$,y:X}))}},O=()=>{d(!1),y(!1),x("")};if(c||v)return document.addEventListener("mousemove",C),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",O)}},[c,v,h,b,k,m]);const A=C=>O=>{O.stopPropagation(),y(!0),x(C)};N.useEffect(()=>{if(e!=="youtube"||!l.current)return;const C=()=>{var I;if(window.YT&&window.YT.Player){O();return}if(window.YT)setTimeout(C,100);else{const T=document.createElement("script");T.src="https://www.youtube.com/iframe_api";const j=document.getElementsByTagName("script")[0];(I=j==null?void 0:j.parentNode)==null||I.insertBefore(T,j),window.onYouTubeIframeAPIReady=()=>{O()}}},O=()=>{try{const T=new URL(t).pathname.split("/").pop();if(!T||!l.current)return;o.current=new window.YT.Player(l.current,{videoId:T,playerVars:{start:Math.floor(i),autoplay:1},events:{onReady:P=>{i>0&&(P.target.seekTo(i,!0),P.target.playVideo())}}});const j=setInterval(()=>{if(o.current&&typeof o.current.getCurrentTime=="function")try{const P=o.current.getCurrentTime();P&&P>0&&a(P)}catch{}},1e3);return()=>{if(clearInterval(j),o.current)try{const P=o.current.getCurrentTime();P&&P>0&&a(P),o.current.destroy()}catch{}}}catch(I){console.error("Failed to initialize YouTube player:",I)}};C()},[e,t,i,a]);const E=e==="youtube"?"YouTube":"Spotify";return _.jsxs("div",{ref:u,className:"fixed rounded-2xl bg-slate-900 shadow-2xl",style:{left:`${m.x}px`,top:`${m.y}px`,width:`${k.width}px`,height:`${k.height}px`,minWidth:"400px",minHeight:"300px",cursor:c?"grabbing":"default",zIndex:9999},children:[_.jsx("div",{className:"absolute left-0 top-0 h-3 w-3 cursor-nw-resize",onMouseDown:A("nw")}),_.jsx("div",{className:"absolute right-0 top-0 h-3 w-3 cursor-ne-resize",onMouseDown:A("ne")}),_.jsx("div",{className:"absolute bottom-0 left-0 h-3 w-3 cursor-sw-resize",onMouseDown:A("sw")}),_.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 cursor-se-resize",onMouseDown:A("se")}),_.jsx("div",{className:"absolute left-0 top-3 bottom-3 w-2 cursor-w-resize",onMouseDown:A("w")}),_.jsx("div",{className:"absolute right-0 top-3 bottom-3 w-2 cursor-e-resize",onMouseDown:A("e")}),_.jsx("div",{className:"absolute top-0 left-3 right-3 h-2 cursor-n-resize",onMouseDown:A("n")}),_.jsx("div",{className:"absolute bottom-0 left-3 right-3 h-2 cursor-s-resize",onMouseDown:A("s")}),_.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-700 px-6 py-4 cursor-grab active:cursor-grabbing rounded-t-2xl",onMouseDown:w,children:[_.jsx("div",{className:"min-w-0 flex-1",children:r?_.jsxs("div",{className:"min-w-0",children:[_.jsx("h2",{className:"truncate text-lg font-semibold text-slate-100",children:r.title}),r.artist&&_.jsx("p",{className:"truncate text-sm text-slate-400",children:r.artist})]}):_.jsxs("h2",{className:"text-lg font-semibold text-slate-100",children:[E," Player"]})}),_.jsx("button",{type:"button",onClick:n,onMouseDown:C=>C.stopPropagation(),className:"flex-shrink-0 rounded-lg border border-slate-600 bg-slate-800 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-slate-700 hover:border-slate-500 transition-all","aria-label":"Close popup",children:"Close"})]}),_.jsx("div",{className:"p-6",style:{height:"calc(100% - 72px)"},children:_.jsx("div",{className:"overflow-hidden rounded-xl bg-black shadow-2xl h-full",children:e==="youtube"?_.jsx("div",{ref:l,className:"h-full w-full"}):_.jsx("iframe",{ref:s,title:`${E} player`,src:t,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})})]})}function FW(t){if(!t.trim())return null;try{const e=new URL(t.trim().startsWith("http")?t.trim():`https://${t.trim()}`);if(e.hostname.includes("open.spotify.com"))return`https://open.spotify.com/embed${e.pathname}${e.search}`}catch{}return null}function BW(){const{spotifyUrl:t,youtubeVideoId:e,trackMetadata:n,isPopupOpen:r,setIsPopupOpen:i}=kx(),[a,s]=N.useState(!0),o=!!e,l=FW(t);if(!o&&!!!l)return null;const c=o?`https://www.youtube.com/embed/${e}`:l,d=o?"youtube":"spotify",h=o?"YouTube":"Spotify",f=()=>{i(!0)},m=()=>{i(!1)},p=d==="youtube"?"YouTube embed PiP is limited in browsers. Pop out opens a floating player.":"Pop out opens a floating player.";return _.jsxs(_.Fragment,{children:[r&&_.jsx($W,{embedUrl:c,provider:d,onClose:m}),_.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-slate-200/60 bg-white/90 shadow-2xl backdrop-blur-md transition-all duration-300 ease-in-out dark:border-slate-700/60 dark:bg-slate-800/90 ",children:[_.jsxs("div",{"data-media-bar-header":!0,className:"flex items-center justify-between gap-3 px-4 py-2.5",children:[_.jsx("button",{type:"button",onClick:()=>s(!a),className:"flex items-center justify-center flex-shrink-0 text-lg hover:opacity-70 transition-all duration-200 hover:opacity-80","aria-label":a?"Collapse player":"Expand player",title:a?"Collapse player":"Expand player",children:a?"":""}),_.jsx("div",{className:"min-w-0 flex-1 flex items-center",children:n?_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"truncate text-sm font-semibold text-slate-800 dark:text-slate-200 align-middle",children:n.title}),n.artist&&_.jsx("div",{className:"truncate text-xs text-slate-600 dark:text-slate-400",children:n.artist})]}):_.jsx("span",{className:"truncate text-sm font-semibold text-slate-800 dark:text-slate-200 align-middle",children:h})}),(!a||r)&&_.jsxs(_.Fragment,{children:[_.jsx("button",{type:"button",onClick:f,title:p,className:"flex-shrink-0 rounded-lg border border-slate-300/60 bg-white/60 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-white hover:shadow-md transition-all hover:opacity-95 dark:border-slate-600/60 dark:bg-slate-700/60 dark:text-slate-300 dark:hover:bg-slate-600/80",children:"Pop out"}),_.jsx(yh,{to:"/app/media",className:"flex-shrink-0 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-2 text-sm font-medium text-white shadow-lg shadow-blue-500/25 hover:from-blue-600 hover:to-blue-700 transition-all hover:opacity-95 dark:from-blue-500 dark:to-blue-600",children:"Open"})]}),a&&!r&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{type:"button",onClick:f,title:p,className:"flex-shrink-0 rounded-lg border border-slate-300/60 bg-white/60 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-white hover:shadow-md transition-all hover:opacity-95 dark:border-slate-600/60 dark:bg-slate-700/60 dark:text-slate-300 dark:hover:bg-slate-600/80",children:"Pop out"}),_.jsx(yh,{to:"/app/media",className:"flex-shrink-0 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-2 text-sm font-medium text-white shadow-lg shadow-blue-500/25 hover:from-blue-600 hover:to-blue-700 transition-all hover:opacity-95 dark:from-blue-500 dark:to-blue-600",children:"Open"})]})]}),_.jsx("div",{className:`border-t border-slate-200/60 p-4 dark:border-slate-700/60 transition-all duration-300 overflow-hidden ${a?"max-h-[500px] opacity-100":"max-h-0 opacity-0 p-0 border-0"}`,children:r?_.jsx("div",{className:"flex items-center justify-center rounded-xl bg-slate-100/60 px-4 py-8 dark:bg-slate-700/60",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Playing in pop-up"})}):_.jsxs("div",{className:"flex items-start gap-4",children:[(n==null?void 0:n.artwork)&&_.jsx("img",{src:n.artwork,alt:"Album artwork",className:"h-24 w-24 flex-shrink-0 rounded-xl shadow-lg"}),_.jsx("div",{className:"min-w-0 flex-1 overflow-hidden rounded-xl bg-slate-900 shadow-xl",style:{width:"100%",maxWidth:d==="spotify"?"400px":"560px",height:d==="spotify"?"152px":"315px"},children:_.jsx("iframe",{title:`${h} player`,src:c,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})]})})]})]})}const zW=["workspace","study","media","csv","settings"];function UW(){const{section:t}=sC(),e=(t??"workspace").toLowerCase(),n=zW.includes(e)?e:"workspace";return _.jsx(xW,{children:_.jsxs("div",{className:"relative flex h-screen flex-col bg-slate-50/95 dark:bg-slate-900/95",children:[_.jsx(_W,{}),_.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[_.jsx(DW,{}),_.jsx("main",{className:"relative z-10 flex-1 overflow-auto p-6 pb-0 min-w-0","aria-label":"Main content",children:_.jsx("div",{className:"pb-6",children:_.jsx(gH,{context:{section:n}})})})]}),_.jsx(BW,{})]})})}function HW(){return WD()?_.jsx(jW,{children:_.jsx(UW,{})}):_.jsx(O0,{to:"/",replace:!0})}function WW(){return _.jsx(O0,{to:"/app/workspace",replace:!0})}function QD(){const{activeWorkspaceId:t}=hC(),[e,n]=N.useState([]),[r,i]=N.useState(!0),a=N.useCallback(async()=>{i(!0);const y=await tk(t);n(y),i(!1)},[t]);N.useEffect(()=>{a()},[a]);const s=N.useCallback(async(y,b)=>{console.log(" createFolder called with parentId:",y,"name:",b,"workspaceId:",t);const x={id:yc(),kind:"folder",workspaceId:t,name:b||"New folder",parentId:y,createdAt:Date.now()};return console.log(" Folder object created:",x),await EO(x),console.log(" Folder saved to store"),await a(),console.log(" Items reloaded"),x.id},[a,t]),o=N.useCallback(async(y,b,x,k)=>{const S={id:yc(),kind:"file",workspaceId:t,folderId:y,name:b,fileType:x,content:k,createdAt:Date.now()};return await gc(S),await a(),S.id},[a,t]),l=N.useCallback(async(y,b,x,k)=>{const S=Date.now(),w={id:yc(),kind:"file",workspaceId:t,folderId:y,name:b,fileType:"docx",content:x,createdAt:S,size:k,updatedAt:S};return await gc(w),await a(),w.id},[a,t]),u=N.useCallback(async(y,b,x,k)=>{const S=Date.now(),w={id:yc(),kind:"file",workspaceId:t,folderId:y,name:b,fileType:"pdf",content:x,createdAt:S,size:k,updatedAt:S};return await gc(w),await a(),w.id},[a,t]),c=N.useCallback(async(y,b,x,k)=>{const S=Date.now(),w={id:yc(),kind:"file",workspaceId:t,folderId:y,name:b,fileType:"image",content:x,createdAt:S,size:k,updatedAt:S};return await gc(w),await a(),w.id},[a,t]),d=N.useCallback(async(y,b)=>{const x=b.name&&b.artists?`${b.name}  ${b.artists}`:b.name||"Spotify track",k={id:yc(),kind:"file",workspaceId:t,folderId:y,name:x,fileType:"spotify",content:JSON.stringify(b),createdAt:Date.now()};return await gc(k),await a(),k.id},[a,t]),h=N.useCallback(async(y,b)=>{const x=await AO(y);x&&(x.kind==="folder"?await EO({...x,name:b}):await gc({...x,name:b}),await a())},[a]),f=N.useCallback(async y=>{const b=await AO(y);if(!b)return[];const x=new Set;if(b.kind==="folder"){const k=await tk(t),S=w=>{x.add(w),k.filter(A=>A.kind==="folder"?A.parentId===w:A.folderId===w).forEach(A=>{A.kind==="folder"?S(A.id):x.add(A.id)})};S(y)}else x.add(y);for(const k of x)await TW(k);return await a(),Array.from(x)},[a,t]),m=N.useCallback(y=>e.find(b=>b.id===y),[e]),p=N.useCallback(async(y,b)=>{await CW(y,b),await a()},[a]),v=N.useCallback(async(y,b)=>{const x=await PW(y,b);return x&&await a(),!!x},[a]);return{items:e,loading:r,load:a,createFolder:s,addFile:o,addDocxFile:l,addPdfFile:u,addImageFile:c,addSpotifyTrackFile:d,renameItem:h,deleteItem:f,getItem:m,updateFileContent:p,moveFile:v}}function VW(){const{activeWorkspaceId:t}=hC(),[e,n]=N.useState([]),[r,i]=N.useState(null),[a,s]=N.useState(!1);N.useEffect(()=>{s(!1),MW(t).then(h=>{n(h.openTabIds),i(h.activeTabId),s(!0)})},[t]),N.useEffect(()=>{a&&KD(t,{openTabIds:e,activeTabId:r}).catch(()=>{})},[a,t,e,r]);const o=N.useCallback(h=>{n(f=>f.includes(h)?f:[...f,h]),i(h)},[]),l=N.useCallback(h=>{n(f=>{const m=f.filter(p=>p!==h);return i(p=>{if(p!==h)return p;const v=f.indexOf(h);return m[v]??m[m.length-1]??null}),m})},[]),u=N.useCallback(h=>{const f=new Set(h);n(m=>{const p=m.filter(v=>!f.has(v));return i(v=>!v||!f.has(v)?v:p[0]??null),p})},[]),c=N.useCallback(h=>{i(h)},[]),d=N.useCallback(h=>{n(h)},[]);return{openTabIds:e,activeTabId:r,openTab:o,closeTab:l,closeTabs:u,setActiveTab:c,reorderTabs:d}}const GW=5*1024*1024,qW=5*1024*1024;function Sv(t){return t.kind==="folder"}function Vc(t){return t.kind==="file"}const n1="application/x-workspace-file-id";function XW(t,e){const n=t.filter(a=>a.kind==="folder"&&a.parentId===e),r=t.filter(a=>a.kind==="file"&&a.folderId===e),i=a=>a.updatedAt??a.createdAt;return[...n.sort((a,s)=>a.name.localeCompare(s.name)),...r.sort((a,s)=>i(a)-i(s))]}function PO({item:t,depth:e,onOpenFile:n,onRename:r,onDelete:i,onRequestDelete:a,onOpenFolder:s,onToggleExpand:o,selectedFolderId:l,isExpanded:u,isDragging:c,onDragStart:d,onDragEnd:h,isDropTarget:f,onDragOver:m,onDragLeave:p,onDrop:v}){const[y,b]=N.useState(!1),[x,k]=N.useState(t.name),S=N.useRef(null),w=Sv(t),A=w&&t.id===l,E=()=>{const j=x.trim();j&&r(t.id,j),b(!1)};N.useEffect(()=>{var j;y&&((j=S.current)==null||j.focus())},[y]),N.useEffect(()=>{k(t.name)},[t.name]);const C=j=>{j.key==="Enter"&&E(),j.key==="Escape"&&(k(t.name),b(!1))},O=()=>{a?a(t):w?i(t.id,!0):i(t.id,!1)},I=()=>{c||(w?s(t.id):n(t.id))},T=_.jsx("div",{"data-workspace-row":!0,"data-selected":A?"true":void 0,"data-drop-target":f?"true":void 0,className:`flex items-center gap-1 rounded px-2 py-1.5 text-sm ${f?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""} ${A?"bg-blue-100 dark:bg-blue-900/40":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,style:{paddingLeft:`${e*12+8}px`},onDragOver:w?m:void 0,onDragLeave:w?p:void 0,onDrop:w?v:void 0,children:y?_.jsx("input",{ref:S,type:"text",value:x,onChange:j=>k(j.target.value),onBlur:E,onKeyDown:C,className:"min-w-0 flex-1 rounded border border-slate-300 bg-white px-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0,"aria-label":"Rename"}):_.jsxs(_.Fragment,{children:[w&&_.jsx("button",{type:"button",className:"flex shrink-0 items-center justify-center rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:j=>{j.stopPropagation(),o(t.id)},"aria-label":u?"Collapse":"Expand","data-workspace-row-action":!0,children:_.jsx("span",{className:"inline-block transition-transform",style:{transform:u?"rotate(90deg)":"rotate(0deg)"},"aria-hidden":!0,children:""})}),_.jsxs("button",{type:"button",className:"min-w-0 flex-1 truncate text-left",onClick:I,children:[_.jsx("span",{className:"mr-1","aria-hidden":!0,children:w?"":""}),t.name]}),_.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100",children:[_.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:j=>{j.stopPropagation(),b(!0)},"aria-label":"Rename","data-workspace-row-action":!0,children:""}),_.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-red-200 dark:hover:bg-red-900/50",onClick:j=>{j.stopPropagation(),O()},"aria-label":"Delete","data-workspace-row-action":!0,children:""})]})]})});return w?_.jsx("div",{className:"group",children:T}):_.jsx("div",{className:"group cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:d,onDragEnd:h,children:T})}function YW({items:t,selectedFolderId:e,expandedFolders:n,onToggleExpand:r,onSelectFolder:i,onOpenFile:a,onCreateFolder:s,onImportFiles:o,onRename:l,onDelete:u,moveFile:c,getItem:d,onMoveFeedback:h,isDragging:f,setDragging:m}){const[p,v]=N.useState(null),[y,b]=N.useState(null),x=p==="root",k=(T,j)=>{T.dataTransfer.setData(n1,j),T.dataTransfer.effectAllowed="move",m(!0)},S=()=>{m(!1),v(null)},w=(T,j)=>{T.preventDefault(),T.dataTransfer.dropEffect="move",v(j)},A=async(T,j)=>{T.preventDefault();const P=T.dataTransfer.getData(n1);if(v(null),m(!1),!P)return;const $=d(P);if(!$||$.kind!=="file"||$.folderId===j)return;if(await c(P,j)){const U=d(j);h(`Moved to ${(U==null?void 0:U.kind)==="folder"?U.name:"Workspace"}`),n[j]===!1&&r(j)}},E=T=>{T.preventDefault(),T.dataTransfer.dropEffect="move",v("root")},C=async T=>{T.preventDefault();const j=T.dataTransfer.getData(n1);if(v(null),m(!1),!j)return;const P=d(j);if(!P||P.kind!=="file"||P.folderId===null)return;await c(j,null)&&h("Moved to Workspace")},O=()=>{v(null)};function I(T,j){return XW(t,T).map($=>{if($.kind==="folder"){const X=n[$.id]!==!1,U=X?I($.id,j+1):null,q=p===$.id;return _.jsxs("div",{children:[_.jsx(PO,{item:$,depth:j,onOpenFile:a,onRename:l,onDelete:u,onRequestDelete:b,onOpenFolder:i,onToggleExpand:r,selectedFolderId:e,isExpanded:X,isDragging:f,isDropTarget:q,onDragOver:G=>w(G,$.id),onDragLeave:()=>v(null),onDrop:G=>A(G,$.id)}),U]},$.id)}return _.jsx(PO,{item:$,depth:j,onOpenFile:a,onRename:l,onDelete:u,onRequestDelete:b,onOpenFolder:i,onToggleExpand:r,selectedFolderId:e,isDragging:f,onDragStart:X=>k(X,$.id),onDragEnd:S},$.id)})}return _.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[_.jsx(hn,{variant:"secondary",size:"md",onClick:()=>{console.log(" New folder button clicked, selectedFolderId:",e),s(e)},children:"New folder"}),_.jsx(hn,{variant:"secondary",size:"md",onClick:()=>o(e),children:"Import file(s)"})]}),_.jsxs("div",{className:"min-h-0 flex-1 overflow-auto p-1",children:[_.jsx("div",{"data-workspace-row":!0,"data-drop-target":x?"true":void 0,className:`mb-2 rounded px-2 py-1.5 text-sm ${x?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""}`,onDragOver:E,onDragLeave:O,onDrop:C,children:_.jsx("button",{type:"button",className:"w-full rounded px-2 py-1.5 text-left hover:bg-slate-200 dark:hover:bg-slate-700",onClick:()=>i(null),"data-workspace-row-action":!0,children:"Workspace"})}),I(null,0)]}),_.jsx(fC,{open:y!==null,title:y&&Sv(y)?"Delete folder":"Delete file",message:y?Sv(y)?`Delete folder "${y.name}" and all its contents? This cannot be undone.`:`Delete file "${y.name}"? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:()=>{y&&(u(y.id,Sv(y)),b(null))},onCancel:()=>b(null)})]})}function KW(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ZW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JW={};function TO(t,e){return(JW.jsx?QW:ZW).test(t)}const eV=/[ \t\n\f\r]/g;function tV(t){return typeof t=="object"?t.type==="text"?OO(t.value):!1:OO(t)}function OO(t){return t.replace(eV,"")===""}class Jg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Jg.prototype.normal={};Jg.prototype.property={};Jg.prototype.space=void 0;function JD(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Jg(n,r,e)}function rk(t){return t.toLowerCase()}class Mr{constructor(e,n){this.attribute=n,this.property=e}}Mr.prototype.attribute="";Mr.prototype.booleanish=!1;Mr.prototype.boolean=!1;Mr.prototype.commaOrSpaceSeparated=!1;Mr.prototype.commaSeparated=!1;Mr.prototype.defined=!1;Mr.prototype.mustUseProperty=!1;Mr.prototype.number=!1;Mr.prototype.overloadedBoolean=!1;Mr.prototype.property="";Mr.prototype.spaceSeparated=!1;Mr.prototype.space=void 0;let nV=0;const $e=ac(),Qt=ac(),ik=ac(),we=ac(),bt=ac(),nd=ac(),jr=ac();function ac(){return 2**++nV}const ak=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:Qt,commaOrSpaceSeparated:jr,commaSeparated:nd,number:we,overloadedBoolean:ik,spaceSeparated:bt},Symbol.toStringTag,{value:"Module"})),r1=Object.keys(ak);class pC extends Mr{constructor(e,n,r,i){let a=-1;if(super(e,n),MO(this,"space",i),typeof r=="number")for(;++a<r1.length;){const s=r1[a];MO(this,r1[a],(r&ak[s])===ak[s])}}}pC.prototype.defined=!0;function MO(t,e,n){n&&(t[e]=n)}function Xh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new pC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[rk(r)]=r,n[rk(a.attribute)]=r}return new Jg(e,n,t.space)}const e$=Xh({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:bt,ariaCurrent:null,ariaDescribedBy:bt,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:bt,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:bt,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bt,ariaLevel:we,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:bt,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:bt,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:Qt,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function t$(t,e){return e in t?t[e]:e}function n$(t,e){return t$(t,e.toLowerCase())}const rV=Xh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nd,acceptCharset:bt,accessKey:bt,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:bt,autoFocus:$e,autoPlay:$e,blocking:bt,capture:null,charSet:null,checked:$e,cite:null,className:bt,cols:we,colSpan:null,content:null,contentEditable:Qt,controls:$e,controlsList:bt,coords:we|nd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:ik,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:bt,height:we,hidden:ik,high:we,href:null,hrefLang:null,htmlFor:bt,httpEquiv:bt,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:bt,itemRef:bt,itemScope:$e,itemType:bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:we,pattern:null,ping:bt,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:bt,required:$e,reversed:$e,rows:we,rowSpan:we,sandbox:bt,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:Qt,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bt,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:n$}),iV=Xh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jr,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nd,g2:nd,glyphName:nd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:jr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jr,rev:jr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jr,requiredFeatures:jr,requiredFonts:jr,requiredFormats:jr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:jr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jr,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:t$}),r$=Xh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),i$=Xh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:n$}),a$=Xh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),aV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sV=/[A-Z]/g,NO=/-[a-z]/g,oV=/^data[-\w.:]+$/i;function lV(t,e){const n=rk(e);let r=e,i=Mr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oV.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(NO,cV);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!NO.test(a)){let s=a.replace(sV,uV);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=pC}return new i(r,e)}function uV(t){return"-"+t.toLowerCase()}function cV(t){return t.charAt(1).toUpperCase()}const dV=JD([e$,rV,r$,i$,a$],"html"),mC=JD([e$,iV,r$,i$,a$],"svg");function hV(t){return t.join(" ").trim()}var gC={},IO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fV=/\n/g,pV=/^\s*/,mV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gV=/^:\s*/,yV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vV=/^[;\s]*/,bV=/^\s+|\s+$/g,xV=`
`,RO="/",jO="*",Ml="",wV="comment",SV="declaration";function kV(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var p=m.match(fV);p&&(n+=p.length);var v=m.lastIndexOf(xV);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(p){return p.position=new s(m),u(),p}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var p=new Error(e.source+":"+n+":"+r+": "+m);if(p.reason=m,p.filename=e.source,p.line=n,p.column=r,p.source=t,!e.silent)throw p}function l(m){var p=m.exec(t);if(p){var v=p[0];return i(v),t=t.slice(v.length),p}}function u(){l(pV)}function c(m){var p;for(m=m||[];p=d();)p!==!1&&m.push(p);return m}function d(){var m=a();if(!(RO!=t.charAt(0)||jO!=t.charAt(1))){for(var p=2;Ml!=t.charAt(p)&&(jO!=t.charAt(p)||RO!=t.charAt(p+1));)++p;if(p+=2,Ml===t.charAt(p-1))return o("End of comment missing");var v=t.slice(2,p-2);return r+=2,i(v),t=t.slice(p),r+=2,m({type:wV,comment:v})}}function h(){var m=a(),p=l(mV);if(p){if(d(),!l(gV))return o("property missing ':'");var v=l(yV),y=m({type:SV,property:LO(p[0].replace(IO,Ml)),value:v?LO(v[0].replace(IO,Ml)):Ml});return l(vV),y}}function f(){var m=[];c(m);for(var p;p=h();)p!==!1&&(m.push(p),c(m));return m}return u(),f()}function LO(t){return t?t.replace(bV,Ml):Ml}var _V=kV,AV=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gC,"__esModule",{value:!0});gC.default=CV;const EV=AV(_V);function CV(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,EV.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.camelCase=void 0;var PV=/^--[a-zA-Z0-9_-]+$/,TV=/-([a-z])/g,OV=/^[^-]+$/,MV=/^-(webkit|moz|ms|o|khtml)-/,NV=/^-(ms)-/,IV=function(t){return!t||OV.test(t)||PV.test(t)},RV=function(t,e){return e.toUpperCase()},DO=function(t,e){return"".concat(e,"-")},jV=function(t,e){return e===void 0&&(e={}),IV(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(NV,DO):t=t.replace(MV,DO),t.replace(TV,RV))};_x.camelCase=jV;var LV=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},DV=LV(gC),$V=_x;function sk(t,e){var n={};return!t||typeof t!="string"||(0,DV.default)(t,function(r,i){r&&i&&(n[(0,$V.camelCase)(r,e)]=i)}),n}sk.default=sk;var FV=sk;const BV=nt(FV),s$=o$("end"),yC=o$("start");function o$(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zV(t){const e=yC(t),n=s$(t);if(e&&n)return{start:e,end:n}}function mp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$O(t.position):"start"in t||"end"in t?$O(t):"line"in t||"column"in t?ok(t):""}function ok(t){return FO(t&&t.line)+":"+FO(t&&t.column)}function $O(t){return ok(t&&t.start)+"-"+ok(t&&t.end)}function FO(t){return t&&typeof t=="number"?t:1}class er extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=mp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}er.prototype.file="";er.prototype.name="";er.prototype.reason="";er.prototype.message="";er.prototype.stack="";er.prototype.column=void 0;er.prototype.line=void 0;er.prototype.ancestors=void 0;er.prototype.cause=void 0;er.prototype.fatal=void 0;er.prototype.place=void 0;er.prototype.ruleId=void 0;er.prototype.source=void 0;const vC={}.hasOwnProperty,UV=new Map,HV=/[A-Z]/g,WV=new Set(["table","tbody","thead","tfoot","tr"]),VV=new Set(["td","th"]),l$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function GV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=e7(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=JV(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?mC:dV,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=u$(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function u$(t,e,n){if(e.type==="element")return qV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return XV(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return KV(t,e,n);if(e.type==="mdxjsEsm")return YV(t,e);if(e.type==="root")return ZV(t,e,n);if(e.type==="text")return QV(t,e)}function qV(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mC,t.schema=i),t.ancestors.push(e);const a=d$(t,e.tagName,!1),s=t7(t,e);let o=xC(t,e);return WV.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!tV(l):!0})),c$(t,s,a,e),bC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function XV(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Gp(t,e.position)}function YV(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Gp(t,e.position)}function KV(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=mC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:d$(t,e.name,!0),s=n7(t,e),o=xC(t,e);return c$(t,s,a,e),bC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function ZV(t,e,n){const r={};return bC(r,xC(t,e)),t.create(e,t.Fragment,r,n)}function QV(t,e){return e.value}function c$(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function bC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function JV(t,e,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:e;return o?u(a,s,o):u(a,s)}}function e7(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=yC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function t7(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&vC.call(e.properties,i)){const a=r7(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&VV.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function n7(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Gp(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else Gp(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function xC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:UV;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=u$(t,a,s);o!==void 0&&n.push(o)}return n}function r7(t,e,n){const r=lV(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KW(n):hV(n)),r.property==="style"){let i=typeof n=="object"?n:i7(t,String(n));return t.stylePropertyNameCase==="css"&&(i=a7(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?aV[r.property]||r.property:r.attribute,n]}}function i7(t,e){try{return BV(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new er("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=l$+"#cannot-parse-style-attribute",i}}function d$(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=TO(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=TO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return vC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Gp(t)}function Gp(t,e){const n=new er("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=l$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function a7(t){const e={};let n;for(n in t)vC.call(t,n)&&(e[s7(n)]=t[n]);return e}function s7(t){let e=t.replace(HV,o7);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function o7(t){return"-"+t.toLowerCase()}const i1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},l7={};function u7(t,e){const n=l7,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return h$(t,r,i)}function h$(t,e,n){if(c7(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return BO(t.children,e,n)}return Array.isArray(t)?BO(t,e,n):""}function BO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=h$(t[i],e,n);return r.join("")}function c7(t){return!!(t&&typeof t=="object")}const zO=document.createElement("i");function wC(t){const e="&"+t+";";zO.innerHTML=e;const n=zO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ua(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function vi(t,e){return t.length>0?(Ua(t,t.length,0,e),t):e}const UO={}.hasOwnProperty;function d7(t){const e={};let n=-1;for(;++n<t.length;)h7(e,t[n]);return e}function h7(t,e){let n;for(n in e){const i=(UO.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){UO.call(i,s)||(i[s]=[]);const o=a[s];f7(i[s],Array.isArray(o)?o:o?[o]:[])}}}function f7(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ua(t,0,0,r)}function f$(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function rd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const La=dl(/[A-Za-z]/),Jr=dl(/[\dA-Za-z]/),p7=dl(/[#-'*+\--9=?A-Z^-~]/);function lk(t){return t!==null&&(t<32||t===127)}const uk=dl(/\d/),m7=dl(/[\dA-Fa-f]/),g7=dl(/[!-/:-@[-`{-~]/);function Re(t){return t!==null&&t<-2}function Tr(t){return t!==null&&(t<0||t===32)}function it(t){return t===-2||t===-1||t===32}const y7=dl(new RegExp("\\p{P}|\\p{S}","u")),v7=dl(/\s/);function dl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Jr(t.charCodeAt(n+1))&&Jr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function St(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return it(l)?(t.enter(n),o(l)):e(l)}function o(l){return it(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const b7={tokenize:x7};function x7(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),St(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Re(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const w7={tokenize:S7},HO={tokenize:k7};function S7(t){const e=this,n=[];let r=0,i,a,s;return o;function o(x){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const k=e.events.length;let S=k,w;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){w=e.events[S][1].end;break}y(r);let A=k;for(;A<e.events.length;)e.events[A][1].end={...w},A++;return Ua(e.events,S+1,0,e.events.slice(k)),e.events.length=A,u(x)}return o(x)}function u(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(HO,c,d)(x)}function c(x){return i&&b(),y(r),h(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(x)}function h(x){return e.containerState={},t.attempt(HO,f,m)(x)}function f(x){return r++,n.push([e.currentConstruct,e.containerState]),h(x)}function m(x){if(x===null){i&&b(),y(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),p(x)}function p(x){if(x===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(x);return}return Re(x)?(t.consume(x),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(x),p)}function v(x,k){const S=e.sliceStream(x);if(k&&S.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(S),e.parser.lazy[x.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<s&&(!i.events[w][1].end||i.events[w][1].end.offset>s))return;const A=e.events.length;let E=A,C,O;for(;E--;)if(e.events[E][0]==="exit"&&e.events[E][1].type==="chunkFlow"){if(C){O=e.events[E][1].end;break}C=!0}for(y(r),w=A;w<e.events.length;)e.events[w][1].end={...O},w++;Ua(e.events,E+1,0,e.events.slice(A)),e.events.length=w}}function y(x){let k=n.length;for(;k-- >x;){const S=n[k];e.containerState=S[1],S[0].exit.call(e,t)}n.length=x}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function k7(t,e,n){return St(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function WO(t){if(t===null||Tr(t)||v7(t))return 1;if(y7(t))return 2}function SC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const ck={name:"attention",resolveAll:_7,tokenize:A7};function _7(t,e){let n=-1,r,i,a,s,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};VO(d,-l),VO(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=vi(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=vi(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=vi(u,SC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=vi(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=vi(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Ua(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function A7(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=WO(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),c=WO(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?d:d&&(i||!h)),u._close=!!(a===42?h:h&&(c||!d)),e(l)}}function VO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const E7={name:"autolink",tokenize:C7};function C7(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(f){return La(f)?(t.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||Jr(f)?(r=1,o(f)):u(f)}function o(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||Jr(f))&&r++<32?(t.consume(f),o):(r=0,u(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||lk(f)?n(f):(t.consume(f),l)}function u(f){return f===64?(t.consume(f),c):p7(f)?(t.consume(f),u):n(f)}function c(f){return Jr(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,c):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||Jr(f))&&r++<63){const m=f===45?h:d;return t.consume(f),m}return n(f)}}const Ax={partial:!0,tokenize:P7};function P7(t,e,n){return r;function r(a){return it(a)?St(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?e(a):n(a)}}const p$={continuation:{tokenize:O7},exit:M7,name:"blockQuote",tokenize:T7};function T7(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return it(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function O7(t,e,n){const r=this;return i;function i(s){return it(s)?St(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(p$,e,n)(s)}}function M7(t){t.exit("blockQuote")}const m$={name:"characterEscape",tokenize:N7};function N7(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return g7(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const g$={name:"characterReference",tokenize:I7};function I7(t,e,n){const r=this;let i=0,a,s;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=Jr,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=m7,c):(t.enter("characterReferenceValue"),a=7,s=uk,c(d))}function c(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===Jr&&!wC(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<a?(t.consume(d),c):n(d)}}const GO={partial:!0,tokenize:j7},qO={concrete:!0,name:"codeFenced",tokenize:R7};function R7(t,e,n){const r=this,i={partial:!0,tokenize:S};let a=0,s=0,o;return l;function l(w){return u(w)}function u(w){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===o?(s++,t.consume(w),c):s<3?n(w):(t.exit("codeFencedFenceSequence"),it(w)?St(t,d,"whitespace")(w):d(w))}function d(w){return w===null||Re(w)?(t.exit("codeFencedFence"),r.interrupt?e(w):t.check(GO,p,k)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||Re(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(w)):it(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),St(t,f,"whitespace")(w)):w===96&&w===o?n(w):(t.consume(w),h)}function f(w){return w===null||Re(w)?d(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||Re(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(w)):w===96&&w===o?n(w):(t.consume(w),m)}function p(w){return t.attempt(i,k,v)(w)}function v(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y}function y(w){return a>0&&it(w)?St(t,b,"linePrefix",a+1)(w):b(w)}function b(w){return w===null||Re(w)?t.check(GO,p,k)(w):(t.enter("codeFlowValue"),x(w))}function x(w){return w===null||Re(w)?(t.exit("codeFlowValue"),b(w)):(t.consume(w),x)}function k(w){return t.exit("codeFenced"),e(w)}function S(w,A,E){let C=0;return O;function O($){return w.enter("lineEnding"),w.consume($),w.exit("lineEnding"),I}function I($){return w.enter("codeFencedFence"),it($)?St(w,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):T($)}function T($){return $===o?(w.enter("codeFencedFenceSequence"),j($)):E($)}function j($){return $===o?(C++,w.consume($),j):C>=s?(w.exit("codeFencedFenceSequence"),it($)?St(w,P,"whitespace")($):P($)):E($)}function P($){return $===null||Re($)?(w.exit("codeFencedFence"),A($)):E($)}}}function j7(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const a1={name:"codeIndented",tokenize:D7},L7={partial:!0,tokenize:$7};function D7(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),St(t,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Re(u)?t.attempt(L7,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Re(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function $7(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Re(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):St(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Re(s)?i(s):n(s)}}const F7={name:"codeText",previous:z7,resolve:B7,tokenize:U7};function B7(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function z7(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function U7(t,e,n){let r=0,i,a;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(a=t.enter("codeTextSequence"),i=0,c(d)):Re(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Re(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(a.type="codeTextData",u(d))}}class H7{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bf(this.left,n.reverse())}}}function bf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function y$(t){const e={};let n=-1,r,i,a,s,o,l,u;const c=new H7(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,W7(c,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return Ua(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function W7(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,d,h=-1,f=n,m=0,p=0;const v=[p];for(;f;){for(;t.get(++i)[1]!==f;);a.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(p=h+1,v.push(p),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),h=v.length;h--;){const y=o.slice(v[h],v[h+1]),b=a.pop();l.push([b,b+y.length-1]),t.splice(b,2,y)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const V7={resolve:q7,tokenize:X7},G7={partial:!0,tokenize:Y7};function q7(t){return y$(t),t}function X7(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Re(o)?t.check(G7,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Y7(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),St(t,a,"linePrefix")}function a(s){if(s===null||Re(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function v$(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(y),t.exit(a),h):y===null||y===32||y===41||lk(y)?n(y):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function h(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(o),h(y)):y===null||y===60||Re(y)?n(y):(t.consume(y),y===92?m:f)}function m(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function p(y){return!c&&(y===null||y===41||Tr(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(y)):c<u&&y===40?(t.consume(y),c++,p):y===41?(t.consume(y),c--,p):y===null||y===32||y===40||lk(y)?n(y):(t.consume(y),y===92?v:p)}function v(y){return y===40||y===41||y===92?(t.consume(y),p):p(y)}}function b$(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(a),c}function c(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(a),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):Re(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Re(f)||o++>999?(t.exit("chunkString"),c(f)):(t.consume(f),l||(l=!it(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),o++,d):d(f)}}function x$(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),u(h))}function u(h){return h===s?(t.exit(a),l(s)):h===null?n(h):Re(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),St(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||Re(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(t.consume(h),c):c(h)}}function gp(t,e){let n;return r;function r(i){return Re(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):it(i)?St(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const K7={name:"definition",tokenize:Q7},Z7={partial:!0,tokenize:J7};function Q7(t,e,n){const r=this;let i;return a;function a(f){return t.enter("definition"),s(f)}function s(f){return b$.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=rd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return Tr(f)?gp(t,u)(f):u(f)}function u(f){return v$(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return t.attempt(Z7,d,d)(f)}function d(f){return it(f)?St(t,h,"whitespace")(f):h(f)}function h(f){return f===null||Re(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function J7(t,e,n){return r;function r(o){return Tr(o)?gp(t,i)(o):n(o)}function i(o){return x$(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return it(o)?St(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Re(o)?e(o):n(o)}}const eG={name:"hardBreakEscape",tokenize:tG};function tG(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Re(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const nG={name:"headingAtx",resolve:rG,tokenize:iG};function rG(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ua(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function iG(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),a(c)}function a(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||Tr(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Re(c)?(t.exit("atxHeading"),e(c)):it(c)?St(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Tr(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const aG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XO=["pre","script","style","textarea"],sG={concrete:!0,name:"htmlFlow",resolveTo:uG,tokenize:cG},oG={partial:!0,tokenize:hG},lG={partial:!0,tokenize:dG};function uG(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function cG(t,e,n){const r=this;let i,a,s,o,l;return u;function u(L){return c(L)}function c(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),d}function d(L){return L===33?(t.consume(L),h):L===47?(t.consume(L),a=!0,p):L===63?(t.consume(L),i=3,r.interrupt?e:R):La(L)?(t.consume(L),s=String.fromCharCode(L),v):n(L)}function h(L){return L===45?(t.consume(L),i=2,f):L===91?(t.consume(L),i=5,o=0,m):La(L)?(t.consume(L),i=4,r.interrupt?e:R):n(L)}function f(L){return L===45?(t.consume(L),r.interrupt?e:R):n(L)}function m(L){const ae="CDATA[";return L===ae.charCodeAt(o++)?(t.consume(L),o===ae.length?r.interrupt?e:T:m):n(L)}function p(L){return La(L)?(t.consume(L),s=String.fromCharCode(L),v):n(L)}function v(L){if(L===null||L===47||L===62||Tr(L)){const ae=L===47,Z=s.toLowerCase();return!ae&&!a&&XO.includes(Z)?(i=1,r.interrupt?e(L):T(L)):aG.includes(s.toLowerCase())?(i=6,ae?(t.consume(L),y):r.interrupt?e(L):T(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):a?b(L):x(L))}return L===45||Jr(L)?(t.consume(L),s+=String.fromCharCode(L),v):n(L)}function y(L){return L===62?(t.consume(L),r.interrupt?e:T):n(L)}function b(L){return it(L)?(t.consume(L),b):O(L)}function x(L){return L===47?(t.consume(L),O):L===58||L===95||La(L)?(t.consume(L),k):it(L)?(t.consume(L),x):O(L)}function k(L){return L===45||L===46||L===58||L===95||Jr(L)?(t.consume(L),k):S(L)}function S(L){return L===61?(t.consume(L),w):it(L)?(t.consume(L),S):x(L)}function w(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),l=L,A):it(L)?(t.consume(L),w):E(L)}function A(L){return L===l?(t.consume(L),l=null,C):L===null||Re(L)?n(L):(t.consume(L),A)}function E(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Tr(L)?S(L):(t.consume(L),E)}function C(L){return L===47||L===62||it(L)?x(L):n(L)}function O(L){return L===62?(t.consume(L),I):n(L)}function I(L){return L===null||Re(L)?T(L):it(L)?(t.consume(L),I):n(L)}function T(L){return L===45&&i===2?(t.consume(L),X):L===60&&i===1?(t.consume(L),U):L===62&&i===4?(t.consume(L),B):L===63&&i===3?(t.consume(L),R):L===93&&i===5?(t.consume(L),G):Re(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(oG,H,j)(L)):L===null||Re(L)?(t.exit("htmlFlowData"),j(L)):(t.consume(L),T)}function j(L){return t.check(lG,P,H)(L)}function P(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),$}function $(L){return L===null||Re(L)?j(L):(t.enter("htmlFlowData"),T(L))}function X(L){return L===45?(t.consume(L),R):T(L)}function U(L){return L===47?(t.consume(L),s="",q):T(L)}function q(L){if(L===62){const ae=s.toLowerCase();return XO.includes(ae)?(t.consume(L),B):T(L)}return La(L)&&s.length<8?(t.consume(L),s+=String.fromCharCode(L),q):T(L)}function G(L){return L===93?(t.consume(L),R):T(L)}function R(L){return L===62?(t.consume(L),B):L===45&&i===2?(t.consume(L),R):T(L)}function B(L){return L===null||Re(L)?(t.exit("htmlFlowData"),H(L)):(t.consume(L),B)}function H(L){return t.exit("htmlFlow"),e(L)}}function dG(t,e,n){const r=this;return i;function i(s){return Re(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function hG(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ax,e,n)}}const fG={name:"htmlText",tokenize:pG};function pG(t,e,n){const r=this;let i,a,s;return o;function o(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),S):R===63?(t.consume(R),x):La(R)?(t.consume(R),E):n(R)}function u(R){return R===45?(t.consume(R),c):R===91?(t.consume(R),a=0,m):La(R)?(t.consume(R),b):n(R)}function c(R){return R===45?(t.consume(R),f):n(R)}function d(R){return R===null?n(R):R===45?(t.consume(R),h):Re(R)?(s=d,U(R)):(t.consume(R),d)}function h(R){return R===45?(t.consume(R),f):d(R)}function f(R){return R===62?X(R):R===45?h(R):d(R)}function m(R){const B="CDATA[";return R===B.charCodeAt(a++)?(t.consume(R),a===B.length?p:m):n(R)}function p(R){return R===null?n(R):R===93?(t.consume(R),v):Re(R)?(s=p,U(R)):(t.consume(R),p)}function v(R){return R===93?(t.consume(R),y):p(R)}function y(R){return R===62?X(R):R===93?(t.consume(R),y):p(R)}function b(R){return R===null||R===62?X(R):Re(R)?(s=b,U(R)):(t.consume(R),b)}function x(R){return R===null?n(R):R===63?(t.consume(R),k):Re(R)?(s=x,U(R)):(t.consume(R),x)}function k(R){return R===62?X(R):x(R)}function S(R){return La(R)?(t.consume(R),w):n(R)}function w(R){return R===45||Jr(R)?(t.consume(R),w):A(R)}function A(R){return Re(R)?(s=A,U(R)):it(R)?(t.consume(R),A):X(R)}function E(R){return R===45||Jr(R)?(t.consume(R),E):R===47||R===62||Tr(R)?C(R):n(R)}function C(R){return R===47?(t.consume(R),X):R===58||R===95||La(R)?(t.consume(R),O):Re(R)?(s=C,U(R)):it(R)?(t.consume(R),C):X(R)}function O(R){return R===45||R===46||R===58||R===95||Jr(R)?(t.consume(R),O):I(R)}function I(R){return R===61?(t.consume(R),T):Re(R)?(s=I,U(R)):it(R)?(t.consume(R),I):C(R)}function T(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,j):Re(R)?(s=T,U(R)):it(R)?(t.consume(R),T):(t.consume(R),P)}function j(R){return R===i?(t.consume(R),i=void 0,$):R===null?n(R):Re(R)?(s=j,U(R)):(t.consume(R),j)}function P(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Tr(R)?C(R):(t.consume(R),P)}function $(R){return R===47||R===62||Tr(R)?C(R):n(R)}function X(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function U(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),q}function q(R){return it(R)?St(t,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):G(R)}function G(R){return t.enter("htmlTextData"),s(R)}}const kC={name:"labelEnd",resolveAll:vG,resolveTo:bG,tokenize:xG},mG={tokenize:wG},gG={tokenize:SG},yG={tokenize:kG};function vG(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ua(t,0,t.length,n),t}function bG(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=vi(o,t.slice(a+1,a+r+3)),o=vi(o,[["enter",c,e]]),o=vi(o,SC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=vi(o,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),o=vi(o,t.slice(s+1)),o=vi(o,[["exit",l,e]]),Ua(t,a,t.length,o),t}function xG(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?d(h):(s=r.parser.defined.includes(rd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(mG,c,s?c:d)(h):h===91?t.attempt(gG,c,s?u:d)(h):s?c(h):d(h)}function u(h){return t.attempt(yG,c,d)(h)}function c(h){return e(h)}function d(h){return a._balanced=!0,n(h)}}function wG(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Tr(d)?gp(t,a)(d):a(d)}function a(d){return d===41?c(d):v$(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Tr(d)?gp(t,l)(d):c(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?x$(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Tr(d)?gp(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function SG(t,e,n){const r=this;return i;function i(o){return b$.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(rd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function kG(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const _G={name:"labelStartImage",resolveAll:kC.resolveAll,tokenize:AG};function AG(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const EG={name:"labelStartLink",resolveAll:kC.resolveAll,tokenize:CG};function CG(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const s1={name:"lineEnding",tokenize:PG};function PG(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),St(t,e,"linePrefix")}}const kv={name:"thematicBreak",tokenize:TG};function TG(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Re(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),it(u)?St(t,o,"whitespace")(u):o(u))}}const gr={continuation:{tokenize:IG},exit:jG,name:"list",tokenize:NG},OG={partial:!0,tokenize:LG},MG={partial:!0,tokenize:RG};function NG(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:uk(f)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(kv,n,u)(f):u(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return uk(f)&&++s<10?(t.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),u(f)):n(f)}function u(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(Ax,r.interrupt?n:c,t.attempt(OG,h,d))}function c(f){return r.containerState.initialBlankLine=!0,a++,h(f)}function d(f){return it(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function IG(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ax,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!it(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(MG,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(t,t.attempt(gr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function RG(t,e,n){const r=this;return St(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function jG(t){t.exit(this.containerState.type)}function LG(t,e,n){const r=this;return St(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!it(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const YO={name:"setextUnderline",resolveTo:DG,tokenize:$G};function DG(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function $G(t,e,n){const r=this;let i;return a;function a(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),it(u)?St(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Re(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const FG={tokenize:BG};function BG(t){const e=this,n=t.attempt(Ax,r,t.attempt(this.parser.constructs.flowInitial,i,St(t,t.attempt(this.parser.constructs.flow,i,t.attempt(V7,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const zG={resolveAll:S$()},UG=w$("string"),HG=w$("text");function w$(t){return{resolveAll:S$(t==="text"?WG:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function S$(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function WG(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const VG={42:gr,43:gr,45:gr,48:gr,49:gr,50:gr,51:gr,52:gr,53:gr,54:gr,55:gr,56:gr,57:gr,62:p$},GG={91:K7},qG={[-2]:a1,[-1]:a1,32:a1},XG={35:nG,42:kv,45:[YO,kv],60:sG,61:YO,95:kv,96:qO,126:qO},YG={38:g$,92:m$},KG={[-5]:s1,[-4]:s1,[-3]:s1,33:_G,38:g$,42:ck,60:[E7,fG],91:EG,92:[eG,m$],93:kC,95:ck,96:F7},ZG={null:[ck,zG]},QG={null:[42,95]},JG={null:[]},e9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:QG,contentInitial:GG,disable:JG,document:VG,flow:XG,flowInitial:qG,insideSpan:ZG,string:YG,text:KG},Symbol.toStringTag,{value:"Module"}));function t9(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(S),check:A(w),consume:b,enter:x,exit:k,interrupt:A(w,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:f,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function d(I){return s=vi(s,I),v(),s[s.length-1]!==null?[]:(E(e,0),u.events=SC(a,u.events,u),u.events)}function h(I,T){return r9(f(I),T)}function f(I){return n9(s,I)}function m(){const{_bufferIndex:I,_index:T,line:j,column:P,offset:$}=r;return{_bufferIndex:I,_index:T,line:j,column:P,offset:$}}function p(I){i[I.line]=I.column,O()}function v(){let I;for(;r._index<s.length;){const T=s[r._index];if(typeof T=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<T.length;)y(T.charCodeAt(r._bufferIndex));else y(T)}}function y(I){c=c(I)}function b(I){Re(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,O()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function x(I,T){const j=T||{};return j.type=I,j.start=m(),u.events.push(["enter",j,u]),o.push(j),j}function k(I){const T=o.pop();return T.end=m(),u.events.push(["exit",T,u]),T}function S(I,T){E(I,T.from)}function w(I,T){T.restore()}function A(I,T){return j;function j(P,$,X){let U,q,G,R;return Array.isArray(P)?H(P):"tokenize"in P?H([P]):B(P);function B(de){return Se;function Se(ge){const ie=ge!==null&&de[ge],he=ge!==null&&de.null,fe=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(he)?he:he?[he]:[]];return H(fe)(ge)}}function H(de){return U=de,q=0,de.length===0?X:L(de[q])}function L(de){return Se;function Se(ge){return R=C(),G=de,de.partial||(u.currentConstruct=de),de.name&&u.parser.constructs.disable.null.includes(de.name)?Z():de.tokenize.call(T?Object.assign(Object.create(u),T):u,l,ae,Z)(ge)}}function ae(de){return I(G,R),$}function Z(de){return R.restore(),++q<U.length?L(U[q]):X}}}function E(I,T){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&Ua(u.events,T,u.events.length-T,I.resolve(u.events.slice(T),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function C(){const I=m(),T=u.previous,j=u.currentConstruct,P=u.events.length,$=Array.from(o);return{from:P,restore:X};function X(){r=I,u.previous=T,u.currentConstruct=j,u.events.length=P,o=$,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function n9(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function r9(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function i9(t){const r={constructs:d7([e9,...(t||{}).extensions||[]]),content:i(b7),defined:[],document:i(w7),flow:i(FG),lazy:{},string:i(UG),text:i(HG)};return r;function i(a){return s;function s(o){return t9(r,a,o)}}}function a9(t){for(;!y$(t););return t}const KO=/[\0\t\n\r]/g;function s9(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,d,h,f;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),d=0,e="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(KO.lastIndex=d,u=KO.exec(a),h=u&&u.index!==void 0?u.index:a.length,f=a.charCodeAt(h),!u){e=a.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(a.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const o9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function l9(t){return t.replace(o9,u9)}function u9(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return f$(n.slice(a?2:1),a?16:10)}return wC(n)||t}const k$={}.hasOwnProperty;function c9(t,e,n){return typeof e!="string"&&(n=e,e=void 0),d9(n)(a9(i9(n).document().write(s9()(t,e,!0))))}function d9(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Y),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(ee),blockQuote:a(he),characterEscape:C,characterReference:C,codeFenced:a(fe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(fe,s),codeText:a(te,s),codeTextData:C,data:C,codeFlowValue:C,definition:a(ye),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(M),hardBreakEscape:a(K),hardBreakTrailing:a(K),htmlFlow:a(V,s),htmlFlowData:C,htmlText:a(V,s),htmlTextData:C,image:a(W),label:s,link:a(Y),listItem:a(ue),listItemValue:h,listOrdered:a(se,d),listUnordered:a(se),paragraph:a(re),reference:L,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ee),strong:a(me),thematicBreak:a(pe)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:ie,autolinkProtocol:ge,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:de,characterReference:Se,codeFenced:l(v),codeFencedFence:p,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:O,codeIndented:l(y),codeText:l($),codeTextData:O,data:O,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(j),htmlFlowData:O,htmlText:l(P),htmlTextData:O,image:l(U),label:G,labelText:q,lineEnding:I,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ae,resourceDestinationString:R,resourceTitleString:B,resource:H,setextHeading:l(E),setextHeadingLineSequence:A,setextHeadingText:w,strong:l(),thematicBreak:l()}};_$(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let oe={type:"root",children:[]};const be={stack:[oe],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:c,data:n},Oe=[];let Be=-1;for(;++Be<J.length;)if(J[Be][1].type==="listOrdered"||J[Be][1].type==="listUnordered")if(J[Be][0]==="enter")Oe.push(Be);else{const ot=Oe.pop();Be=i(J,ot,Be)}for(Be=-1;++Be<J.length;){const ot=e[J[Be][0]];k$.call(ot,J[Be][1].type)&&ot[J[Be][1].type].call(Object.assign({sliceSerialize:J[Be][2].sliceSerialize},be),J[Be][1])}if(be.tokenStack.length>0){const ot=be.tokenStack[be.tokenStack.length-1];(ot[1]||ZO).call(be,void 0,ot[0])}for(oe.position={start:eo(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:eo(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<e.transforms.length;)oe=e.transforms[Be](oe)||oe;return oe}function i(J,oe,be){let Oe=oe-1,Be=-1,ot=!1,Pt,Ve,Ir,Ga;for(;++Oe<=be;){const Nt=J[Oe];switch(Nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nt[0]==="enter"?Be++:Be--,Ga=void 0;break}case"lineEndingBlank":{Nt[0]==="enter"&&(Pt&&!Ga&&!Be&&!Ir&&(Ir=Oe),Ga=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ga=void 0}if(!Be&&Nt[0]==="enter"&&Nt[1].type==="listItemPrefix"||Be===-1&&Nt[0]==="exit"&&(Nt[1].type==="listUnordered"||Nt[1].type==="listOrdered")){if(Pt){let qa=Oe;for(Ve=void 0;qa--;){const Ii=J[qa];if(Ii[1].type==="lineEnding"||Ii[1].type==="lineEndingBlank"){if(Ii[0]==="exit")continue;Ve&&(J[Ve][1].type="lineEndingBlank",ot=!0),Ii[1].type="lineEnding",Ve=qa}else if(!(Ii[1].type==="linePrefix"||Ii[1].type==="blockQuotePrefix"||Ii[1].type==="blockQuotePrefixWhitespace"||Ii[1].type==="blockQuoteMarker"||Ii[1].type==="listItemIndent"))break}Ir&&(!Ve||Ir<Ve)&&(Pt._spread=!0),Pt.end=Object.assign({},Ve?J[Ve][1].start:Nt[1].end),J.splice(Ve||Oe,0,["exit",Pt,Nt[2]]),Oe++,be++}if(Nt[1].type==="listItemPrefix"){const qa={type:"listItem",_spread:!1,start:Object.assign({},Nt[1].start),end:void 0};Pt=qa,J.splice(Oe,0,["enter",qa,Nt[2]]),Oe++,be++,Ir=void 0,Ga=!0}}}return J[oe][1]._spread=ot,be}function a(J,oe){return be;function be(Oe){o.call(this,J(Oe),Oe),oe&&oe.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(J,oe,be){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([oe,be||void 0]),J.position={start:eo(oe.start),end:void 0}}function l(J){return oe;function oe(be){J&&J.call(this,be),u.call(this,be)}}function u(J,oe){const be=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==J.type&&(oe?oe.call(this,J,Oe[0]):(Oe[1]||ZO).call(this,J,Oe[0]));else throw new Error("Cannot close `"+J.type+"` ("+mp({start:J.start,end:J.end})+"): its not open");be.position.end=eo(J.end)}function c(){return u7(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(J){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function f(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=J}function m(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=J}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J.replace(/(\r?\n|\r)$/g,"")}function b(J){const oe=this.resume(),be=this.stack[this.stack.length-1];be.label=oe,be.identifier=rd(this.sliceSerialize(J)).toLowerCase()}function x(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.title=J}function k(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.url=J}function S(J){const oe=this.stack[this.stack.length-1];if(!oe.depth){const be=this.sliceSerialize(J).length;oe.depth=be}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function A(J){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function C(J){const be=this.stack[this.stack.length-1].children;let Oe=be[be.length-1];(!Oe||Oe.type!=="text")&&(Oe=ve(),Oe.position={start:eo(J.start),end:void 0},be.push(Oe)),this.stack.push(Oe)}function O(J){const oe=this.stack.pop();oe.value+=this.sliceSerialize(J),oe.position.end=eo(J.end)}function I(J){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=oe.children[oe.children.length-1];be.position.end=eo(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(C.call(this,J),O.call(this,J))}function T(){this.data.atHardBreak=!0}function j(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function P(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function $(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.value=J}function X(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=oe,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function U(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=oe,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function q(J){const oe=this.sliceSerialize(J),be=this.stack[this.stack.length-2];be.label=l9(oe),be.identifier=rd(oe).toLowerCase()}function G(){const J=this.stack[this.stack.length-1],oe=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Oe=J.children;be.children=Oe}else be.alt=oe}function R(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.url=J}function B(){const J=this.resume(),oe=this.stack[this.stack.length-1];oe.title=J}function H(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ae(J){const oe=this.resume(),be=this.stack[this.stack.length-1];be.label=oe,be.identifier=rd(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function Z(J){this.data.characterReferenceType=J.type}function de(J){const oe=this.sliceSerialize(J),be=this.data.characterReferenceType;let Oe;be?(Oe=f$(oe,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=wC(oe);const Be=this.stack[this.stack.length-1];Be.value+=Oe}function Se(J){const oe=this.stack.pop();oe.position.end=eo(J.end)}function ge(J){O.call(this,J);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(J)}function ie(J){O.call(this,J);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(J)}function he(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function M(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function K(){return{type:"break"}}function V(){return{type:"html",value:""}}function W(){return{type:"image",title:null,url:"",alt:null}}function Y(){return{type:"link",title:null,url:"",children:[]}}function se(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function ue(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function pe(){return{type:"thematicBreak"}}}function eo(t){return{line:t.line,column:t.column,offset:t.offset}}function _$(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_$(t,r):h9(t,r)}}function h9(t,e){let n;for(n in e)if(k$.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function ZO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mp({start:e.start,end:e.end})+") is still open")}function f9(t){const e=this;e.parser=n;function n(r){return c9(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function p9(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function m9(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function g9(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function y9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function v9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function b9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Yh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function x9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function w9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function A$(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function S9(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return A$(t,e);const i={src:Yh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function k9(t,e){const n={src:Yh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function _9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function A9(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return A$(t,e);const i={href:Yh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function E9(t,e){const n={href:Yh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function C9(t,e,n){const r=t.all(e),i=n?P9(n):E$(e),a={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function P9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=E$(n[r])}return e}function E$(t){const e=t.spread;return e??t.children.length>1}function T9(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function O9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function N9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I9(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=yC(e.children[1]),l=s$(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function R9(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const d=e.children[l],h={},f=s?s[l]:void 0;f&&(h.align=f);let m={type:"element",tagName:a,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function j9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const QO=9,JO=32;function L9(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(e2(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(e2(e.slice(i),i>0,!1)),a.join("")}function e2(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===QO||a===JO;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===QO||a===JO;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function D9(t,e){const n={type:"text",value:L9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const F9={blockquote:p9,break:m9,code:g9,delete:y9,emphasis:v9,footnoteReference:b9,heading:x9,html:w9,imageReference:S9,image:k9,inlineCode:_9,linkReference:A9,link:E9,listItem:C9,list:T9,paragraph:O9,root:M9,strong:N9,table:I9,tableCell:j9,tableRow:R9,text:D9,thematicBreak:$9,toml:jy,yaml:jy,definition:jy,footnoteDefinition:jy};function jy(){}const C$=-1,Ex=0,yp=1,N0=2,_C=3,AC=4,EC=5,CC=6,P$=7,T$=8,t2=typeof self=="object"?self:globalThis,B9=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Ex:case C$:return n(s,i);case yp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case N0:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case _C:return n(new Date(s),i);case AC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case EC:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case CC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case P$:{const{name:o,message:l}=s;return n(new t2[o](l),i)}case T$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new t2[a](s),i)};return r},n2=t=>B9(new Map,t)(0),vc="",{toString:z9}={},{keys:U9}=Object,xf=t=>{const e=typeof t;if(e!=="object"||!t)return[Ex,e];const n=z9.call(t).slice(8,-1);switch(n){case"Array":return[yp,vc];case"Object":return[N0,vc];case"Date":return[_C,vc];case"RegExp":return[AC,vc];case"Map":return[EC,vc];case"Set":return[CC,vc];case"DataView":return[yp,n]}return n.includes("Array")?[yp,n]:n.includes("Error")?[P$,n]:[N0,n]},Ly=([t,e])=>t===Ex&&(e==="function"||e==="symbol"),H9=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=xf(s);switch(o){case Ex:{let c=s;switch(l){case"bigint":o=T$,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([C$],s)}return i([o,c],s)}case yp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([o,c],s);for(const h of s)c.push(a(h));return d}case N0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const c=[],d=i([o,c],s);for(const h of U9(s))(t||!Ly(xf(s[h])))&&c.push([a(h),a(s[h])]);return d}case _C:return i([o,s.toISOString()],s);case AC:{const{source:c,flags:d}=s;return i([o,{source:c,flags:d}],s)}case EC:{const c=[],d=i([o,c],s);for(const[h,f]of s)(t||!(Ly(xf(h))||Ly(xf(f))))&&c.push([a(h),a(f)]);return d}case CC:{const c=[],d=i([o,c],s);for(const h of s)(t||!Ly(xf(h)))&&c.push(a(h));return d}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},r2=(t,{json:e,lossy:n}={})=>{const r=[];return H9(!(e||n),!!e,new Map,r)(t),r},I0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?n2(r2(t,e)):structuredClone(t):(t,e)=>n2(r2(t,e));function W9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function V9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function G9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||W9,r=t.options.footnoteBackLabel||V9,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),h=Yh(d.toLowerCase());let f=0;const m=[],p=t.footnoteCounts.get(d);for(;p!==void 0&&++f<=p;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,f);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=c[c.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(c,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...I0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const O$=function(t){if(t==null)return K9;if(typeof t=="function")return Cx(t);if(typeof t=="object")return Array.isArray(t)?q9(t):X9(t);if(typeof t=="string")return Y9(t);throw new Error("Expected function, string, or object as test")};function q9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=O$(t[n]);return Cx(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function X9(t){const e=t;return Cx(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Y9(t){return Cx(e);function e(n){return n&&n.type===t}}function Cx(t){return e;function e(n,r,i){return!!(Z9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function K9(){return!0}function Z9(t){return t!==null&&typeof t=="object"&&"type"in t}const M$=[],Q9=!0,i2=!1,J9="skip";function eq(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=O$(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=M$,m,p,v;if((!e||a(l,u,c[c.length-1]||void 0))&&(f=tq(n(l,c)),f[0]===i2))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==J9)for(p=(r?y.children.length:-1)+s,v=c.concat(y);p>-1&&p<y.children.length;){const b=y.children[p];if(m=o(b,p,v)(),m[0]===i2)return m;p=typeof m[1]=="number"?m[1]:p+s}}return f}}}function tq(t){return Array.isArray(t)?t:typeof t=="number"?[Q9,t]:t==null?M$:[t]}function N$(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),eq(t,a,o,i);function o(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const dk={}.hasOwnProperty,nq={};function rq(t,e){const n=e||nq,r=new Map,i=new Map,a=new Map,s={...F9,...n.handlers},o={all:u,applyData:aq,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:iq,wrap:oq};return N$(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),o;function l(c,d){const h=c.type,f=o.handlers[h];if(dk.call(o.handlers,h)&&f)return f(o,c,d);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in c){const{children:p,...v}=c,y=I0(v);return y.children=o.all(c),y}return I0(c)}return(o.options.unknownHandler||sq)(o,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let f=-1;for(;++f<h.length;){const m=o.one(h[f],c);if(m){if(f&&h[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=a2(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=a2(p.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function iq(t,e){t.position&&(e.position=zV(t))}function aq(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,I0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sq(t,e){const n=e.data||{},r="value"in e&&!(dk.call(n,"hProperties")||dk.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function oq(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function a2(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function s2(t,e){const n=rq(t,e),r=n.one(t,void 0),i=G9(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function lq(t,e){return t&&"run"in t?async function(n,r){const i=s2(n,{file:r,...e});await t.run(i,r)}:function(n,r){return s2(n,{file:r,...t||e})}}function o2(t){if(t)throw t}var _v=Object.prototype.hasOwnProperty,I$=Object.prototype.toString,l2=Object.defineProperty,u2=Object.getOwnPropertyDescriptor,c2=function(e){return typeof Array.isArray=="function"?Array.isArray(e):I$.call(e)==="[object Array]"},d2=function(e){if(!e||I$.call(e)!=="[object Object]")return!1;var n=_v.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&_v.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||_v.call(e,i)},h2=function(e,n){l2&&n.name==="__proto__"?l2(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},f2=function(e,n){if(n==="__proto__")if(_v.call(e,n)){if(u2)return u2(e,n).value}else return;return e[n]},uq=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=f2(o,n),i=f2(e,n),o!==i&&(c&&i&&(d2(i)||(a=c2(i)))?(a?(a=!1,s=r&&c2(r)?r:[]):s=r&&d2(r)?r:{},h2(o,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&h2(o,{name:n,newValue:i}));return o};const o1=nt(uq);function hk(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function cq(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=t[++a];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?dq(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dq(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const ga={basename:hq,dirname:fq,extname:pq,join:mq,sep:"/"};function hq(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ey(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function fq(t){if(ey(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function pq(t){ey(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function mq(...t){let e=-1,n;for(;++e<t.length;)ey(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":gq(n)}function gq(t){ey(t);const e=t.codePointAt(0)===47;let n=yq(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yq(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function ey(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const vq={cwd:bq};function bq(){return"/"}function fk(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function xq(t){if(typeof t=="string")t=new URL(t);else if(!fk(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wq(t)}function wq(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const l1=["history","path","basename","stem","extname","dirname"];class R${constructor(e){let n;e?fk(e)?n={path:e}:typeof e=="string"||Sq(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":vq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<l1.length;){const a=l1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)l1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ga.basename(this.path):void 0}set basename(e){c1(e,"basename"),u1(e,"basename"),this.path=ga.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ga.dirname(this.path):void 0}set dirname(e){p2(this.basename,"dirname"),this.path=ga.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ga.extname(this.path):void 0}set extname(e){if(u1(e,"extname"),p2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ga.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){fk(e)&&(e=xq(e)),c1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ga.basename(this.path,this.extname):void 0}set stem(e){c1(e,"stem"),u1(e,"stem"),this.path=ga.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new er(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function u1(t,e){if(t&&t.includes(ga.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ga.sep+"`")}function c1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function p2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Sq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const kq=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},_q={}.hasOwnProperty;class PC extends kq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cq()}copy(){const e=new PC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(o1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(f1("data",this.frozen),this.namespace[e]=n,this):_q.call(this.namespace,e)&&this.namespace[e]||void 0:e?(f1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Dy(e),r=this.parser||this.Parser;return d1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),d1("process",this.parser||this.Parser),h1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Dy(e),l=r.parse(o);r.run(l,o,function(c,d,h){if(c||!d||!h)return u(c);const f=d,m=r.stringify(f,h);Cq(m)?h.value=m:h.result=m,u(c,h)});function u(c,d){c||!d?s(c):a?a(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),d1("processSync",this.parser||this.Parser),h1("processSync",this.compiler||this.Compiler),this.process(e,i),g2("processSync","process",n),r;function i(a,s){n=!0,o2(a),r=s}}run(e,n,r){m2(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Dy(n);i.run(e,l,u);function u(c,d,h){const f=d||e;c?o(c):s?s(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),g2("runSync","run",r),i;function a(s,o){o2(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=Dy(n),i=this.compiler||this.Compiler;return h1("stringify",i),m2(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(f1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=o1(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[f,...m]=c;const p=r[h][1];hk(p)&&hk(f)&&(f=o1(!0,p,f)),r[h]=[u,f,...m]}}}}const Aq=new PC().freeze();function d1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function h1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function f1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m2(t){if(!hk(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function g2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Dy(t){return Eq(t)?t:new R$(t)}function Eq(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Cq(t){return typeof t=="string"||Pq(t)}function Pq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Tq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y2=[],v2={allowDangerousHtml:!0},Oq=/^(https?|ircs?|mailto|xmpp)$/i,Mq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Nq(t){const e=Iq(t),n=Rq(t);return jq(e.runSync(e.parse(n),n),t)}function Iq(t){const e=t.rehypePlugins||y2,n=t.remarkPlugins||y2,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...v2}:v2;return Aq().use(f9).use(n).use(lq,r).use(e)}function Rq(t){const e=t.children||"",n=new R$;return typeof e=="string"&&(n.value=e),n}function jq(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Lq;for(const c of Mq)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Tq+c.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),N$(t,u),GV(t,{Fragment:_.Fragment,components:i,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let f;for(f in i1)if(Object.hasOwn(i1,f)&&Object.hasOwn(c.properties,f)){const m=c.properties[f],p=i1[f];(p===null||p.includes(c.tagName))&&(c.properties[f]=l(String(m||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(c,d,h)),f&&h&&typeof d=="number")return o&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function Lq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Oq.test(t.slice(0,e))?t:""}const Dq=500,$q=N.forwardRef(function({content:e,fileType:n,fileName:r,onSave:i,onDirtyChange:a},s){const[o,l]=N.useState(e),[u,c]=N.useState(e),[d,h]=N.useState(!1),f=N.useRef(null);N.useEffect(()=>{l(e),c(e)},[e]);const m=o!==u;N.useEffect(()=>{a==null||a(m)},[m,a]);const p=N.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null),c(o),i(o)},[o,i]);N.useImperativeHandle(s,()=>({saveNow:p,getContent:()=>o,hasUnsavedChanges:()=>o!==u}),[o,u,p]);const v=N.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c(o),i(o),f.current=null},Dq)},[o,i]);N.useEffect(()=>{if(o!==u)return v(),()=>{f.current&&clearTimeout(f.current)}},[o,u,v]);const y=()=>{f.current&&(clearTimeout(f.current),f.current=null,c(o),i(o))},b=r.toLowerCase().endsWith(".md");return n==="csv"?_.jsxs("div",{className:"flex h-full flex-col",children:[_.jsx("p",{className:"mb-2 text-xs text-slate-500",children:"Edit CSV here. Use the CSV Visualizer section to view table and charts."}),_.jsx("div",{className:"min-h-0 flex-1",children:_.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:o,onChange:x=>l(x.target.value),onBlur:y,spellCheck:"false","aria-label":"CSV content"})})]}):_.jsxs("div",{className:"flex h-full flex-col",children:[b&&_.jsxs("div",{className:"mb-2 flex gap-2",children:[_.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${d?"bg-slate-200 dark:bg-slate-700":"bg-blue-100 dark:bg-blue-900/50"}`,onClick:()=>h(!1),children:"Edit"}),_.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${d?"bg-blue-100 dark:bg-blue-900/50":"bg-slate-200 dark:bg-slate-700"}`,onClick:()=>h(!0),children:"Preview"})]}),_.jsx("div",{className:"min-h-0 flex-1",children:d&&b?_.jsx("div",{className:"prose prose-slate max-w-none rounded border border-slate-200 bg-white p-4 dark:prose-invert dark:border-slate-700 dark:bg-slate-800",children:_.jsx(Nq,{children:o})}):_.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:o,onChange:x=>l(x.target.value),onBlur:y,spellCheck:"false","aria-label":"Document content"})})]})});function $y(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var j$={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof $y=="function"&&$y;if(!c&&d)return d(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(m){var p=r[u][1][m];return s(p||m)},f,f.exports,n,r,i,a)}return i[u].exports}for(var o=typeof $y=="function"&&$y,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,h,f,m,p,v=[],y=0,b=l.length,x=b,k=a.getTypeOf(l)!=="string";y<l.length;)x=b-y,d=k?(u=l[y++],c=y<b?l[y++]:0,y<b?l[y++]:0):(u=l.charCodeAt(y++),c=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),h=u>>2,f=(3&u)<<4|c>>4,m=1<x?(15&c)<<2|d>>6:64,p=2<x?63&d:64,v.push(o.charAt(h)+o.charAt(f)+o.charAt(m)+o.charAt(p));return v.join("")},i.decode=function(l){var u,c,d,h,f,m,p=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|x):new Array(0|x);p<l.length;)u=o.indexOf(l.charAt(p++))<<2|(h=o.indexOf(l.charAt(p++)))>>4,c=(15&h)<<4|(f=o.indexOf(l.charAt(p++)))>>2,d=(3&f)<<6|(m=o.indexOf(l.charAt(p++))),b[v++]=u,f!==64&&(b[v++]=c),m!==64&&(b[v++]=d);return b}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,h,f,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,h){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,d,h){var f=s,m=h+d;u^=-1;for(var p=h;p<m;p++)u=u>>>8^f[255&(u^c[p])];return-1^u}(0|l,o,o.length,0):function(u,c,d,h){var f=s,m=h+d;u^=-1;for(var p=h;p<m;p++)u=u>>>8^f[255&(u^c.charCodeAt(p))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(d,h){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(f,m){var p,v="";for(p=0;p<m;p++)v+=String.fromCharCode(255&f),f>>>=8;return v}function s(f,m,p,v,y,b){var x,k,S=f.file,w=f.compression,A=b!==u.utf8encode,E=o.transformTo("string",b(S.name)),C=o.transformTo("string",u.utf8encode(S.name)),O=S.comment,I=o.transformTo("string",b(O)),T=o.transformTo("string",u.utf8encode(O)),j=C.length!==S.name.length,P=T.length!==O.length,$="",X="",U="",q=S.dir,G=S.date,R={crc32:0,compressedSize:0,uncompressedSize:0};m&&!p||(R.crc32=f.crc32,R.compressedSize=f.compressedSize,R.uncompressedSize=f.uncompressedSize);var B=0;m&&(B|=8),A||!j&&!P||(B|=2048);var H=0,L=0;q&&(H|=16),y==="UNIX"?(L=798,H|=function(Z,de){var Se=Z;return Z||(Se=de?16893:33204),(65535&Se)<<16}(S.unixPermissions,q)):(L=20,H|=function(Z){return 63&(Z||0)}(S.dosPermissions)),x=G.getUTCHours(),x<<=6,x|=G.getUTCMinutes(),x<<=5,x|=G.getUTCSeconds()/2,k=G.getUTCFullYear()-1980,k<<=4,k|=G.getUTCMonth()+1,k<<=5,k|=G.getUTCDate(),j&&(X=a(1,1)+a(c(E),4)+C,$+="up"+a(X.length,2)+X),P&&(U=a(1,1)+a(c(I),4)+T,$+="uc"+a(U.length,2)+U);var ae="";return ae+=`
\0`,ae+=a(B,2),ae+=w.magic,ae+=a(x,2),ae+=a(k,2),ae+=a(R.crc32,4),ae+=a(R.compressedSize,4),ae+=a(R.uncompressedSize,4),ae+=a(E.length,2),ae+=a($.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ae+E+$,dirRecord:d.CENTRAL_FILE_HEADER+a(L,2)+ae+a(I.length,2)+"\0\0\0\0"+a(H,4)+a(v,4)+E+$+I}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function h(f,m,p,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=p,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var m=f.meta.percent||0,p=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(m+100*(p-v-1))/p:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var p=s(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,p=s(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),m)this.push({data:function(v){return d.DATA_DESCRIPTOR+a(v.crc32,4)+a(v.compressedSize,4)+a(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var p=this.bytesWritten-f,v=function(y,b,x,k,S){var w=o.transformTo("string",S(k));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(b,4)+a(x,4)+a(w.length,2)+w}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(p){m.processChunk(p)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(p){m.error(p)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var m=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<m.length;p++)try{m[p].error(f)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{o.forEach(function(h,f){d++;var m=function(b,x){var k=b||x,S=a[k];if(!S)throw new Error(k+" is not a valid compression method !");return S}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},v=f.dir,y=f.date;f._compressWorker(m,p).withStreamInfo("file",{name:h,dir:v,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(h){return new s.Promise(function(f,m){var p=h.decompressed.getContentWorker().pipe(new u);p.on("error",function(v){m(v)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var m=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(p){var v=new l(f);return v.load(p),v}).then(function(p){var v=[s.Promise.resolve(p)],y=p.files;if(f.checkCRC32)for(var b=0;b<y.length;b++)v.push(d(y[b]));return s.Promise.all(v)}).then(function(p){for(var v=p.shift(),y=v.files,b=0;b<y.length;b++){var x=y[b],k=x.fileNameStr,S=a.resolve(x.fileNameStr);m.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(m.file(S).unsafeOriginalName=k)}return v.zipComment.length&&(m.comment=v.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(d,h){c.push(d)||c._helper.pause(),u&&u(h)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(S,w,A){var E,C=o.getTypeOf(w),O=o.extend(A||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(S=y(S)),O.createFolders&&(E=v(S))&&b.call(this,E,!0);var I=C==="string"&&O.binary===!1&&O.base64===!1;A&&A.binary!==void 0||(O.binary=!I),(w instanceof d&&w.uncompressedSize===0||O.dir||!w||w.length===0)&&(O.base64=!1,O.binary=!0,w="",O.compression="STORE",C="string");var T=null;T=w instanceof d||w instanceof l?w:m.isNode&&m.isStream(w)?new p(S,w):o.prepareContent(S,w,O.binary,O.optimizedBinaryString,O.base64);var j=new h(S,T,O);this.files[S]=j}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),m=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),v=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var w=S.lastIndexOf("/");return 0<w?S.substring(0,w):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},b=function(S,w){return w=w!==void 0?w:c.createFolders,S=y(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:w}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var w,A,E;for(w in this.files)E=this.files[w],(A=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&S(A,E)},filter:function(S){var w=[];return this.forEach(function(A,E){S(A,E)&&w.push(E)}),w},file:function(S,w,A){if(arguments.length!==1)return S=this.root+S,a.call(this,S,w,A),this;if(x(S)){var E=S;return this.filter(function(O,I){return!I.dir&&E.test(O)})}var C=this.files[this.root+S];return C&&!C.dir?C:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(C,O){return O.dir&&S.test(C)});var w=this.root+S,A=b.call(this,w),E=this.clone();return E.root=A.name,E},remove:function(S){S=this.root+S;var w=this.files[S];if(w||(S.slice(-1)!=="/"&&(S+="/"),w=this.files[S]),w&&!w.dir)delete this.files[S];else for(var A=this.filter(function(C,O){return O.name.slice(0,S.length)===S}),E=0;E<A.length;E++)delete this.files[A[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var w,A={};try{if((A=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var E=A.comment||this.comment||"";w=f.generateWorker(this,A,E)}catch(C){(w=new l("error")).error(C)}return new u(w,A.type||"string",A.mimeType)},generateAsync:function(S,w){return this.generateInternalStream(S).accumulate(w)},generateNodeStream:function(S,w){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(w)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),d=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===d)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),d=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&d===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var h=a.getTypeOf(d);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(d):s.uint8array?new c(a.transformTo("uint8array",d)):new o(a.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(m,p){return new c.Promise(function(v,y){var b=[],x=m._internalType,k=m._outputType,S=m._mimeType;m.on("data",function(w,A){b.push(w),p&&p(A)}).on("error",function(w){b=[],y(w)}).on("end",function(){try{var w=function(A,E,C){switch(A){case"blob":return a.newBlob(a.transformTo("arraybuffer",E),C);case"base64":return l.encode(E);default:return a.transformTo(A,E)}}(k,function(A,E){var C,O=0,I=null,T=0;for(C=0;C<E.length;C++)T+=E[C].length;switch(A){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(I=new Uint8Array(T),C=0;C<E.length;C++)I.set(E[C],O),O+=E[C].length;return I;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,b),S);v(w)}catch(A){y(A)}b=[]}).resume()})}function f(m,p,v){var y=p;switch(p){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=p,this._mimeType=v,a.checkSupport(y),this._worker=m.pipe(new s(y)),m.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}f.prototype={accumulate:function(m){return h(this,m)},on:function(m,p){var v=this;return m==="data"?this._worker.on(m,function(y){p.call(v,y.data,y.meta)}):this._worker.on(m,function(){a.delay(p,arguments,v)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(m){var p,v,y,b,x,k=m.length,S=0;for(b=0;b<k;b++)(64512&(v=m.charCodeAt(b)))==55296&&b+1<k&&(64512&(y=m.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),b++),S+=v<128?1:v<2048?2:v<65536?3:4;for(p=s.uint8array?new Uint8Array(S):new Array(S),b=x=0;x<S;b++)(64512&(v=m.charCodeAt(b)))==55296&&b+1<k&&(64512&(y=m.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),b++),v<128?p[x++]=v:(v<2048?p[x++]=192|v>>>6:(v<65536?p[x++]=224|v>>>12:(p[x++]=240|v>>>18,p[x++]=128|v>>>12&63),p[x++]=128|v>>>6&63),p[x++]=128|63&v);return p}(f)},i.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(m){var p,v,y,b,x=m.length,k=new Array(2*x);for(p=v=0;p<x;)if((y=m[p++])<128)k[v++]=y;else if(4<(b=u[y]))k[v++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<x;)y=y<<6|63&m[p++],b--;1<b?k[v++]=65533:y<65536?k[v++]=y:(y-=65536,k[v++]=55296|y>>10&1023,k[v++]=56320|1023&y)}return k.length!==v&&(k.subarray?k=k.subarray(0,v):k.length=v),a.applyFromCharCode(k)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(d,l),d.prototype.processChunk=function(f){var m=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=m;(m=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),m.set(p,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var v=function(b,x){var k;for((x=x||b.length)>b.length&&(x=b.length),k=x-1;0<=k&&(192&b[k])==128;)k--;return k<0||k===0?x:k+u[b[k]]>x?k:x}(m),y=m;v!==m.length&&(s.uint8array?(y=m.subarray(0,v),this.leftOver=m.subarray(v,m.length)):(y=m.slice(0,v),this.leftOver=m.slice(v,m.length))),this.push({data:i.utf8decode(y),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,a.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,v){for(var y=0;y<p.length;++y)v[y]=255&p.charCodeAt(y);return v}n("setimmediate"),i.newBlob=function(p,v){i.checkSupport("blob");try{return new Blob([p],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(p),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,v,y){var b=[],x=0,k=p.length;if(k<=y)return String.fromCharCode.apply(null,p);for(;x<k;)v==="array"||v==="nodebuffer"?b.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+y,k)))):b.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+y,k)))),x+=y;return b.join("")},stringifyByChar:function(p){for(var v="",y=0;y<p.length;y++)v+=String.fromCharCode(p[y]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(p){var v=65536,y=i.getTypeOf(p),b=!0;if(y==="uint8array"?b=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<v;)try{return d.stringifyByChunk(p,y,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(p)}function f(p,v){for(var y=0;y<p.length;y++)v[y]=p[y];return v}i.applyFromCharCode=h;var m={};m.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return m.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,o.allocBuffer(p.length))}},m.array={string:h,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},m.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},m.uint8array={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return o.newBufferFrom(p)}},m.nodebuffer={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return m.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,v){if(v=v||"",!p)return v;i.checkSupport(p);var y=i.getTypeOf(v);return m[y][p](v)},i.resolve=function(p){for(var v=p.split("/"),y=[],b=0;b<v.length;b++){var x=v[b];x==="."||x===""&&b!==0&&b!==v.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var v,y,b="";for(y=0;y<(p||"").length;y++)b+="\\x"+((v=p.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return b},i.delay=function(p,v,y){setImmediate(function(){p.apply(y||null,v||[])})},i.inherits=function(p,v){function y(){}y.prototype=v.prototype,p.prototype=new y},i.extend=function(){var p,v,y={};for(p=0;p<arguments.length;p++)for(v in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],v)&&y[v]===void 0&&(y[v]=arguments[p][v]);return y},i.prepareContent=function(p,v,y,b,x){return l.Promise.resolve(v).then(function(k){return a.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,w){var A=new FileReader;A.onload=function(E){S(E.target.result)},A.onerror=function(E){w(E.target.error)},A.readAsArrayBuffer(k)}):k}).then(function(k){var S=i.getTypeOf(k);return S?(S==="arraybuffer"?k=i.transformTo("uint8array",k):S==="string"&&(x?k=s.decode(k):y&&b!==!0&&(k=function(w){return c(w,a.uint8array?new Uint8Array(w.length):new Array(w.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===h;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=s.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=h-f;if(0<m)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function h(f,m){this.options=f,this.loadOptions=m}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(v){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===v)return c[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,p,v,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)m=f.readInt(2),p=f.readInt(2),v=f.readData(p),this.extraFields[m]={id:m,length:p,value:v};f.setIndex(y)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var p=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=a(f.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=a(f.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(m,p,v){this.name=m,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=p,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(m){var p=null,v="string";try{if(!m)throw new Error("No output type specified.");var y=(v=m.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),p=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(p=p.pipe(new l.Utf8EncodeWorker)),!b&&y&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(x){(p=new c("error")).error(x)}return new s(p,v,"")},async:function(m,p){return this.internalStream(m).accumulate(p)},nodeStream:function(m,p){return this.internalStream(m||"nodebuffer").toNodejsStream(p)},_compressWorker:function(m,p){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(v,m,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)a.prototype[d[f]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=a.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){m(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(m,0)};else{var h=new a.MessageChannel;h.port1.onmessage=m,s=function(){h.port2.postMessage(0)}}var f=[];function m(){var p,v;o=!0;for(var y=f.length;y;){for(v=f,f=[],p=-1;++p<y;)v[p]();y=f.length}o=!1}r.exports=function(p){f.push(p)!==1||o||s()}}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==s&&p(this,y)}function h(y,b,x){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(y,b,x){a(function(){var k;try{k=b(x)}catch(S){return o.reject(y,S)}k===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,k)})}function m(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function p(y,b){var x=!1;function k(A){x||(x=!0,o.reject(y,A))}function S(A){x||(x=!0,o.resolve(y,A))}var w=v(function(){b(S,k)});w.status==="error"&&k(w.value)}function v(y,b){var x={};try{x.value=y(b),x.status="success"}catch(k){x.status="error",x.value=k}return x}(r.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(y()).then(function(){return x})},function(x){return b.resolve(y()).then(function(){throw x})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,b){if(typeof y!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==c?f(x,this.state===u?y:b,this.outcome):this.queue.push(new h(x,y,b)),x},h.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){o.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},o.resolve=function(y,b){var x=v(m,b);if(x.status==="error")return o.reject(y,x.value);var k=x.value;if(k)p(y,k);else{y.state=u,y.outcome=b;for(var S=-1,w=y.queue.length;++S<w;)y.queue[S].callFulfilled(b)}return y},o.reject=function(y,b){y.state=l,y.outcome=b;for(var x=-1,k=y.queue.length;++x<k;)y.queue[x].callRejected(b);return y},d.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},d.reject=function(y){var b=new this(s);return o.reject(b,y)},d.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,k=!1;if(!x)return this.resolve([]);for(var S=new Array(x),w=0,A=-1,E=new this(s);++A<x;)C(y[A],A);return E;function C(O,I){b.resolve(O).then(function(T){S[I]=T,++w!==x||k||(k=!0,o.resolve(E,S))},function(T){k||(k=!0,o.reject(E,T))})}},d.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,k=!1;if(!x)return this.resolve([]);for(var S=-1,w=new this(s);++S<x;)A=y[S],b.resolve(A).then(function(E){k||(k=!0,o.resolve(w,E))},function(E){k||(k=!0,o.reject(w,E))});var A;return w}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,h=-1,f=0,m=8;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==d)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var k;if(k=typeof b.dictionary=="string"?o.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,k))!==d)throw new Error(l[x]);this._dict_set=!0}}function v(y,b){var x=new p(b);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(y,b){var x,k,S=this.strm,w=this.options.chunkSize;if(this.ended)return!1;k=b===~~b?b:b===!0?4:0,typeof y=="string"?S.input=o.string2buf(y):c.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(w),S.next_out=0,S.avail_out=w),(x=a.deflate(S,k))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(S.output,S.next_out))):this.onData(s.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return k===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):k!==2||(this.onEnd(d),!(S.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=p,i.deflate=v,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,v(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,v(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||p&&p.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function m(p,v){var y=new f(v);if(y.push(p,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(p,v){var y,b,x,k,S,w,A=this.strm,E=this.options.chunkSize,C=this.options.dictionary,O=!1;if(this.ended)return!1;b=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?A.input=o.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(E),A.next_out=0,A.avail_out=E),(y=a.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&C&&(w=typeof C=="string"?o.string2buf(C):h.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,y=a.inflateSetDictionary(this.strm,w)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&y!==l.Z_STREAM_END&&(A.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(A.output,A.next_out),k=A.next_out-x,S=o.buf2string(A.output,x),A.next_out=k,A.avail_out=E-k,k&&s.arraySet(A.output,A.output,x,k,0),this.onData(S)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(O=!0)}while((0<A.avail_in||A.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=m,i.inflateRaw=function(p,v){return(v=v||{}).raw=!0,m(p,v)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),h);else for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){var u,c,d,h,f,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=h=0,c=l.length;u<c;u++)f=l[u],m.set(f,h),h+=f.length;return m}},o={arraySet:function(l,u,c,d,h){for(var f=0;f<d;f++)l[h+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,h){if(h<65537&&(d.subarray&&o||!d.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(d,h));for(var f="",m=0;m<h;m++)f+=String.fromCharCode(d[m]);return f}l[254]=l[254]=1,i.string2buf=function(d){var h,f,m,p,v,y=d.length,b=0;for(p=0;p<y;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),b+=f<128?1:f<2048?2:f<65536?3:4;for(h=new a.Buf8(b),p=v=0;v<b;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(m=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),p++),f<128?h[v++]=f:(f<2048?h[v++]=192|f>>>6:(f<65536?h[v++]=224|f>>>12:(h[v++]=240|f>>>18,h[v++]=128|f>>>12&63),h[v++]=128|f>>>6&63),h[v++]=128|63&f);return h},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var h=new a.Buf8(d.length),f=0,m=h.length;f<m;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,m,p,v,y=h||d.length,b=new Array(2*y);for(f=m=0;f<y;)if((p=d[f++])<128)b[m++]=p;else if(4<(v=l[p]))b[m++]=65533,f+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&f<y;)p=p<<6|63&d[f++],v--;1<v?b[m++]=65533:p<65536?b[m++]=p:(p-=65536,b[m++]=55296|p>>10&1023,b[m++]=56320|1023&p)}return c(b,m)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+l[d[f]]>h?f:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var c=a,d=u+l;s^=-1;for(var h=u;h<d;h++)s=s>>>8^c[255&(s^o[h])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,h=4,f=0,m=-2,p=-1,v=4,y=2,b=8,x=9,k=286,S=30,w=19,A=2*k+1,E=15,C=3,O=258,I=O+C+1,T=42,j=113,P=1,$=2,X=3,U=4;function q(M,ee){return M.msg=c[ee],ee}function G(M){return(M<<1)-(4<M?9:0)}function R(M){for(var ee=M.length;0<=--ee;)M[ee]=0}function B(M){var ee=M.state,K=ee.pending;K>M.avail_out&&(K=M.avail_out),K!==0&&(s.arraySet(M.output,ee.pending_buf,ee.pending_out,K,M.next_out),M.next_out+=K,ee.pending_out+=K,M.total_out+=K,M.avail_out-=K,ee.pending-=K,ee.pending===0&&(ee.pending_out=0))}function H(M,ee){o._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,ee),M.block_start=M.strstart,B(M.strm)}function L(M,ee){M.pending_buf[M.pending++]=ee}function ae(M,ee){M.pending_buf[M.pending++]=ee>>>8&255,M.pending_buf[M.pending++]=255&ee}function Z(M,ee){var K,V,W=M.max_chain_length,Y=M.strstart,se=M.prev_length,ue=M.nice_match,re=M.strstart>M.w_size-I?M.strstart-(M.w_size-I):0,me=M.window,ve=M.w_mask,pe=M.prev,J=M.strstart+O,oe=me[Y+se-1],be=me[Y+se];M.prev_length>=M.good_match&&(W>>=2),ue>M.lookahead&&(ue=M.lookahead);do if(me[(K=ee)+se]===be&&me[K+se-1]===oe&&me[K]===me[Y]&&me[++K]===me[Y+1]){Y+=2,K++;do;while(me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&me[++Y]===me[++K]&&Y<J);if(V=O-(J-Y),Y=J-O,se<V){if(M.match_start=ee,ue<=(se=V))break;oe=me[Y+se-1],be=me[Y+se]}}while((ee=pe[ee&ve])>re&&--W!=0);return se<=M.lookahead?se:M.lookahead}function de(M){var ee,K,V,W,Y,se,ue,re,me,ve,pe=M.w_size;do{if(W=M.window_size-M.lookahead-M.strstart,M.strstart>=pe+(pe-I)){for(s.arraySet(M.window,M.window,pe,pe,0),M.match_start-=pe,M.strstart-=pe,M.block_start-=pe,ee=K=M.hash_size;V=M.head[--ee],M.head[ee]=pe<=V?V-pe:0,--K;);for(ee=K=pe;V=M.prev[--ee],M.prev[ee]=pe<=V?V-pe:0,--K;);W+=pe}if(M.strm.avail_in===0)break;if(se=M.strm,ue=M.window,re=M.strstart+M.lookahead,me=W,ve=void 0,ve=se.avail_in,me<ve&&(ve=me),K=ve===0?0:(se.avail_in-=ve,s.arraySet(ue,se.input,se.next_in,ve,re),se.state.wrap===1?se.adler=l(se.adler,ue,ve,re):se.state.wrap===2&&(se.adler=u(se.adler,ue,ve,re)),se.next_in+=ve,se.total_in+=ve,ve),M.lookahead+=K,M.lookahead+M.insert>=C)for(Y=M.strstart-M.insert,M.ins_h=M.window[Y],M.ins_h=(M.ins_h<<M.hash_shift^M.window[Y+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[Y+C-1])&M.hash_mask,M.prev[Y&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=Y,Y++,M.insert--,!(M.lookahead+M.insert<C)););}while(M.lookahead<I&&M.strm.avail_in!==0)}function Se(M,ee){for(var K,V;;){if(M.lookahead<I){if(de(M),M.lookahead<I&&ee===d)return P;if(M.lookahead===0)break}if(K=0,M.lookahead>=C&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+C-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),K!==0&&M.strstart-K<=M.w_size-I&&(M.match_length=Z(M,K)),M.match_length>=C)if(V=o._tr_tally(M,M.strstart-M.match_start,M.match_length-C),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=C){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+C-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else V=o._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(V&&(H(M,!1),M.strm.avail_out===0))return P}return M.insert=M.strstart<C-1?M.strstart:C-1,ee===h?(H(M,!0),M.strm.avail_out===0?X:U):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?P:$}function ge(M,ee){for(var K,V,W;;){if(M.lookahead<I){if(de(M),M.lookahead<I&&ee===d)return P;if(M.lookahead===0)break}if(K=0,M.lookahead>=C&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+C-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=C-1,K!==0&&M.prev_length<M.max_lazy_match&&M.strstart-K<=M.w_size-I&&(M.match_length=Z(M,K),M.match_length<=5&&(M.strategy===1||M.match_length===C&&4096<M.strstart-M.match_start)&&(M.match_length=C-1)),M.prev_length>=C&&M.match_length<=M.prev_length){for(W=M.strstart+M.lookahead-C,V=o._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-C),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=W&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+C-1])&M.hash_mask,K=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=C-1,M.strstart++,V&&(H(M,!1),M.strm.avail_out===0))return P}else if(M.match_available){if((V=o._tr_tally(M,0,M.window[M.strstart-1]))&&H(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return P}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(V=o._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<C-1?M.strstart:C-1,ee===h?(H(M,!0),M.strm.avail_out===0?X:U):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?P:$}function ie(M,ee,K,V,W){this.good_length=M,this.max_lazy=ee,this.nice_length=K,this.max_chain=V,this.func=W}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*S+1)),this.bl_tree=new s.Buf16(2*(2*w+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*k+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(M){var ee;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=y,(ee=M.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?T:j,M.adler=ee.wrap===2?0:1,ee.last_flush=d,o._tr_init(ee),f):q(M,m)}function te(M){var ee=fe(M);return ee===f&&function(K){K.window_size=2*K.w_size,R(K.head),K.max_lazy_match=a[K.level].max_lazy,K.good_match=a[K.level].good_length,K.nice_match=a[K.level].nice_length,K.max_chain_length=a[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=C-1,K.match_available=0,K.ins_h=0}(M.state),ee}function ye(M,ee,K,V,W,Y){if(!M)return m;var se=1;if(ee===p&&(ee=6),V<0?(se=0,V=-V):15<V&&(se=2,V-=16),W<1||x<W||K!==b||V<8||15<V||ee<0||9<ee||Y<0||v<Y)return q(M,m);V===8&&(V=9);var ue=new he;return(M.state=ue).strm=M,ue.wrap=se,ue.gzhead=null,ue.w_bits=V,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=W+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+C-1)/C),ue.window=new s.Buf8(2*ue.w_size),ue.head=new s.Buf16(ue.hash_size),ue.prev=new s.Buf16(ue.w_size),ue.lit_bufsize=1<<W+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new s.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=ee,ue.strategy=Y,ue.method=K,te(M)}a=[new ie(0,0,0,0,function(M,ee){var K=65535;for(K>M.pending_buf_size-5&&(K=M.pending_buf_size-5);;){if(M.lookahead<=1){if(de(M),M.lookahead===0&&ee===d)return P;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var V=M.block_start+K;if((M.strstart===0||M.strstart>=V)&&(M.lookahead=M.strstart-V,M.strstart=V,H(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-I&&(H(M,!1),M.strm.avail_out===0))return P}return M.insert=0,ee===h?(H(M,!0),M.strm.avail_out===0?X:U):(M.strstart>M.block_start&&(H(M,!1),M.strm.avail_out),P)}),new ie(4,4,8,4,Se),new ie(4,5,16,8,Se),new ie(4,6,32,32,Se),new ie(4,4,16,16,ge),new ie(8,16,32,32,ge),new ie(8,16,128,128,ge),new ie(8,32,128,256,ge),new ie(32,128,258,1024,ge),new ie(32,258,258,4096,ge)],i.deflateInit=function(M,ee){return ye(M,ee,b,15,8,0)},i.deflateInit2=ye,i.deflateReset=te,i.deflateResetKeep=fe,i.deflateSetHeader=function(M,ee){return M&&M.state?M.state.wrap!==2?m:(M.state.gzhead=ee,f):m},i.deflate=function(M,ee){var K,V,W,Y;if(!M||!M.state||5<ee||ee<0)return M?q(M,m):m;if(V=M.state,!M.output||!M.input&&M.avail_in!==0||V.status===666&&ee!==h)return q(M,M.avail_out===0?-5:m);if(V.strm=M,K=V.last_flush,V.last_flush=ee,V.status===T)if(V.wrap===2)M.adler=0,L(V,31),L(V,139),L(V,8),V.gzhead?(L(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),L(V,255&V.gzhead.time),L(V,V.gzhead.time>>8&255),L(V,V.gzhead.time>>16&255),L(V,V.gzhead.time>>24&255),L(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),L(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(L(V,255&V.gzhead.extra.length),L(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(M.adler=u(M.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(L(V,0),L(V,0),L(V,0),L(V,0),L(V,0),L(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),L(V,3),V.status=j);else{var se=b+(V.w_bits-8<<4)<<8;se|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(se|=32),se+=31-se%31,V.status=j,ae(V,se),V.strstart!==0&&(ae(V,M.adler>>>16),ae(V,65535&M.adler)),M.adler=1}if(V.status===69)if(V.gzhead.extra){for(W=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),B(M),W=V.pending,V.pending!==V.pending_buf_size));)L(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){W=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),B(M),W=V.pending,V.pending===V.pending_buf_size)){Y=1;break}Y=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,L(V,Y)}while(Y!==0);V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),Y===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){W=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),B(M),W=V.pending,V.pending===V.pending_buf_size)){Y=1;break}Y=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,L(V,Y)}while(Y!==0);V.gzhead.hcrc&&V.pending>W&&(M.adler=u(M.adler,V.pending_buf,V.pending-W,W)),Y===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&B(M),V.pending+2<=V.pending_buf_size&&(L(V,255&M.adler),L(V,M.adler>>8&255),M.adler=0,V.status=j)):V.status=j),V.pending!==0){if(B(M),M.avail_out===0)return V.last_flush=-1,f}else if(M.avail_in===0&&G(ee)<=G(K)&&ee!==h)return q(M,-5);if(V.status===666&&M.avail_in!==0)return q(M,-5);if(M.avail_in!==0||V.lookahead!==0||ee!==d&&V.status!==666){var ue=V.strategy===2?function(re,me){for(var ve;;){if(re.lookahead===0&&(de(re),re.lookahead===0)){if(me===d)return P;break}if(re.match_length=0,ve=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ve&&(H(re,!1),re.strm.avail_out===0))return P}return re.insert=0,me===h?(H(re,!0),re.strm.avail_out===0?X:U):re.last_lit&&(H(re,!1),re.strm.avail_out===0)?P:$}(V,ee):V.strategy===3?function(re,me){for(var ve,pe,J,oe,be=re.window;;){if(re.lookahead<=O){if(de(re),re.lookahead<=O&&me===d)return P;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=C&&0<re.strstart&&(pe=be[J=re.strstart-1])===be[++J]&&pe===be[++J]&&pe===be[++J]){oe=re.strstart+O;do;while(pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&pe===be[++J]&&J<oe);re.match_length=O-(oe-J),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=C?(ve=o._tr_tally(re,1,re.match_length-C),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ve=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ve&&(H(re,!1),re.strm.avail_out===0))return P}return re.insert=0,me===h?(H(re,!0),re.strm.avail_out===0?X:U):re.last_lit&&(H(re,!1),re.strm.avail_out===0)?P:$}(V,ee):a[V.level].func(V,ee);if(ue!==X&&ue!==U||(V.status=666),ue===P||ue===X)return M.avail_out===0&&(V.last_flush=-1),f;if(ue===$&&(ee===1?o._tr_align(V):ee!==5&&(o._tr_stored_block(V,0,0,!1),ee===3&&(R(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),B(M),M.avail_out===0))return V.last_flush=-1,f}return ee!==h?f:V.wrap<=0?1:(V.wrap===2?(L(V,255&M.adler),L(V,M.adler>>8&255),L(V,M.adler>>16&255),L(V,M.adler>>24&255),L(V,255&M.total_in),L(V,M.total_in>>8&255),L(V,M.total_in>>16&255),L(V,M.total_in>>24&255)):(ae(V,M.adler>>>16),ae(V,65535&M.adler)),B(M),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?f:1)},i.deflateEnd=function(M){var ee;return M&&M.state?(ee=M.state.status)!==T&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==j&&ee!==666?q(M,m):(M.state=null,ee===j?q(M,-3):f):m},i.deflateSetDictionary=function(M,ee){var K,V,W,Y,se,ue,re,me,ve=ee.length;if(!M||!M.state||(Y=(K=M.state).wrap)===2||Y===1&&K.status!==T||K.lookahead)return m;for(Y===1&&(M.adler=l(M.adler,ee,ve,0)),K.wrap=0,ve>=K.w_size&&(Y===0&&(R(K.head),K.strstart=0,K.block_start=0,K.insert=0),me=new s.Buf8(K.w_size),s.arraySet(me,ee,ve-K.w_size,K.w_size,0),ee=me,ve=K.w_size),se=M.avail_in,ue=M.next_in,re=M.input,M.avail_in=ve,M.next_in=0,M.input=ee,de(K);K.lookahead>=C;){for(V=K.strstart,W=K.lookahead-(C-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[V+C-1])&K.hash_mask,K.prev[V&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=V,V++,--W;);K.strstart=V,K.lookahead=C-1,de(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=C-1,K.match_available=0,M.next_in=ue,M.input=re,M.avail_in=se,K.wrap=Y,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,u,c,d,h,f,m,p,v,y,b,x,k,S,w,A,E,C,O,I,T,j,P,$;o=a.state,l=a.next_in,P=a.input,u=l+(a.avail_in-5),c=a.next_out,$=a.output,d=c-(s-a.avail_out),h=c+(a.avail_out-257),f=o.dmax,m=o.wsize,p=o.whave,v=o.wnext,y=o.window,b=o.hold,x=o.bits,k=o.lencode,S=o.distcode,w=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{x<15&&(b+=P[l++]<<x,x+=8,b+=P[l++]<<x,x+=8),E=k[b&w];t:for(;;){if(b>>>=C=E>>>24,x-=C,(C=E>>>16&255)===0)$[c++]=65535&E;else{if(!(16&C)){if(!(64&C)){E=k[(65535&E)+(b&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}O=65535&E,(C&=15)&&(x<C&&(b+=P[l++]<<x,x+=8),O+=b&(1<<C)-1,b>>>=C,x-=C),x<15&&(b+=P[l++]<<x,x+=8,b+=P[l++]<<x,x+=8),E=S[b&A];n:for(;;){if(b>>>=C=E>>>24,x-=C,!(16&(C=E>>>16&255))){if(!(64&C)){E=S[(65535&E)+(b&(1<<C)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(I=65535&E,x<(C&=15)&&(b+=P[l++]<<x,(x+=8)<C&&(b+=P[l++]<<x,x+=8)),f<(I+=b&(1<<C)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=C,x-=C,(C=c-d)<I){if(p<(C=I-C)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(j=y,(T=0)===v){if(T+=m-C,C<O){for(O-=C;$[c++]=y[T++],--C;);T=c-I,j=$}}else if(v<C){if(T+=m+v-C,(C-=v)<O){for(O-=C;$[c++]=y[T++],--C;);if(T=0,v<O){for(O-=C=v;$[c++]=y[T++],--C;);T=c-I,j=$}}}else if(T+=v-C,C<O){for(O-=C;$[c++]=y[T++],--C;);T=c-I,j=$}for(;2<O;)$[c++]=j[T++],$[c++]=j[T++],$[c++]=j[T++],O-=3;O&&($[c++]=j[T++],1<O&&($[c++]=j[T++]))}else{for(T=c-I;$[c++]=$[T++],$[c++]=$[T++],$[c++]=$[T++],2<(O-=3););O&&($[c++]=$[T++],1<O&&($[c++]=$[T++]))}break}}break}}while(l<u&&c<h);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<h?h-c+257:257-(c-h),o.hold=b,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,h=0,f=-2,m=1,p=852,v=592;function y(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(T){var j;return T&&T.state?(j=T.state,T.total_in=T.total_out=j.total=0,T.msg="",j.wrap&&(T.adler=1&j.wrap),j.mode=m,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new a.Buf32(p),j.distcode=j.distdyn=new a.Buf32(v),j.sane=1,j.back=-1,h):f}function k(T){var j;return T&&T.state?((j=T.state).wsize=0,j.whave=0,j.wnext=0,x(T)):f}function S(T,j){var P,$;return T&&T.state?($=T.state,j<0?(P=0,j=-j):(P=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?f:($.window!==null&&$.wbits!==j&&($.window=null),$.wrap=P,$.wbits=j,k(T))):f}function w(T,j){var P,$;return T?($=new b,(T.state=$).window=null,(P=S(T,j))!==h&&(T.state=null),P):f}var A,E,C=!0;function O(T){if(C){var j;for(A=new a.Buf32(512),E=new a.Buf32(32),j=0;j<144;)T.lens[j++]=8;for(;j<256;)T.lens[j++]=9;for(;j<280;)T.lens[j++]=7;for(;j<288;)T.lens[j++]=8;for(u(c,T.lens,0,288,A,0,T.work,{bits:9}),j=0;j<32;)T.lens[j++]=5;u(d,T.lens,0,32,E,0,T.work,{bits:5}),C=!1}T.lencode=A,T.lenbits=9,T.distcode=E,T.distbits=5}function I(T,j,P,$){var X,U=T.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new a.Buf8(U.wsize)),$>=U.wsize?(a.arraySet(U.window,j,P-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):($<(X=U.wsize-U.wnext)&&(X=$),a.arraySet(U.window,j,P-$,X,U.wnext),($-=X)?(a.arraySet(U.window,j,P-$,$,0),U.wnext=$,U.whave=U.wsize):(U.wnext+=X,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=X))),0}i.inflateReset=k,i.inflateReset2=S,i.inflateResetKeep=x,i.inflateInit=function(T){return w(T,15)},i.inflateInit2=w,i.inflate=function(T,j){var P,$,X,U,q,G,R,B,H,L,ae,Z,de,Se,ge,ie,he,fe,te,ye,M,ee,K,V,W=0,Y=new a.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(P=T.state).mode===12&&(P.mode=13),q=T.next_out,X=T.output,R=T.avail_out,U=T.next_in,$=T.input,G=T.avail_in,B=P.hold,H=P.bits,L=G,ae=R,ee=h;e:for(;;)switch(P.mode){case m:if(P.wrap===0){P.mode=13;break}for(;H<16;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(2&P.wrap&&B===35615){Y[P.check=0]=255&B,Y[1]=B>>>8&255,P.check=o(P.check,Y,2,0),H=B=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&B)<<8)+(B>>8))%31){T.msg="incorrect header check",P.mode=30;break}if((15&B)!=8){T.msg="unknown compression method",P.mode=30;break}if(H-=4,M=8+(15&(B>>>=4)),P.wbits===0)P.wbits=M;else if(M>P.wbits){T.msg="invalid window size",P.mode=30;break}P.dmax=1<<M,T.adler=P.check=1,P.mode=512&B?10:12,H=B=0;break;case 2:for(;H<16;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(P.flags=B,(255&P.flags)!=8){T.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){T.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=B>>8&1),512&P.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,P.check=o(P.check,Y,2,0)),H=B=0,P.mode=3;case 3:for(;H<32;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.head&&(P.head.time=B),512&P.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,Y[2]=B>>>16&255,Y[3]=B>>>24&255,P.check=o(P.check,Y,4,0)),H=B=0,P.mode=4;case 4:for(;H<16;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.head&&(P.head.xflags=255&B,P.head.os=B>>8),512&P.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,P.check=o(P.check,Y,2,0)),H=B=0,P.mode=5;case 5:if(1024&P.flags){for(;H<16;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.length=B,P.head&&(P.head.extra_len=B),512&P.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,P.check=o(P.check,Y,2,0)),H=B=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(G<(Z=P.length)&&(Z=G),Z&&(P.head&&(M=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),a.arraySet(P.head.extra,$,U,Z,M)),512&P.flags&&(P.check=o(P.check,$,Z,U)),G-=Z,U+=Z,P.length-=Z),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(G===0)break e;for(Z=0;M=$[U+Z++],P.head&&M&&P.length<65536&&(P.head.name+=String.fromCharCode(M)),M&&Z<G;);if(512&P.flags&&(P.check=o(P.check,$,Z,U)),G-=Z,U+=Z,M)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(G===0)break e;for(Z=0;M=$[U+Z++],P.head&&M&&P.length<65536&&(P.head.comment+=String.fromCharCode(M)),M&&Z<G;);if(512&P.flags&&(P.check=o(P.check,$,Z,U)),G-=Z,U+=Z,M)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;H<16;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(B!==(65535&P.check)){T.msg="header crc mismatch",P.mode=30;break}H=B=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),T.adler=P.check=0,P.mode=12;break;case 10:for(;H<32;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}T.adler=P.check=y(B),H=B=0,P.mode=11;case 11:if(P.havedict===0)return T.next_out=q,T.avail_out=R,T.next_in=U,T.avail_in=G,P.hold=B,P.bits=H,2;T.adler=P.check=1,P.mode=12;case 12:if(j===5||j===6)break e;case 13:if(P.last){B>>>=7&H,H-=7&H,P.mode=27;break}for(;H<3;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}switch(P.last=1&B,H-=1,3&(B>>>=1)){case 0:P.mode=14;break;case 1:if(O(P),P.mode=20,j!==6)break;B>>>=2,H-=2;break e;case 2:P.mode=17;break;case 3:T.msg="invalid block type",P.mode=30}B>>>=2,H-=2;break;case 14:for(B>>>=7&H,H-=7&H;H<32;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if((65535&B)!=(B>>>16^65535)){T.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&B,H=B=0,P.mode=15,j===6)break e;case 15:P.mode=16;case 16:if(Z=P.length){if(G<Z&&(Z=G),R<Z&&(Z=R),Z===0)break e;a.arraySet(X,$,U,Z,q),G-=Z,U+=Z,R-=Z,q+=Z,P.length-=Z;break}P.mode=12;break;case 17:for(;H<14;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(P.nlen=257+(31&B),B>>>=5,H-=5,P.ndist=1+(31&B),B>>>=5,H-=5,P.ncode=4+(15&B),B>>>=4,H-=4,286<P.nlen||30<P.ndist){T.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;H<3;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.lens[se[P.have++]]=7&B,B>>>=3,H-=3}for(;P.have<19;)P.lens[se[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,K={bits:P.lenbits},ee=u(0,P.lens,0,19,P.lencode,0,P.work,K),P.lenbits=K.bits,ee){T.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;ie=(W=P.lencode[B&(1<<P.lenbits)-1])>>>16&255,he=65535&W,!((ge=W>>>24)<=H);){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(he<16)B>>>=ge,H-=ge,P.lens[P.have++]=he;else{if(he===16){for(V=ge+2;H<V;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(B>>>=ge,H-=ge,P.have===0){T.msg="invalid bit length repeat",P.mode=30;break}M=P.lens[P.have-1],Z=3+(3&B),B>>>=2,H-=2}else if(he===17){for(V=ge+3;H<V;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}H-=ge,M=0,Z=3+(7&(B>>>=ge)),B>>>=3,H-=3}else{for(V=ge+7;H<V;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}H-=ge,M=0,Z=11+(127&(B>>>=ge)),B>>>=7,H-=7}if(P.have+Z>P.nlen+P.ndist){T.msg="invalid bit length repeat",P.mode=30;break}for(;Z--;)P.lens[P.have++]=M}}if(P.mode===30)break;if(P.lens[256]===0){T.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,K={bits:P.lenbits},ee=u(c,P.lens,0,P.nlen,P.lencode,0,P.work,K),P.lenbits=K.bits,ee){T.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,K={bits:P.distbits},ee=u(d,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,K),P.distbits=K.bits,ee){T.msg="invalid distances set",P.mode=30;break}if(P.mode=20,j===6)break e;case 20:P.mode=21;case 21:if(6<=G&&258<=R){T.next_out=q,T.avail_out=R,T.next_in=U,T.avail_in=G,P.hold=B,P.bits=H,l(T,ae),q=T.next_out,X=T.output,R=T.avail_out,U=T.next_in,$=T.input,G=T.avail_in,B=P.hold,H=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;ie=(W=P.lencode[B&(1<<P.lenbits)-1])>>>16&255,he=65535&W,!((ge=W>>>24)<=H);){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(ie&&!(240&ie)){for(fe=ge,te=ie,ye=he;ie=(W=P.lencode[ye+((B&(1<<fe+te)-1)>>fe)])>>>16&255,he=65535&W,!(fe+(ge=W>>>24)<=H);){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}B>>>=fe,H-=fe,P.back+=fe}if(B>>>=ge,H-=ge,P.back+=ge,P.length=he,ie===0){P.mode=26;break}if(32&ie){P.back=-1,P.mode=12;break}if(64&ie){T.msg="invalid literal/length code",P.mode=30;break}P.extra=15&ie,P.mode=22;case 22:if(P.extra){for(V=P.extra;H<V;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.length+=B&(1<<P.extra)-1,B>>>=P.extra,H-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;ie=(W=P.distcode[B&(1<<P.distbits)-1])>>>16&255,he=65535&W,!((ge=W>>>24)<=H);){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(!(240&ie)){for(fe=ge,te=ie,ye=he;ie=(W=P.distcode[ye+((B&(1<<fe+te)-1)>>fe)])>>>16&255,he=65535&W,!(fe+(ge=W>>>24)<=H);){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}B>>>=fe,H-=fe,P.back+=fe}if(B>>>=ge,H-=ge,P.back+=ge,64&ie){T.msg="invalid distance code",P.mode=30;break}P.offset=he,P.extra=15&ie,P.mode=24;case 24:if(P.extra){for(V=P.extra;H<V;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}P.offset+=B&(1<<P.extra)-1,B>>>=P.extra,H-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){T.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(R===0)break e;if(Z=ae-R,P.offset>Z){if((Z=P.offset-Z)>P.whave&&P.sane){T.msg="invalid distance too far back",P.mode=30;break}de=Z>P.wnext?(Z-=P.wnext,P.wsize-Z):P.wnext-Z,Z>P.length&&(Z=P.length),Se=P.window}else Se=X,de=q-P.offset,Z=P.length;for(R<Z&&(Z=R),R-=Z,P.length-=Z;X[q++]=Se[de++],--Z;);P.length===0&&(P.mode=21);break;case 26:if(R===0)break e;X[q++]=P.length,R--,P.mode=21;break;case 27:if(P.wrap){for(;H<32;){if(G===0)break e;G--,B|=$[U++]<<H,H+=8}if(ae-=R,T.total_out+=ae,P.total+=ae,ae&&(T.adler=P.check=P.flags?o(P.check,X,ae,q-ae):s(P.check,X,ae,q-ae)),ae=R,(P.flags?B:y(B))!==P.check){T.msg="incorrect data check",P.mode=30;break}H=B=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;H<32;){if(G===0)break e;G--,B+=$[U++]<<H,H+=8}if(B!==(4294967295&P.total)){T.msg="incorrect length check",P.mode=30;break}H=B=0}P.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=q,T.avail_out=R,T.next_in=U,T.avail_in=G,P.hold=B,P.bits=H,(P.wsize||ae!==T.avail_out&&P.mode<30&&(P.mode<27||j!==4))&&I(T,T.output,T.next_out,ae-T.avail_out)?(P.mode=31,-4):(L-=T.avail_in,ae-=T.avail_out,T.total_in+=L,T.total_out+=ae,P.total+=ae,P.wrap&&ae&&(T.adler=P.check=P.flags?o(P.check,X,ae,T.next_out-ae):s(P.check,X,ae,T.next_out-ae)),T.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(L==0&&ae===0||j===4)&&ee===h&&(ee=-5),ee)},i.inflateEnd=function(T){if(!T||!T.state)return f;var j=T.state;return j.window&&(j.window=null),T.state=null,h},i.inflateGetHeader=function(T,j){var P;return T&&T.state&&2&(P=T.state).wrap?((P.head=j).done=!1,h):f},i.inflateSetDictionary=function(T,j){var P,$=j.length;return T&&T.state?(P=T.state).wrap!==0&&P.mode!==11?f:P.mode===11&&s(1,j,$,0)!==P.check?-3:I(T,j,$,$)?(P.mode=31,-4):(P.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,h,f,m,p,v,y){var b,x,k,S,w,A,E,C,O,I=y.bits,T=0,j=0,P=0,$=0,X=0,U=0,q=0,G=0,R=0,B=0,H=null,L=0,ae=new a.Buf16(16),Z=new a.Buf16(16),de=null,Se=0;for(T=0;T<=15;T++)ae[T]=0;for(j=0;j<f;j++)ae[d[h+j]]++;for(X=I,$=15;1<=$&&ae[$]===0;$--);if($<X&&(X=$),$===0)return m[p++]=20971520,m[p++]=20971520,y.bits=1,0;for(P=1;P<$&&ae[P]===0;P++);for(X<P&&(X=P),T=G=1;T<=15;T++)if(G<<=1,(G-=ae[T])<0)return-1;if(0<G&&(c===0||$!==1))return-1;for(Z[1]=0,T=1;T<15;T++)Z[T+1]=Z[T]+ae[T];for(j=0;j<f;j++)d[h+j]!==0&&(v[Z[d[h+j]]++]=j);if(A=c===0?(H=de=v,19):c===1?(H=s,L-=257,de=o,Se-=257,256):(H=l,de=u,-1),T=P,w=p,q=j=B=0,k=-1,S=(R=1<<(U=X))-1,c===1&&852<R||c===2&&592<R)return 1;for(;;){for(E=T-q,O=v[j]<A?(C=0,v[j]):v[j]>A?(C=de[Se+v[j]],H[L+v[j]]):(C=96,0),b=1<<T-q,P=x=1<<U;m[w+(B>>q)+(x-=b)]=E<<24|C<<16|O|0,x!==0;);for(b=1<<T-1;B&b;)b>>=1;if(b!==0?(B&=b-1,B+=b):B=0,j++,--ae[T]==0){if(T===$)break;T=d[h+v[j]]}if(X<T&&(B&S)!==k){for(q===0&&(q=X),w+=P,G=1<<(U=T-q);U+q<$&&!((G-=ae[U+q])<=0);)U++,G<<=1;if(R+=1<<U,c===1&&852<R||c===2&&592<R)return 1;m[k=B&S]=X<<24|U<<16|w-p|0}}return B!==0&&(m[w+B]=T-q<<24|64<<16|0),y.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(W){for(var Y=W.length;0<=--Y;)W[Y]=0}var u=0,c=29,d=256,h=d+1+c,f=30,m=19,p=2*h+1,v=15,y=16,b=7,x=256,k=16,S=17,w=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(h+2));l(I);var T=new Array(2*f);l(T);var j=new Array(512);l(j);var P=new Array(256);l(P);var $=new Array(c);l($);var X,U,q,G=new Array(f);function R(W,Y,se,ue,re){this.static_tree=W,this.extra_bits=Y,this.extra_base=se,this.elems=ue,this.max_length=re,this.has_stree=W&&W.length}function B(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function H(W){return W<256?j[W]:j[256+(W>>>7)]}function L(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function ae(W,Y,se){W.bi_valid>y-se?(W.bi_buf|=Y<<W.bi_valid&65535,L(W,W.bi_buf),W.bi_buf=Y>>y-W.bi_valid,W.bi_valid+=se-y):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=se)}function Z(W,Y,se){ae(W,se[2*Y],se[2*Y+1])}function de(W,Y){for(var se=0;se|=1&W,W>>>=1,se<<=1,0<--Y;);return se>>>1}function Se(W,Y,se){var ue,re,me=new Array(v+1),ve=0;for(ue=1;ue<=v;ue++)me[ue]=ve=ve+se[ue-1]<<1;for(re=0;re<=Y;re++){var pe=W[2*re+1];pe!==0&&(W[2*re]=de(me[pe]++,pe))}}function ge(W){var Y;for(Y=0;Y<h;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<f;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<m;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[2*x]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function ie(W){8<W.bi_valid?L(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function he(W,Y,se,ue){var re=2*Y,me=2*se;return W[re]<W[me]||W[re]===W[me]&&ue[Y]<=ue[se]}function fe(W,Y,se){for(var ue=W.heap[se],re=se<<1;re<=W.heap_len&&(re<W.heap_len&&he(Y,W.heap[re+1],W.heap[re],W.depth)&&re++,!he(Y,ue,W.heap[re],W.depth));)W.heap[se]=W.heap[re],se=re,re<<=1;W.heap[se]=ue}function te(W,Y,se){var ue,re,me,ve,pe=0;if(W.last_lit!==0)for(;ue=W.pending_buf[W.d_buf+2*pe]<<8|W.pending_buf[W.d_buf+2*pe+1],re=W.pending_buf[W.l_buf+pe],pe++,ue===0?Z(W,re,Y):(Z(W,(me=P[re])+d+1,Y),(ve=A[me])!==0&&ae(W,re-=$[me],ve),Z(W,me=H(--ue),se),(ve=E[me])!==0&&ae(W,ue-=G[me],ve)),pe<W.last_lit;);Z(W,x,Y)}function ye(W,Y){var se,ue,re,me=Y.dyn_tree,ve=Y.stat_desc.static_tree,pe=Y.stat_desc.has_stree,J=Y.stat_desc.elems,oe=-1;for(W.heap_len=0,W.heap_max=p,se=0;se<J;se++)me[2*se]!==0?(W.heap[++W.heap_len]=oe=se,W.depth[se]=0):me[2*se+1]=0;for(;W.heap_len<2;)me[2*(re=W.heap[++W.heap_len]=oe<2?++oe:0)]=1,W.depth[re]=0,W.opt_len--,pe&&(W.static_len-=ve[2*re+1]);for(Y.max_code=oe,se=W.heap_len>>1;1<=se;se--)fe(W,me,se);for(re=J;se=W.heap[1],W.heap[1]=W.heap[W.heap_len--],fe(W,me,1),ue=W.heap[1],W.heap[--W.heap_max]=se,W.heap[--W.heap_max]=ue,me[2*re]=me[2*se]+me[2*ue],W.depth[re]=(W.depth[se]>=W.depth[ue]?W.depth[se]:W.depth[ue])+1,me[2*se+1]=me[2*ue+1]=re,W.heap[1]=re++,fe(W,me,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(be,Oe){var Be,ot,Pt,Ve,Ir,Ga,Nt=Oe.dyn_tree,qa=Oe.max_code,Ii=Oe.stat_desc.static_tree,G6=Oe.stat_desc.has_stree,q6=Oe.stat_desc.extra_bits,rT=Oe.stat_desc.extra_base,cf=Oe.stat_desc.max_length,my=0;for(Ve=0;Ve<=v;Ve++)be.bl_count[Ve]=0;for(Nt[2*be.heap[be.heap_max]+1]=0,Be=be.heap_max+1;Be<p;Be++)cf<(Ve=Nt[2*Nt[2*(ot=be.heap[Be])+1]+1]+1)&&(Ve=cf,my++),Nt[2*ot+1]=Ve,qa<ot||(be.bl_count[Ve]++,Ir=0,rT<=ot&&(Ir=q6[ot-rT]),Ga=Nt[2*ot],be.opt_len+=Ga*(Ve+Ir),G6&&(be.static_len+=Ga*(Ii[2*ot+1]+Ir)));if(my!==0){do{for(Ve=cf-1;be.bl_count[Ve]===0;)Ve--;be.bl_count[Ve]--,be.bl_count[Ve+1]+=2,be.bl_count[cf]--,my-=2}while(0<my);for(Ve=cf;Ve!==0;Ve--)for(ot=be.bl_count[Ve];ot!==0;)qa<(Pt=be.heap[--Be])||(Nt[2*Pt+1]!==Ve&&(be.opt_len+=(Ve-Nt[2*Pt+1])*Nt[2*Pt],Nt[2*Pt+1]=Ve),ot--)}}(W,Y),Se(me,oe,W.bl_count)}function M(W,Y,se){var ue,re,me=-1,ve=Y[1],pe=0,J=7,oe=4;for(ve===0&&(J=138,oe=3),Y[2*(se+1)+1]=65535,ue=0;ue<=se;ue++)re=ve,ve=Y[2*(ue+1)+1],++pe<J&&re===ve||(pe<oe?W.bl_tree[2*re]+=pe:re!==0?(re!==me&&W.bl_tree[2*re]++,W.bl_tree[2*k]++):pe<=10?W.bl_tree[2*S]++:W.bl_tree[2*w]++,me=re,oe=(pe=0)===ve?(J=138,3):re===ve?(J=6,3):(J=7,4))}function ee(W,Y,se){var ue,re,me=-1,ve=Y[1],pe=0,J=7,oe=4;for(ve===0&&(J=138,oe=3),ue=0;ue<=se;ue++)if(re=ve,ve=Y[2*(ue+1)+1],!(++pe<J&&re===ve)){if(pe<oe)for(;Z(W,re,W.bl_tree),--pe!=0;);else re!==0?(re!==me&&(Z(W,re,W.bl_tree),pe--),Z(W,k,W.bl_tree),ae(W,pe-3,2)):pe<=10?(Z(W,S,W.bl_tree),ae(W,pe-3,3)):(Z(W,w,W.bl_tree),ae(W,pe-11,7));me=re,oe=(pe=0)===ve?(J=138,3):re===ve?(J=6,3):(J=7,4)}}l(G);var K=!1;function V(W,Y,se,ue){ae(W,(u<<1)+(ue?1:0),3),function(re,me,ve,pe){ie(re),L(re,ve),L(re,~ve),a.arraySet(re.pending_buf,re.window,me,ve,re.pending),re.pending+=ve}(W,Y,se)}i._tr_init=function(W){K||(function(){var Y,se,ue,re,me,ve=new Array(v+1);for(re=ue=0;re<c-1;re++)for($[re]=ue,Y=0;Y<1<<A[re];Y++)P[ue++]=re;for(P[ue-1]=re,re=me=0;re<16;re++)for(G[re]=me,Y=0;Y<1<<E[re];Y++)j[me++]=re;for(me>>=7;re<f;re++)for(G[re]=me<<7,Y=0;Y<1<<E[re]-7;Y++)j[256+me++]=re;for(se=0;se<=v;se++)ve[se]=0;for(Y=0;Y<=143;)I[2*Y+1]=8,Y++,ve[8]++;for(;Y<=255;)I[2*Y+1]=9,Y++,ve[9]++;for(;Y<=279;)I[2*Y+1]=7,Y++,ve[7]++;for(;Y<=287;)I[2*Y+1]=8,Y++,ve[8]++;for(Se(I,h+1,ve),Y=0;Y<f;Y++)T[2*Y+1]=5,T[2*Y]=de(Y,5);X=new R(I,A,d+1,h,v),U=new R(T,E,0,f,v),q=new R(new Array(0),C,0,m,b)}(),K=!0),W.l_desc=new B(W.dyn_ltree,X),W.d_desc=new B(W.dyn_dtree,U),W.bl_desc=new B(W.bl_tree,q),W.bi_buf=0,W.bi_valid=0,ge(W)},i._tr_stored_block=V,i._tr_flush_block=function(W,Y,se,ue){var re,me,ve=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(pe){var J,oe=4093624447;for(J=0;J<=31;J++,oe>>>=1)if(1&oe&&pe.dyn_ltree[2*J]!==0)return s;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return o;for(J=32;J<d;J++)if(pe.dyn_ltree[2*J]!==0)return o;return s}(W)),ye(W,W.l_desc),ye(W,W.d_desc),ve=function(pe){var J;for(M(pe,pe.dyn_ltree,pe.l_desc.max_code),M(pe,pe.dyn_dtree,pe.d_desc.max_code),ye(pe,pe.bl_desc),J=m-1;3<=J&&pe.bl_tree[2*O[J]+1]===0;J--);return pe.opt_len+=3*(J+1)+5+5+4,J}(W),re=W.opt_len+3+7>>>3,(me=W.static_len+3+7>>>3)<=re&&(re=me)):re=me=se+5,se+4<=re&&Y!==-1?V(W,Y,se,ue):W.strategy===4||me===re?(ae(W,2+(ue?1:0),3),te(W,I,T)):(ae(W,4+(ue?1:0),3),function(pe,J,oe,be){var Oe;for(ae(pe,J-257,5),ae(pe,oe-1,5),ae(pe,be-4,4),Oe=0;Oe<be;Oe++)ae(pe,pe.bl_tree[2*O[Oe]+1],3);ee(pe,pe.dyn_ltree,J-1),ee(pe,pe.dyn_dtree,oe-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,ve+1),te(W,W.dyn_ltree,W.dyn_dtree)),ge(W),ue&&ie(W)},i._tr_tally=function(W,Y,se){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&se,W.last_lit++,Y===0?W.dyn_ltree[2*se]++:(W.matches++,Y--,W.dyn_ltree[2*(P[se]+d+1)]++,W.dyn_dtree[2*H(Y)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){ae(W,2,3),Z(W,x,I),function(Y){Y.bi_valid===16?(L(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,d,h=1,f={},m=!1,p=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){b(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,S=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=S,k}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(k){s.postMessage(d+k,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(k){b(k.data)},function(k){c.port2.postMessage(k)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(k){var S=p.createElement("script");S.onreadystatechange=function(){b(k),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(k){setTimeout(b,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),w=0;w<S.length;w++)S[w]=arguments[w+1];var A={callback:k,args:S};return f[h]=A,l(h),h++},v.clearImmediate=y}function y(k){delete f[k]}function b(k){if(m)setTimeout(b,0,k);else{var S=f[k];if(S){m=!0;try{(function(w){var A=w.callback,E=w.args;switch(E.length){case 0:A();break;case 1:A(E[0]);break;case 2:A(E[0],E[1]);break;case 3:A(E[0],E[1],E[2]);break;default:A.apply(o,E)}})(S)}finally{y(k),m=!1}}}}function x(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(d)===0&&b(+k.data.slice(d.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Zr<"u"?Zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(j$);var Fq=j$.exports;const Bq=nt(Fq);/*
 * @license
 * docx-preview <https://github.com/VolodymyrBaydalka/docxjs>
 * Released under Apache License 2.0  <https://github.com/VolodymyrBaydalka/docxjs/blob/master/LICENSE>
 * Copyright Volodymyr Baydalka
 */var Vt;(function(t){t.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",t.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",t.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",t.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",t.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",t.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",t.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",t.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",t.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",t.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",t.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",t.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",t.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",t.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",t.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",t.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties",t.Comments="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",t.CommentsExtended="http://schemas.microsoft.com/office/2011/relationships/commentsExtended",t.AltChunk="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"})(Vt||(Vt={}));function zq(t,e){return e.elements(t).map(n=>({id:e.attr(n,"Id"),type:e.attr(n,"Type"),target:e.attr(n,"Target"),targetMode:e.attr(n,"TargetMode")}))}function Uq(t){return t==null?void 0:t.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()}function pk(t){return/^[^"'].*\s.*[^"']$/.test(t)?`'${t}'`:t}function Av(t){let e=t.lastIndexOf("/")+1,n=e==0?"":t.substring(0,e),r=e==0?t:t.substring(e);return[n,r]}function p1(t,e){try{const n="http://docx/";return new URL(t,n+e).toString().substring(n.length)}catch{return`${e}${t}`}}function ao(t,e){return t.reduce((n,r)=>(n[e(r)]=r,n),{})}function Hq(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(),r.readAsDataURL(t)})}function m1(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Wq(t){return typeof t=="string"||t instanceof String}function R0(t,...e){if(!e.length)return t;const n=e.shift();if(m1(t)&&m1(n))for(const r in n)if(m1(n[r])){const i=t[r]??(t[r]={});R0(i,n[r])}else t[r]=n[r];return R0(t,...e)}function wf(t){return Array.isArray(t)?t:[t]}function Vq(t,e,n){return e>t?e:n<t?n:t}const L$={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},en={Dxa:{mul:.05,unit:"pt"},Emu:{mul:1/12700,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt",min:.25,max:12},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"}};function D$(t,e=en.Dxa){if(t==null||/.+(p[xt]|[%])$/.test(t))return t;var n=parseInt(t)*e.mul;return e.min&&e.max&&(n=Vq(n,e.min,e.max)),`${n.toFixed(2)}${e.unit}`}function Gq(t,e=!1){switch(t){case"1":return!0;case"0":return!1;case"on":return!0;case"off":return!1;case"true":return!0;case"false":return!1;default:return e}}function $$(t,e,n){if(t.namespaceURI!=L$.wordml)return!1;switch(t.localName){case"color":e.color=n.attr(t,"val");break;case"sz":e.fontSize=n.lengthAttr(t,"val",en.FontSize);break;default:return!1}return!0}function qq(t,e=!1){e&&(t=t.replace(/<[?].*[?]>/,"")),t=Yq(t);const n=new DOMParser().parseFromString(t,"application/xml"),r=Xq(n);if(r)throw new Error(r);return n}function Xq(t){var e;return(e=t.getElementsByTagName("parsererror")[0])==null?void 0:e.textContent}function Yq(t){return t.charCodeAt(0)===65279?t.substring(1):t}function Kq(t){return new XMLSerializer().serializeToString(t)}class F${elements(e,n=null){const r=[];for(let i=0,a=e.childNodes.length;i<a;i++){let s=e.childNodes.item(i);s.nodeType==Node.ELEMENT_NODE&&(n==null||s.localName==n)&&r.push(s)}return r}element(e,n){for(let r=0,i=e.childNodes.length;r<i;r++){let a=e.childNodes.item(r);if(a.nodeType==1&&a.localName==n)return a}return null}elementAttr(e,n,r){var i=this.element(e,n);return i?this.attr(i,r):void 0}attrs(e){return Array.from(e.attributes)}attr(e,n){for(let r=0,i=e.attributes.length;r<i;r++){let a=e.attributes.item(r);if(a.localName==n)return a.value}return null}intAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i):r}hexAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i,16):r}floatAttr(e,n,r=null){var i=this.attr(e,n);return i?parseFloat(i):r}boolAttr(e,n,r=null){return Gq(this.attr(e,n),r)}lengthAttr(e,n,r=en.Dxa){return D$(this.attr(e,n),r)}}const Q=new F$;class si{constructor(e,n){this._package=e,this.path=n}async load(){this.rels=await this._package.loadRelationships(this.path);const e=await this._package.load(this.path),n=this._package.parseXmlDocument(e);this._package.options.keepOrigin&&(this._xmlDocument=n),this.parseXml(n.firstElementChild)}save(){this._package.update(this.path,Kq(this._xmlDocument))}parseXml(e){}}const Zq={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function Qq(t,e){return e.elements(t).map(n=>Jq(n,e))}function Jq(t,e){let n={name:e.attr(t,"name"),embedFontRefs:[]};for(let r of e.elements(t))switch(r.localName){case"family":n.family=e.attr(r,"val");break;case"altName":n.altName=e.attr(r,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":n.embedFontRefs.push(eX(r,e));break}return n}function eX(t,e){return{id:e.attr(t,"id"),key:e.attr(t,"fontKey"),type:Zq[t.localName]}}class tX extends si{parseXml(e){this.fonts=Qq(e,this._package.xmlParser)}}class TC{constructor(e,n){this._zip=e,this.options=n,this.xmlParser=new F$}get(e){const n=nX(e);return this._zip.files[n]??this._zip.files[n.replace(/\//g,"\\")]}update(e,n){this._zip.file(e,n)}static async load(e,n){const r=await Bq.loadAsync(e);return new TC(r,n)}save(e="blob"){return this._zip.generateAsync({type:e})}load(e,n="string"){var r;return((r=this.get(e))==null?void 0:r.async(n))??Promise.resolve(null)}async loadRelationships(e=null){let n="_rels/.rels";if(e!=null){const[i,a]=Av(e);n=`${i}_rels/${a}.rels`}const r=await this.load(n);return r?zq(this.parseXmlDocument(r).firstElementChild,this.xmlParser):null}parseXmlDocument(e){return qq(e,this.options.trimXmlDeclaration)}}function nX(t){return t.startsWith("/")?t.substr(1):t}class rX extends si{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.body=this._documentParser.parseDocumentFile(e)}}function Fy(t,e){return{type:e.attr(t,"val"),color:e.attr(t,"color"),size:e.lengthAttr(t,"sz",en.Border),offset:e.lengthAttr(t,"space",en.Point),frame:e.boolAttr(t,"frame"),shadow:e.boolAttr(t,"shadow")}}function iX(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"left":n.left=Fy(r,e);break;case"top":n.top=Fy(r,e);break;case"right":n.right=Fy(r,e);break;case"bottom":n.bottom=Fy(r,e);break}return n}var b2;(function(t){t.Continuous="continuous",t.NextPage="nextPage",t.NextColumn="nextColumn",t.EvenPage="evenPage",t.OddPage="oddPage"})(b2||(b2={}));function B$(t,e=Q){var n={};for(let r of e.elements(t))switch(r.localName){case"pgSz":n.pageSize={width:e.lengthAttr(r,"w"),height:e.lengthAttr(r,"h"),orientation:e.attr(r,"orient")};break;case"type":n.type=e.attr(r,"val");break;case"pgMar":n.pageMargins={left:e.lengthAttr(r,"left"),right:e.lengthAttr(r,"right"),top:e.lengthAttr(r,"top"),bottom:e.lengthAttr(r,"bottom"),header:e.lengthAttr(r,"header"),footer:e.lengthAttr(r,"footer"),gutter:e.lengthAttr(r,"gutter")};break;case"cols":n.columns=aX(r,e);break;case"headerReference":(n.headerRefs??(n.headerRefs=[])).push(x2(r,e));break;case"footerReference":(n.footerRefs??(n.footerRefs=[])).push(x2(r,e));break;case"titlePg":n.titlePage=e.boolAttr(r,"val",!0);break;case"pgBorders":n.pageBorders=iX(r,e);break;case"pgNumType":n.pageNumber=sX(r,e);break}return n}function aX(t,e){return{numberOfColumns:e.intAttr(t,"num"),space:e.lengthAttr(t,"space"),separator:e.boolAttr(t,"sep"),equalWidth:e.boolAttr(t,"equalWidth",!0),columns:e.elements(t,"col").map(n=>({width:e.lengthAttr(n,"w"),space:e.lengthAttr(n,"space")}))}}function sX(t,e){return{chapSep:e.attr(t,"chapSep"),chapStyle:e.attr(t,"chapStyle"),format:e.attr(t,"fmt"),start:e.intAttr(t,"start")}}function x2(t,e){return{id:e.attr(t,"id"),type:e.attr(t,"type")}}function oX(t,e){return{before:e.lengthAttr(t,"before"),after:e.lengthAttr(t,"after"),line:e.intAttr(t,"line"),lineRule:e.attr(t,"lineRule")}}function OC(t,e){let n={};for(let r of e.elements(t))lX(r,n,e);return n}function lX(t,e,n){return!!$$(t,e,n)}function z$(t,e){let n={};for(let r of e.elements(t))U$(r,n,e);return n}function U$(t,e,n){if(t.namespaceURI!=L$.wordml)return!1;if($$(t,e,n))return!0;switch(t.localName){case"tabs":e.tabs=uX(t,n);break;case"sectPr":e.sectionProps=B$(t,n);break;case"numPr":e.numbering=cX(t,n);break;case"spacing":return e.lineSpacing=oX(t,n),!1;case"textAlignment":return e.textAlignment=n.attr(t,"val"),!1;case"keepLines":e.keepLines=n.boolAttr(t,"val",!0);break;case"keepNext":e.keepNext=n.boolAttr(t,"val",!0);break;case"pageBreakBefore":e.pageBreakBefore=n.boolAttr(t,"val",!0);break;case"outlineLvl":e.outlineLevel=n.intAttr(t,"val");break;case"pStyle":e.styleName=n.attr(t,"val");break;case"rPr":e.runProps=OC(t,n);break;default:return!1}return!0}function uX(t,e){return e.elements(t,"tab").map(n=>({position:e.lengthAttr(n,"pos"),leader:e.attr(n,"leader"),style:e.attr(n,"val")}))}function cX(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"numId":n.id=e.attr(r,"val");break;case"ilvl":n.level=e.intAttr(r,"val");break}return n}function dX(t,e){let n={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let r of e.elements(t))switch(r.localName){case"num":n.numberings.push(hX(r,e));break;case"abstractNum":n.abstractNumberings.push(fX(r,e));break;case"numPicBullet":n.bulletPictures.push(mX(r,e));break}return n}function hX(t,e){let n={id:e.attr(t,"numId"),overrides:[]};for(let r of e.elements(t))switch(r.localName){case"abstractNumId":n.abstractId=e.attr(r,"val");break;case"lvlOverride":n.overrides.push(pX(r,e));break}return n}function fX(t,e){let n={id:e.attr(t,"abstractNumId"),levels:[]};for(let r of e.elements(t))switch(r.localName){case"name":n.name=e.attr(r,"val");break;case"multiLevelType":n.multiLevelType=e.attr(r,"val");break;case"numStyleLink":n.numberingStyleLink=e.attr(r,"val");break;case"styleLink":n.styleLink=e.attr(r,"val");break;case"lvl":n.levels.push(H$(r,e));break}return n}function H$(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"start":n.start=e.attr(r,"val");break;case"lvlRestart":n.restart=e.intAttr(r,"val");break;case"numFmt":n.format=e.attr(r,"val");break;case"lvlText":n.text=e.attr(r,"val");break;case"lvlJc":n.justification=e.attr(r,"val");break;case"lvlPicBulletId":n.bulletPictureId=e.attr(r,"val");break;case"pStyle":n.paragraphStyle=e.attr(r,"val");break;case"pPr":n.paragraphProps=z$(r,e);break;case"rPr":n.runProps=OC(r,e);break}return n}function pX(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"startOverride":n.start=e.intAttr(r,"val");break;case"lvl":n.numberingLevel=H$(r,e);break}return n}function mX(t,e){var n=e.element(t,"pict"),r=n&&e.element(n,"shape"),i=r&&e.element(r,"imagedata");return i?{id:e.attr(t,"numPicBulletId"),referenceId:e.attr(i,"id"),style:e.attr(r,"style")}:null}class gX extends si{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){Object.assign(this,dX(e,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(e)}}class yX extends si{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.styles=this._documentParser.parseStylesFile(e)}}var le;(function(t){t.Document="document",t.Paragraph="paragraph",t.Run="run",t.Break="break",t.NoBreakHyphen="noBreakHyphen",t.Table="table",t.Row="row",t.Cell="cell",t.Hyperlink="hyperlink",t.SmartTag="smartTag",t.Drawing="drawing",t.Image="image",t.Text="text",t.Tab="tab",t.Symbol="symbol",t.BookmarkStart="bookmarkStart",t.BookmarkEnd="bookmarkEnd",t.Footer="footer",t.Header="header",t.FootnoteReference="footnoteReference",t.EndnoteReference="endnoteReference",t.Footnote="footnote",t.Endnote="endnote",t.SimpleField="simpleField",t.ComplexField="complexField",t.Instruction="instruction",t.VmlPicture="vmlPicture",t.MmlMath="mmlMath",t.MmlMathParagraph="mmlMathParagraph",t.MmlFraction="mmlFraction",t.MmlFunction="mmlFunction",t.MmlFunctionName="mmlFunctionName",t.MmlNumerator="mmlNumerator",t.MmlDenominator="mmlDenominator",t.MmlRadical="mmlRadical",t.MmlBase="mmlBase",t.MmlDegree="mmlDegree",t.MmlSuperscript="mmlSuperscript",t.MmlSubscript="mmlSubscript",t.MmlPreSubSuper="mmlPreSubSuper",t.MmlSubArgument="mmlSubArgument",t.MmlSuperArgument="mmlSuperArgument",t.MmlNary="mmlNary",t.MmlDelimiter="mmlDelimiter",t.MmlRun="mmlRun",t.MmlEquationArray="mmlEquationArray",t.MmlLimit="mmlLimit",t.MmlLimitLower="mmlLimitLower",t.MmlMatrix="mmlMatrix",t.MmlMatrixRow="mmlMatrixRow",t.MmlBox="mmlBox",t.MmlBar="mmlBar",t.MmlGroupChar="mmlGroupChar",t.VmlElement="vmlElement",t.Inserted="inserted",t.Deleted="deleted",t.DeletedText="deletedText",t.Comment="comment",t.CommentReference="commentReference",t.CommentRangeStart="commentRangeStart",t.CommentRangeEnd="commentRangeEnd",t.AltChunk="altChunk"})(le||(le={}));class sc{constructor(){this.children=[],this.cssStyle={}}}class vX extends sc{constructor(){super(...arguments),this.type=le.Header}}class bX extends sc{constructor(){super(...arguments),this.type=le.Footer}}class W$ extends si{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(e)}}class xX extends W${createRootElement(){return new vX}}class wX extends W${createRootElement(){return new bX}}function SX(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"Template":n.template=r.textContent;break;case"Pages":n.pages=Sf(r.textContent);break;case"Words":n.words=Sf(r.textContent);break;case"Characters":n.characters=Sf(r.textContent);break;case"Application":n.application=r.textContent;break;case"Lines":n.lines=Sf(r.textContent);break;case"Paragraphs":n.paragraphs=Sf(r.textContent);break;case"Company":n.company=r.textContent;break;case"AppVersion":n.appVersion=r.textContent;break}return n}function Sf(t){if(!(typeof t>"u"))return parseInt(t)}class kX extends si{parseXml(e){this.props=SX(e,this._package.xmlParser)}}function _X(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"title":n.title=r.textContent;break;case"description":n.description=r.textContent;break;case"subject":n.subject=r.textContent;break;case"creator":n.creator=r.textContent;break;case"keywords":n.keywords=r.textContent;break;case"language":n.language=r.textContent;break;case"lastModifiedBy":n.lastModifiedBy=r.textContent;break;case"revision":r.textContent&&(n.revision=parseInt(r.textContent));break}return n}class AX extends si{parseXml(e){this.props=_X(e,this._package.xmlParser)}}class EX{}function CX(t,e){var n=new EX,r=e.element(t,"themeElements");for(let i of e.elements(r))switch(i.localName){case"clrScheme":n.colorScheme=PX(i,e);break;case"fontScheme":n.fontScheme=TX(i,e);break}return n}function PX(t,e){var n={name:e.attr(t,"name"),colors:{}};for(let a of e.elements(t)){var r=e.element(a,"srgbClr"),i=e.element(a,"sysClr");r?n.colors[a.localName]=e.attr(r,"val"):i&&(n.colors[a.localName]=e.attr(i,"lastClr"))}return n}function TX(t,e){var n={name:e.attr(t,"name")};for(let r of e.elements(t))switch(r.localName){case"majorFont":n.majorFont=w2(r,e);break;case"minorFont":n.minorFont=w2(r,e);break}return n}function w2(t,e){return{latinTypeface:e.elementAttr(t,"latin","typeface"),eaTypeface:e.elementAttr(t,"ea","typeface"),csTypeface:e.elementAttr(t,"cs","typeface")}}class OX extends si{constructor(e,n){super(e,n)}parseXml(e){this.theme=CX(e,this._package.xmlParser)}}class V${}class MX extends V${constructor(){super(...arguments),this.type=le.Footnote}}class NX extends V${constructor(){super(...arguments),this.type=le.Endnote}}class G$ extends si{constructor(e,n,r){super(e,n),this._documentParser=r}}class IX extends G${constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"footnote",MX)}}class RX extends G${constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"endnote",NX)}}function jX(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"defaultTabStop":n.defaultTabStop=e.lengthAttr(r,"val");break;case"footnotePr":n.footnoteProps=S2(r,e);break;case"endnotePr":n.endnoteProps=S2(r,e);break;case"autoHyphenation":n.autoHyphenation=e.boolAttr(r,"val");break}return n}function S2(t,e){var n={defaultNoteIds:[]};for(let r of e.elements(t))switch(r.localName){case"numFmt":n.nummeringFormat=e.attr(r,"val");break;case"footnote":case"endnote":n.defaultNoteIds.push(e.attr(r,"id"));break}return n}class LX extends si{constructor(e,n){super(e,n)}parseXml(e){this.settings=jX(e,this._package.xmlParser)}}function DX(t,e){return e.elements(t,"property").map(n=>{const r=n.firstChild;return{formatId:e.attr(n,"fmtid"),name:e.attr(n,"name"),type:r.nodeName,value:r.textContent}})}class $X extends si{parseXml(e){this.props=DX(e,this._package.xmlParser)}}class FX extends si{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.comments=this._documentParser.parseComments(e),this.commentMap=ao(this.comments,n=>n.id)}}class BX extends si{constructor(e,n){super(e,n),this.comments=[]}parseXml(e){const n=this._package.xmlParser;for(let r of n.elements(e,"commentEx"))this.comments.push({paraId:n.attr(r,"paraId"),paraIdParent:n.attr(r,"paraIdParent"),done:n.boolAttr(r,"done")});this.commentMap=ao(this.comments,r=>r.paraId)}}const zX=[{type:Vt.OfficeDocument,target:"word/document.xml"},{type:Vt.ExtendedProperties,target:"docProps/app.xml"},{type:Vt.CoreProperties,target:"docProps/core.xml"},{type:Vt.CustomProperties,target:"docProps/custom.xml"}];class MC{constructor(){this.parts=[],this.partsMap={}}static async load(e,n,r){var i=new MC;return i._options=r,i._parser=n,i._package=await TC.load(e,r),i.rels=await i._package.loadRelationships(),await Promise.all(zX.map(a=>{const s=i.rels.find(o=>o.type===a.type)??a;return i.loadRelationshipPart(s.target,s.type)})),i}save(e="blob"){return this._package.save(e)}async loadRelationshipPart(e,n){var i;if(this.partsMap[e])return this.partsMap[e];if(!this._package.get(e))return null;let r=null;switch(n){case Vt.OfficeDocument:this.documentPart=r=new rX(this._package,e,this._parser);break;case Vt.FontTable:this.fontTablePart=r=new tX(this._package,e);break;case Vt.Numbering:this.numberingPart=r=new gX(this._package,e,this._parser);break;case Vt.Styles:this.stylesPart=r=new yX(this._package,e,this._parser);break;case Vt.Theme:this.themePart=r=new OX(this._package,e);break;case Vt.Footnotes:this.footnotesPart=r=new IX(this._package,e,this._parser);break;case Vt.Endnotes:this.endnotesPart=r=new RX(this._package,e,this._parser);break;case Vt.Footer:r=new wX(this._package,e,this._parser);break;case Vt.Header:r=new xX(this._package,e,this._parser);break;case Vt.CoreProperties:this.corePropsPart=r=new AX(this._package,e);break;case Vt.ExtendedProperties:this.extendedPropsPart=r=new kX(this._package,e);break;case Vt.CustomProperties:r=new $X(this._package,e);break;case Vt.Settings:this.settingsPart=r=new LX(this._package,e);break;case Vt.Comments:this.commentsPart=r=new FX(this._package,e,this._parser);break;case Vt.CommentsExtended:this.commentsExtendedPart=r=new BX(this._package,e);break}if(r==null)return Promise.resolve(null);if(this.partsMap[e]=r,this.parts.push(r),await r.load(),((i=r.rels)==null?void 0:i.length)>0){const[a]=Av(r.path);await Promise.all(r.rels.map(s=>this.loadRelationshipPart(p1(s.target,a),s.type)))}return r}async loadDocumentImage(e,n){const r=await this.loadResource(n??this.documentPart,e,"blob");return this.blobToURL(r)}async loadNumberingImage(e){const n=await this.loadResource(this.numberingPart,e,"blob");return this.blobToURL(n)}async loadFont(e,n){const r=await this.loadResource(this.fontTablePart,e,"uint8array");return r&&this.blobToURL(new Blob([UX(r,n)]))}async loadAltChunk(e,n){return await this.loadResource(n??this.documentPart,e,"string")}blobToURL(e){return e?this._options.useBase64URL?Hq(e):URL.createObjectURL(e):null}findPartByRelId(e,n=null){var r=(n.rels??this.rels).find(a=>a.id==e);const i=n?Av(n.path)[0]:"";return r?this.partsMap[p1(r.target,i)]:null}getPathById(e,n){const r=e.rels.find(a=>a.id==n),[i]=Av(e.path);return r?p1(r.target,i):null}loadResource(e,n,r){const i=this.getPathById(e,n);return i?this._package.load(i,r):Promise.resolve(null)}}function UX(t,e){const r=e.replace(/{|}|-/g,""),i=new Array(16);for(let a=0;a<16;a++)i[16-a-1]=parseInt(r.substring(a*2,a*2+2),16);for(let a=0;a<32;a++)t[a]=t[a]^i[a%16];return t}function HX(t,e){return{type:le.BookmarkStart,id:e.attr(t,"id"),name:e.attr(t,"name"),colFirst:e.intAttr(t,"colFirst"),colLast:e.intAttr(t,"colLast")}}function WX(t,e){return{type:le.BookmarkEnd,id:e.attr(t,"id")}}class VX extends sc{constructor(){super(...arguments),this.type=le.VmlElement,this.attrs={}}}function q$(t,e){var n=new VX;switch(t.localName){case"rect":n.tagName="rect",Object.assign(n.attrs,{width:"100%",height:"100%"});break;case"oval":n.tagName="ellipse",Object.assign(n.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":n.tagName="line";break;case"shape":n.tagName="g";break;case"textbox":n.tagName="foreignObject",Object.assign(n.attrs,{width:"100%",height:"100%"});break;default:return null}for(const r of Q.attrs(t))switch(r.localName){case"style":n.cssStyleText=r.value;break;case"fillcolor":n.attrs.fill=r.value;break;case"from":const[i,a]=k2(r.value);Object.assign(n.attrs,{x1:i,y1:a});break;case"to":const[s,o]=k2(r.value);Object.assign(n.attrs,{x2:s,y2:o});break}for(const r of Q.elements(t))switch(r.localName){case"stroke":Object.assign(n.attrs,GX(r));break;case"fill":Object.assign(n.attrs,qX());break;case"imagedata":n.tagName="image",Object.assign(n.attrs,{width:"100%",height:"100%"}),n.imageHref={id:Q.attr(r,"id"),title:Q.attr(r,"title")};break;case"txbxContent":n.children.push(...e.parseBodyElements(r));break;default:const i=q$(r,e);i&&n.children.push(i);break}return n}function GX(t){return{stroke:Q.attr(t,"color"),"stroke-width":Q.lengthAttr(t,"weight",en.Emu)??"1px"}}function qX(t){return{}}function k2(t){return t.split(",")}class XX extends sc{constructor(){super(...arguments),this.type=le.Comment}}class YX extends sc{constructor(e){super(),this.id=e,this.type=le.CommentReference}}class KX extends sc{constructor(e){super(),this.id=e,this.type=le.CommentRangeStart}}class ZX extends sc{constructor(e){super(),this.id=e,this.type=le.CommentRangeEnd}}var Ev={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const QX=[],_2={oMath:le.MmlMath,oMathPara:le.MmlMathParagraph,f:le.MmlFraction,func:le.MmlFunction,fName:le.MmlFunctionName,num:le.MmlNumerator,den:le.MmlDenominator,rad:le.MmlRadical,deg:le.MmlDegree,e:le.MmlBase,sSup:le.MmlSuperscript,sSub:le.MmlSubscript,sPre:le.MmlPreSubSuper,sup:le.MmlSuperArgument,sub:le.MmlSubArgument,d:le.MmlDelimiter,nary:le.MmlNary,eqArr:le.MmlEquationArray,lim:le.MmlLimit,limLow:le.MmlLimitLower,m:le.MmlMatrix,mr:le.MmlMatrixRow,box:le.MmlBox,bar:le.MmlBar,groupChr:le.MmlGroupChar};class JX{constructor(e){this.options={ignoreWidth:!1,debug:!1,...e}}parseNotes(e,n,r){var i=[];for(let a of Q.elements(e,n)){const s=new r;s.id=Q.attr(a,"id"),s.noteType=Q.attr(a,"type"),s.children=this.parseBodyElements(a),i.push(s)}return i}parseComments(e){var n=[];for(let r of Q.elements(e,"comment")){const i=new XX;i.id=Q.attr(r,"id"),i.author=Q.attr(r,"author"),i.initials=Q.attr(r,"initials"),i.date=Q.attr(r,"date"),i.children=this.parseBodyElements(r),n.push(i)}return n}parseDocumentFile(e){var n=Q.element(e,"body"),r=Q.element(e,"background"),i=Q.element(n,"sectPr");return{type:le.Document,children:this.parseBodyElements(n),props:i?B$(i,Q):{},cssStyle:r?this.parseBackground(r):{}}}parseBackground(e){var n={},r=_c.colorAttr(e,"color");return r&&(n["background-color"]=r),n}parseBodyElements(e){var n=[];for(const r of Q.elements(e))switch(r.localName){case"p":n.push(this.parseParagraph(r));break;case"altChunk":n.push(this.parseAltChunk(r));break;case"tbl":n.push(this.parseTable(r));break;case"sdt":n.push(...this.parseSdt(r,i=>this.parseBodyElements(i)));break}return n}parseStylesFile(e){var n=[];for(const r of Q.elements(e))switch(r.localName){case"style":n.push(this.parseStyle(r));break;case"docDefaults":n.push(this.parseDefaultStyles(r));break}return n}parseDefaultStyles(e){var n={id:null,name:null,target:null,basedOn:null,styles:[]};for(const a of Q.elements(e))switch(a.localName){case"rPrDefault":var r=Q.element(a,"rPr");r&&n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})});break;case"pPrDefault":var i=Q.element(a,"pPr");i&&n.styles.push({target:"p",values:this.parseDefaultProperties(i,{})});break}return n}parseStyle(e){var n={id:Q.attr(e,"styleId"),isDefault:Q.boolAttr(e,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(Q.attr(e,"type")){case"paragraph":n.target="p";break;case"table":n.target="table";break;case"character":n.target="span";break}for(const r of Q.elements(e))switch(r.localName){case"basedOn":n.basedOn=Q.attr(r,"val");break;case"name":n.name=Q.attr(r,"val");break;case"link":n.linked=Q.attr(r,"val");break;case"next":n.next=Q.attr(r,"val");break;case"aliases":n.aliases=Q.attr(r,"val").split(",");break;case"pPr":n.styles.push({target:"p",values:this.parseDefaultProperties(r,{})}),n.paragraphProps=z$(r,Q);break;case"rPr":n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})}),n.runProps=OC(r,Q);break;case"tblPr":case"tcPr":n.styles.push({target:"td",values:this.parseDefaultProperties(r,{})});break;case"tblStylePr":for(let i of this.parseTableStyle(r))n.styles.push(i);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${r.localName}`)}return n}parseTableStyle(e){var n=[],r=Q.attr(e,"type"),i="",a="";switch(r){case"firstRow":a=".first-row",i="tr.first-row td";break;case"lastRow":a=".last-row",i="tr.last-row td";break;case"firstCol":a=".first-col",i="td.first-col";break;case"lastCol":a=".last-col",i="td.last-col";break;case"band1Vert":a=":not(.no-vband)",i="td.odd-col";break;case"band2Vert":a=":not(.no-vband)",i="td.even-col";break;case"band1Horz":a=":not(.no-hband)",i="tr.odd-row";break;case"band2Horz":a=":not(.no-hband)",i="tr.even-row";break;default:return[]}for(const s of Q.elements(e))switch(s.localName){case"pPr":n.push({target:`${i} p`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"rPr":n.push({target:`${i} span`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"tblPr":case"tcPr":n.push({target:i,mod:a,values:this.parseDefaultProperties(s,{})});break}return n}parseNumberingFile(e){var n=[],r={},i=[];for(const o of Q.elements(e))switch(o.localName){case"abstractNum":this.parseAbstractNumbering(o,i).forEach(l=>n.push(l));break;case"numPicBullet":i.push(this.parseNumberingPicBullet(o));break;case"num":var a=Q.attr(o,"numId"),s=Q.elementAttr(o,"abstractNumId","val");r[s]=a;break}return n.forEach(o=>o.id=r[o.id]),n}parseNumberingPicBullet(e){var n=Q.element(e,"pict"),r=n&&Q.element(n,"shape"),i=r&&Q.element(r,"imagedata");return i?{id:Q.intAttr(e,"numPicBulletId"),src:Q.attr(i,"id"),style:Q.attr(r,"style")}:null}parseAbstractNumbering(e,n){var r=[],i=Q.attr(e,"abstractNumId");for(const a of Q.elements(e))switch(a.localName){case"lvl":r.push(this.parseNumberingLevel(i,a,n));break}return r}parseNumberingLevel(e,n,r){var i={id:e,level:Q.intAttr(n,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};for(const s of Q.elements(n))switch(s.localName){case"start":i.start=Q.intAttr(s,"val");break;case"pPr":this.parseDefaultProperties(s,i.pStyle);break;case"rPr":this.parseDefaultProperties(s,i.rStyle);break;case"lvlPicBulletId":var a=Q.intAttr(s,"val");i.bullet=r.find(o=>(o==null?void 0:o.id)==a);break;case"lvlText":i.levelText=Q.attr(s,"val");break;case"pStyle":i.pStyleName=Q.attr(s,"val");break;case"numFmt":i.format=Q.attr(s,"val");break;case"suff":i.suff=Q.attr(s,"val");break}return i}parseSdt(e,n){const r=Q.element(e,"sdtContent");return r?n(r):[]}parseInserted(e,n){var r;return{type:le.Inserted,children:((r=n(e))==null?void 0:r.children)??[]}}parseDeleted(e,n){var r;return{type:le.Deleted,children:((r=n(e))==null?void 0:r.children)??[]}}parseAltChunk(e){return{type:le.AltChunk,children:[],id:Q.attr(e,"id")}}parseParagraph(e){var n={type:le.Paragraph,children:[]};for(let r of Q.elements(e))switch(r.localName){case"pPr":this.parseParagraphProperties(r,n);break;case"r":n.children.push(this.parseRun(r,n));break;case"hyperlink":n.children.push(this.parseHyperlink(r,n));break;case"smartTag":n.children.push(this.parseSmartTag(r,n));break;case"bookmarkStart":n.children.push(HX(r,Q));break;case"bookmarkEnd":n.children.push(WX(r,Q));break;case"commentRangeStart":n.children.push(new KX(Q.attr(r,"id")));break;case"commentRangeEnd":n.children.push(new ZX(Q.attr(r,"id")));break;case"oMath":case"oMathPara":n.children.push(this.parseMathElement(r));break;case"sdt":n.children.push(...this.parseSdt(r,i=>this.parseParagraph(i).children));break;case"ins":n.children.push(this.parseInserted(r,i=>this.parseParagraph(i)));break;case"del":n.children.push(this.parseDeleted(r,i=>this.parseParagraph(i)));break}return n}parseParagraphProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{if(U$(r,n,Q))return!0;switch(r.localName){case"pStyle":n.styleName=Q.attr(r,"val");break;case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;case"framePr":this.parseFrame(r,n);break;case"rPr":break;default:return!1}return!0})}parseFrame(e,n){var r=Q.attr(e,"dropCap");r=="drop"&&(n.cssStyle.float="left")}parseHyperlink(e,n){var r={type:le.Hyperlink,parent:n,children:[]};r.anchor=Q.attr(e,"anchor"),r.id=Q.attr(e,"id");for(const i of Q.elements(e))switch(i.localName){case"r":r.children.push(this.parseRun(i,r));break}return r}parseSmartTag(e,n){var r={type:le.SmartTag,parent:n,children:[]},i=Q.attr(e,"uri"),a=Q.attr(e,"element");i&&(r.uri=i),a&&(r.element=a);for(const s of Q.elements(e))switch(s.localName){case"r":r.children.push(this.parseRun(s,r));break}return r}parseRun(e,n){var r={type:le.Run,parent:n,children:[]};for(let i of Q.elements(e))switch(i=this.checkAlternateContent(i),i.localName){case"t":r.children.push({type:le.Text,text:i.textContent});break;case"delText":r.children.push({type:le.DeletedText,text:i.textContent});break;case"commentReference":r.children.push(new YX(Q.attr(i,"id")));break;case"fldSimple":r.children.push({type:le.SimpleField,instruction:Q.attr(i,"instr"),lock:Q.boolAttr(i,"lock",!1),dirty:Q.boolAttr(i,"dirty",!1)});break;case"instrText":r.fieldRun=!0,r.children.push({type:le.Instruction,text:i.textContent});break;case"fldChar":r.fieldRun=!0,r.children.push({type:le.ComplexField,charType:Q.attr(i,"fldCharType"),lock:Q.boolAttr(i,"lock",!1),dirty:Q.boolAttr(i,"dirty",!1)});break;case"noBreakHyphen":r.children.push({type:le.NoBreakHyphen});break;case"br":r.children.push({type:le.Break,break:Q.attr(i,"type")||"textWrapping"});break;case"lastRenderedPageBreak":r.children.push({type:le.Break,break:"lastRenderedPageBreak"});break;case"sym":r.children.push({type:le.Symbol,font:pk(Q.attr(i,"font")),char:Q.attr(i,"char")});break;case"tab":r.children.push({type:le.Tab});break;case"footnoteReference":r.children.push({type:le.FootnoteReference,id:Q.attr(i,"id")});break;case"endnoteReference":r.children.push({type:le.EndnoteReference,id:Q.attr(i,"id")});break;case"drawing":let a=this.parseDrawing(i);a&&(r.children=[a]);break;case"pict":r.children.push(this.parseVmlPicture(i));break;case"rPr":this.parseRunProperties(i,r);break}return r}parseMathElement(e){const n=`${e.localName}Pr`,r={type:_2[e.localName],children:[]};for(const a of Q.elements(e))if(_2[a.localName])r.children.push(this.parseMathElement(a));else if(a.localName=="r"){var i=this.parseRun(a);i.type=le.MmlRun,r.children.push(i)}else a.localName==n&&(r.props=this.parseMathProperies(a));return r}parseMathProperies(e){const n={};for(const r of Q.elements(e))switch(r.localName){case"chr":n.char=Q.attr(r,"val");break;case"vertJc":n.verticalJustification=Q.attr(r,"val");break;case"pos":n.position=Q.attr(r,"val");break;case"degHide":n.hideDegree=Q.boolAttr(r,"val");break;case"begChr":n.beginChar=Q.attr(r,"val");break;case"endChr":n.endChar=Q.attr(r,"val");break}return n}parseRunProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{switch(r.localName){case"rStyle":n.styleName=Q.attr(r,"val");break;case"vertAlign":n.verticalAlign=gt.valueOfVertAlign(r,!0);break;default:return!1}return!0})}parseVmlPicture(e){const n={type:le.VmlPicture,children:[]};for(const r of Q.elements(e)){const i=q$(r,this);i&&n.children.push(i)}return n}checkAlternateContent(e){var a;if(e.localName!="AlternateContent")return e;var n=Q.element(e,"Choice");if(n){var r=Q.attr(n,"Requires"),i=e.lookupNamespaceURI(r);if(QX.includes(i))return n.firstElementChild}return(a=Q.element(e,"Fallback"))==null?void 0:a.firstElementChild}parseDrawing(e){for(var n of Q.elements(e))switch(n.localName){case"inline":case"anchor":return this.parseDrawingWrapper(n)}}parseDrawingWrapper(e){var n={type:le.Drawing,children:[],cssStyle:{}},r=e.localName=="anchor";let i=null,a=Q.boolAttr(e,"simplePos");Q.boolAttr(e,"behindDoc");let s={relative:"page",align:"left",offset:"0"},o={relative:"page",align:"top",offset:"0"};for(var l of Q.elements(e))switch(l.localName){case"simplePos":a&&(s.offset=Q.lengthAttr(l,"x",en.Emu),o.offset=Q.lengthAttr(l,"y",en.Emu));break;case"extent":n.cssStyle.width=Q.lengthAttr(l,"cx",en.Emu),n.cssStyle.height=Q.lengthAttr(l,"cy",en.Emu);break;case"positionH":case"positionV":if(!a){let h=l.localName=="positionH"?s:o;var u=Q.element(l,"align"),c=Q.element(l,"posOffset");h.relative=Q.attr(l,"relativeFrom")??h.relative,u&&(h.align=u.textContent),c&&(h.offset=D$(c.textContent,en.Emu))}break;case"wrapTopAndBottom":i="wrapTopAndBottom";break;case"wrapNone":i="wrapNone";break;case"graphic":var d=this.parseGraphic(l);d&&n.children.push(d);break}return i=="wrapTopAndBottom"?(n.cssStyle.display="block",s.align&&(n.cssStyle["text-align"]=s.align,n.cssStyle.width="100%")):i=="wrapNone"?(n.cssStyle.display="block",n.cssStyle.position="relative",n.cssStyle.width="0px",n.cssStyle.height="0px",s.offset&&(n.cssStyle.left=s.offset),o.offset&&(n.cssStyle.top=o.offset)):r&&(s.align=="left"||s.align=="right")&&(n.cssStyle.float=s.align),n}parseGraphic(e){var n=Q.element(e,"graphicData");for(let r of Q.elements(n))switch(r.localName){case"pic":return this.parsePicture(r)}return null}parsePicture(e){var n={type:le.Image,src:"",cssStyle:{}},r=Q.element(e,"blipFill"),i=Q.element(r,"blip"),a=Q.element(r,"srcRect");n.src=Q.attr(i,"embed"),a&&(n.srcRect=[Q.intAttr(a,"l",0)/1e5,Q.intAttr(a,"t",0)/1e5,Q.intAttr(a,"r",0)/1e5,Q.intAttr(a,"b",0)/1e5]);var s=Q.element(e,"spPr"),o=Q.element(s,"xfrm");if(n.cssStyle.position="relative",o){n.rotation=Q.intAttr(o,"rot",0)/6e4;for(var l of Q.elements(o))switch(l.localName){case"ext":n.cssStyle.width=Q.lengthAttr(l,"cx",en.Emu),n.cssStyle.height=Q.lengthAttr(l,"cy",en.Emu);break;case"off":n.cssStyle.left=Q.lengthAttr(l,"x",en.Emu),n.cssStyle.top=Q.lengthAttr(l,"y",en.Emu);break}}return n}parseTable(e){var n={type:le.Table,children:[]};for(const r of Q.elements(e))switch(r.localName){case"tr":n.children.push(this.parseTableRow(r));break;case"tblGrid":n.columns=this.parseTableColumns(r);break;case"tblPr":this.parseTableProperties(r,n);break}return n}parseTableColumns(e){var n=[];for(const r of Q.elements(e))switch(r.localName){case"gridCol":n.push({width:Q.lengthAttr(r,"w")});break}return n}parseTableProperties(e,n){switch(n.cssStyle={},n.cellStyle={},this.parseDefaultProperties(e,n.cssStyle,n.cellStyle,r=>{switch(r.localName){case"tblStyle":n.styleName=Q.attr(r,"val");break;case"tblLook":n.className=gt.classNameOftblLook(r);break;case"tblpPr":this.parseTablePosition(r,n);break;case"tblStyleColBandSize":n.colBandSize=Q.intAttr(r,"val");break;case"tblStyleRowBandSize":n.rowBandSize=Q.intAttr(r,"val");break;case"hidden":n.cssStyle.display="none";break;default:return!1}return!0}),n.cssStyle["text-align"]){case"center":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto",n.cssStyle["margin-right"]="auto";break;case"right":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto";break}}parseTablePosition(e,n){var r=Q.lengthAttr(e,"topFromText"),i=Q.lengthAttr(e,"bottomFromText"),a=Q.lengthAttr(e,"rightFromText"),s=Q.lengthAttr(e,"leftFromText");n.cssStyle.float="left",n.cssStyle["margin-bottom"]=gt.addSize(n.cssStyle["margin-bottom"],i),n.cssStyle["margin-left"]=gt.addSize(n.cssStyle["margin-left"],s),n.cssStyle["margin-right"]=gt.addSize(n.cssStyle["margin-right"],a),n.cssStyle["margin-top"]=gt.addSize(n.cssStyle["margin-top"],r)}parseTableRow(e){var n={type:le.Row,children:[]};for(const r of Q.elements(e))switch(r.localName){case"tc":n.children.push(this.parseTableCell(r));break;case"trPr":case"tblPrEx":this.parseTableRowProperties(r,n);break}return n}parseTableRowProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;case"tblHeader":n.isHeader=Q.boolAttr(r,"val");break;case"gridBefore":n.gridBefore=Q.intAttr(r,"val");break;case"gridAfter":n.gridAfter=Q.intAttr(r,"val");break;default:return!1}return!0})}parseTableCell(e){var n={type:le.Cell,children:[]};for(const r of Q.elements(e))switch(r.localName){case"tbl":n.children.push(this.parseTable(r));break;case"p":n.children.push(this.parseParagraph(r));break;case"tcPr":this.parseTableCellProperties(r,n);break}return n}parseTableCellProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"gridSpan":n.span=Q.intAttr(r,"val",null);break;case"vMerge":n.verticalMerge=Q.attr(r,"val")??"continue";break;case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;default:return!1}return!0}),this.parseTableCellVerticalText(e,n)}parseTableCellVerticalText(e,n){const r={btLr:{writingMode:"vertical-rl",transform:"rotate(180deg)"},lrTb:{writingMode:"vertical-lr",transform:"none"},tbRl:{writingMode:"vertical-rl",transform:"none"}};for(const i of Q.elements(e))if(i.localName==="textDirection"){const a=Q.attr(i,"val"),s=r[a]||{writingMode:"horizontal-tb"};n.cssStyle["writing-mode"]=s.writingMode,n.cssStyle.transform=s.transform}}parseDefaultProperties(e,n=null,r=null,i=null){n=n||{};for(const a of Q.elements(e))if(!(i!=null&&i(a)))switch(a.localName){case"jc":n["text-align"]=gt.valueOfJc(a);break;case"textAlignment":n["vertical-align"]=gt.valueOfTextAlignment(a);break;case"color":n.color=_c.colorAttr(a,"val",null,Ev.color);break;case"sz":n["font-size"]=n["min-height"]=Q.lengthAttr(a,"val",en.FontSize);break;case"shd":n["background-color"]=_c.colorAttr(a,"fill",null,Ev.shd);break;case"highlight":n["background-color"]=_c.colorAttr(a,"val",null,Ev.highlight);break;case"vertAlign":break;case"position":n.verticalAlign=Q.lengthAttr(a,"val",en.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":n.width=gt.valueOfSize(a,"w");break;case"trHeight":this.parseTrHeight(a,n);break;case"strike":n["text-decoration"]=Q.boolAttr(a,"val",!0)?"line-through":"none";break;case"b":n["font-weight"]=Q.boolAttr(a,"val",!0)?"bold":"normal";break;case"i":n["font-style"]=Q.boolAttr(a,"val",!0)?"italic":"normal";break;case"caps":n["text-transform"]=Q.boolAttr(a,"val",!0)?"uppercase":"none";break;case"smallCaps":n["font-variant"]=Q.boolAttr(a,"val",!0)?"small-caps":"none";break;case"u":this.parseUnderline(a,n);break;case"ind":case"tblInd":this.parseIndentation(a,n);break;case"rFonts":this.parseFont(a,n);break;case"tblBorders":this.parseBorderProperties(a,r||n);break;case"tblCellSpacing":n["border-spacing"]=gt.valueOfMargin(a),n["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(a,n);break;case"bdr":n.border=gt.valueOfBorder(a);break;case"tcBorders":this.parseBorderProperties(a,n);break;case"vanish":Q.boolAttr(a,"val",!0)&&(n.display="none");break;case"kern":break;case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(a,r||n);break;case"tblLayout":n["table-layout"]=gt.valueOfTblLayout(a);break;case"vAlign":n["vertical-align"]=gt.valueOfTextAlignment(a);break;case"spacing":e.localName=="pPr"&&this.parseSpacing(a,n);break;case"wordWrap":Q.boolAttr(a,"val")&&(n["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":n.hyphens=Q.boolAttr(a,"val",!0)?"none":"auto";break;case"lang":n.$lang=Q.attr(a,"val");break;case"rtl":case"bidi":Q.boolAttr(a,"val",!0)&&(n.direction="rtl");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${e.localName}.${a.localName}`);break}return n}parseUnderline(e,n){var r=Q.attr(e,"val");if(r!=null){switch(r){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":n["text-decoration"]="underline dashed";break;case"dotted":case"dottedHeavy":n["text-decoration"]="underline dotted";break;case"double":n["text-decoration"]="underline double";break;case"single":case"thick":n["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":n["text-decoration"]="underline wavy";break;case"words":n["text-decoration"]="underline";break;case"none":n["text-decoration"]="none";break}var i=_c.colorAttr(e,"color");i&&(n["text-decoration-color"]=i)}}parseFont(e,n){var r=Q.attr(e,"ascii"),i=gt.themeValue(e,"asciiTheme"),a=Q.attr(e,"eastAsia"),s=[r,i,a].filter(o=>o).map(o=>pk(o));s.length>0&&(n["font-family"]=[...new Set(s)].join(", "))}parseIndentation(e,n){var r=Q.lengthAttr(e,"firstLine"),i=Q.lengthAttr(e,"hanging"),a=Q.lengthAttr(e,"left"),s=Q.lengthAttr(e,"start"),o=Q.lengthAttr(e,"right"),l=Q.lengthAttr(e,"end");r&&(n["text-indent"]=r),i&&(n["text-indent"]=`-${i}`),(a||s)&&(n["margin-inline-start"]=a||s),(o||l)&&(n["margin-inline-end"]=o||l)}parseSpacing(e,n){var r=Q.lengthAttr(e,"before"),i=Q.lengthAttr(e,"after"),a=Q.intAttr(e,"line",null),s=Q.attr(e,"lineRule");if(r&&(n["margin-top"]=r),i&&(n["margin-bottom"]=i),a!==null)switch(s){case"auto":n["line-height"]=`${(a/240).toFixed(2)}`;break;case"atLeast":n["line-height"]=`calc(100% + ${a/20}pt)`;break;default:n["line-height"]=n["min-height"]=`${a/20}pt`;break}}parseMarginProperties(e,n){for(const r of Q.elements(e))switch(r.localName){case"left":n["padding-left"]=gt.valueOfMargin(r);break;case"right":n["padding-right"]=gt.valueOfMargin(r);break;case"top":n["padding-top"]=gt.valueOfMargin(r);break;case"bottom":n["padding-bottom"]=gt.valueOfMargin(r);break}}parseTrHeight(e,n){switch(Q.attr(e,"hRule")){case"exact":n.height=Q.lengthAttr(e,"val");break;case"atLeast":default:n.height=Q.lengthAttr(e,"val");break}}parseBorderProperties(e,n){for(const r of Q.elements(e))switch(r.localName){case"start":case"left":n["border-left"]=gt.valueOfBorder(r);break;case"end":case"right":n["border-right"]=gt.valueOfBorder(r);break;case"top":n["border-top"]=gt.valueOfBorder(r);break;case"bottom":n["border-bottom"]=gt.valueOfBorder(r);break}}}const eY=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class _c{static colorAttr(e,n,r=null,i="black"){var a=Q.attr(e,n);if(a)return a=="auto"?i:eY.includes(a)?a:`#${a}`;var s=Q.attr(e,"themeColor");return s?`var(--docx-${s}-color)`:r}}class gt{static themeValue(e,n){var r=Q.attr(e,n);return r?`var(--docx-${r}-font)`:null}static valueOfSize(e,n){var r=en.Dxa;switch(Q.attr(e,"type")){case"dxa":break;case"pct":r=en.Percent;break;case"auto":return"auto"}return Q.lengthAttr(e,n,r)}static valueOfMargin(e){return Q.lengthAttr(e,"w")}static valueOfBorder(e){var n=gt.parseBorderType(Q.attr(e,"val"));if(n=="none")return"none";var r=_c.colorAttr(e,"color"),i=Q.lengthAttr(e,"sz",en.Border);return`${i} ${n} ${r=="auto"?Ev.borderColor:r}`}static parseBorderType(e){switch(e){case"single":return"solid";case"dashDotStroked":return"solid";case"dashed":return"dashed";case"dashSmallGap":return"dashed";case"dotDash":return"dotted";case"dotDotDash":return"dotted";case"dotted":return"dotted";case"double":return"double";case"doubleWave":return"double";case"inset":return"inset";case"nil":return"none";case"none":return"none";case"outset":return"outset";case"thick":return"solid";case"thickThinLargeGap":return"solid";case"thickThinMediumGap":return"solid";case"thickThinSmallGap":return"solid";case"thinThickLargeGap":return"solid";case"thinThickMediumGap":return"solid";case"thinThickSmallGap":return"solid";case"thinThickThinLargeGap":return"solid";case"thinThickThinMediumGap":return"solid";case"thinThickThinSmallGap":return"solid";case"threeDEmboss":return"solid";case"threeDEngrave":return"solid";case"triple":return"double";case"wave":return"solid"}return"solid"}static valueOfTblLayout(e){var n=Q.attr(e,"val");return n=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(e){const n=Q.attr(e,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((i,a)=>n[a]=="1").join(" ")}static valueOfJc(e){var n=Q.attr(e,"val");switch(n){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return n}static valueOfVertAlign(e,n=!1){var r=Q.attr(e,"val");switch(r){case"subscript":return"sub";case"superscript":return n?"sup":"super"}return n?null:r}static valueOfTextAlignment(e){var n=Q.attr(e,"val");switch(n){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return n}static addSize(e,n){return e==null?n:n==null?e:`calc(${e} + ${n})`}static classNameOftblLook(e){const n=Q.hexAttr(e,"val",0);let r="";return(Q.boolAttr(e,"firstRow")||n&32)&&(r+=" first-row"),(Q.boolAttr(e,"lastRow")||n&64)&&(r+=" last-row"),(Q.boolAttr(e,"firstColumn")||n&128)&&(r+=" first-col"),(Q.boolAttr(e,"lastColumn")||n&256)&&(r+=" last-col"),(Q.boolAttr(e,"noHBand")||n&512)&&(r+=" no-hband"),(Q.boolAttr(e,"noVBand")||n&1024)&&(r+=" no-vband"),r.trim()}}const A2={pos:0,leader:"none",style:"left"},tY=50;function nY(t=document.body){const e=document.createElement("div");e.style.width="100pt",t.appendChild(e);const n=100/e.offsetWidth;return t.removeChild(e),n}function rY(t,e,n,r=72/96){const i=t.closest("p"),a=t.getBoundingClientRect(),s=i.getBoundingClientRect(),o=getComputedStyle(i),l=(e==null?void 0:e.length)>0?e.map(b=>({pos:E2(b.position),leader:b.leader,style:b.style})).sort((b,x)=>b.pos-x.pos):[A2],u=l[l.length-1],c=s.width*r,d=E2(n);let h=u.pos+d;if(h<c)for(;h<c&&l.length<tY;h+=d)l.push({...A2,pos:h});const f=parseFloat(o.marginLeft),m=s.left+f,p=(a.left-m)*r,v=l.find(b=>b.style!="clear"&&b.pos>p);if(v==null)return;let y=1;if(v.style=="right"||v.style=="center"){const b=Array.from(i.querySelectorAll(`.${t.className}`)),x=b.indexOf(t)+1,k=document.createRange();k.setStart(t,1),x<b.length?k.setEndBefore(b[x]):k.setEndAfter(i);const S=v.style=="center"?.5:1,w=k.getBoundingClientRect(),A=w.left+S*w.width-(s.left-f);y=v.pos-A*r}else y=v.pos-p;switch(t.innerHTML="&nbsp;",t.style.textDecoration="inherit",t.style.wordSpacing=`${y.toFixed(0)}pt`,v.leader){case"dot":case"middleDot":t.style.textDecoration="underline",t.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":t.style.textDecoration="underline";break}}function E2(t){return parseFloat(t)}const Ge={svg:"http://www.w3.org/2000/svg",mathML:"http://www.w3.org/1998/Math/MathML"};class iY{constructor(e){this.htmlDocument=e,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.commentMap={},this.tasks=[],this.postRenderTasks=[]}async render(e,n,r=null,i){var s;this.document=e,this.options=i,this.className=i.className,this.rootSelector=i.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,this.tasks=[],this.options.renderComments&&globalThis.Highlight&&(this.commentHighlight=new Highlight),r=r||n,C2(r),C2(n),r.appendChild(this.createComment("docxjs library predefined styles")),r.appendChild(this.renderDefaultStyle()),e.themePart&&(r.appendChild(this.createComment("docxjs document theme values")),this.renderTheme(e.themePart,r)),e.stylesPart!=null&&(this.styleMap=this.processStyles(e.stylesPart.styles),r.appendChild(this.createComment("docxjs document styles")),r.appendChild(this.renderStyles(e.stylesPart.styles))),e.numberingPart&&(this.prodessNumberings(e.numberingPart.domNumberings),r.appendChild(this.createComment("docxjs document numbering styles")),r.appendChild(this.renderNumbering(e.numberingPart.domNumberings,r))),e.footnotesPart&&(this.footnoteMap=ao(e.footnotesPart.notes,o=>o.id)),e.endnotesPart&&(this.endnoteMap=ao(e.endnotesPart.notes,o=>o.id)),e.settingsPart&&(this.defaultTabSize=(s=e.settingsPart.settings)==null?void 0:s.defaultTabStop),!i.ignoreFonts&&e.fontTablePart&&this.renderFontTable(e.fontTablePart,r);var a=this.renderSections(e.documentPart.body);this.options.inWrapper?n.appendChild(this.renderWrapper(a)):g1(n,a),this.commentHighlight&&i.renderComments&&CSS.highlights.set(`${this.className}-comments`,this.commentHighlight),this.postRenderTasks.forEach(o=>o()),await Promise.allSettled(this.tasks),this.refreshTabStops()}renderTheme(e,n){var o,l;const r={},i=(o=e.theme)==null?void 0:o.fontScheme;i&&(i.majorFont&&(r["--docx-majorHAnsi-font"]=i.majorFont.latinTypeface),i.minorFont&&(r["--docx-minorHAnsi-font"]=i.minorFont.latinTypeface));const a=(l=e.theme)==null?void 0:l.colorScheme;if(a)for(let[u,c]of Object.entries(a.colors))r[`--docx-${u}-color`]=`#${c}`;const s=this.styleToString(`.${this.className}`,r);n.appendChild(this.createStyleElement(s))}renderFontTable(e,n){for(let r of e.fonts)for(let i of r.embedFontRefs)this.tasks.push(this.document.loadFont(i.id,i.key).then(a=>{const s={"font-family":pk(r.name),src:`url(${a})`};(i.type=="bold"||i.type=="boldItalic")&&(s["font-weight"]="bold"),(i.type=="italic"||i.type=="boldItalic")&&(s["font-style"]="italic");const o=this.styleToString("@font-face",s);n.appendChild(this.createComment(`docxjs ${r.name} font`)),n.appendChild(this.createStyleElement(o))}))}processStyleName(e){return e?`${this.className}_${Uq(e)}`:this.className}processStyles(e){const n=ao(e.filter(i=>i.id!=null),i=>i.id);for(const i of e.filter(a=>a.basedOn)){var r=n[i.basedOn];if(r){i.paragraphProps=R0(i.paragraphProps,r.paragraphProps),i.runProps=R0(i.runProps,r.runProps);for(const a of r.styles){const s=i.styles.find(o=>o.target==a.target);s?this.copyStyleProperties(a.values,s.values):i.styles.push({...a,values:{...a.values}})}}else this.options.debug&&console.warn(`Can't find base style ${i.basedOn}`)}for(let i of e)i.cssName=this.processStyleName(i.id);return n}prodessNumberings(e){var n;for(let r of e.filter(i=>i.pStyleName)){const i=this.findStyle(r.pStyleName);(n=i==null?void 0:i.paragraphProps)!=null&&n.numbering&&(i.paragraphProps.numbering.level=r.level)}}processElement(e){if(e.children)for(var n of e.children)n.parent=e,n.type==le.Table?this.processTable(n):this.processElement(n)}processTable(e){for(var n of e.children)for(var r of n.children)r.cssStyle=this.copyStyleProperties(e.cellStyle,r.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(r)}copyStyleProperties(e,n,r=null){if(!e)return n;n==null&&(n={}),r==null&&(r=Object.getOwnPropertyNames(e));for(var i of r)e.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=e[i]);return n}createPageElement(e,n){var r=this.createElement("section",{className:e});return n&&(n.pageMargins&&(r.style.paddingLeft=n.pageMargins.left,r.style.paddingRight=n.pageMargins.right,r.style.paddingTop=n.pageMargins.top,r.style.paddingBottom=n.pageMargins.bottom),n.pageSize&&(this.options.ignoreWidth||(r.style.width=n.pageSize.width),this.options.ignoreHeight||(r.style.minHeight=n.pageSize.height))),r}createSectionContent(e){var n=this.createElement("article");return e.columns&&e.columns.numberOfColumns&&(n.style.columnCount=`${e.columns.numberOfColumns}`,n.style.columnGap=e.columns.space,e.columns.separator&&(n.style.columnRule="1px solid black")),n}renderSections(e){const n=[];this.processElement(e);const r=this.splitBySection(e.children,e.props),i=this.groupByPageBreaks(r);let a=null;for(let o=0,l=i.length;o<l;o++){this.currentFootnoteIds=[];let c=i[o][0].sectProps;const d=this.createPageElement(this.className,c);this.renderStyleValues(e.cssStyle,d),this.options.renderHeaders&&this.renderHeaderFooter(c.headerRefs,c,n.length,a!=c,d);for(const h of i[o]){var s=this.createSectionContent(h.sectProps);this.renderElements(h.elements,s),d.appendChild(s),c=h.sectProps}this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,d),this.options.renderEndnotes&&o==l-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,d),this.options.renderFooters&&this.renderHeaderFooter(c.footerRefs,c,n.length,a!=c,d),n.push(d),a=c}return n}renderHeaderFooter(e,n,r,i,a){if(e){var s=(n.titlePage&&i?e.find(l=>l.type=="first"):null)??(r%2==1?e.find(l=>l.type=="even"):null)??e.find(l=>l.type=="default"),o=s&&this.document.findPartByRelId(s.id,this.document.documentPart);if(o){this.currentPart=o,this.usedHederFooterParts.includes(o.path)||(this.processElement(o.rootElement),this.usedHederFooterParts.push(o.path));const[l]=this.renderElements([o.rootElement],a);n!=null&&n.pageMargins&&(o.rootElement.type===le.Header?(l.style.marginTop=`calc(${n.pageMargins.header} - ${n.pageMargins.top})`,l.style.minHeight=`calc(${n.pageMargins.top} - ${n.pageMargins.header})`):o.rootElement.type===le.Footer&&(l.style.marginBottom=`calc(${n.pageMargins.footer} - ${n.pageMargins.bottom})`,l.style.minHeight=`calc(${n.pageMargins.bottom} - ${n.pageMargins.footer})`)),this.currentPart=null}}}isPageBreakElement(e){return e.type!=le.Break?!1:e.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:e.break=="page"}isPageBreakSection(e,n){var r,i,a,s,o,l;return!e||!n?!1:((r=e.pageSize)==null?void 0:r.orientation)!=((i=n.pageSize)==null?void 0:i.orientation)||((a=e.pageSize)==null?void 0:a.width)!=((s=n.pageSize)==null?void 0:s.width)||((o=e.pageSize)==null?void 0:o.height)!=((l=n.pageSize)==null?void 0:l.height)}splitBySection(e,n){var d;var r={sectProps:null,elements:[],pageBreak:!1},i=[r];for(let h of e){if(h.type==le.Paragraph){const f=this.findStyle(h.styleName);(d=f==null?void 0:f.paragraphProps)!=null&&d.pageBreakBefore&&(r.sectProps=a,r.pageBreak=!0,r={sectProps:null,elements:[],pageBreak:!1},i.push(r))}if(r.elements.push(h),h.type==le.Paragraph){const f=h;var a=f.sectionProps,s=-1,o=-1;if(this.options.breakPages&&f.children&&(s=f.children.findIndex(m=>{var p;return o=((p=m.children)==null?void 0:p.findIndex(this.isPageBreakElement.bind(this)))??-1,o!=-1})),(a||s!=-1)&&(r.sectProps=a,r.pageBreak=s!=-1,r={sectProps:null,elements:[],pageBreak:!1},i.push(r)),s!=-1){let m=f.children[s],p=o<m.children.length-1;if(s<f.children.length-1||p){var l=h.children,u={...h,children:l.slice(s)};if(h.children=l.slice(0,s),r.elements.push(u),p){let v=m.children,y={...m,children:v.slice(0,o)};h.children.push(y),m.children=v.slice(o)}}}}}let c=null;for(let h=i.length-1;h>=0;h--)i[h].sectProps==null?i[h].sectProps=c??n:c=i[h].sectProps;return i}groupByPageBreaks(e){let n=[],r;const i=[n];for(let a of e)n.push(a),(this.options.ignoreLastRenderedPageBreak||a.pageBreak||this.isPageBreakSection(r,a.sectProps))&&i.push(n=[]),r=a.sectProps;return i.filter(a=>a.length>0)}renderWrapper(e){return this.createElement("div",{className:`${this.className}-wrapper`},e)}renderDefaultStyle(){var e=this.className,n=`
.${e}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${e}-wrapper>section.${e} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;this.options.hideWrapperOnPrint&&(n=`@media not print { ${n} }`);var r=`${n}
.${e} { color: black; hyphens: auto; text-underline-position: from-font; }
section.${e} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${e}>article { margin-bottom: auto; z-index: 1; }
section.${e}>footer { z-index: 1; }
.${e} table { border-collapse: collapse; }
.${e} table td, .${e} table th { vertical-align: top; }
.${e} p { margin: 0pt; min-height: 1em; }
.${e} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${e} a { color: inherit; text-decoration: inherit; }
.${e} svg { fill: transparent; }
`;return this.options.renderComments&&(r+=`
.${e}-comment-ref { cursor: default; }
.${e}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }
.${e}-comment-ref:hover~.${e}-comment-popover { display: block; }
.${e}-comment-author,.${e}-comment-date { font-size: 0.875rem; color: #888; }
`),this.createStyleElement(r)}renderNumbering(e,n){var r="",i=[];for(var a of e){var s=`p.${this.numberingClass(a.id,a.level)}`,o="none";if(a.bullet){let l=`--${this.className}-${a.bullet.src}`.toLowerCase();r+=this.styleToString(`${s}:before`,{content:"' '",display:"inline-block",background:`var(${l})`},a.bullet.style),this.tasks.push(this.document.loadNumberingImage(a.bullet.src).then(u=>{var c=`${this.rootSelector} { ${l}: url(${u}) }`;n.appendChild(this.createStyleElement(c))}))}else if(a.levelText){let l=this.numberingCounter(a.id,a.level);const u=l+" "+(a.start-1);a.level>0&&(r+=this.styleToString(`p.${this.numberingClass(a.id,a.level-1)}`,{"counter-set":u})),i.push(u),r+=this.styleToString(`${s}:before`,{content:this.levelTextToContent(a.levelText,a.suff,a.id,this.numFormatToCssValue(a.format)),"counter-increment":l,...a.rStyle})}else o=this.numFormatToCssValue(a.format);r+=this.styleToString(s,{display:"list-item","list-style-position":"inside","list-style-type":o,...a.pStyle})}return i.length>0&&(r+=this.styleToString(this.rootSelector,{"counter-reset":i.join(" ")})),this.createStyleElement(r)}renderStyles(e){var n="";const r=this.styleMap,i=ao(e.filter(l=>l.isDefault),l=>l.target);for(const l of e){var a=l.styles;if(l.linked){var s=l.linked&&r[l.linked];s?a=a.concat(s.styles):this.options.debug&&console.warn(`Can't find linked style ${l.linked}`)}for(const u of a){var o=`${l.target??""}.${l.cssName}`;l.target!=u.target&&(o+=` ${u.target}`),i[l.target]==l&&(o=`.${this.className} ${l.target}, `+o),n+=this.styleToString(o,u.values)}}return this.createStyleElement(n)}renderNotes(e,n,r){var i=e.map(s=>n[s]).filter(s=>s);if(i.length>0){var a=this.createElement("ol",null,this.renderElements(i));r.appendChild(a)}}renderElement(e){switch(e.type){case le.Paragraph:return this.renderParagraph(e);case le.BookmarkStart:return this.renderBookmarkStart(e);case le.BookmarkEnd:return null;case le.Run:return this.renderRun(e);case le.Table:return this.renderTable(e);case le.Row:return this.renderTableRow(e);case le.Cell:return this.renderTableCell(e);case le.Hyperlink:return this.renderHyperlink(e);case le.SmartTag:return this.renderSmartTag(e);case le.Drawing:return this.renderDrawing(e);case le.Image:return this.renderImage(e);case le.Text:return this.renderText(e);case le.Text:return this.renderText(e);case le.DeletedText:return this.renderDeletedText(e);case le.Tab:return this.renderTab(e);case le.Symbol:return this.renderSymbol(e);case le.Break:return this.renderBreak(e);case le.Footer:return this.renderContainer(e,"footer");case le.Header:return this.renderContainer(e,"header");case le.Footnote:case le.Endnote:return this.renderContainer(e,"li");case le.FootnoteReference:return this.renderFootnoteReference(e);case le.EndnoteReference:return this.renderEndnoteReference(e);case le.NoBreakHyphen:return this.createElement("wbr");case le.VmlPicture:return this.renderVmlPicture(e);case le.VmlElement:return this.renderVmlElement(e);case le.MmlMath:return this.renderContainerNS(e,Ge.mathML,"math",{xmlns:Ge.mathML});case le.MmlMathParagraph:return this.renderContainer(e,"span");case le.MmlFraction:return this.renderContainerNS(e,Ge.mathML,"mfrac");case le.MmlBase:return this.renderContainerNS(e,Ge.mathML,e.parent.type==le.MmlMatrixRow?"mtd":"mrow");case le.MmlNumerator:case le.MmlDenominator:case le.MmlFunction:case le.MmlLimit:case le.MmlBox:return this.renderContainerNS(e,Ge.mathML,"mrow");case le.MmlGroupChar:return this.renderMmlGroupChar(e);case le.MmlLimitLower:return this.renderContainerNS(e,Ge.mathML,"munder");case le.MmlMatrix:return this.renderContainerNS(e,Ge.mathML,"mtable");case le.MmlMatrixRow:return this.renderContainerNS(e,Ge.mathML,"mtr");case le.MmlRadical:return this.renderMmlRadical(e);case le.MmlSuperscript:return this.renderContainerNS(e,Ge.mathML,"msup");case le.MmlSubscript:return this.renderContainerNS(e,Ge.mathML,"msub");case le.MmlDegree:case le.MmlSuperArgument:case le.MmlSubArgument:return this.renderContainerNS(e,Ge.mathML,"mn");case le.MmlFunctionName:return this.renderContainerNS(e,Ge.mathML,"ms");case le.MmlDelimiter:return this.renderMmlDelimiter(e);case le.MmlRun:return this.renderMmlRun(e);case le.MmlNary:return this.renderMmlNary(e);case le.MmlPreSubSuper:return this.renderMmlPreSubSuper(e);case le.MmlBar:return this.renderMmlBar(e);case le.MmlEquationArray:return this.renderMllList(e);case le.Inserted:return this.renderInserted(e);case le.Deleted:return this.renderDeleted(e);case le.CommentRangeStart:return this.renderCommentRangeStart(e);case le.CommentRangeEnd:return this.renderCommentRangeEnd(e);case le.CommentReference:return this.renderCommentReference(e);case le.AltChunk:return this.renderAltChunk(e)}return null}renderElements(e,n){if(e==null)return null;var r=e.flatMap(i=>this.renderElement(i)).filter(i=>i!=null);return n&&g1(n,r),r}renderContainer(e,n,r){return this.createElement(n,r,this.renderElements(e.children))}renderContainerNS(e,n,r,i){return this.createElementNS(n,r,i,this.renderElements(e.children))}renderParagraph(e){var a,s;var n=this.renderContainer(e,"p");const r=this.findStyle(e.styleName);e.tabs??(e.tabs=(a=r==null?void 0:r.paragraphProps)==null?void 0:a.tabs),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),this.renderCommonProperties(n.style,e);const i=e.numbering??((s=r==null?void 0:r.paragraphProps)==null?void 0:s.numbering);return i&&n.classList.add(this.numberingClass(i.id,i.level)),n}renderRunProperties(e,n){this.renderCommonProperties(e,n)}renderCommonProperties(e,n){n!=null&&(n.color&&(e.color=n.color),n.fontSize&&(e["font-size"]=n.fontSize))}renderHyperlink(e){var n=this.renderContainer(e,"a");this.renderStyleValues(e.cssStyle,n);let r="";if(e.id){const i=this.document.documentPart.rels.find(a=>a.id==e.id&&a.targetMode==="External");r=(i==null?void 0:i.target)??r}return e.anchor&&(r+=`#${e.anchor}`),n.href=r,n}renderSmartTag(e){return this.renderContainer(e,"span")}renderCommentRangeStart(e){var i;if(!this.options.renderComments)return null;const n=new Range;(i=this.commentHighlight)==null||i.add(n);const r=this.createComment(`start of comment #${e.id}`);return this.later(()=>n.setStart(r,0)),this.commentMap[e.id]=n,r}renderCommentRangeEnd(e){if(!this.options.renderComments)return null;const n=this.commentMap[e.id],r=this.createComment(`end of comment #${e.id}`);return this.later(()=>n==null?void 0:n.setEnd(r,0)),r}renderCommentReference(e){var s;if(!this.options.renderComments)return null;var n=(s=this.document.commentsPart)==null?void 0:s.commentMap[e.id];if(!n)return null;const r=new DocumentFragment,i=this.createElement("span",{className:`${this.className}-comment-ref`},[""]),a=this.createElement("div",{className:`${this.className}-comment-popover`});return this.renderCommentContent(n,a),r.appendChild(this.createComment(`comment #${n.id} by ${n.author} on ${n.date}`)),r.appendChild(i),r.appendChild(a),r}renderAltChunk(e){if(!this.options.renderAltChunks)return null;var n=this.createElement("iframe");return this.tasks.push(this.document.loadAltChunk(e.id,this.currentPart).then(r=>{n.srcdoc=r})),n}renderCommentContent(e,n){n.appendChild(this.createElement("div",{className:`${this.className}-comment-author`},[e.author])),n.appendChild(this.createElement("div",{className:`${this.className}-comment-date`},[new Date(e.date).toLocaleString()])),this.renderElements(e.children,n)}renderDrawing(e){var n=this.renderContainer(e,"div");return n.style.display="inline-block",n.style.position="relative",n.style.textIndent="0px",this.renderStyleValues(e.cssStyle,n),n}renderImage(e){var l;let n=this.createElement("img"),r=(l=e.cssStyle)==null?void 0:l.transform;if(this.renderStyleValues(e.cssStyle,n),e.srcRect&&e.srcRect.some(u=>u!=0)){var[i,a,s,o]=e.srcRect;r=`scale(${1/(1-i-s)}, ${1/(1-a-o)})`,n.style["clip-path"]=`rect(${(100*a).toFixed(2)}% ${(100*(1-s)).toFixed(2)}% ${(100*(1-o)).toFixed(2)}% ${(100*i).toFixed(2)}%)`}return e.rotation&&(r=`rotate(${e.rotation}deg) ${r??""}`),n.style.transform=r==null?void 0:r.trim(),this.document&&this.tasks.push(this.document.loadDocumentImage(e.src,this.currentPart).then(u=>{n.src=u})),n}renderText(e){return this.htmlDocument.createTextNode(e.text)}renderDeletedText(e){return this.options.renderChanges?this.renderText(e):null}renderBreak(e){return e.break=="textWrapping"?this.createElement("br"):null}renderInserted(e){return this.options.renderChanges?this.renderContainer(e,"ins"):this.renderElements(e.children)}renderDeleted(e){return this.options.renderChanges?this.renderContainer(e,"del"):null}renderSymbol(e){var n=this.createElement("span");return n.style.fontFamily=e.font,n.innerHTML=`&#x${e.char};`,n}renderFootnoteReference(e){var n=this.createElement("sup");return this.currentFootnoteIds.push(e.id),n.textContent=`${this.currentFootnoteIds.length}`,n}renderEndnoteReference(e){var n=this.createElement("sup");return this.currentEndnoteIds.push(e.id),n.textContent=`${this.currentEndnoteIds.length}`,n}renderTab(e){var i;var n=this.createElement("span");if(n.innerHTML="&emsp;",this.options.experimental){n.className=this.tabStopClass();var r=(i=aY(e,le.Paragraph))==null?void 0:i.tabs;this.currentTabs.push({stops:r,span:n})}return n}renderBookmarkStart(e){return this.createElement("span",{id:e.name})}renderRun(e){if(e.fieldRun)return null;const n=this.createElement("span");if(e.id&&(n.id=e.id),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.verticalAlign){const r=this.createElement(e.verticalAlign);this.renderElements(e.children,r),n.appendChild(r)}else this.renderElements(e.children,n);return n}renderTable(e){let n=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},e.columns&&n.appendChild(this.renderTableColumns(e.columns)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),n}renderTableColumns(e){let n=this.createElement("colgroup");for(let r of e){let i=this.createElement("col");r.width&&(i.style.width=r.width),n.appendChild(i)}return n}renderTableRow(e){let n=this.createElement("tr");return this.currentCellPosition.col=0,e.gridBefore&&n.appendChild(this.renderTableCellPlaceholder(e.gridBefore)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),e.gridAfter&&n.appendChild(this.renderTableCellPlaceholder(e.gridAfter)),this.currentCellPosition.row++,n}renderTableCellPlaceholder(e){const n=this.createElement("td",{colSpan:e});return n.style.border="none",n}renderTableCell(e){let n=this.renderContainer(e,"td");const r=this.currentCellPosition.col;return e.verticalMerge?e.verticalMerge=="restart"?(this.currentVerticalMerge[r]=n,n.rowSpan=1):this.currentVerticalMerge[r]&&(this.currentVerticalMerge[r].rowSpan+=1,n.style.display="none"):this.currentVerticalMerge[r]=null,this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.span&&(n.colSpan=e.span),this.currentCellPosition.col+=n.colSpan,n}renderVmlPicture(e){return this.renderContainer(e,"div")}renderVmlElement(e){var i,a;var n=this.createSvgElement("svg");n.setAttribute("style",e.cssStyleText);const r=this.renderVmlChildElement(e);return(i=e.imageHref)!=null&&i.id&&this.tasks.push((a=this.document)==null?void 0:a.loadDocumentImage(e.imageHref.id,this.currentPart).then(s=>r.setAttribute("href",s))),n.appendChild(r),requestAnimationFrame(()=>{const s=n.firstElementChild.getBBox();n.setAttribute("width",`${Math.ceil(s.x+s.width)}`),n.setAttribute("height",`${Math.ceil(s.y+s.height)}`)}),n}renderVmlChildElement(e){const n=this.createSvgElement(e.tagName);Object.entries(e.attrs).forEach(([r,i])=>n.setAttribute(r,i));for(let r of e.children)r.type==le.VmlElement?n.appendChild(this.renderVmlChildElement(r)):n.appendChild(...wf(this.renderElement(r)));return n}renderMmlRadical(e){var i;const n=e.children.find(a=>a.type==le.MmlBase);if((i=e.props)!=null&&i.hideDegree)return this.createElementNS(Ge.mathML,"msqrt",null,this.renderElements([n]));const r=e.children.find(a=>a.type==le.MmlDegree);return this.createElementNS(Ge.mathML,"mroot",null,this.renderElements([n,r]))}renderMmlDelimiter(e){const n=[];return n.push(this.createElementNS(Ge.mathML,"mo",null,[e.props.beginChar??"("])),n.push(...this.renderElements(e.children)),n.push(this.createElementNS(Ge.mathML,"mo",null,[e.props.endChar??")"])),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlNary(e){var u;const n=[],r=ao(e.children,c=>c.type),i=r[le.MmlSuperArgument],a=r[le.MmlSubArgument],s=i?this.createElementNS(Ge.mathML,"mo",null,wf(this.renderElement(i))):null,o=a?this.createElementNS(Ge.mathML,"mo",null,wf(this.renderElement(a))):null,l=this.createElementNS(Ge.mathML,"mo",null,[((u=e.props)==null?void 0:u.char)??""]);return s||o?n.push(this.createElementNS(Ge.mathML,"munderover",null,[l,o,s])):s?n.push(this.createElementNS(Ge.mathML,"mover",null,[l,s])):o?n.push(this.createElementNS(Ge.mathML,"munder",null,[l,o])):n.push(l),n.push(...this.renderElements(r[le.MmlBase].children)),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlPreSubSuper(e){const n=[],r=ao(e.children,u=>u.type),i=r[le.MmlSuperArgument],a=r[le.MmlSubArgument],s=i?this.createElementNS(Ge.mathML,"mo",null,wf(this.renderElement(i))):null,o=a?this.createElementNS(Ge.mathML,"mo",null,wf(this.renderElement(a))):null,l=this.createElementNS(Ge.mathML,"mo",null);return n.push(this.createElementNS(Ge.mathML,"msubsup",null,[l,o,s])),n.push(...this.renderElements(r[le.MmlBase].children)),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlGroupChar(e){const n=e.props.verticalJustification==="bot"?"mover":"munder",r=this.renderContainerNS(e,Ge.mathML,n);return e.props.char&&r.appendChild(this.createElementNS(Ge.mathML,"mo",null,[e.props.char])),r}renderMmlBar(e){const n=this.renderContainerNS(e,Ge.mathML,"mrow");switch(e.props.position){case"top":n.style.textDecoration="overline";break;case"bottom":n.style.textDecoration="underline";break}return n}renderMmlRun(e){const n=this.createElementNS(Ge.mathML,"ms",null,this.renderElements(e.children));return this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),n}renderMllList(e){const n=this.createElementNS(Ge.mathML,"mtable");this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n);for(let r of this.renderElements(e.children))n.appendChild(this.createElementNS(Ge.mathML,"mtr",null,[this.createElementNS(Ge.mathML,"mtd",null,[r])]));return n}renderStyleValues(e,n){for(let r in e)r.startsWith("$")?n.setAttribute(r.slice(1),e[r]):n.style[r]=e[r]}renderClass(e,n){e.className&&(n.className=e.className),e.styleName&&n.classList.add(this.processStyleName(e.styleName))}findStyle(e){var n;return e&&((n=this.styleMap)==null?void 0:n[e])}numberingClass(e,n){return`${this.className}-num-${e}-${n}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(e,n,r=null){let i=`${e} {\r
`;for(const a in n)a.startsWith("$")||(i+=`  ${a}: ${n[a]};\r
`);return r&&(i+=r),i+`}\r
`}numberingCounter(e,n){return`${this.className}-num-${e}-${n}`}levelTextToContent(e,n,r,i){const a={tab:"\\9",space:"\\a0"};var s=e.replace(/%\d*/g,o=>{let l=parseInt(o.substring(1),10)-1;return`"counter(${this.numberingCounter(r,l)}, ${i})"`});return`"${s}${a[n]??""}"`}numFormatToCssValue(e){var n={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"};return n[e]??e}refreshTabStops(){this.options.experimental&&setTimeout(()=>{const e=nY();for(let n of this.currentTabs)rY(n.span,n.stops,this.defaultTabSize,e)},500)}createElementNS(e,n,r,i){var a=e?this.htmlDocument.createElementNS(e,n):this.htmlDocument.createElement(n);return Object.assign(a,r),i&&g1(a,i),a}createElement(e,n,r){return this.createElementNS(void 0,e,n,r)}createSvgElement(e,n,r){return this.createElementNS(Ge.svg,e,n,r)}createStyleElement(e){return this.createElement("style",{innerHTML:e})}createComment(e){return this.htmlDocument.createComment(e)}later(e){this.postRenderTasks.push(e)}}function C2(t){t.innerHTML=""}function g1(t,e){e.forEach(n=>t.appendChild(Wq(n)?document.createTextNode(n):n))}function aY(t,e){for(var n=t.parent;n!=null&&n.type!=e;)n=n.parent;return n}const X$={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,hideWrapperOnPrint:!1,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,renderChanges:!1,renderComments:!1,renderAltChunks:!0};function sY(t,e){const n={...X$,...e};return MC.load(t,new JX(n),n)}async function oY(t,e,n,r){const i={...X$,...r};return await new iY(window.document).render(t,e,n,i)}async function lY(t,e,n,r){const i=await sY(t,r);return await oY(i,e,n,r),i}function uY(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}const y1=25,v1=400,By=50,cY=[80,100,125];function dY({contentBase64:t,fileId:e,size:n}){const r=N.useRef(null),i=N.useRef(null),a=N.useRef(null),[s,o]=N.useState(!0),[l,u]=N.useState(null),[c,d]=N.useState(100),[h,f]=N.useState(""),[m,p]=N.useState(!1),[v,y]=N.useState(0),[b,x]=N.useState(0),k=m&&b>0&&v>0?b/v:c/100,S=N.useCallback(async()=>{var O;if(!(!r.current||!i.current||!t)){o(!0),u(null),r.current.innerHTML="",i.current.innerHTML="";try{const I=uY(t);if(await lY(I,r.current,i.current,{className:"docx",breakPages:!0,inWrapper:!0,ignoreLastRenderedPageBreak:!1}),o(!1),(O=r.current)!=null&&O.firstElementChild){const T=r.current.firstElementChild.offsetWidth;y(T)}}catch(I){o(!1),u(I instanceof Error?I.message:"Failed to render document")}}},[t]);N.useEffect(()=>{S()},[S]),N.useEffect(()=>{if(!a.current)return;const O=new ResizeObserver(I=>{const T=I[0];T&&x(T.contentRect.width)});return O.observe(a.current),()=>O.disconnect()},[]);const w=()=>{d(O=>Math.min(v1,O+By)),p(!1)},A=()=>{d(O=>Math.max(y1,O-By)),p(!1)},E=()=>{const O=Number.parseInt(h,10);Number.isNaN(O)||d(Math.min(v1,Math.max(y1,O))),f("")},C=N.useCallback(O=>{O.ctrlKey&&(O.preventDefault(),d(I=>O.deltaY<0?Math.min(v1,I+By):Math.max(y1,I-By)),p(!1))},[]);return N.useEffect(()=>{const O=a.current;if(O)return O.addEventListener("wheel",C,{passive:!1}),()=>O.removeEventListener("wheel",C)},[C]),l?_.jsxs("div",{className:"flex h-full min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[_.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to render document."}),_.jsx("p",{className:"text-sm text-slate-500",children:l}),_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:S,children:"Try again"})]}):_.jsxs("div",{className:"flex h-full flex-col",ref:a,children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:A,"aria-label":"Zoom out",children:""}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:w,"aria-label":"Zoom in",children:"+"}),cY.map(O=>_.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${c===O?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{d(O),p(!1)},children:[O,"%"]},O)),_.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Custom:"}),_.jsx("input",{type:"text",inputMode:"numeric",placeholder:`${c}%`,value:h,onChange:O=>f(O.target.value.replace(/\D/g,"")),onBlur:E,onKeyDown:O=>{O.key==="Enter"&&E()},className:"w-14 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Custom zoom percentage"}),_.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"%"}),_.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${m?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>p(O=>!O),children:"Fit to width"}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:()=>window.print(),children:"Print"}),_.jsx("span",{className:"ml-2 text-xs text-slate-500",children:"Best-effort DOCX rendering in browser."})]}),_.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-6 dark:bg-slate-600",style:{minHeight:400},children:[s&&_.jsx("div",{className:"flex items-center justify-center py-16",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Rendering document"})}),_.jsxs("div",{className:"mx-auto origin-top-left bg-white shadow-lg dark:bg-slate-900",style:{transform:`scale(${k})`,transformOrigin:"top left",minHeight:s?0:800},children:[_.jsx("div",{ref:i,className:"docx-styles"}),_.jsx("div",{ref:r,className:"docx-body"})]})]})]})}const hY="modulepreload",fY=function(t){return"/"+t},P2={},zy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fY(l),l in P2)return;P2[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hY,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var vp={};vp.d=(t,e)=>{for(var n in e)vp.o(e,n)&&!vp.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};vp.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Le=globalThis.pdfjsLib={};vp.d(Le,{AbortException:()=>lc,AnnotationEditorLayer:()=>E_,AnnotationEditorParamsType:()=>je,AnnotationEditorType:()=>Fe,AnnotationEditorUIManager:()=>Xu,AnnotationLayer:()=>dZ,AnnotationMode:()=>uo,ColorPicker:()=>$0,DOMSVGFactory:()=>HC,DrawLayer:()=>O_,FeatureTest:()=>lr,GlobalWorkerOptions:()=>Es,ImageKind:()=>Cv,InvalidPDFException:()=>K$,MissingPDFException:()=>oc,OPS:()=>$i,OutputScale:()=>bk,PDFDataRangeTransport:()=>GF,PDFDateString:()=>LC,PDFWorker:()=>ad,PasswordResponses:()=>yY,PermissionFlag:()=>gY,PixelsPerInch:()=>rl,RenderingCancelledException:()=>RC,TextLayer:()=>qk,UnexpectedResponseException:()=>Mx,Util:()=>Te,VerbosityLevel:()=>Px,XfaLayer:()=>XF,build:()=>VK,createValidAbsoluteUrl:()=>wY,fetchData:()=>Ix,getDocument:()=>LK,getFilenameFromUrl:()=>OY,getPdfFilenameFromUrl:()=>MY,getXfaPageViewport:()=>NY,isDataScheme:()=>Rx,isPdfFile:()=>jC,noContextMenu:()=>Ti,normalizeUnicode:()=>CY,setLayerDimensions:()=>qu,shadow:()=>Ze,version:()=>WK});const Qn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Y$=[1,0,0,1,0,0],mk=[.001,0,0,.001,0,0],pY=1e7,b1=1.35,Gr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},uo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mY="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},je={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},gY={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},zn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},sn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},kf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Px={ERRORS:0,WARNINGS:1,INFOS:5},$i={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},yY={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tx=Px.WARNINGS;function vY(t){Number.isInteger(t)&&(Tx=t)}function bY(){return Tx}function Ox(t){Tx>=Px.INFOS&&console.log(`Info: ${t}`)}function He(t){Tx>=Px.WARNINGS&&console.log(`Warning: ${t}`)}function Et(t){throw new Error(t)}function fn(t,e){t||Et(e)}function xY(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wY(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=EY(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(xY(r))return r}catch{}return null}function Ze(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hl=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class gk extends hl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class yk extends hl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class K$ extends hl{constructor(e){super(e,"InvalidPDFException")}}class oc extends hl{constructor(e){super(e,"MissingPDFException")}}class Mx extends hl{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class SY extends hl{constructor(e){super(e,"FormatError")}}class lc extends hl{constructor(e){super(e,"AbortException")}}function Z$(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Et("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Nx(t){typeof t!="string"&&Et("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function kY(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function NC(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function _Y(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function AY(){try{return new Function(""),!0}catch{return!1}}class lr{static get isLittleEndian(){return Ze(this,"isLittleEndian",_Y())}static get isEvalSupported(){return Ze(this,"isEvalSupported",AY())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ze(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ze(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return Ze(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const x1=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Ds,Pv,vk;class Te{static makeHexColor(e,n,r){return`#${x1[e]}${x1[n]}${x1[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,a=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,a]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),a=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],a=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],o=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-a*i))/2,u=o+l||1,c=o-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static bezierBoundingBox(e,n,r,i,a,s,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,o),Math.min(n,l),Math.max(e,o),Math.max(n,l)],F(this,Ds,vk).call(this,e,r,a,o,n,i,s,l,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),u),F(this,Ds,vk).call(this,e,r,a,o,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}Ds=new WeakSet,Pv=function(e,n,r,i,a,s,o,l,u,c){if(u<=0||u>=1)return;const d=1-u,h=u*u,f=h*u,m=d*(d*(d*e+3*u*n)+3*h*r)+f*i,p=d*(d*(d*a+3*u*s)+3*h*o)+f*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],p)},vk=function(e,n,r,i,a,s,o,l,u,c,d,h){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&F(this,Ds,Pv).call(this,e,n,r,i,a,s,o,l,-d/c,h);return}const f=c**2-4*d*u;if(f<0)return;const m=Math.sqrt(f),p=2*u;F(this,Ds,Pv).call(this,e,n,r,i,a,s,o,l,(-c+m)/p,h),F(this,Ds,Pv).call(this,e,n,r,i,a,s,o,l,(-c-m)/p,h)},z(Te,Ds);function EY(t){return decodeURIComponent(escape(t))}let w1=null,T2=null;function CY(t){return w1||(w1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,T2=new Map([["","t"]])),t.replaceAll(w1,(e,n,r)=>n?n.normalize("NFKC"):T2.get(r))}function PY(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return Z$(t)}const IC="pdfjs_internal_id_",Xa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function TY(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Z$(t))}const Za="http://www.w3.org/2000/svg",Nl=class Nl{};Ie(Nl,"CSS",96),Ie(Nl,"PDF",72),Ie(Nl,"PDF_TO_CSS_UNITS",Nl.CSS/Nl.PDF);let rl=Nl;async function Ix(t,e="text"){if(Uf(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ty{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,h=1;break;case 90:u=0,c=1,d=1,h=0;break;case 270:u=0,c=-1,d=-1,h=0;break;case 0:u=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h);let f,m,p,v;u===0?(f=Math.abs(l-e[1])*n+i,m=Math.abs(o-e[0])*n+a,p=(e[3]-e[1])*n,v=(e[2]-e[0])*n):(f=Math.abs(o-e[0])*n+i,m=Math.abs(l-e[1])*n+a,p=(e[2]-e[0])*n,v=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,h*n,f-u*n*o-d*n*l,m-c*n*o-h*n*l],this.width=p,this.height=v}get rawDims(){const{viewBox:e}=this;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new ty({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){return Te.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Te.applyTransform([e[0],e[1]],this.transform),r=Te.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Te.applyInverseTransform([e,n],this.transform)}}class RC extends hl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Rx(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function jC(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function OY(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function MY(t,e="document.pdf"){if(typeof t!="string")return e;if(Rx(t))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class O2{constructor(){Ie(this,"started",Object.create(null));Ie(this,"times",[])}time(e){e in this.started&&He(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||He(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Uf(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Ti(t){t.preventDefault()}function M2(t){console.log("Deprecated API usage: "+t)}var Om;class LC{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,Om)||D(this,Om,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=g(this,Om).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,o+=d):u==="+"&&(s-=c,o-=d),new Date(Date.UTC(r,i,a,s,o,l))}}Om=new WeakMap,z(LC,Om);function NY(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new ty({viewBox:a,scale:e,rotation:n})}function DC(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(He(`Not a valid color format: "${t}"`),[0,0,0])}function IY(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,DC(r))}e.remove()}function Lt(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function Ya(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function qu(t,e,n=!1,r=!0){if(e instanceof ty){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=lr.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${a}px`,c=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}class bk{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ho,zl,Fi,Ul,Mm,Nm,Ub,Q$,ur,J$,eF,Tv,tF,wk;const Ja=class Ja{constructor(e){z(this,ur);z(this,ho,null);z(this,zl,null);z(this,Fi);z(this,Ul,null);z(this,Mm,null);D(this,Fi,e),g(Ja,Nm)||D(Ja,Nm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=D(this,ho,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=g(this,Fi)._uiManager._signal;e.addEventListener("contextmenu",Ti,{signal:n}),e.addEventListener("pointerdown",F(Ja,Ub,Q$),{signal:n});const r=D(this,Ul,document.createElement("div"));r.className="buttons",e.append(r);const i=g(this,Fi).toolbarPosition;if(i){const{style:a}=e,s=g(this,Fi)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return F(this,ur,tF).call(this),e}get div(){return g(this,ho)}hide(){var e;g(this,ho).classList.add("hidden"),(e=g(this,zl))==null||e.hideDropdown()}show(){var e;g(this,ho).classList.remove("hidden"),(e=g(this,Mm))==null||e.shown()}async addAltText(e){const n=await e.render();F(this,ur,Tv).call(this,n),g(this,Ul).prepend(n,g(this,ur,wk)),D(this,Mm,e)}addColorPicker(e){D(this,zl,e);const n=e.renderButton();F(this,ur,Tv).call(this,n),g(this,Ul).prepend(n,g(this,ur,wk))}remove(){var e;g(this,ho).remove(),(e=g(this,zl))==null||e.destroy(),D(this,zl,null)}};ho=new WeakMap,zl=new WeakMap,Fi=new WeakMap,Ul=new WeakMap,Mm=new WeakMap,Nm=new WeakMap,Ub=new WeakSet,Q$=function(e){e.stopPropagation()},ur=new WeakSet,J$=function(e){g(this,Fi)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},eF=function(e){g(this,Fi)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Tv=function(e){const n=g(this,Fi)._uiManager._signal;e.addEventListener("focusin",F(this,ur,J$).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,ur,eF).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ti,{signal:n})},tF=function(){const{editorType:e,_uiManager:n}=g(this,Fi),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",g(Ja,Nm)[e]),F(this,ur,Tv).call(this,r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),g(this,Ul).append(r)},wk=function(){const e=document.createElement("div");return e.className="divider",e},z(Ja,Ub),z(Ja,Nm,null);let xk=Ja;var Im,Hl,Wl,al,nF,rF,iF;class RY{constructor(e){z(this,al);z(this,Im,null);z(this,Hl,null);z(this,Wl);D(this,Wl,e)}show(e,n,r){const[i,a]=F(this,al,rF).call(this,n,r),{style:s}=g(this,Hl)||D(this,Hl,F(this,al,nF).call(this));e.append(g(this,Hl)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Hl).remove()}}Im=new WeakMap,Hl=new WeakMap,Wl=new WeakMap,al=new WeakSet,nF=function(){const e=D(this,Hl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ti,{signal:g(this,Wl)._signal});const n=D(this,Im,document.createElement("div"));return n.className="buttons",e.append(n),F(this,al,iF).call(this),e},rF=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},iF=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=g(this,Wl)._signal;e.addEventListener("contextmenu",Ti,{signal:r}),e.addEventListener("click",()=>{g(this,Wl).highlightSelection("floating_button")},{signal:r}),g(this,Im).append(e)};function j0(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function jY(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var Hb;class LY{constructor(){z(this,Hb,0)}get id(){return`${mY}${tr(this,Hb)._++}`}}Hb=new WeakMap;var hd,Rm,Hn,fd,Ov;const eT=class eT{constructor(){z(this,fd);z(this,hd,PY());z(this,Rm,0);z(this,Hn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return F(this,fd,Ov).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return F(this,fd,Ov).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,fd,Ov).call(this,e,r)}async getFromId(e){g(this,Hn)||D(this,Hn,new Map);const n=g(this,Hn).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){g(this,Hn)||D(this,Hn,new Map);let r=g(this,Hn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${g(this,hd)}_${tr(this,Rm)._++}`,refCounter:1,isSvg:!1},g(this,Hn).set(e,r),g(this,Hn).set(r.id,r),r}getSvgUrl(e){const n=g(this,Hn).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;g(this,Hn)||D(this,Hn,new Map);const n=g(this,Hn).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,hd)}_`)}};hd=new WeakMap,Rm=new WeakMap,Hn=new WeakMap,fd=new WeakSet,Ov=async function(e,n){g(this,Hn)||D(this,Hn,new Map);let r=g(this,Hn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${g(this,hd)}_${tr(this,Rm)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Ix(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=eT._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,c)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return g(this,Hn).set(e,r),r&&g(this,Hn).set(r.id,r),r};let Sk=eT;var bn,fo,jm,xn;class DY{constructor(e=128){z(this,bn,[]);z(this,fo,!1);z(this,jm);z(this,xn,-1);D(this,jm,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),g(this,fo))return;const l={cmd:e,undo:n,post:r,type:a};if(g(this,xn)===-1){g(this,bn).length>0&&(g(this,bn).length=0),D(this,xn,0),g(this,bn).push(l);return}if(s&&g(this,bn)[g(this,xn)].type===a){o&&(l.undo=g(this,bn)[g(this,xn)].undo),g(this,bn)[g(this,xn)]=l;return}const u=g(this,xn)+1;u===g(this,jm)?g(this,bn).splice(0,1):(D(this,xn,u),u<g(this,bn).length&&g(this,bn).splice(u)),g(this,bn).push(l)}undo(){if(g(this,xn)===-1)return;D(this,fo,!0);const{undo:e,post:n}=g(this,bn)[g(this,xn)];e(),n==null||n(),D(this,fo,!1),D(this,xn,g(this,xn)-1)}redo(){if(g(this,xn)<g(this,bn).length-1){D(this,xn,g(this,xn)+1),D(this,fo,!0);const{cmd:e,post:n}=g(this,bn)[g(this,xn)];e(),n==null||n(),D(this,fo,!1)}}hasSomethingToUndo(){return g(this,xn)!==-1}hasSomethingToRedo(){return g(this,xn)<g(this,bn).length-1}destroy(){D(this,bn,null)}}bn=new WeakMap,fo=new WeakMap,jm=new WeakMap,xn=new WeakMap;var Wb,aF;class ny{constructor(e){z(this,Wb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=lr.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,Wb,aF).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||(n.stopPropagation(),n.preventDefault()))}}Wb=new WeakSet,aF=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const Vb=class Vb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return IY(e),Ze(this,"_colors",e)}convert(e){const n=DC(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return Vb._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Te.makeHexColor(...n):e}};Ie(Vb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kk=Vb;var pd,$r,ln,Tn,md,ns,gd,Bi,po,yd,Vl,ya,zi,Gl,Lm,Dm,vd,$m,va,mo,bd,go,ba,Gb,yo,Fm,vo,ql,Bm,zm,wn,lt,rs,Xl,Um,Hm,bo,xa,is,Wm,di,Ae,Mv,_k,sF,oF,Nv,lF,uF,cF,Ak,dF,Ek,Ck,hF,nr,to,fF,pF,Pk,mF,Hf,Tk;const Yc=class Yc{constructor(e,n,r,i,a,s,o,l,u,c,d){z(this,Ae);z(this,pd,new AbortController);z(this,$r,null);z(this,ln,new Map);z(this,Tn,new Map);z(this,md,null);z(this,ns,null);z(this,gd,null);z(this,Bi,new DY);z(this,po,null);z(this,yd,0);z(this,Vl,new Set);z(this,ya,null);z(this,zi,null);z(this,Gl,new Set);z(this,Lm,!1);z(this,Dm,!1);z(this,vd,!1);z(this,$m,null);z(this,va,null);z(this,mo,null);z(this,bd,null);z(this,go,!1);z(this,ba,null);z(this,Gb,new LY);z(this,yo,!1);z(this,Fm,!1);z(this,vo,null);z(this,ql,null);z(this,Bm,null);z(this,zm,null);z(this,wn,Fe.NONE);z(this,lt,new Set);z(this,rs,null);z(this,Xl,null);z(this,Um,null);z(this,Hm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});z(this,bo,[0,0]);z(this,xa,null);z(this,is,null);z(this,Wm,null);z(this,di,null);const h=this._signal=g(this,pd).signal;D(this,is,e),D(this,Wm,n),D(this,md,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:h}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),i._on("setpreference",this.onSetPreference.bind(this),{signal:h}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:h}),F(this,Ae,lF).call(this),F(this,Ae,hF).call(this),F(this,Ae,Ak).call(this),D(this,ns,a.annotationStorage),D(this,$m,a.filterFactory),D(this,Xl,s),D(this,bd,o||null),D(this,Lm,l),D(this,Dm,u),D(this,vd,c),D(this,zm,d||null),this.viewParameters={realScale:rl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Yc.prototype,n=s=>g(s,is).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new ny([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,is).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,is).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i;(e=g(this,di))==null||e.resolve(),D(this,di,null),(n=g(this,pd))==null||n.abort(),D(this,pd,null),this._signal=null;for(const a of g(this,Tn).values())a.destroy();g(this,Tn).clear(),g(this,ln).clear(),g(this,Gl).clear(),D(this,$r,null),g(this,lt).clear(),g(this,Bi).destroy(),(r=g(this,md))==null||r.destroy(),(i=g(this,ba))==null||i.hide(),D(this,ba,null),g(this,va)&&(clearTimeout(g(this,va)),D(this,va,null)),g(this,xa)&&(clearTimeout(g(this,xa)),D(this,xa,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,zm)}get useNewAltTextFlow(){return g(this,Dm)}get useNewAltTextWhenAddingImage(){return g(this,vd)}get hcmFilter(){return Ze(this,"hcmFilter",g(this,Xl)?g(this,$m).addHCMFilter(g(this,Xl).foreground,g(this,Xl).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(g(this,is)).direction)}get highlightColors(){return Ze(this,"highlightColors",g(this,bd)?new Map(g(this,bd).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){D(this,Bm,e)}editAltText(e,n=!1){var r;(r=g(this,md))==null||r.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":D(this,vd,n);break}}onPageChanging({pageNumber:e}){D(this,yd,e-1)}focusMainContainer(){g(this,is).focus()}findParent(e,n){for(const r of g(this,Tn).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){g(this,Wm).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Gl).add(e)}removeShouldRescale(e){g(this,Gl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*rl.PDF_TO_CSS_UNITS;for(const n of g(this,Gl))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s}=n,o=n.toString(),u=F(this,Ae,Mv).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;n.empty();const d=F(this,Ae,_k).call(this,u),h=g(this,wn)===Fe.NONE,f=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(Fe.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,ns)&&!g(this,ns).has(e.id)&&g(this,ns).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,go)&&(D(this,go,!1),F(this,Ae,Nv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of g(this,lt))if(n.div.contains(e)){D(this,ql,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!g(this,ql))return;const[e,n]=g(this,ql);D(this,ql,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Ae,Ak).call(this),F(this,Ae,Ek).call(this)}removeEditListeners(){F(this,Ae,dF).call(this),F(this,Ae,Ck).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of g(this,zi))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of g(this,zi))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=g(this,$r))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of g(this,lt)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of g(this,zi))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){He(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;a.push(u)}const s=()=>{for(const l of a)F(this,Ae,Pk).call(this,l);F(this,Ae,Tk).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){He(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,wn)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&Yc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,go)&&(D(this,go,!1),F(this,Ae,Nv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(F(this,Ae,uF).call(this),F(this,Ae,Ek).call(this),F(this,Ae,nr).call(this,{isEditing:g(this,wn)!==Fe.NONE,isEmpty:F(this,Ae,Hf).call(this),hasSomethingToUndo:g(this,Bi).hasSomethingToUndo(),hasSomethingToRedo:g(this,Bi).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Ae,cF).call(this),F(this,Ae,Ck).call(this),F(this,Ae,nr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,zi)){D(this,zi,e);for(const n of g(this,zi))F(this,Ae,to).call(this,n.defaultPropertiesToUpdate)}}getId(){return g(this,Gb).id}get currentLayer(){return g(this,Tn).get(g(this,yd))}getLayer(e){return g(this,Tn).get(e)}get currentPageIndex(){return g(this,yd)}addLayer(e){g(this,Tn).set(e.pageIndex,e),g(this,yo)?e.enable():e.disable()}removeLayer(e){g(this,Tn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1){if(g(this,wn)!==e&&!(g(this,di)&&(await g(this,di).promise,!g(this,di)))){if(D(this,di,Promise.withResolvers()),D(this,wn,e),e===Fe.NONE){this.setEditingState(!1),F(this,Ae,pF).call(this),g(this,di).resolve();return}this.setEditingState(!0),await F(this,Ae,fF).call(this),this.unselectAll();for(const i of g(this,Tn).values())i.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),g(this,di).resolve();return}for(const i of g(this,ln).values())i.annotationElementId===n?(this.setSelected(i),i.enterInEditMode()):i.unselect();g(this,di).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,wn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(g(this,zi)){switch(e){case je.CREATE:this.currentLayer.addNewEditor();return;case je.HIGHLIGHT_DEFAULT_COLOR:(r=g(this,Bm))==null||r.updateColor(n);break;case je.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Um)||D(this,Um,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of g(this,lt))i.updateParams(e,n);for(const i of g(this,zi))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of g(this,ln).values())s.editorType===e&&s.show(n);(((a=g(this,Um))==null?void 0:a.get(je.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Ae,to).call(this,[[je.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(g(this,Fm)!==e){D(this,Fm,e);for(const n of g(this,Tn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of g(this,ln).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return g(this,ln).get(e)}addEditor(e){g(this,ln).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(g(this,va)&&clearTimeout(g(this,va)),D(this,va,setTimeout(()=>{this.focusMainContainer(),D(this,va,null)},0))),g(this,ln).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,Vl).has(e.annotationElementId))&&((n=g(this,ns))==null||n.remove(e.id))}addDeletedAnnotationElement(e){g(this,Vl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Vl).has(e)}removeDeletedAnnotationElement(e){g(this,Vl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,$r)!==e&&(D(this,$r,e),e&&F(this,Ae,to).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Ae,mF)===e&&F(this,Ae,to).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,lt).has(e)){g(this,lt).delete(e),e.unselect(),F(this,Ae,nr).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,lt).add(e),e.select(),F(this,Ae,to).call(this,e.propertiesToUpdate),F(this,Ae,nr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of g(this,lt))n!==e&&n.unselect();g(this,lt).clear(),g(this,lt).add(e),e.select(),F(this,Ae,to).call(this,e.propertiesToUpdate),F(this,Ae,nr).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,lt).has(e)}get firstSelectedEditor(){return g(this,lt).values().next().value}unselect(e){e.unselect(),g(this,lt).delete(e),F(this,Ae,nr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,lt).size!==0}get isEnterHandled(){return g(this,lt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,Bi).undo(),F(this,Ae,nr).call(this,{hasSomethingToUndo:g(this,Bi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Ae,Hf).call(this)})}redo(){g(this,Bi).redo(),F(this,Ae,nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,Bi).hasSomethingToRedo(),isEmpty:F(this,Ae,Hf).call(this)})}addCommands(e){g(this,Bi).add(e),F(this,Ae,nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Ae,Hf).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,lt)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)F(this,Ae,Pk).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=g(this,$r))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,$r)||this.hasSelection}selectAll(){for(const e of g(this,lt))e.commit();F(this,Ae,Tk).call(this,g(this,ln).values())}unselectAll(){if(!(g(this,$r)&&(g(this,$r).commitOrRemove(),g(this,wn)!==Fe.NONE))&&this.hasSelection){for(const e of g(this,lt))e.unselect();g(this,lt).clear(),F(this,Ae,nr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;g(this,bo)[0]+=e,g(this,bo)[1]+=n;const[i,a]=g(this,bo),s=[...g(this,lt)],o=1e3;g(this,xa)&&clearTimeout(g(this,xa)),D(this,xa,setTimeout(()=>{D(this,xa,null),g(this,bo)[0]=g(this,bo)[1]=0,this.addCommands({cmd:()=>{for(const l of s)g(this,ln).has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)g(this,ln).has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,ya,new Map);for(const e of g(this,lt))g(this,ya).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,ya))return!1;this.disableUserSelect(!1);const e=g(this,ya);D(this,ya,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(g(this,ln).has(i.id)){const l=g(this,Tn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(g(this,ya))for(const r of g(this,ya).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,lt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,$r)===e}getActive(){return g(this,$r)}getMode(){return g(this,wn)}get imageManager(){return Ze(this,"imageManager",new Sk)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,c,d,h)=>({x:(c-i)/s,y:1-(u+d-r)/a,width:h/s,height:d/a});break;case"180":o=(u,c,d,h)=>({x:1-(u+d-r)/a,y:1-(c+h-i)/s,width:d/a,height:h/s});break;case"270":o=(u,c,d,h)=>({x:1-(c+h-i)/s,y:(u-r)/a,width:h/s,height:d/a});break;default:o=(u,c,d,h)=>({x:(u-r)/a,y:(c-i)/s,width:d/a,height:h/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:h,y:f,width:m,height:p}of d.getClientRects())m===0||p===0||l.push(o(h,f,m,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(g(this,gd)||D(this,gd,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=g(this,gd))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=g(this,gd))==null?void 0:i.get(e.data.id);if(!n)return;const r=g(this,ns).getRawValue(n);r&&(g(this,wn)===Fe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};pd=new WeakMap,$r=new WeakMap,ln=new WeakMap,Tn=new WeakMap,md=new WeakMap,ns=new WeakMap,gd=new WeakMap,Bi=new WeakMap,po=new WeakMap,yd=new WeakMap,Vl=new WeakMap,ya=new WeakMap,zi=new WeakMap,Gl=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,vd=new WeakMap,$m=new WeakMap,va=new WeakMap,mo=new WeakMap,bd=new WeakMap,go=new WeakMap,ba=new WeakMap,Gb=new WeakMap,yo=new WeakMap,Fm=new WeakMap,vo=new WeakMap,ql=new WeakMap,Bm=new WeakMap,zm=new WeakMap,wn=new WeakMap,lt=new WeakMap,rs=new WeakMap,Xl=new WeakMap,Um=new WeakMap,Hm=new WeakMap,bo=new WeakMap,xa=new WeakMap,is=new WeakMap,Wm=new WeakMap,di=new WeakMap,Ae=new WeakSet,Mv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},_k=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of g(this,Tn).values())if(r.hasTextLayer(e))return r;return null},sF=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Ae,Mv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(g(this,ba)||D(this,ba,new RY(this)),g(this,ba).show(r,i,this.direction==="ltr"))},oF=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,rs)&&((a=g(this,ba))==null||a.hide(),D(this,rs,null),F(this,Ae,nr).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===g(this,rs))return;const i=F(this,Ae,Mv).call(this,e).closest(".textLayer");if(!i){g(this,rs)&&((s=g(this,ba))==null||s.hide(),D(this,rs,null),F(this,Ae,nr).call(this,{hasSelectedText:!1}));return}if((o=g(this,ba))==null||o.hide(),D(this,rs,n),F(this,Ae,nr).call(this,{hasSelectedText:!0}),!(g(this,wn)!==Fe.HIGHLIGHT&&g(this,wn)!==Fe.NONE)&&(g(this,wn)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,go,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=g(this,wn)===Fe.HIGHLIGHT?F(this,Ae,_k).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),d=h=>{h.type==="pointerup"&&h.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&F(this,Ae,Nv).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}},Nv=function(e=""){g(this,wn)===Fe.HIGHLIGHT?this.highlightSelection(e):g(this,Lm)&&F(this,Ae,sF).call(this)},lF=function(){document.addEventListener("selectionchange",F(this,Ae,oF).bind(this),{signal:this._signal})},uF=function(){if(g(this,mo))return;D(this,mo,new AbortController);const e=this.combinedSignal(g(this,mo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},cF=function(){var e;(e=g(this,mo))==null||e.abort(),D(this,mo,null)},Ak=function(){if(g(this,vo))return;D(this,vo,new AbortController);const e=this.combinedSignal(g(this,vo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},dF=function(){var e;(e=g(this,vo))==null||e.abort(),D(this,vo,null)},Ek=function(){if(g(this,po))return;D(this,po,new AbortController);const e=this.combinedSignal(g(this,po));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Ck=function(){var e;(e=g(this,po))==null||e.abort(),D(this,po,null)},hF=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},nr=function(e){Object.entries(e).some(([r,i])=>g(this,Hm)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Hm),e)}),g(this,wn)===Fe.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Ae,to).call(this,[[je.HIGHLIGHT_FREE,!0]]))},to=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},fF=async function(){if(!g(this,yo)){D(this,yo,!0);const e=[];for(const n of g(this,Tn).values())e.push(n.enable());await Promise.all(e);for(const n of g(this,ln).values())n.enable()}},pF=function(){if(this.unselectAll(),g(this,yo)){D(this,yo,!1);for(const e of g(this,Tn).values())e.disable();for(const e of g(this,ln).values())e.disable()}},Pk=function(e){const n=g(this,Tn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},mF=function(){let e=null;for(e of g(this,lt));return e},Hf=function(){if(g(this,ln).size===0)return!0;if(g(this,ln).size===1)for(const e of g(this,ln).values())return e.isEmpty();return!1},Tk=function(e){for(const n of g(this,lt))n.unselect();g(this,lt).clear();for(const n of e)n.isEmpty()||(g(this,lt).add(n),n.select());F(this,Ae,nr).call(this,{hasSelectedEditor:this.hasSelection})},Ie(Yc,"TRANSLATE_SMALL",1),Ie(Yc,"TRANSLATE_BIG",10);let Xu=Yc;var Sn,wa,Ui,xd,Sa,Fr,wd,ka,vr,as,Yl,_a,xo,sa,Wf,Iv;const rr=class rr{constructor(e){z(this,sa);z(this,Sn,null);z(this,wa,!1);z(this,Ui,null);z(this,xd,null);z(this,Sa,null);z(this,Fr,null);z(this,wd,!1);z(this,ka,null);z(this,vr,null);z(this,as,null);z(this,Yl,null);z(this,_a,!1);D(this,vr,e),D(this,_a,e._uiManager.useNewAltTextFlow),g(rr,xo)||D(rr,xo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){rr._l10n??(rr._l10n=e)}async render(){const e=D(this,Ui,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=D(this,xd,document.createElement("span"));e.append(n),g(this,_a)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(rr,xo).missing),n.setAttribute("data-l10n-id",g(rr,xo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=g(this,vr)._uiManager._signal;e.addEventListener("contextmenu",Ti,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),g(this,vr)._uiManager.editAltText(g(this,vr)),g(this,_a)&&g(this,vr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,sa,Wf)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(D(this,wd,!0),i(a))},{signal:r}),await F(this,sa,Iv).call(this),e}finish(){g(this,Ui)&&(g(this,Ui).focus({focusVisible:g(this,wd)}),D(this,wd,!1))}isEmpty(){return g(this,_a)?g(this,Sn)===null:!g(this,Sn)&&!g(this,wa)}hasData(){return g(this,_a)?g(this,Sn)!==null||!!g(this,as):this.isEmpty()}get guessedText(){return g(this,as)}async setGuessedText(e){g(this,Sn)===null&&(D(this,as,e),D(this,Yl,await rr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,sa,Iv).call(this))}toggleAltTextBadge(e=!1){var n;if(!g(this,_a)||g(this,Sn)){(n=g(this,ka))==null||n.remove(),D(this,ka,null);return}if(!g(this,ka)){const r=D(this,ka,document.createElement("div"));r.className="noAltTextBadge",g(this,vr).div.append(r)}g(this,ka).classList.toggle("hidden",!e)}serialize(e){let n=g(this,Sn);return!e&&g(this,as)===n&&(n=g(this,Yl)),{altText:n,decorative:g(this,wa),guessedText:g(this,as),textWithDisclaimer:g(this,Yl)}}get data(){return{altText:g(this,Sn),decorative:g(this,wa)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(D(this,as,r),D(this,Yl,i)),!(g(this,Sn)===e&&g(this,wa)===n)&&(a||(D(this,Sn,e),D(this,wa,n)),F(this,sa,Iv).call(this))}toggle(e=!1){g(this,Ui)&&(!e&&g(this,Fr)&&(clearTimeout(g(this,Fr)),D(this,Fr,null)),g(this,Ui).disabled=!e)}shown(){g(this,vr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,sa,Wf)}})}destroy(){var e,n;(e=g(this,Ui))==null||e.remove(),D(this,Ui,null),D(this,xd,null),D(this,Sa,null),(n=g(this,ka))==null||n.remove(),D(this,ka,null)}};Sn=new WeakMap,wa=new WeakMap,Ui=new WeakMap,xd=new WeakMap,Sa=new WeakMap,Fr=new WeakMap,wd=new WeakMap,ka=new WeakMap,vr=new WeakMap,as=new WeakMap,Yl=new WeakMap,_a=new WeakMap,xo=new WeakMap,sa=new WeakSet,Wf=function(){return g(this,Sn)&&"added"||g(this,Sn)===null&&this.guessedText&&"review"||"missing"},Iv=async function(){var i,a,s;const e=g(this,Ui);if(!e)return;if(g(this,_a)){if(e.classList.toggle("done",!!g(this,Sn)),e.setAttribute("data-l10n-id",g(rr,xo)[g(this,sa,Wf)]),(i=g(this,xd))==null||i.setAttribute("data-l10n-id",g(rr,xo)[`${g(this,sa,Wf)}-label`]),!g(this,Sn)){(a=g(this,Sa))==null||a.remove();return}}else{if(!g(this,Sn)&&!g(this,wa)){e.classList.remove("done"),(s=g(this,Sa))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=g(this,Sa);if(!n){D(this,Sa,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${g(this,vr).id}`;const o=100,l=g(this,vr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(g(this,Fr)),D(this,Fr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{D(this,Fr,setTimeout(()=>{D(this,Fr,null),g(this,Sa).classList.add("show"),g(this,vr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;g(this,Fr)&&(clearTimeout(g(this,Fr)),D(this,Fr,null)),(u=g(this,Sa))==null||u.classList.remove("show")},{signal:l})}g(this,wa)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=g(this,Sn)),n.parentNode||e.append(n);const r=g(this,vr).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},z(rr,xo,null),Ie(rr,"_l10n",null);let L0=rr;var Kl,Hi,Rt,Sd,Zl,On,Ql,wo,Vm,Jl,So,Gm,eu,ss,Aa,kd,_d,hi,qm,qb,ze,Ok,Xm,Mk,Nk,gF,yF,Ik,Rk,jk,vF,Lk,bF,xF,wF,Dk,Vf;const st=class st{constructor(e){z(this,ze);z(this,Kl,null);z(this,Hi,null);z(this,Rt,null);z(this,Sd,!1);z(this,Zl,!1);z(this,On,null);z(this,Ql,null);z(this,wo,null);z(this,Vm,"");z(this,Jl,!1);z(this,So,null);z(this,Gm,!1);z(this,eu,!1);z(this,ss,!1);z(this,Aa,null);z(this,kd,0);z(this,_d,0);z(this,hi,null);Ie(this,"_editToolbar",null);Ie(this,"_initialOptions",Object.create(null));Ie(this,"_initialData",null);Ie(this,"_isVisible",!0);Ie(this,"_uiManager",null);Ie(this,"_focusEventsAllowed",!0);z(this,qm,!1);z(this,qb,st._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=st.prototype._resizeWithKeyboard,n=Xu.TRANSLATE_SMALL,r=Xu.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],st.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new $Y({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(st._l10n??(st._l10n=e),st._l10nResizer||(st._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),st._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);st._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,qm)}set _isDraggable(e){var n;D(this,qm,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,qb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):F(this,ze,Vf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,Jl)?D(this,Jl,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){F(this,ze,Ok).call(this,this.parentDimensions,e,n)}translateInPage(e,n){g(this,So)||D(this,So,[this.x,this.y]),F(this,ze,Ok).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){g(this,So)||D(this,So,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,So)&&(g(this,So)[0]!==this.x||g(this,So)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=st,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:a,width:s,height:o}=this;if(s*=n,o*=r,i*=n,a*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),a=Math.max(0,Math.min(r-o,a));break;case 90:i=Math.max(0,Math.min(n-o,i)),a=Math.min(r,Math.max(s,a));break;case 180:i=Math.min(n,Math.max(s,i)),a=Math.min(r,Math.max(o,a));break;case 270:i=Math.min(n,Math.max(o,i)),a=Math.max(0,Math.min(r-s,a));break}this.x=i/=n,this.y=a/=r;const[l,u]=this.getBaseTranslation();i+=l,a+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=st,Xm,Mk).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=st,Xm,Mk).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,g(this,Zl)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),a=!g(this,Zl)&&n.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!g(this,Zl)&&!a&&(e.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,Rt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,eu)?this._editToolbar:(this._editToolbar=new xk(this),this.div.append(this._editToolbar.render()),g(this,Rt)&&await this._editToolbar.addAltText(g(this,Rt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,Rt))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Rt)||(L0.initialize(st._l10n),D(this,Rt,new L0(this)),g(this,Kl)&&(g(this,Rt).data=g(this,Kl),D(this,Kl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,Rt))==null?void 0:e.data}set altTextData(e){g(this,Rt)&&(g(this,Rt).data=e)}get guessedAltText(){var e;return(e=g(this,Rt))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=g(this,Rt))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=g(this,Rt))==null?void 0:n.serialize(e)}hasAltText(){return!!g(this,Rt)&&!g(this,Rt).isEmpty()}hasAltTextData(){var e;return((e=g(this,Rt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Sd)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),F(this,ze,Lk).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),j0(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=lr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(D(this,Jl,!0),this._isDraggable){F(this,ze,vF).call(this,e);return}F(this,ze,jk).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,Aa)&&clearTimeout(g(this,Aa)),D(this,Aa,setTimeout(()=>{var e;D(this,Aa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*a,h=this.y*s,f=this.width*a,m=this.height*s;switch(r){case 0:return[d+u+o,s-h-c-m+l,d+u+f+o,s-h-c+l];case 90:return[d+c+o,s-h+u+l,d+c+m+o,s-h+u+f+l];case 180:return[d-u-f+o,s-h+c+l,d-u+o,s-h+c+m+l];case 270:return[d-c-m+o,s-h-u-f+l,d-c+o,s-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,o,l];case 90:return[r,n-i,l,o];case 180:return[a,n-i,o,l];case 270:return[a,n-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){D(this,eu,!0)}disableEditMode(){D(this,eu,!1)}isInEditMode(){return g(this,eu)}shouldGetKeyboardEvents(){return g(this,ss)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){F(this,ze,Lk).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){Et("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,D(i,Kl,e.accessibilityData);const[a,s]=i.pageDimensions,[o,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=u/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,wo))==null||e.abort(),D(this,wo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,Aa)&&(clearTimeout(g(this,Aa)),D(this,Aa,null)),F(this,ze,Vf).call(this),this.removeEditToolbar(),g(this,hi)){for(const n of g(this,hi).values())clearTimeout(n);D(this,hi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,ze,gF).call(this),g(this,On).classList.remove("hidden"),j0(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),D(this,Ql,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=g(this,On).children;if(!g(this,Hi)){D(this,Hi,Array.from(n));const s=F(this,ze,bF).bind(this),o=F(this,ze,xF).bind(this),l=this._uiManager._signal;for(const u of g(this,Hi)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",F(this,ze,wF).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",st._l10nResizer[c])}}const r=g(this,Hi)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,Hi).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)g(this,On).append(g(this,On).firstChild);else if(a>i)for(let o=0;o<a-i;o++)g(this,On).firstChild.before(g(this,On).lastChild);let s=0;for(const o of n){const u=g(this,Hi)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",st._l10nResizer[u])}}F(this,ze,Dk).call(this,0),D(this,ss,!0),g(this,On).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){g(this,ss)&&F(this,ze,Rk).call(this,g(this,Vm),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){F(this,ze,Vf).call(this),this.div.focus()}select(){var e,n,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=g(this,Rt))==null||r.toggleAltTextBadge(!1)}unselect(){var e,n,r,i,a;(e=g(this,On))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=g(this,Rt))==null||a.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Gm)}set isEditing(e){D(this,Gm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){D(this,Zl,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){g(this,hi)||D(this,hi,new Map);const{action:r}=e;let i=g(this,hi).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,hi).delete(r),g(this,hi).size===0&&D(this,hi,null)},st._telemetryTimeout),g(this,hi).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),D(this,Sd,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,Sd,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Kl=new WeakMap,Hi=new WeakMap,Rt=new WeakMap,Sd=new WeakMap,Zl=new WeakMap,On=new WeakMap,Ql=new WeakMap,wo=new WeakMap,Vm=new WeakMap,Jl=new WeakMap,So=new WeakMap,Gm=new WeakMap,eu=new WeakMap,ss=new WeakMap,Aa=new WeakMap,kd=new WeakMap,_d=new WeakMap,hi=new WeakMap,qm=new WeakMap,qb=new WeakMap,ze=new WeakSet,Ok=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},Xm=new WeakSet,Mk=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},Nk=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},gF=function(){if(g(this,On))return;D(this,On,document.createElement("div")),g(this,On).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");g(this,On).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,ze,yF).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Ti,{signal:n}),i.tabIndex=-1}this.div.prepend(g(this,On))},yF=function(e,n){var m;n.preventDefault();const{isMac:r}=lr.platform;if(n.button!==0||n.ctrlKey&&r)return;(m=g(this,Rt))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,ze,Rk).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Ti,{signal:s});const o=this.x,l=this.y,u=this.width,c=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=g(this,Rt))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=d,this.div.style.cursor=h,F(this,ze,Ik).call(this,o,l,u,c)};window.addEventListener("pointerup",f,{signal:s}),window.addEventListener("blur",f,{signal:s})},Ik=function(e,n,r,i){const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===n&&o===r&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*o,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},Rk=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,u=st.MIN_SIZE/r,c=st.MIN_SIZE/i,d=U=>Math.round(U*1e4)/1e4,h=F(this,ze,Nk).call(this,this.rotation),f=(U,q)=>[h[0]*U+h[2]*q,h[1]*U+h[3]*q],m=F(this,ze,Nk).call(this,360-this.rotation),p=(U,q)=>[m[0]*U+m[2]*q,m[1]*U+m[3]*q];let v,y,b=!1,x=!1;switch(e){case"topLeft":b=!0,v=(U,q)=>[0,0],y=(U,q)=>[U,q];break;case"topMiddle":v=(U,q)=>[U/2,0],y=(U,q)=>[U/2,q];break;case"topRight":b=!0,v=(U,q)=>[U,0],y=(U,q)=>[0,q];break;case"middleRight":x=!0,v=(U,q)=>[U,q/2],y=(U,q)=>[0,q/2];break;case"bottomRight":b=!0,v=(U,q)=>[U,q],y=(U,q)=>[0,0];break;case"bottomMiddle":v=(U,q)=>[U/2,q],y=(U,q)=>[U/2,0];break;case"bottomLeft":b=!0,v=(U,q)=>[0,q],y=(U,q)=>[U,0];break;case"middleLeft":x=!0,v=(U,q)=>[0,q/2],y=(U,q)=>[U,q/2];break}const k=v(o,l),S=y(o,l);let w=f(...S);const A=d(a+w[0]),E=d(s+w[1]);let C=1,O=1,[I,T]=this.screenToPageTranslation(n.movementX,n.movementY);if([I,T]=p(I/r,T/i),b){const U=Math.hypot(o,l);C=O=Math.max(Math.min(Math.hypot(S[0]-k[0]-I,S[1]-k[1]-T)/U,1/o,1/l),u/o,c/l)}else x?C=Math.max(u,Math.min(1,Math.abs(S[0]-k[0]-I)))/o:O=Math.max(c,Math.min(1,Math.abs(S[1]-k[1]-T)))/l;const j=d(o*C),P=d(l*O);w=f(...y(j,P));const $=A-w[0],X=E-w[1];this.width=j,this.height=P,this.x=$,this.y=X,this.setDims(r*j,i*P),this.fixAndSetPosition()},jk=function(e){const{isMac:n}=lr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},vF=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(n){this.div.classList.add("moving"),D(this,kd,e.clientX),D(this,_d,e.clientY);const s=o=>{const{clientX:l,clientY:u}=o,[c,d]=this.screenToPageTranslation(l-g(this,kd),u-g(this,_d));D(this,kd,l),D(this,_d,u),this._uiManager.dragSelectedEditors(c,d)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}const a=()=>{r.abort(),n&&this.div.classList.remove("moving"),D(this,Jl,!1),this._uiManager.endDragSession()||F(this,ze,jk).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},Lk=function(){if(g(this,wo)||!this.div)return;D(this,wo,new AbortController);const e=this._uiManager.combinedSignal(g(this,wo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},bF=function(e){st._resizerKeyboardManager.exec(this,e)},xF=function(e){var n;g(this,ss)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==g(this,On)&&F(this,ze,Vf).call(this)},wF=function(e){D(this,Vm,g(this,ss)?e:"")},Dk=function(e){if(g(this,Hi))for(const n of g(this,Hi))n.tabIndex=e},Vf=function(){if(D(this,ss,!1),F(this,ze,Dk).call(this,-1),g(this,Ql)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=g(this,Ql);F(this,ze,Ik).call(this,e,n,r,i),D(this,Ql,null)}},z(st,Xm),Ie(st,"_l10n",null),Ie(st,"_l10nResizer",null),Ie(st,"_borderLineWidth",-1),Ie(st,"_colorManager",new kk),Ie(st,"_zIndex",1),Ie(st,"_telemetryTimeout",1e3);let ct=st;class $Y extends ct{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const N2=3285377520,oi=4294901760,pa=65535;class SF{constructor(e){this.h1=e?e&4294967295:N2,this.h2=e?e&4294967295:N2}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let p=0,v=e.length;p<v;p++){const y=e.charCodeAt(p);y<=255?n[r++]=y:(n[r++]=y>>>8,n[r++]=y&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,l=0,u=this.h1,c=this.h2;const d=3432918353,h=461845907,f=d&pa,m=h&pa;for(let p=0;p<i;p++)p&1?(o=s[p],o=o*d&oi|o*f&pa,o=o<<15|o>>>17,o=o*h&oi|o*m&pa,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[p],l=l*d&oi|l*f&pa,l=l<<15|l>>>17,l=l*h&oi|l*m&pa,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&oi|o*f&pa,o=o<<15|o>>>17,o=o*h&oi|o*m&pa,i&1?u^=o:c^=o}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&oi|e*36045&pa,n=n*4283543511&oi|((n<<16|e>>>16)*2950163797&oi)>>>16,e^=n>>>1,e=e*444984403&oi|e*60499&pa,n=n*3301882366&oi|((n<<16|e>>>16)*3120437893&oi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const $k=Object.freeze({map:null,hash:"",transfer:void 0});var tu,nu,kn,Xb,kF;class $C{constructor(){z(this,Xb);z(this,tu,!1);z(this,nu,null);z(this,kn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=g(this,kn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return g(this,kn).get(e)}remove(e){if(g(this,kn).delete(e),g(this,kn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of g(this,kn).values())if(n instanceof ct)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=g(this,kn).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,g(this,kn).set(e,n);i&&F(this,Xb,kF).call(this),n instanceof ct&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return g(this,kn).has(e)}getAll(){return g(this,kn).size>0?NC(g(this,kn)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return g(this,kn).size}resetModified(){g(this,tu)&&(D(this,tu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _F(this)}get serializable(){if(g(this,kn).size===0)return $k;const e=new Map,n=new SF,r=[],i=Object.create(null);let a=!1;for(const[s,o]of g(this,kn)){const l=o instanceof ct?o.serialize(!1,i):o;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:$k}get editorStats(){let e=null;const n=new Map;for(const r of g(this,kn).values()){if(!(r instanceof ct))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:a}=i;n.has(a)||n.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){D(this,nu,null)}get modifiedIds(){if(g(this,nu))return g(this,nu);const e=[];for(const n of g(this,kn).values())!(n instanceof ct)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return D(this,nu,{ids:new Set(e),hash:e.join(",")})}}tu=new WeakMap,nu=new WeakMap,kn=new WeakMap,Xb=new WeakSet,kF=function(){g(this,tu)||(D(this,tu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ym;class _F extends $C{constructor(n){super();z(this,Ym);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);D(this,Ym,{map:s,hash:i,transfer:a})}get print(){Et("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Ym)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}Ym=new WeakMap;var Ad;class FY{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){z(this,Ad,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Ad).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||g(this,Ad).has(e.loadedName))){if(fn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,s=new FontFace(r,i,a);this.addNativeFontFace(s);try{await s.load(),g(this,Ad).add(r),n==null||n(e)}catch{He(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw He(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Qn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(fn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(k,S){return k.charCodeAt(S)<<24|k.charCodeAt(S+1)<<16|k.charCodeAt(S+2)<<8|k.charCodeAt(S+3)&255}function i(k,S,w,A){const E=k.substring(0,S),C=k.substring(S+w);return E+A+C}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function c(k,S){if(++u>30){He("Load test font never loaded."),S();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(c.bind(null,k,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const m=16,p=1482184792;let v=r(h,m);for(a=0,s=d.length-3;a<s;a+=4)v=v-p+r(d,a)|0;a<d.length&&(v=v-p+r(d+"XXX",a)|0),h=i(h,m,4,kY(v));const y=`url(data:font/opentype;base64,${btoa(h)});`,b=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(b);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const k of[e.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=k,x.append(S)}this._document.body.append(x),c(d,()=>{x.remove(),n.complete()})}}Ad=new WeakMap;class BY{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${TY(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(a){He(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(a,s){};const i=[];for(let a=0,s=r.length;a<s;)switch(r[a++]){case Xa.BEZIER_CURVE_TO:{const[o,l,u,c,d,h]=r.slice(a,a+6);i.push(f=>f.bezierCurveTo(o,l,u,c,d,h)),a+=6}break;case Xa.MOVE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.moveTo(o,l)),a+=2}break;case Xa.LINE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.lineTo(o,l)),a+=2}break;case Xa.QUADRATIC_CURVE_TO:{const[o,l,u,c]=r.slice(a,a+4);i.push(d=>d.quadraticCurveTo(o,l,u,c)),a+=4}break;case Xa.RESTORE:i.push(o=>o.restore());break;case Xa.SAVE:i.push(o=>o.save());break;case Xa.SCALE:fn(i.length===2,"Scale command is only valid at the third position.");break;case Xa.TRANSFORM:{const[o,l,u,c,d,h]=r.slice(a,a+6);i.push(f=>f.transform(o,l,u,c,d,h)),a+=6}break;case Xa.TRANSLATE:{const[o,l]=r.slice(a,a+2);i.push(u=>u.translate(o,l)),a+=2}break}return this.compiledGlyphs[n]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}var Km;class AF{constructor({enableHWA:e=!1}){z(this,Km,!1);D(this,Km,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!g(this,Km)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Et("Abstract method `_createCanvas` called.")}}Km=new WeakMap;class zY extends AF{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class EF{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class CF extends EF{async _fetch(e){const n=await Ix(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Nx(n)}}class PF{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var ru,iu,Ea,os,Wn,Yb,au,Ee,Un,Ac,Ec,Rv,Cc,TF,Fk,Pc,Gf,qf,Bk,Xf;class UY extends PF{constructor({docId:n,ownerDocument:r=globalThis.document}){super();z(this,Ee);z(this,ru);z(this,iu);z(this,Ea);z(this,os);z(this,Wn);z(this,Yb);z(this,au,0);D(this,os,n),D(this,Wn,r)}addFilter(n){if(!n)return"none";let r=g(this,Ee,Un).get(n);if(r)return r;const[i,a,s]=F(this,Ee,Rv).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=g(this,Ee,Un).get(o),r)return g(this,Ee,Un).set(n,r),r;const l=`g_${g(this,os)}_transfer_map_${tr(this,au)._++}`,u=F(this,Ee,Cc).call(this,l);g(this,Ee,Un).set(n,u),g(this,Ee,Un).set(o,u);const c=F(this,Ee,Pc).call(this,l);return F(this,Ee,qf).call(this,i,a,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,a="base";let s=g(this,Ee,Ac).get(a);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},g(this,Ee,Ac).set(a,s)),!n||!r))return s.url;const o=F(this,Ee,Xf).call(this,n);n=Te.makeHexColor(...o);const l=F(this,Ee,Xf).call(this,r);if(r=Te.makeHexColor(...l),g(this,Ee,Ec).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let p=0;p<=255;p++){const v=p/255;u[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=u.join(","),d=`g_${g(this,os)}_hcm_filter`,h=s.filter=F(this,Ee,Pc).call(this,d);F(this,Ee,qf).call(this,c,c,c,h),F(this,Ee,Fk).call(this,h);const f=(p,v)=>{const y=o[p]/255,b=l[p]/255,x=new Array(v+1);for(let k=0;k<=v;k++)x[k]=y+k/v*(b-y);return x.join(",")};return F(this,Ee,qf).call(this,f(0,5),f(1,5),f(2,5),h),s.url=F(this,Ee,Cc).call(this,d),s.url}addAlphaFilter(n){let r=g(this,Ee,Un).get(n);if(r)return r;const[i]=F(this,Ee,Rv).call(this,[n]),a=`alpha_${i}`;if(r=g(this,Ee,Un).get(a),r)return g(this,Ee,Un).set(n,r),r;const s=`g_${g(this,os)}_alpha_map_${tr(this,au)._++}`,o=F(this,Ee,Cc).call(this,s);g(this,Ee,Un).set(n,o),g(this,Ee,Un).set(a,o);const l=F(this,Ee,Pc).call(this,s);return F(this,Ee,Bk).call(this,i,l),o}addLuminosityFilter(n){let r=g(this,Ee,Un).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=F(this,Ee,Rv).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=g(this,Ee,Un).get(a),r)return g(this,Ee,Un).set(n,r),r;const s=`g_${g(this,os)}_luminosity_map_${tr(this,au)._++}`,o=F(this,Ee,Cc).call(this,s);g(this,Ee,Un).set(n,o),g(this,Ee,Un).set(a,o);const l=F(this,Ee,Pc).call(this,s);return F(this,Ee,TF).call(this,l),n&&F(this,Ee,Bk).call(this,i,l),o}addHighlightHCMFilter(n,r,i,a,s){var b;const o=`${r}-${i}-${a}-${s}`;let l=g(this,Ee,Ac).get(n);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},g(this,Ee,Ac).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(F(this,Ee,Xf).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,m]=[a,s].map(F(this,Ee,Xf).bind(this));h<d&&([d,h,f,m]=[h,d,m,f]),g(this,Ee,Ec).style.color="";const p=(x,k,S)=>{const w=new Array(256),A=(h-d)/S,E=x/255,C=(k-x)/(255*S);let O=0;for(let I=0;I<=S;I++){const T=Math.round(d+I*A),j=E+I*C;for(let P=O;P<=T;P++)w[P]=j;O=T+1}for(let I=O;I<256;I++)w[I]=w[O-1];return w.join(",")},v=`g_${g(this,os)}_hcm_${n}_filter`,y=l.filter=F(this,Ee,Pc).call(this,v);return F(this,Ee,Fk).call(this,y),F(this,Ee,qf).call(this,p(f[0],m[0],5),p(f[1],m[1],5),p(f[2],m[2],5),y),l.url=F(this,Ee,Cc).call(this,v),l.url}destroy(n=!1){n&&g(this,Ee,Ac).size!==0||(g(this,Ea)&&(g(this,Ea).parentNode.parentNode.remove(),D(this,Ea,null)),g(this,iu)&&(g(this,iu).clear(),D(this,iu,null)),D(this,au,0))}}ru=new WeakMap,iu=new WeakMap,Ea=new WeakMap,os=new WeakMap,Wn=new WeakMap,Yb=new WeakMap,au=new WeakMap,Ee=new WeakSet,Un=function(){return g(this,iu)||D(this,iu,new Map)},Ac=function(){return g(this,Yb)||D(this,Yb,new Map)},Ec=function(){if(!g(this,Ea)){const n=g(this,Wn).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=g(this,Wn).createElementNS(Za,"svg");i.setAttribute("width",0),i.setAttribute("height",0),D(this,Ea,g(this,Wn).createElementNS(Za,"defs")),n.append(i),i.append(g(this,Ea)),g(this,Wn).body.append(n)}return g(this,Ea)},Rv=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=u[h]/255;const d=c.join(",");return[d,d,d]}const[r,i,a]=n,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,o[u]=i[u]/255,l[u]=a[u]/255;return[s.join(","),o.join(","),l.join(",")]},Cc=function(n){if(g(this,ru)===void 0){D(this,ru,"");const r=g(this,Wn).URL;r!==g(this,Wn).baseURI&&(Rx(r)?He('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,ru,r.split("#",1)[0]))}return`url(${g(this,ru)}#${n})`},TF=function(n){const r=g(this,Wn).createElementNS(Za,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},Fk=function(n){const r=g(this,Wn).createElementNS(Za,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Pc=function(n){const r=g(this,Wn).createElementNS(Za,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),g(this,Ee,Ec).append(r),r},Gf=function(n,r,i){const a=g(this,Wn).createElementNS(Za,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},qf=function(n,r,i,a){const s=g(this,Wn).createElementNS(Za,"feComponentTransfer");a.append(s),F(this,Ee,Gf).call(this,s,"feFuncR",n),F(this,Ee,Gf).call(this,s,"feFuncG",r),F(this,Ee,Gf).call(this,s,"feFuncB",i)},Bk=function(n,r){const i=g(this,Wn).createElementNS(Za,"feComponentTransfer");r.append(i),F(this,Ee,Gf).call(this,i,"feFuncA",n)},Xf=function(n){return g(this,Ee,Ec).style.color=n,DC(getComputedStyle(g(this,Ee,Ec)).getPropertyValue("color"))};class OF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class MF extends OF{async _fetch(e){const n=await Ix(e,"arraybuffer");return new Uint8Array(n)}}if(Qn){var zk=Promise.withResolvers(),bp=null;(async()=>{const e=await zy(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await zy(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await zy(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await zy(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:a,path2d:s}))})().then(e=>{bp=e,zk.resolve()},e=>{He(`loadPackages: ${e}`),bp=new Map,zk.resolve()})}class il{static get promise(){return zk.promise}static get(e){return bp==null?void 0:bp.get(e)}}async function NF(t){const n=await il.get("fs").promises.readFile(t);return new Uint8Array(n)}class HY extends PF{}class WY extends AF{_createCanvas(e,n){return il.get("canvas").createCanvas(e,n)}}class VY extends EF{async _fetch(e){return NF(e)}}class GY extends OF{async _fetch(e){return NF(e)}}const ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Uk(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class FC{getPattern(){Et("Abstract method `getPattern` called.")}}class qY extends FC{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===ar.STROKE||i===ar.FILL){const s=n.current.getClippedPathBoundingBox(i,Lt(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",o,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Te.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),Uk(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);a.setTransform(d)}else Uk(e,this._bbox),a=this._createGradient(e);return a}}function S1(t,e,n,r,i,a,s,o){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const f=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,p=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(m>=b)return;const x=u[a],k=u[a+1],S=u[a+2],w=u[s],A=u[s+1],E=u[s+2],C=u[o],O=u[o+1],I=u[o+2],T=Math.round(m),j=Math.round(b);let P,$,X,U,q,G,R,B;for(let H=T;H<=j;H++){if(H<v){const Se=H<m?0:(m-H)/(m-v);P=f-(f-p)*Se,$=x-(x-w)*Se,X=k-(k-A)*Se,U=S-(S-E)*Se}else{let Se;H>b?Se=1:v===b?Se=0:Se=(v-H)/(v-b),P=p-(p-y)*Se,$=w-(w-C)*Se,X=A-(A-O)*Se,U=E-(E-I)*Se}let L;H<m?L=0:H>b?L=1:L=(m-H)/(m-b),q=f-(f-y)*L,G=x-(x-C)*L,R=k-(k-O)*L,B=S-(S-I)*L;const ae=Math.round(Math.min(P,q)),Z=Math.round(Math.max(P,q));let de=d*H+ae*4;for(let Se=ae;Se<=Z;Se++)L=(P-Se)/(P-q),L<0?L=0:L>1&&(L=1),c[de++]=$-($-G)*L|0,c[de++]=X-(X-R)*L|0,c[de++]=U-(U-B)*L|0,c[de++]=255}}function XY(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(a=0;a<l;a++){let c=a*o;for(let d=0;d<u;d++,c++)S1(t,n,r[c],r[c+1],r[c+o],i[c],i[c+1],i[c+o]),S1(t,n,r[c+o+1],r[c+1],r[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)S1(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class YY extends FC{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=u/d,m=c/h,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/m},v=d+2*2,y=h+2*2,b=r.getCanvas("mesh",v,y),x=b.context,k=x.createImageData(d,h);if(n){const w=k.data;for(let A=0,E=w.length;A<E;A+=4)w[A]=n[0],w[A+1]=n[1],w[A+2]=n[2],w[A+3]=255}for(const w of this._figures)XY(k,w,p);return x.putImageData(k,2,2),{canvas:b.canvas,offsetX:o-2*f,offsetY:l-2*m,scaleX:f,scaleY:m}}getPattern(e,n,r,i){Uk(e,this._bbox);let a;if(i===ar.SHADING)a=Te.singularValueDecompose2dScale(Lt(e));else if(a=Te.singularValueDecompose2dScale(n.baseTransform),this.matrix){const o=Te.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===ar.SHADING?null:this._background,n.cachedCanvases);return i!==ar.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class KY extends FC{getPattern(){return"hotpink"}}function ZY(t){switch(t[0]){case"RadialAxial":return new qY(t);case"Mesh":return new YY(t);case"Dummy":return new KY}throw new Error(`Unknown IR type: ${t[0]}`)}const I2={COLORED:1,UNCOLORED:2},Kb=class Kb{constructor(e,n,r,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),Ox("TilingType: "+a);const c=n[0],d=n[1],h=n[2],f=n[3],m=h-c,p=f-d,v=Te.singularValueDecompose2dScale(this.matrix),y=Te.singularValueDecompose2dScale(this.baseTransform),b=v[0]*y[0],x=v[1]*y[1];let k=m,S=p,w=!1,A=!1;const E=Math.ceil(l*b),C=Math.ceil(u*x),O=Math.ceil(m*b),I=Math.ceil(p*x);E>=O?k=l:w=!0,C>=I?S=u:A=!0;const T=this.getSizeAndScale(k,this.ctx.canvas.width,b),j=this.getSizeAndScale(S,this.ctx.canvas.height,x),P=e.cachedCanvases.getCanvas("pattern",T.size,j.size),$=P.context,X=o.createCanvasGraphics($);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,i,s),$.translate(-T.scale*c,-j.scale*d),X.transform(T.scale,0,0,j.scale,0,0),$.save(),this.clipBbox(X,c,d,h,f),X.baseTransform=Lt(X.ctx),X.executeOperatorList(r),X.endDrawing(),$.restore(),w||A){const U=P.canvas;w&&(k=l),A&&(S=u);const q=this.getSizeAndScale(k,this.ctx.canvas.width,b),G=this.getSizeAndScale(S,this.ctx.canvas.height,x),R=q.size,B=G.size,H=e.cachedCanvases.getCanvas("pattern-workaround",R,B),L=H.context,ae=w?Math.floor(m/l):0,Z=A?Math.floor(p/u):0;for(let de=0;de<=ae;de++)for(let Se=0;Se<=Z;Se++)L.drawImage(U,R*de,B*Se,R,B,0,0,R,B);return{canvas:H.canvas,scaleX:q.scale,scaleY:G.scale,offsetX:c,offsetY:d}}return{canvas:P.canvas,scaleX:T.scale,scaleY:j.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,n,r){const i=Math.max(Kb.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),e.current.updateRectMinMax(Lt(e.ctx),[n,r,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case I2.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case I2.UNCOLORED:const o=Te.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new SY(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let a=r;i!==ar.SHADING&&(a=Te.transform(a,n.baseTransform),this.matrix&&(a=Te.transform(a,this.matrix)));const s=this.createPatternCanvas(n);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};Ie(Kb,"MAX_PATTERN_SIZE",3e3);let Hk=Kb;function QY({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=lr.isLittleEndian?4278190080:255,[l,u]=s?[a,o]:[o,a],c=r>>3,d=r&7,h=t.length;n=new Uint32Array(n.buffer);let f=0;for(let m=0;m<i;m++){for(const v=e+c;e<v;e++){const y=e<h?t[e]:255;n[f++]=y&128?u:l,n[f++]=y&64?u:l,n[f++]=y&32?u:l,n[f++]=y&16?u:l,n[f++]=y&8?u:l,n[f++]=y&4?u:l,n[f++]=y&2?u:l,n[f++]=y&1?u:l}if(d===0)continue;const p=e<h?t[e++]:255;for(let v=0;v<d;v++)n[f++]=p&1<<7-v?u:l}return{srcPos:e,destPos:f}}const R2=16,j2=100,JY=15,L2=10,D2=1e3,wr=16;function eK(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,a,s,o,l){e.transform(r,i,a,s,o,l),this.__originalTransform(r,i,a,s,o,l)},t.setTransform=function(r,i,a,s,o,l){e.setTransform(r,i,a,s,o,l),this.__originalSetTransform(r,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class tK{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Uy(t,e,n,r,i,a,s,o,l,u){const[c,d,h,f,m,p]=Lt(t);if(d===0&&h===0){const b=s*c+m,x=Math.round(b),k=o*f+p,S=Math.round(k),w=(s+l)*c+m,A=Math.abs(Math.round(w)-x)||1,E=(o+u)*f+p,C=Math.abs(Math.round(E)-S)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(f),x,S),t.drawImage(e,n,r,i,a,0,0,A,C),t.setTransform(c,d,h,f,m,p),[A,C]}if(c===0&&f===0){const b=o*h+m,x=Math.round(b),k=s*d+p,S=Math.round(k),w=(o+u)*h+m,A=Math.abs(Math.round(w)-x)||1,E=(s+l)*d+p,C=Math.abs(Math.round(E)-S)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,x,S),t.drawImage(e,n,r,i,a,0,0,C,A),t.setTransform(c,d,h,f,m,p),[C,A]}t.drawImage(e,n,r,i,a,s,o,l,u);const v=Math.hypot(c,d),y=Math.hypot(h,f);return[v*l,y*u]}function nK(t){const{width:e,height:n}=t;if(e>D2||n>D2)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(n+1)),o,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const y of t.data){let b=128;for(;b>0;)d[h++]=y&b?0:255,b>>=1}let f=0;for(h=0,d[h]!==0&&(s[0]=1,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(s[l]=d[h]?2:1,++f),h++;for(d[h]!==0&&(s[l]=2,++f),o=1;o<n;o++){h=o*c,u=o*a,d[h-c]!==d[h]&&(s[u]=d[h]?1:8,++f);let y=(d[h]?4:0)+(d[h-c]?8:0);for(l=1;l<e;l++)y=(y>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[y]&&(s[u+l]=i[y],++f),h++;if(d[h-c]!==d[h]&&(s[u+l]=d[h]?2:4,++f),f>r)return null}for(h=c*(n-1),u=o*a,d[h]!==0&&(s[u]=8,++f),l=1;l<e;l++)d[h]!==d[h+1]&&(s[u+l]=d[h]?4:8,++f),h++;if(d[h]!==0&&(s[u+l]=4,++f),f>r)return null;const m=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(o=0;f&&o<=n;o++){let y=o*a;const b=y+e;for(;y<b&&!s[y];)y++;if(y===b)continue;p.moveTo(y%a,o);const x=y;let k=s[y];do{const S=m[k];do y+=S;while(!s[y]);const w=s[y];w!==5&&w!==10?(k=w,s[y]=0):(k=w&51*k>>4,s[y]&=k>>2|k<<2),p.lineTo(y%a,y/a|0),s[y]||--f}while(x!==y);--o}return d=null,s=null,function(y){y.save(),y.scale(1/e,-1/n),y.translate(0,-n),y.fill(p),y.beginPath(),y.restore()}}class $2{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Y$,this.textMatrixScale=1,this.fontMatrix=mk,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=zn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Te.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Te.applyTransform(n,e),i=Te.applyTransform(n.slice(2),e),a=Te.applyTransform([n[0],n[3]],e),s=Te.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,n){Te.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,a,s,o,l,u,c){const d=Te.bezierBoundingBox(n,r,i,a,s,o,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=ar.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===ar.STROKE){n||Et("Stroke bounding box must include transform.");const i=Te.singularValueDecompose2dScale(n),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=a,r[1]-=s,r[2]+=a,r[3]+=s}return r}updateClipFromPath(){const e=Te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ar.FILL,n=null){return Te.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function F2(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%wr,a=(n-i)/wr,s=i===0?a:a+1,o=t.createImageData(r,wr);let l=0,u;const c=e.data,d=o.data;let h,f,m,p;if(e.kind===Cv.GRAYSCALE_1BPP){const v=c.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),b=y.length,x=r+7>>3,k=4294967295,S=lr.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<a?wr:i,u=0,f=0;f<m;f++){const w=v-l;let A=0;const E=w>x?r:w*8-7,C=E&-8;let O=0,I=0;for(;A<C;A+=8)I=c[l++],y[u++]=I&128?k:S,y[u++]=I&64?k:S,y[u++]=I&32?k:S,y[u++]=I&16?k:S,y[u++]=I&8?k:S,y[u++]=I&4?k:S,y[u++]=I&2?k:S,y[u++]=I&1?k:S;for(;A<E;A++)O===0&&(I=c[l++],O=128),y[u++]=I&O?k:S,O>>=1}for(;u<b;)y[u++]=0;t.putImageData(o,0,h*wr)}}else if(e.kind===Cv.RGBA_32BPP){for(f=0,p=r*wr*4,h=0;h<a;h++)d.set(c.subarray(l,l+p)),l+=p,t.putImageData(o,0,f),f+=wr;h<s&&(p=r*i*4,d.set(c.subarray(l,l+p)),t.putImageData(o,0,f))}else if(e.kind===Cv.RGB_24BPP)for(m=wr,p=r*m,h=0;h<s;h++){for(h>=a&&(m=i,p=r*m),u=0,f=p;f--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(o,0,h*wr)}else throw new Error(`bad image kind: ${e.kind}`)}function B2(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%wr,a=(n-i)/wr,s=i===0?a:a+1,o=t.createImageData(r,wr);let l=0;const u=e.data,c=o.data;for(let d=0;d<s;d++){const h=d<a?wr:i;({srcPos:l}=QY({src:u,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),t.putImageData(o,0,d*wr)}}function _f(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Hy(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Qn){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function z2(t,e){if(e)return!0;const n=Te.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*rl.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const rK=["butt","round","square"],iK=["miter","round","bevel"],aK={},U2={};var sl,Wk,Vk;const tT=class tT{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,u){z(this,sl);this.ctx=e,this.current=new $2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new tK(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Lt(this.compositeCtx))}this.ctx.save(),Hy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Lt(this.ctx)}executeOperatorList(e,n,r,i){const a=e.argsArray,s=e.fnArray;let o=n||0;const l=a.length;if(l===o)return o;const u=l-o>L2&&typeof r=="function",c=u?Date.now()+JY:0;let d=0;const h=this.commonObjs,f=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(m=s[o],m!==$i.dependency)this[m].apply(this,a[o]);else for(const p of a[o]){const v=p.startsWith("g_")?h:f;if(!v.has(p))return v.get(p,r),o}if(o++,o===l)return o;if(u&&++d>L2){if(Date.now()>c)return r(),o;d=0}}}endDrawing(){F(this,sl,Wk).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,sl,Vk).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,u="prescale1",c,d;for(;a>2&&o>1||s>2&&l>1;){let h=o,f=l;a>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/h),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),c=this.cachedCanvases.getCanvas(u,h,f),d=c.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=c.canvas,o=h,l=f,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=Lt(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const E=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(E),l||(l=new Map,this._cachedBitmapsMap.set(E,l));const C=l.get(u);if(C&&!s){const O=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:C,offsetX:O,offsetY:I}}c=C}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),B2(d.context,e));let h=Te.transform(o,[1/r,0,0,-1/i,0,0]);h=Te.transform(h,[1,0,0,1,0,-i]);const[f,m,p,v]=Te.getAxialAlignedBoundingBox([0,0,r,i],h),y=Math.round(p-f)||1,b=Math.round(v-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",y,b),k=x.context,S=f,w=m;k.translate(-S,-w),k.transform(...h),c||(c=this._scaleImage(d.canvas,Ya(k)),c=c.img,l&&s&&l.set(u,c)),k.imageSmoothingEnabled=z2(Lt(k),e.interpolate),Uy(k,c,0,0,c.width,c.height,0,0,r,i),k.globalCompositeOperation="source-in";const A=Te.transform(Ya(k),[1,0,0,1,-S,-w]);return k.fillStyle=s?a.getPattern(n,this,A,ar.FILL):a,k.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(S),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=rK[e]}setLineJoin(e){this.ctx.lineJoin=iK[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...Lt(this.suspendedCtx)),_f(this.suspendedCtx,a),eK(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,l,u,c,d){let h=e.canvas,f=l-c,m=u-d;if(s){const v=Te.makeHexColor(...s);if(f<0||m<0||f+r>h.width||m+i>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),b=y.context;b.drawImage(h,-f,-m),b.globalCompositeOperation="destination-atop",b.fillStyle=v,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",h=y.canvas,f=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(f,m,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(f,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,u,r,i),n.clip(p),n.globalCompositeOperation="destination-in",n.drawImage(h,f,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(_f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,a,s){this.ctx.transform(e,n,r,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,u;const c=Lt(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=d?r.slice(0):null;for(let f=0,m=0,p=e.length;f<p;f++)switch(e[f]|0){case $i.rectangle:s=n[m++],o=n[m++];const v=n[m++],y=n[m++],b=s+v,x=o+y;i.moveTo(s,o),v===0||y===0?i.lineTo(b,x):(i.lineTo(b,o),i.lineTo(b,x),i.lineTo(s,x)),d||a.updateRectMinMax(c,[s,o,b,x]),i.closePath();break;case $i.moveTo:s=n[m++],o=n[m++],i.moveTo(s,o),d||a.updatePathMinMax(c,s,o);break;case $i.lineTo:s=n[m++],o=n[m++],i.lineTo(s,o),d||a.updatePathMinMax(c,s,o);break;case $i.curveTo:l=s,u=o,s=n[m+4],o=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,o),a.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,o,h),m+=6;break;case $i.curveTo2:l=s,u=o,i.bezierCurveTo(s,o,n[m],n[m+1],n[m+2],n[m+3]),a.updateCurvePathMinMax(c,l,u,s,o,n[m],n[m+1],n[m+2],n[m+3],h),s=n[m+2],o=n[m+3],m+=4;break;case $i.curveTo3:l=s,u=o,s=n[m+2],o=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,o,s,o),a.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,o,s,o,h),m+=4;break;case $i.closePath:i.closePath();break}d&&a.updateScalingPathMinMax(c,h),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,Ya(n),ar.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,Ya(n),ar.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),a&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=aK}eoClip(){this.pendingClip=U2}beginText(){this.current.textMatrix=Y$,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||mk,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&He("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${a}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=n;n<R2?u=R2:n>j2&&(u=j2),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,a,s){this.current.textMatrix=[e,n,r,i,a,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&zn.FILL_STROKE_MASK,d=!!(l&zn.ADD_TO_PATH_FLAG),h=s.patternFill&&!o.missingFile;let f;(o.disableFontFace||d||h)&&(f=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(a.save(),a.translate(n,r),a.beginPath(),f(a,u),i&&a.setTransform(...i),(c===zn.FILL||c===zn.FILL_STROKE)&&a.fill(),(c===zn.STROKE||c===zn.FILL_STROKE)&&a.stroke(),a.restore()):((c===zn.FILL||c===zn.FILL_STROKE)&&a.fillText(e,n,r),(c===zn.STROKE||c===zn.FILL_STROKE)&&a.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Lt(a),x:n,y:r,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ze(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const a=this.ctx,s=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,h=r.vertical,f=h?1:-1,m=r.defaultVMetrics,p=i*n.fontMatrix[0],v=n.textRenderingMode===zn.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(c,-1):a.scale(c,1);let y;if(n.patternFill){a.save();const w=n.fillColor.getPattern(a,this,Ya(a),ar.FILL);y=Lt(a),a.restore(),a.fillStyle=w}let b=n.lineWidth;const x=n.textMatrixScale;if(x===0||b===0){const w=n.textRenderingMode&zn.FILL_STROKE_MASK;(w===zn.STROKE||w===zn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=x;if(s!==1&&(a.scale(s,s),b/=s),a.lineWidth=b,r.isInvalidPDFjsFont){const w=[];let A=0;for(const E of e)w.push(E.unicode),A+=E.width;a.fillText(w.join(""),0,0),n.x+=A*p*c,a.restore(),this.compose();return}let k=0,S;for(S=0;S<d;++S){const w=e[S];if(typeof w=="number"){k+=f*w*i/1e3;continue}let A=!1;const E=(w.isSpace?l:0)+o,C=w.fontChar,O=w.accent;let I,T,j=w.width;if(h){const $=w.vmetric||m,X=-(w.vmetric?$[1]:j*.5)*p,U=$[2]*p;j=$?-$[0]:j,I=X/s,T=(k+U)/s}else I=k/s,T=0;if(r.remeasure&&j>0){const $=a.measureText(C).width*1e3/i*s;if(j<$&&this.isFontSubpixelAAEnabled){const X=j/$;A=!0,a.save(),a.scale(X,1),I/=X}else j!==$&&(I+=(j-$)/2e3*i/s)}if(this.contentVisible&&(w.isInFont||r.missingFile)){if(v&&!O)a.fillText(C,I,T);else if(this.paintChar(C,I,T,y),O){const $=I+i*O.offset.x/s,X=T-i*O.offset.y/s;this.paintChar(O.fontChar,$,X,y)}}const P=h?j*p-E*u:j*p+E*u;k+=P,A&&a.restore()}h?n.y-=k:n.x+=k*c,a.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,a=r.fontSize,s=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||mk,h=e.length,f=r.textRenderingMode===zn.INVISIBLE;let m,p,v,y;if(!(f||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<h;++m){if(p=e[m],typeof p=="number"){y=o*p*a/1e3,this.ctx.translate(y,0),r.x+=y*c;continue}const b=(p.isSpace?u:0)+l,x=i.charProcOperatorList[p.operatorListId];if(!x){He(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),n.scale(a,a),n.transform(...d),this.executeOperatorList(x),this.restore()),v=Te.applyTransform([p.width,0],d)[0]*a+b,n.translate(v,0),r.x+=v*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,a,s){this.ctx.rect(r,i,a-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Lt(this.ctx),a={createCanvasGraphics:s=>new tT(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Hk(e,r,this.ctx,a,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){this.ctx.strokeStyle=this.current.strokeColor=Te.makeHexColor(e,n,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,n,r){this.ctx.fillStyle=this.current.fillColor=Te.makeHexColor(e,n,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=ZY(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,Ya(n),ar.SHADING);const i=Ya(n);if(i){const{width:a,height:s}=n.canvas,[o,l,u,c]=Te.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,u-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Et("Should not call beginInlineImage")}beginImageData(){Et("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Lt(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Lt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Ox("TODO: Support non-isolated groups."),e.knockout&&He("Knockout groups not supported.");const r=Lt(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Te.getAxialAlignedBoundingBox(e.bbox,Lt(n));const a=[0,0,n.canvas.width,n.canvas.height];i=Te.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),h=d.context;h.translate(-s,-o),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,o),n.save()),_f(n,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Lt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Te.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,a){if(F(this,sl,Wk).call(this),Hy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],o=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=o;const[l,u]=Te.singularValueDecompose2dScale(Lt(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),Hy(this.ctx)}else Hy(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new $2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),F(this,sl,Vk).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=nK(e)),i.compiled)){i.compiled(r);return}const a=this._createMaskCanvas(e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Lt(o);o.transform(n,r,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const h=Te.transform(l,[n,r,i,a,s[c],s[c+1]]),[f,m]=Te.applyTransform([0,0],h);o.drawImage(u.canvas,f,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:u}=a,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=c.context;d.save();const h=this.getObject(s,a);B2(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Ya(n),ar.FILL):r,d.fillRect(0,0,o,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),Uy(n,c.canvas,0,0,o,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){He("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!Qn){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;F2(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,Ya(i));i.imageSmoothingEnabled=z2(Lt(i),e.interpolate),Uy(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;F2(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),Uy(r,i,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===U2?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Lt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(a);if(l===u)if(e===0)s=o=1/l;else{const c=l*e;s=o=c<1?1/c:1}else if(e===0)s=1/l,o=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,o=d<1?1/d:1}}else{const l=Math.abs(n*a-r*i),u=Math.hypot(n,r),c=Math.hypot(i,a);if(e===0)s=c/l,o=u/l;else{const d=e*l;s=c>d?c/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,a]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&a===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,a),s.length>0){const o=Math.max(i,a);n.setLineDash(s.map(l=>l/o)),n.lineDashOffset/=o}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};sl=new WeakSet,Wk=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vk=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let id=tT;for(const t in $i)id.prototype[t]!==void 0&&(id.prototype[$i[t]]=id.prototype[t]);var Zm,Qm;class Es{static get workerPort(){return g(this,Zm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");D(this,Zm,e)}static get workerSrc(){return g(this,Qm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");D(this,Qm,e)}}Zm=new WeakMap,Qm=new WeakMap,z(Es,Zm,null),z(Es,Qm,"");const Wy={DATA:1,ERROR:2},Kt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Rr(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new lc(t.message);case"MissingPDFException":return new oc(t.message);case"PasswordException":return new gk(t.message,t.code);case"UnexpectedResponseException":return new Mx(t.message,t.status);case"UnknownErrorException":return new yk(t.message,t.details);default:return new yk(t.message,t.toString())}}var Ed,Ei,IF,RF,jF,jv;class Yf{constructor(e,n,r){z(this,Ei);z(this,Ed,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Ei,IF).bind(this),{signal:g(this,Ed).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[a].pullCall=c,l.postMessage({sourceName:s,targetName:o,stream:Kt.PULL,streamId:a,desiredSize:u.desiredSize}),c.promise},cancel:u=>{fn(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[a].cancelCall=c,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Kt.CANCEL,streamId:a,reason:Rr(u)}),c.promise}},r)}destroy(){var e;(e=g(this,Ed))==null||e.abort(),D(this,Ed,null)}}Ed=new WeakMap,Ei=new WeakSet,IF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Ei,jF).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Wy.DATA)i.resolve(e.data);else if(e.callback===Wy.ERROR)i.reject(Rr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(s){s(n(e.data))}).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:Wy.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:Wy.ERROR,callbackId:e.callbackId,reason:Rr(s)})});return}if(e.streamId){F(this,Ei,RF).call(this,e);return}n(e.data)},RF=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Kt.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Kt.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){fn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Kt.ERROR,streamId:n,reason:Rr(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Kt.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:Kt.START_COMPLETE,streamId:n,reason:Rr(u)})})},jF=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Kt.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Rr(e.reason));break;case Kt.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Rr(e.reason));break;case Kt.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:Kt.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Kt.PULL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:Kt.PULL_COMPLETE,streamId:n,reason:Rr(l)})});break;case Kt.ENQUEUE:if(fn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Kt.CLOSE:if(fn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),F(this,Ei,jv).call(this,s,n);break;case Kt.ERROR:fn(s,"error should have stream controller"),s.controller.error(Rr(e.reason)),F(this,Ei,jv).call(this,s,n);break;case Kt.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Rr(e.reason)),F(this,Ei,jv).call(this,s,n);break;case Kt.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,Rr(e.reason)))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Kt.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:Kt.CANCEL_COMPLETE,streamId:n,reason:Rr(l)})}),o.sinkCapability.reject(Rr(e.reason)),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},jv=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var su,Jm;class sK{constructor({parsedData:e,rawData:n}){z(this,su);z(this,Jm);D(this,su,e),D(this,Jm,n)}getRaw(){return g(this,Jm)}get(e){return g(this,su).get(e)??null}getAll(){return NC(g(this,su))}has(e){return g(this,su).has(e)}}su=new WeakMap,Jm=new WeakMap;const Tc=Symbol("INTERNAL");var eg,tg,ng,Cd;class oK{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){z(this,eg,!1);z(this,tg,!1);z(this,ng,!1);z(this,Cd,!0);D(this,eg,!!(e&Gr.DISPLAY)),D(this,tg,!!(e&Gr.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(g(this,ng))return g(this,Cd);if(!g(this,Cd))return!1;const{print:e,view:n}=this.usage;return g(this,eg)?(n==null?void 0:n.viewState)!=="OFF":g(this,tg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Tc&&Et("Internal method `_setVisible` called."),D(this,ng,r),D(this,Cd,n)}}eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,Cd=new WeakMap;var ko,ut,Pd,Td,rg,Gk;class lK{constructor(e,n=Gr.DISPLAY){z(this,rg);z(this,ko,null);z(this,ut,new Map);z(this,Pd,null);z(this,Td,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,D(this,Td,e.order);for(const r of e.groups)g(this,ut).set(r.id,new oK(n,r));if(e.baseState==="OFF")for(const r of g(this,ut).values())r._setVisible(Tc,!1);for(const r of e.on)g(this,ut).get(r)._setVisible(Tc,!0);for(const r of e.off)g(this,ut).get(r)._setVisible(Tc,!1);D(this,Pd,this.getHash())}}isVisible(e){if(g(this,ut).size===0)return!0;if(!e)return Ox("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,ut).has(e.id)?g(this,ut).get(e.id).visible:(He(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,rg,Gk).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!g(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(g(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!g(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(!g(this,ut).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!g(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(!g(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!g(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(g(this,ut).get(n).visible)return!1}return!0}return He(`Unknown optional content policy ${e.policy}.`),!0}return He(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=g(this,ut).get(e);if(!i){He(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=g(this,ut).get(o))==null||a._setVisible(Tc,!1,!0));i._setVisible(Tc,!!n,!0),D(this,ko,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=g(this,ut).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}D(this,ko,null)}get hasInitialVisibility(){return g(this,Pd)===null||this.getHash()===g(this,Pd)}getOrder(){return g(this,ut).size?g(this,Td)?g(this,Td).slice():[...g(this,ut).keys()]:null}getGroups(){return g(this,ut).size>0?NC(g(this,ut)):null}getGroup(e){return g(this,ut).get(e)||null}getHash(){if(g(this,ko)!==null)return g(this,ko);const e=new SF;for(const[n,r]of g(this,ut))e.update(`${n}:${r.visible}`);return D(this,ko,e.hexdigest())}}ko=new WeakMap,ut=new WeakMap,Pd=new WeakMap,Td=new WeakMap,rg=new WeakSet,Gk=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=F(this,rg,Gk).call(this,a);else if(g(this,ut).has(a))s=g(this,ut).get(a).visible;else return He(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class uK{constructor(e,{disableRange:n=!1,disableStream:r=!1}){fn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});fn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){fn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new cK(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new dK(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class cK{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=jC(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dK{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hK(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=o(n);return c=unescape(c),c=l(c),c=u(c),a(c)}if(n=s(t),n){const c=u(n);return a(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=o(n);return c=u(c),a(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(c,{fatal:!0}),f=Nx(d);d=h.decode(f),e=!1}catch{}}return d}function a(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let h;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(c))!==null;){let[,p,v,y]=h;if(p=parseInt(p,10),p in d){if(p===0)break;continue}d[p]=[v,y]}const m=[];for(let p=0;p<d.length&&p in d;++p){let[v,y]=d[p];y=o(y),v&&(y=unescape(y),p===0&&(y=l(y))),m.push(y)}return m.join("")}function o(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const h=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(h,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,m){if(f==="q"||f==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),i(h,m);try{m=atob(m)}catch{}return i(h,m)})}return""}function BC(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function zC({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function UC(t){const e=t.get("Content-Disposition");if(e){let n=hK(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(jC(n))return n}return null}function jx(t,e){return t===404||t===0&&e.startsWith("file:")?new oc('Missing PDF "'+e+'".'):new Mx(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function LF(t){return t===200||t===206}function DF(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function $F(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(He(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class H2{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=BC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new pK(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class fK{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,DF(r,this._withCredentials,this._abortController)).then(a=>{if(!LF(a.status))throw jx(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=zC({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=UC(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new lc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$F(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class pK{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,DF(a,this._withCredentials,this._abortController)).then(o=>{if(!LF(o.status))throw jx(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:$F(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const k1=200,_1=206;function mK(t){const e=t.response;return typeof e!="string"?e:Nx(e).buffer}class gK{constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=BC(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const a in r)i[a]=r[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=_1):i.expectedStatus=k1,n.responseType="arraybuffer",e.onError&&(n.onerror=function(a){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const a=i.status||k1;if(!(a===k1&&r.expectedStatus===_1)&&a!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const o=mK(i);if(a===_1){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class yK{constructor(e){this._source=e,this._manager=new gK(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return fn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new vK(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new bK(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vK{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{const[o,...l]=s.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=zC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=UC(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=jx(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bK{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=jx(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const xK=/^[a-z][a-z0-9\-+.]+:/i;function wK(t){if(xK.test(t))return new URL(t);const e=il.get("url");return new URL(e.pathToFileURL(t))}function FF(t,e,n){return t.protocol==="http:"?il.get("http").request(t,{headers:e},n):il.get("https").request(t,{headers:e},n)}class SK{constructor(e){this.source=e,this.url=wK(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=BC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new AK(this):new kK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new EK(this,e,n):new _K(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class BF{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new lc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class zF{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class kK extends BF{constructor(e){super(e);const n=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new oc(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:o}=zC({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=UC(a)};this._request=FF(this._url,n,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class _K extends zF{constructor(e,n,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${n}-${r-1}`;const a=s=>{if(s.statusCode===404){const o=new oc(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=FF(this._url,i,a),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class AK extends BF{constructor(e){super(e);const n=il.get("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new oc(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class EK extends zF{constructor(e,n,r){super(e);const i=il.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:n,end:r-1}))}}const CK=1e5,mr=30,PK=.8;var nj,_o,br,ig,ag,ou,ls,sg,og,lu,Od,Md,Ao,Nd,lg,Id,uu,ug,cg,zt,cu,du,dg,Eo,Rd,qs,UF,HF,Xk,ti,Lv,Yk,WF,VF;let qk=(zt=class{constructor({textContentSource:e,container:n,viewport:r}){z(this,qs);z(this,_o,Promise.withResolvers());z(this,br,null);z(this,ig,!1);z(this,ag,!!((nj=globalThis.FontInspector)!=null&&nj.enabled));z(this,ou,null);z(this,ls,null);z(this,sg,0);z(this,og,0);z(this,lu,null);z(this,Od,null);z(this,Md,0);z(this,Ao,0);z(this,Nd,Object.create(null));z(this,lg,[]);z(this,Id,null);z(this,uu,[]);z(this,ug,new WeakMap);z(this,cg,null);var l;if(e instanceof ReadableStream)D(this,Id,e);else if(typeof e=="object")D(this,Id,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,br,D(this,Od,n)),D(this,Ao,r.scale*(globalThis.devicePixelRatio||1)),D(this,Md,r.rotation),D(this,ls,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;D(this,cg,[1,0,0,-1,-s,o+a]),D(this,og,i),D(this,sg,a),F(l=zt,ti,WF).call(l),qu(n,r),g(this,_o).promise.finally(()=>{g(zt,Rd).delete(this),D(this,ls,null),D(this,Nd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=lr.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,lu).read().then(({value:n,done:r})=>{if(r){g(this,_o).resolve();return}g(this,ou)??D(this,ou,n.lang),Object.assign(g(this,Nd),n.styles),F(this,qs,UF).call(this,n.items),e()},g(this,_o).reject)};return D(this,lu,g(this,Id).getReader()),g(zt,Rd).add(this),e(),g(this,_o).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,Md)&&(n==null||n(),D(this,Md,i),qu(g(this,Od),{rotation:i})),r!==g(this,Ao)){n==null||n(),D(this,Ao,r);const s={div:null,properties:null,ctx:F(a=zt,ti,Lv).call(a,g(this,ou))};for(const o of g(this,uu))s.properties=g(this,ug).get(o),s.div=o,F(this,qs,Xk).call(this,s)}}cancel(){var n;const e=new lc("TextLayer task cancelled.");(n=g(this,lu))==null||n.cancel(e).catch(()=>{}),D(this,lu,null),g(this,_o).reject(e)}get textDivs(){return g(this,uu)}get textContentItemsStr(){return g(this,lg)}static cleanup(){if(!(g(this,Rd).size>0)){g(this,cu).clear();for(const{canvas:e}of g(this,du).values())e.remove();g(this,du).clear()}}},_o=new WeakMap,br=new WeakMap,ig=new WeakMap,ag=new WeakMap,ou=new WeakMap,ls=new WeakMap,sg=new WeakMap,og=new WeakMap,lu=new WeakMap,Od=new WeakMap,Md=new WeakMap,Ao=new WeakMap,Nd=new WeakMap,lg=new WeakMap,Id=new WeakMap,uu=new WeakMap,ug=new WeakMap,cg=new WeakMap,cu=new WeakMap,du=new WeakMap,dg=new WeakMap,Eo=new WeakMap,Rd=new WeakMap,qs=new WeakSet,UF=function(e){var i,a;if(g(this,ig))return;(a=g(this,ls)).ctx??(a.ctx=F(i=zt,ti,Lv).call(i,g(this,ou)));const n=g(this,uu),r=g(this,lg);for(const s of e){if(n.length>CK){He("Ignoring additional textDivs for performance reasons."),D(this,ig,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=g(this,br);D(this,br,document.createElement("span")),g(this,br).classList.add("markedContent"),s.id!==null&&g(this,br).setAttribute("id",`${s.id}`),o.append(g(this,br))}else s.type==="endMarkedContent"&&D(this,br,g(this,br).parentNode);continue}r.push(s.str),F(this,qs,HF).call(this,s)}},HF=function(e){var p;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,uu).push(n);const i=Te.transform(g(this,cg),e.transform);let a=Math.atan2(i[1],i[0]);const s=g(this,Nd)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=g(this,ag)&&s.fontSubstitution||s.fontFamily;o=zt.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*F(p=zt,ti,VF).call(p,o,g(this,ou));let c,d;a===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(a),d=i[5]-u*Math.cos(a));const h="calc(var(--scale-factor)*",f=n.style;g(this,br)===g(this,Od)?(f.left=`${(100*c/g(this,og)).toFixed(2)}%`,f.top=`${(100*d/g(this,sg)).toFixed(2)}%`):(f.left=`${h}${c.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(g(zt,Eo)*l).toFixed(2)}px)`,f.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,g(this,ag)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);v!==y&&Math.max(v,y)/Math.min(v,y)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),g(this,ug).set(n,r),g(this,ls).div=n,g(this,ls).properties=r,F(this,qs,Xk).call(this,g(this,ls)),r.hasText&&g(this,br).append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),g(this,br).append(v)}},Xk=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(g(zt,Eo)>1&&(s=`scale(${1/g(zt,Eo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:c}=r;F(o=zt,ti,Yk).call(o,i,c*g(this,Ao),l);const{width:d}=i.measureText(n.textContent);d>0&&(s=`scaleX(${u*g(this,Ao)/d}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},ti=new WeakSet,Lv=function(e=null){let n=g(this,du).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,du).set(e,n),g(this,dg).set(n,{size:0,family:""})}return n},Yk=function(e,n,r){const i=g(this,dg).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},WF=function(){if(g(this,Eo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),D(this,Eo,e.getBoundingClientRect().height),e.remove()},VF=function(e,n){const r=g(this,cu).get(e);if(r)return r;const i=F(this,ti,Lv).call(this,n);i.canvas.width=i.canvas.height=mr,F(this,ti,Yk).call(this,i,mr,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const c=s/(s+o);return g(this,cu).set(e,c),i.canvas.width=i.canvas.height=0,c}i.strokeStyle="red",i.clearRect(0,0,mr,mr),i.strokeText("g",0,0);let l=i.getImageData(0,0,mr,mr).data;o=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){o=Math.ceil(c/4/mr);break}i.clearRect(0,0,mr,mr),i.strokeText("A",0,mr),l=i.getImageData(0,0,mr,mr).data,s=0;for(let c=0,d=l.length;c<d;c+=4)if(l[c]>0){s=mr-Math.floor(c/4/mr);break}i.canvas.width=i.canvas.height=0;const u=s?s/(s+o):PK;return g(this,cu).set(e,u),u},z(zt,ti),z(zt,cu,new Map),z(zt,du,new Map),z(zt,dg,new WeakMap),z(zt,Eo,null),z(zt,Rd,new Set),zt);class qp{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(qp.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const u of a.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const TK=65536,OK=100,MK=5e3,NK=Qn?WY:zY,IK=Qn?VY:CF,RK=Qn?HY:UY,jK=Qn?GY:MF;function LK(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new Kk,{docId:n}=e,r=t.url?DK(t.url):null,i=t.data?$K(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof GF?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:TK;let c=t.worker instanceof ad?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!Rx(t.docBaseUrl)?t.docBaseUrl:null,f=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,p=t.CMapReaderFactory||IK,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,y=t.StandardFontDataFactory||jK,b=t.stopAtErrors!==!0,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,S=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Qn,w=typeof t.isChrome=="boolean"?t.isChrome:!lr.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),A=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E=typeof t.disableFontFace=="boolean"?t.disableFontFace:Qn,C=t.fontExtraProperties===!0,O=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,T=t.disableRange===!0,j=t.disableStream===!0,P=t.disableAutoFetch===!0,$=t.pdfBug===!0,X=t.CanvasFactory||NK,U=t.FilterFactory||RK,q=t.enableHWA===!0,G=l?l.length:t.length??NaN,R=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Qn&&!E,B=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===CF&&y===MF&&f&&v&&Uf(f,document.baseURI)&&Uf(v,document.baseURI);t.canvasFactory&&M2("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&M2("`filterFactory`-instance option, please use `FilterFactory` instead.");const H=null;vY(d);const L={canvasFactory:new X({ownerDocument:I,enableHWA:q}),filterFactory:new U({docId:n,ownerDocument:I}),cMapReaderFactory:B?null:new p({baseUrl:f,isCompressed:m}),standardFontDataFactory:B?null:new y({baseUrl:v})};if(!c){const de={verbosity:d,port:Es.workerPort};c=de.port?ad.fromPort(de):new ad(de),e._worker=c}const ae={docId:n,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:P,rangeChunkSize:u,length:G,docBaseUrl:h,enableXfa:O,evaluatorOptions:{maxImageSize:x,disableFontFace:E,ignoreErrors:b,isEvalSupported:k,isOffscreenCanvasSupported:S,isChrome:w,canvasMaxAreaInBytes:A,fontExtraProperties:C,useSystemFonts:R,cMapUrl:B?f:null,standardFontDataUrl:B?v:null}},Z={disableFontFace:E,fontExtraProperties:C,ownerDocument:I,pdfBug:$,styleElement:H,loadingParams:{disableAutoFetch:P,enableXfa:O}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const de=c.messageHandler.sendWithPromise("GetDocRequest",ae,i?[i.buffer]:null);let Se;if(l)Se=new uK(l,{disableRange:T,disableStream:j});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ge;Qn?ge=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Uf(r)?H2:SK:ge=Uf(r)?H2:yK,Se=new ge({url:r,length:G,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:T,disableStream:j})}return de.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ie=new Yf(n,ge,c.port),he=new UK(ie,e,Se,Z,L);e._transport=he,ie.send("Ready",null)})}).catch(e._capability.reject),e}function DK(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Qn&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $K(t){if(Qn&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Nx(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function W2(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var Zb;const Qb=class Qb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tr(Qb,Zb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Zb=new WeakMap,z(Qb,Zb,0);let Kk=Qb,GF=class{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class FK{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Co,us,bi,Oc,Dv;class BK{constructor(e,n,r,i=!1){z(this,bi);z(this,Co,null);z(this,us,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new O2:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new qF,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new ty({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=uo.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:d=!1}){var k,S;(k=this._stats)==null||k.time("Overall");const h=this._transport.getRenderingIntent(r,i,c,d),{renderingIntent:f,cacheKey:m}=h;D(this,us,!1),F(this,bi,Dv).call(this),o||(o=this._transport.getOptionalContentConfig(f));let p=this._intentStates.get(m);p||(p=Object.create(null),this._intentStates.set(m,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const v=!!(f&Gr.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(h));const y=w=>{var A;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||v)&&D(this,us,!0),F(this,bi,Oc).call(this,!v),w?(b.capability.reject(w),this._abortOperatorList({intentState:p,reason:w instanceof Error?w:new Error(w)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new Qk({callback:y,params:{canvasContext:e,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(b);const x=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([w,A])=>{var E;if(this.destroyed){y();return}if((E=this._stats)==null||E.time("Rendering"),!(A.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:w,optionalContentConfig:A}),b.operatorListChanged()}).catch(y),x}getOperatorList({intent:e="display",annotationMode:n=uo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>qp.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),D(this,us,!1),F(this,bi,Dv).call(this),Promise.all(e)}cleanup(e=!1){D(this,us,!0);const n=F(this,bi,Oc).call(this,!1);return e&&n&&this._stats&&(this._stats=new O2),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,bi,Oc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(n);u.streamReader=l;const c=()=>{l.read().then(({value:d,done:h})=>{if(h){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),c())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const h of u.renderTasks)h.operatorListChanged();F(this,bi,Oc).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};c()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof RC){let i=OK;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new lc(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Co=new WeakMap,us=new WeakMap,bi=new WeakSet,Oc=function(e=!1){if(F(this,bi,Dv).call(this),!g(this,us)||this.destroyed)return!1;if(e)return D(this,Co,setTimeout(()=>{D(this,Co,null),F(this,bi,Oc).call(this,!1)},MK)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,us,!1),!0},Dv=function(){g(this,Co)&&(clearTimeout(g(this,Co)),D(this,Co,null))};var cs,Jb;class zK{constructor(){z(this,cs,new Map);z(this,Jb,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};g(this,Jb).then(()=>{for(const[i]of g(this,cs))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}g(this,cs).set(n,i)}removeEventListener(e,n){const r=g(this,cs).get(n);r==null||r(),g(this,cs).delete(n)}terminate(){for(const[,e]of g(this,cs))e==null||e();g(this,cs).clear()}}cs=new WeakMap,Jb=new WeakMap;var ex,hu,fu,jd,$v,Ld,Fv;const Tt=class Tt{constructor({name:e=null,port:n=null,verbosity:r=bY()}={}){z(this,jd);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=g(Tt,fu))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(g(Tt,fu)||D(Tt,fu,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Qn?Promise.all([il.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Yf("main","worker",e),this._messageHandler.on("ready",function(){}),F(this,jd,$v).call(this)}_initialize(){if(g(Tt,hu)||g(Tt,Ld,Fv)){this._setupFakeWorker();return}let{workerSrc:e}=Tt;try{Tt._isSameOrigin(window.location.href,e)||(e=Tt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Yf("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,F(this,jd,$v).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{Ox("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(Tt,hu)||(He("Setting up fake worker."),D(Tt,hu,!0)),Tt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new zK;this._port=n;const r=`fake${tr(Tt,ex)._++}`,i=new Yf(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new Yf(r,r+"_worker",n),F(this,jd,$v).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(Tt,fu))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=g(this,fu))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Tt(e)}static get workerSrc(){if(Es.workerSrc)return Es.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>g(this,Ld,Fv)?g(this,Ld,Fv):(await import(this.workerSrc)).WorkerMessageHandler)())}};ex=new WeakMap,hu=new WeakMap,fu=new WeakMap,jd=new WeakSet,$v=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ld=new WeakSet,Fv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},z(Tt,Ld),z(Tt,ex,0),z(Tt,hu,!1),z(Tt,fu),Qn&&(D(Tt,hu,!0),Es.workerSrc||(Es.workerSrc="./pdf.worker.mjs")),Tt._isSameOrigin=(e,n)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(n,r);return r.origin===i.origin},Tt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let ad=Tt;var ds,Ca,Dd,$d,Pa,pu,Kf;class UK{constructor(e,n,r,i,a){z(this,pu);z(this,ds,new Map);z(this,Ca,new Map);z(this,Dd,new Map);z(this,$d,new Map);z(this,Pa,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new qF,this.fontLoader=new FY({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new $C)}getRenderingIntent(e,n=uo.ENABLE,r=null,i=!1,a=!1){let s=Gr.DISPLAY,o=$k;switch(e){case"any":s=Gr.ANY;break;case"display":break;case"print":s=Gr.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${e}`)}const l=s&Gr.PRINT&&r instanceof _F?r:this.annotationStorage;switch(n){case uo.DISABLE:s+=Gr.ANNOTATIONS_DISABLE;break;case uo.ENABLE:break;case uo.ENABLE_FORMS:s+=Gr.ANNOTATIONS_FORMS;break;case uo.ENABLE_STORAGE:s+=Gr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=Gr.IS_EDITING),a&&(s+=Gr.OPLIST);const{ids:u,hash:c}=l.modifiedIds,d=[s,o.hash,c];return{renderingIntent:s,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=g(this,Pa))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,Ca).values())e.push(i._destroy());g(this,Ca).clear(),g(this,Dd).clear(),g(this,$d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,ds).clear(),this.filterFactory.destroy(),qk.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new lc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{fn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}fn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{fn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}fn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new FK(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new gk(r.message,r.code);break;case"InvalidPDFException":i=new K$(r.message);break;case"MissingPDFException":i=new oc(r.message);break;case"UnexpectedResponseException":i=new Mx(r.message,r.status);break;case"UnknownErrorException":i=new yk(r.message,r.details);break;default:Et("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(D(this,Pa,Promise.withResolvers()),n.onPassword){const i=a=>{a instanceof Error?g(this,Pa).reject(a):g(this,Pa).resolve({password:a})};try{n.onPassword(i,r.code)}catch(a){g(this,Pa).reject(a)}}else g(this,Pa).reject(new gk(r.message,r.code));return g(this,Pa).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;g(this,Ca).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in a){const f=a.error;He(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new BY(a,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=a;fn(h,"The imageRef must be defined.");for(const f of g(this,Ca).values())for(const[,m]of f.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var l;if(this.destroyed)return;const o=g(this,Ca).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(r,s),(s==null?void 0:s.dataLen)>pY&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=g(this,Dd).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,$d).set(a.refStr,e);const s=new BK(n,a,this,this._params.pdfBug);return g(this,Ca).set(n,s),s});return g(this,Dd).set(n,i),i}getPageIndex(e){return W2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,pu,Kf).call(this,"GetFieldObjects")}hasJSActions(){return F(this,pu,Kf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return F(this,pu,Kf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,pu,Kf).call(this,"GetOptionalContentConfig").then(n=>new lK(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=g(this,ds).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new sK(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return g(this,ds).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of g(this,Ca).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,ds).clear(),this.filterFactory.destroy(!0),qk.cleanup()}}cachedPageNumber(e){if(!W2(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,$d).get(n)??null}}ds=new WeakMap,Ca=new WeakMap,Dd=new WeakMap,$d=new WeakMap,Pa=new WeakMap,pu=new WeakSet,Kf=function(e,n=null){const r=g(this,ds).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return g(this,ds).set(e,i),i};const Vy=Symbol("INITIAL_DATA");var Wi,hg,Zk;class qF{constructor(){z(this,hg);z(this,Wi,Object.create(null))}get(e,n=null){if(n){const i=F(this,hg,Zk).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=g(this,Wi)[e];if(!r||r.data===Vy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=g(this,Wi)[e];return!!n&&n.data!==Vy}resolve(e,n=null){const r=F(this,hg,Zk).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in g(this,Wi)){const{data:r}=g(this,Wi)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}D(this,Wi,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,Wi)){const{data:n}=g(this,Wi)[e];n!==Vy&&(yield[e,n])}}}Wi=new WeakMap,hg=new WeakSet,Zk=function(e){var n;return(n=g(this,Wi))[e]||(n[e]={...Promise.withResolvers(),data:Vy})};var Po;class HK{constructor(e){z(this,Po,null);D(this,Po,e),this.onContinue=null}get promise(){return g(this,Po).capability.promise}cancel(e=0){g(this,Po).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,Po).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=g(this,Po);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Po=new WeakMap;var To,mu;const Il=class Il{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){z(this,To,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new HK(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var o,l;if(this.cancelled)return;if(this._canvas){if(g(Il,mu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Il,mu).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new id(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),g(this,To)&&(window.cancelAnimationFrame(g(this,To)),D(this,To,null)),g(Il,mu).delete(this._canvas),this.callback(e||new RC(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,To,window.requestAnimationFrame(()=>{D(this,To,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Il,mu).delete(this._canvas),this.callback())))}};To=new WeakMap,mu=new WeakMap,z(Il,mu,new WeakSet);let Qk=Il;const WK="4.8.69",VK="3634dab10";function V2(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Af(t){return Math.max(0,Math.min(255,255*t))}class G2{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Af(e),[e,e,e]}static G_HTML([e]){const n=V2(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Af)}static RGB_HTML(e){return`#${e.map(V2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Af(1-Math.min(1,e+i)),Af(1-Math.min(1,r+i)),Af(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class GK{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Et("Abstract method `_createSVG` called.")}}class HC extends GK{_createSVG(e){return document.createElementNS(Za,e)}}class XF{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,h;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);s.append(f),o&&qp.shouldBuildText(i.name)&&u.push(f)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[f,m,p]=c.at(-1);if(m+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const x=document.createTextNode(v.value);u.push(x),p.append(x);continue}const b=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(p.append(b),v.attributes&&this.setAttributes({html:b,element:v,storage:n,intent:a,linkService:r}),((h=v.children)==null?void 0:h.length)>0)c.push([v,-1,b]);else if(v.value){const x=document.createTextNode(v.value);o&&qp.shouldBuildText(y)&&u.push(x),b.append(x)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ry=1e3,qK=9,Yu=new WeakSet;function Is(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class XK{static create(e){switch(e.data.annotationType){case sn.LINK:return new YF(e);case sn.TEXT:return new YK(e);case sn.WIDGET:switch(e.data.fieldType){case"Tx":return new KK(e);case"Btn":return e.data.radioButton?new QF(e):e.data.checkBox?new QK(e):new JK(e);case"Ch":return new eZ(e);case"Sig":return new ZK(e)}return new uc(e);case sn.POPUP:return new e_(e);case sn.FREETEXT:return new r3(e);case sn.LINE:return new nZ(e);case sn.SQUARE:return new rZ(e);case sn.CIRCLE:return new iZ(e);case sn.POLYLINE:return new i3(e);case sn.CARET:return new sZ(e);case sn.INK:return new WC(e);case sn.POLYGON:return new aZ(e);case sn.HIGHLIGHT:return new a3(e);case sn.UNDERLINE:return new oZ(e);case sn.SQUIGGLY:return new lZ(e);case sn.STRIKEOUT:return new uZ(e);case sn.STAMP:return new s3(e);case sn.FILEATTACHMENT:return new cZ(e);default:return new Yt(e)}}}var gu,Fd,Bd,fg,Jk;const nT=class nT{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){z(this,fg);z(this,gu,null);z(this,Fd,!1);z(this,Bd,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nT._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;g(this,gu)||D(this,gu,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&F(this,fg,Jk).call(this,n),(r=g(this,Bd))==null||r.popup.updateEdited(e)}resetEdited(){var e;g(this,gu)&&(F(this,fg,Jk).call(this,g(this,gu).rect),(e=g(this,Bd))==null||e.popup.resetEdited(),D(this,gu,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),this instanceof uc||(a.tabIndex=ry);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof e_){const{rotation:p}=n;return!n.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:o,height:l}=Is(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const p=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(p>0||v>0){const b=`calc(${p}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;s.borderRadius=b}else if(this instanceof QF){const b=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=b}switch(n.borderStyle.style){case kf.SOLID:s.borderStyle="solid";break;case kf.DASHED:s.borderStyle="dashed";break;case kf.BEVELED:He("Unimplemented border style: beveled");break;case kf.INSET:He("Unimplemented border style: inset");break;case kf.UNDERLINE:s.borderBottomStyle="solid";break}const y=n.borderColor||null;y?(D(this,Fd,!0),s.borderColor=Te.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):s.borderWidth=0}const u=Te.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:f}=i.rawDims;s.left=`${100*(u[0]-h)/c}%`,s.top=`${100*(u[1]-f)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*o/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=Is(this.data.rect);let o,l;e%180===0?(o=100*a/r,l=100*s/i):(o=100*s/r,l=100*a/i),n.style.width=`${o}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=G2[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:G2[`${s}_rgb`](o)})};return Ze(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,y,b]=e.subarray(2,6);if(i===p&&a===v&&n===y&&r===b)return}const{style:s}=this.container;let o;if(g(this,Fd)){const{borderColor:p,borderWidth:v}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-n,u=a-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const f=c.createElement("clipPath"),m=`clippath_${this.data.id}`;f.setAttribute("id",m),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let p=2,v=e.length;p<v;p+=8){const y=e[p],b=e[p+1],x=e[p+2],k=e[p+3],S=c.createElement("rect"),w=(x-n)/l,A=(a-b)/u,E=(y-x)/l,C=(b-k)/u;S.setAttribute("x",w),S.setAttribute("y",A),S.setAttribute("width",E),S.setAttribute("height",C),f.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${w}" y="${A}" width="${E}" height="${C}"/>`)}g(this,Fd)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,n=D(this,Bd,new e_({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!Yu.has(u)){He(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&Yu.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};gu=new WeakMap,Fd=new WeakMap,Bd=new WeakMap,fg=new WeakSet,Jk=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Is(e);n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/a}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let Yt=nT;var Yr,_l,KF,ZF;class YF extends Yt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});z(this,Yr);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action),a=!0):n.attachment?(F(this,Yr,KF).call(this,i,n.attachment,n.attachmentDest),a=!0):n.setOCGState?(F(this,Yr,ZF).call(this,i,n.setOCGState),a=!0):n.dest?(this._bindLink(i,n.dest),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Yr,_l).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),F(this,Yr,_l).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}n.onclick||(n.onclick=()=>!1),F(this,Yr,_l).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Yr,_l).call(this),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:a,refs:s,include:o}=r,l=[];if(a.length!==0||s.length!==0){const h=new Set(s);for(const f of a){const m=this._fieldObjects[f]||[];for(const{id:p}of m)h.add(p)}for(const f of Object.values(this._fieldObjects))for(const m of f)h.has(m.id)===o&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,c=[];for(const h of l){const{id:f}=h;switch(c.push(f),h.type){case"text":{const p=h.defaultValue||"";u.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=h.defaultValue===h.exportValues;u.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=h.defaultValue||"";u.setValue(f,{value:p});break}default:continue}const m=document.querySelector(`[data-element-id="${f}"]`);if(m){if(!Yu.has(m)){He(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Yr=new WeakSet,_l=function(){this.container.setAttribute("data-internal-link","")},KF=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,i),!1},F(this,Yr,_l).call(this)},ZF=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),F(this,Yr,_l).call(this)};class YK extends Yt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class uc extends Yt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return lr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[l,u]of r)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Te.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||qK,a=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(u/(b1*i))||1,d=u/c;s=Math.min(i,l(d/b1))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(u/b1))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=Te.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class KK extends uc{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Yu.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=ry,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(n,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue??"";r.value=c.userValue=f,c.formattedValue=null});let d=h=>{const{formattedValue:f}=c;f!=null&&(h.target.value=f),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var p;if(c.focused)return;const{target:m}=f;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const m={value(p){c.userValue=p.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),p.target.value=c.userValue},formattedValue(p){const{formattedValue:v}=p.detail;c.formattedValue=v,v!=null&&p.target!==document.activeElement&&(p.target.value=v),e.setValue(n,{formattedValue:v})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var x;const{charLimit:v}=p.detail,{target:y}=p;if(v===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",v);let b=c.userValue;!b||b.length<=v||(b=b.slice(0,v),y.value=c.userValue=b,e.setValue(n,{value:b}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("keydown",f=>{var v;c.commitKey=1;let m=-1;if(f.key==="Escape"?m=0:f.key==="Enter"&&!this.data.multiLine?m=2:f.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:p}=f.target;c.lastCommittedValue!==p&&(c.lastCommittedValue=p,c.userValue=p,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:m,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",f=>{var p,v;if(!c.focused||!f.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(c.focused=!1);const{value:m}=f.target;c.userValue=m,c.lastCommittedValue!==m&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),h(f)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",f=>{var S;c.lastCommittedValue=null;const{data:m,target:p}=f,{value:v,selectionStart:y,selectionEnd:b}=p;let x=y,k=b;switch(f.inputType){case"deleteWordBackward":{const w=v.substring(0,y).match(/\w*[^\w]*$/);w&&(x-=w[0].length);break}case"deleteWordForward":{const w=v.substring(y).match(/^[^\w]*\w*/);w&&(k+=w[0].length);break}case"deleteContentBackward":y===b&&(x-=1);break;case"deleteContentForward":y===b&&(k+=1);break}f.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:m||"",willCommit:!1,selStart:x,selEnd:k}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ZK extends uc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class QK extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Yu.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=ry,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class QF extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(Yu.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=ry,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const h=c&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class JK extends YF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class eZ extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Yu.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=ry;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),a=!1),i.append(d)}let s=null;if(a){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=c=>{const d=c?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(h){s==null||s();const f=h.detail.value,m=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=m.has(p.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,m=h.detail.remove;f[m].selected=!1,i.remove(m),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:m,exportValue:p}=h.detail.insert,v=i.children[f],y=document.createElement("option");y.textContent=m,y.value=p,v?v.before(y):i.append(y),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const m of f){const{displayValue:p,exportValue:v}=m,y=document.createElement("option");y.textContent=p,y.value=v,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:u(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const m of h.target.options)m.selected=f.has(m.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var f;const d=o(!0),h=o(!1);e.setValue(n,{value:d}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class e_ extends Yt{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Yt._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new tZ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${IC}${r}`).join(",")),this.container}}var zd,tx,nx,Ud,yu,Bt,hs,Hd,pg,mg,Wd,fs,Vi,ps,gg,ms,yg,vu,bu,mt,Bv,t_,JF,e3,t3,n3,zv,Uv,n_;class tZ{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:u,parentRect:c,open:d}){z(this,mt);z(this,zd,F(this,mt,t3).bind(this));z(this,tx,F(this,mt,n_).bind(this));z(this,nx,F(this,mt,Uv).bind(this));z(this,Ud,F(this,mt,zv).bind(this));z(this,yu,null);z(this,Bt,null);z(this,hs,null);z(this,Hd,null);z(this,pg,null);z(this,mg,null);z(this,Wd,null);z(this,fs,!1);z(this,Vi,null);z(this,ps,null);z(this,gg,null);z(this,ms,null);z(this,yg,null);z(this,vu,null);z(this,bu,!1);var h;D(this,Bt,e),D(this,yg,i),D(this,hs,s),D(this,ms,o),D(this,mg,l),D(this,yu,n),D(this,gg,u),D(this,Wd,c),D(this,pg,r),D(this,Hd,LC.toDateObject(a)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",g(this,Ud)),f.addEventListener("mouseenter",g(this,nx)),f.addEventListener("mouseleave",g(this,tx)),f.classList.add("popupTriggerArea");for(const f of r)(h=f.container)==null||h.addEventListener("keydown",g(this,zd));g(this,Bt).hidden=!0,d&&F(this,mt,zv).call(this)}render(){if(g(this,Vi))return;const e=D(this,Vi,document.createElement("div"));if(e.className="popup",g(this,yu)){const a=e.style.outlineColor=Te.makeHexColor(...g(this,yu));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Te.makeHexColor(...g(this,yu).map(o=>Math.floor(.7*(255-o)+o)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=g(this,yg),e.append(n),g(this,Hd)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,Hd).valueOf()})),n.append(a)}const i=g(this,mt,Bv);if(i)XF.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,hs));e.append(a)}g(this,Bt).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;g(this,vu)||D(this,vu,{contentsObj:g(this,hs),richText:g(this,ms)}),e&&D(this,ps,null),n&&(D(this,ms,F(this,mt,e3).call(this,n)),D(this,hs,null)),(r=g(this,Vi))==null||r.remove(),D(this,Vi,null)}resetEdited(){var e;g(this,vu)&&({contentsObj:tr(this,hs)._,richText:tr(this,ms)._}=g(this,vu),D(this,vu,null),(e=g(this,Vi))==null||e.remove(),D(this,Vi,null),D(this,ps,null))}forceHide(){D(this,bu,this.isVisible),g(this,bu)&&(g(this,Bt).hidden=!0)}maybeShow(){g(this,bu)&&(g(this,Vi)||F(this,mt,Uv).call(this),D(this,bu,!1),g(this,Bt).hidden=!1)}get isVisible(){return g(this,Bt).hidden===!1}}zd=new WeakMap,tx=new WeakMap,nx=new WeakMap,Ud=new WeakMap,yu=new WeakMap,Bt=new WeakMap,hs=new WeakMap,Hd=new WeakMap,pg=new WeakMap,mg=new WeakMap,Wd=new WeakMap,fs=new WeakMap,Vi=new WeakMap,ps=new WeakMap,gg=new WeakMap,ms=new WeakMap,yg=new WeakMap,vu=new WeakMap,bu=new WeakMap,mt=new WeakSet,Bv=function(){const e=g(this,ms),n=g(this,hs);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&g(this,ms).html||null},t_=function(){var e,n,r;return((r=(n=(e=g(this,mt,Bv))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},JF=function(){var e,n,r;return((r=(n=(e=g(this,mt,Bv))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},e3=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:g(this,mt,JF),fontSize:g(this,mt,t_)?`calc(${g(this,mt,t_)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},t3=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,fs))&&F(this,mt,zv).call(this)},n3=function(){if(g(this,ps)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=g(this,mg);let s=!!g(this,Wd),o=s?g(this,Wd):g(this,gg);for(const m of g(this,pg))if(!o||Te.intersect(m.data.rect,o)!==null){o=m.data.rect,s=!0;break}const l=Te.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=s?o[2]-o[0]+5:0,d=l[0]+c,h=l[1];D(this,ps,[100*(d-i)/n,100*(h-a)/r]);const{style:f}=g(this,Bt);f.left=`${g(this,ps)[0]}%`,f.top=`${g(this,ps)[1]}%`},zv=function(){D(this,fs,!g(this,fs)),g(this,fs)?(F(this,mt,Uv).call(this),g(this,Bt).addEventListener("click",g(this,Ud)),g(this,Bt).addEventListener("keydown",g(this,zd))):(F(this,mt,n_).call(this),g(this,Bt).removeEventListener("click",g(this,Ud)),g(this,Bt).removeEventListener("keydown",g(this,zd)))},Uv=function(){g(this,Vi)||this.render(),this.isVisible?g(this,fs)&&g(this,Bt).classList.add("focused"):(F(this,mt,n3).call(this),g(this,Bt).hidden=!1,g(this,Bt).style.zIndex=parseInt(g(this,Bt).style.zIndex)+1e3)},n_=function(){g(this,Bt).classList.remove("focused"),!(g(this,fs)||!this.isVisible)&&(g(this,Bt).hidden=!0,g(this,Bt).style.zIndex=parseInt(g(this,Bt).style.zIndex)-1e3)};class r3 extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vg;class nZ extends Yt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,vg,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Is(n.rect),a=this.svgFactory.create(r,i,!0),s=D(this,vg,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}vg=new WeakMap;var bg;class rZ extends Yt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,bg,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Is(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,bg,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,bg)}addHighlightArea(){this.container.classList.add("highlightArea")}}bg=new WeakMap;var xg;class iZ extends Yt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,xg,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Is(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,xg,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}xg=new WeakMap;var wg;class i3 extends Yt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,wg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a}}=this;if(!r)return this.container;const{width:s,height:o}=Is(n),l=this.svgFactory.create(s,o,!0);let u=[];for(let d=0,h=r.length;d<h;d+=2){const f=r[d]-n[0],m=n[3]-r[d+1];u.push(`${f},${m}`)}u=u.join(" ");const c=D(this,wg,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,wg)}addHighlightArea(){this.container.classList.add("highlightArea")}}wg=new WeakMap;class aZ extends i3{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sZ extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Sg;class WC extends Yt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,Sg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{width:s,height:o}=Is(n),l=this.svgFactory.create(s,o,!0);for(const u of r){let c=[];for(let h=0,f=u.length;h<f;h+=2){const m=u[h]-n[0],p=n[3]-u[h+1];c.push(`${m},${p}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);g(this,Sg).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,Sg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sg=new WeakMap;class a3 extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class oZ extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class lZ extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class uZ extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class s3 extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kg,_g,r_;class cZ extends Yt{constructor(n){var i;super(n,{isRenderable:!0});z(this,_g);z(this,kg,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,_g,r_).bind(this)),D(this,kg,i);const{isMac:a}=lr.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&F(this,_g,r_).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return g(this,kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}kg=new WeakMap,_g=new WeakSet,r_=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Ag,xu,wu,Eg,tc,o3,i_,rj;let dZ=(rj=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){z(this,tc);z(this,Ag,null);z(this,xu,null);z(this,wu,new Map);z(this,Eg,null);this.div=e,D(this,Ag,n),D(this,xu,r),D(this,Eg,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return g(this,wu).size>0}async render(e){var s;const{annotations:n}=e,r=this.div;qu(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new HC,annotationStorage:e.annotationStorage||new $C,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===sn.POPUP;if(l){const d=i.get(o.id);if(!d)continue;a.elements=d}else{const{width:d,height:h}=Is(o.rect);if(d<=0||h<=0)continue}a.data=o;const u=XK.create(a);if(!u.isRenderable)continue;if(!l&&o.popupRef){const d=i.get(o.popupRef);d?d.push(u):i.set(o.popupRef,[u])}const c=u.render();o.hidden&&(c.style.visibility="hidden"),await F(this,tc,o3).call(this,c,o.id),u._isEditable&&(g(this,wu).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}F(this,tc,i_).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,qu(n,{rotation:e.rotation}),F(this,tc,i_).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(g(this,wu).values())}getEditableAnnotation(e){return g(this,wu).get(e)}},Ag=new WeakMap,xu=new WeakMap,wu=new WeakMap,Eg=new WeakMap,tc=new WeakSet,o3=async function(e,n){var s,o;const r=e.firstChild||e,i=r.id=`${IC}${n}`,a=await((s=g(this,Eg))==null?void 0:s.getAriaAttributes(i));if(a)for(const[l,u]of a)r.setAttribute(l,u);this.div.append(e),(o=g(this,Ag))==null||o.moveElementInDOM(this.div,e,r,!1)},i_=function(){if(!g(this,xu))return;const e=this.div;for(const[n,r]of g(this,xu)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r)}g(this,xu).clear()},rj);const Gy=/\r\n?|\n/g;var Gi,Br,Cg,Su,zr,rn,l3,u3,c3,Hv,$s,Wv,Vv,d3,s_,h3;const vt=class vt extends ct{constructor(n){super({...n,name:"freeTextEditor"});z(this,rn);z(this,Gi);z(this,Br,"");z(this,Cg,`${this.id}-editor`);z(this,Su,null);z(this,zr);D(this,Gi,n.color||vt._defaultColor||ct._defaultLineColor),D(this,zr,n.fontSize||vt._defaultFontSize)}static get _keyboardManager(){const n=vt.prototype,r=s=>s.isEmpty(),i=Xu.TRANSLATE_SMALL,a=Xu.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new ny([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){ct.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case je.FREETEXT_SIZE:vt._defaultFontSize=r;break;case je.FREETEXT_COLOR:vt._defaultColor=r;break}}updateParams(n,r){switch(n){case je.FREETEXT_SIZE:F(this,rn,l3).call(this,r);break;case je.FREETEXT_COLOR:F(this,rn,u3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[je.FREETEXT_SIZE,vt._defaultFontSize],[je.FREETEXT_COLOR,vt._defaultColor||ct._defaultLineColor]]}get propertiesToUpdate(){return[[je.FREETEXT_SIZE,g(this,zr)],[je.FREETEXT_COLOR,g(this,Gi)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-vt._internalPadding*n,-(vt._internalPadding+g(this,zr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Fe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,Su,new AbortController);const n=this._uiManager.combinedSignal(g(this,Su));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,Cg)),this._isDraggable=!0,(n=g(this,Su))==null||n.abort(),D(this,Su,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=g(this,Br),r=D(this,Br,F(this,rn,c3).call(this).trimEnd());if(n===r)return;const i=a=>{if(D(this,Br,a),!a){this.remove();return}F(this,rn,Vv).call(this),this._uiManager.rebuild(this),F(this,rn,Hv).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,rn,Hv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){vt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,Cg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,zr)}px * var(--scale-factor))`,i.color=g(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),j0(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[h,f]=this.pageTranslation;let m,p;switch(this.rotation){case 0:m=n+(o[0]-h)/c,p=r+this.height-(o[1]-f)/d;break;case 90:m=n+(o[0]-h)/c,p=r-(o[1]-f)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(o[0]-h)/c,p=r-(o[1]-f)/d,[l,u]=[-l,-u];break;case 270:m=n+(o[0]-h-this.height*d)/c,p=r+(o[1]-f-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*a,p*s,l,u)}else this.setAt(n*a,r*s,this.width*a,this.height*s);F(this,rn,Vv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,p,v;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=F(m=vt,$s,s_).call(m,r.getData("text")||"").replaceAll(Gy,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(Gy,"")),y!==this.editorDiv){let b=c;for(const x of this.editorDiv.childNodes){if(x===y){b=d;continue}b.push(F(p=vt,$s,Wv).call(p,x))}}c.push(l.nodeValue.slice(0,u).replaceAll(Gy,""))}else if(l===this.editorDiv){let y=c,b=0;for(const x of this.editorDiv.childNodes)b++===u&&(y=d),y.push(F(v=vt,$s,Wv).call(v,x))}D(this,Br,`${c.join(`
`)}${a}${d.join(`
`)}`),F(this,rn,Vv).call(this);const h=new Range;let f=c.reduce((y,b)=>y+b.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(f<=b){h.setStart(y,f),h.setEnd(y,f);break}f-=b}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,i){var o;let a=null;if(n instanceof r3){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:h,popupRef:f},textContent:m,textPosition:p,parent:{page:{pageNumber:v}}}=n;if(!m||m.length===0)return null;a=n={annotationType:Fe.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:p,pageIndex:v-1,rect:c.slice(0),rotation:d,id:h,deleted:!1,popupRef:f}}const s=await super.deserialize(n,r,i);return D(s,zr,n.fontSize),D(s,Gi,Te.makeHexColor(...n.color)),D(s,Br,F(o=vt,$s,s_).call(o,n.value)),s.annotationElementId=n.id||null,s._initialData=a,s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=vt._internalPadding*this.parentScale,i=this.getRect(r,r),a=ct._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,Gi)),s={annotationType:Fe.FREETEXT,color:a,fontSize:g(this,zr),value:F(this,rn,d3).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!F(this,rn,h3).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${g(this,zr)}px * var(--scale-factor))`,i.color=g(this,Gi),r.replaceChildren();for(const s of g(this,Br).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}const a=vt._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(a,a),popupContent:g(this,Br)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Gi=new WeakMap,Br=new WeakMap,Cg=new WeakMap,Su=new WeakMap,zr=new WeakMap,rn=new WeakSet,l3=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,zr))*this.parentScale),D(this,zr,a),F(this,rn,Hv).call(this)},i=g(this,zr);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},u3=function(n){const r=a=>{D(this,Gi,this.editorDiv.style.color=a)},i=g(this,Gi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},c3=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(F(i=vt,$s,Wv).call(i,a)),r=a);return n.join(`
`)},Hv=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},$s=new WeakSet,Wv=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Gy,"")},Vv=function(){if(this.editorDiv.replaceChildren(),!!g(this,Br))for(const n of g(this,Br).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},d3=function(){return g(this,Br).replaceAll(""," ")},s_=function(n){return n.replaceAll(" ","")},h3=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==a[l])||n.pageIndex!==s},z(vt,$s),Ie(vt,"_freeTextDefaultContent",""),Ie(vt,"_internalPadding",0),Ie(vt,"_defaultColor",null),Ie(vt,"_defaultFontSize",10),Ie(vt,"_type","freetext"),Ie(vt,"_editorType",Fe.FREETEXT);let a_=vt;class f3{toSVGPath(){Et("Abstract method `toSVGPath` must be implemented.")}get box(){Et("Abstract getter `box` must be implemented.")}serialize(e,n){Et("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Et("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Et("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ur,qi,Vd,Gd,Ta,We,ku,_u,Pg,Tg,qd,Xd,Oo,Og,rx,ix,gn,Zf,p3,m3,g3,y3,v3,b3;const es=class es{constructor({x:e,y:n},r,i,a,s,o=0){z(this,gn);z(this,Ur);z(this,qi,[]);z(this,Vd);z(this,Gd);z(this,Ta,[]);z(this,We,new Float64Array(18));z(this,ku);z(this,_u);z(this,Pg);z(this,Tg);z(this,qd);z(this,Xd);z(this,Oo,[]);D(this,Ur,r),D(this,Xd,a*i),D(this,Gd,s),g(this,We).set([NaN,NaN,NaN,NaN,e,n],6),D(this,Vd,o),D(this,Tg,g(es,Og)*i),D(this,Pg,g(es,ix)*i),D(this,qd,i),g(this,Oo).push(e,n)}isEmpty(){return isNaN(g(this,We)[8])}add({x:e,y:n}){var C;D(this,ku,e),D(this,_u,n);const[r,i,a,s]=g(this,Ur);let[o,l,u,c]=g(this,We).subarray(8,12);const d=e-u,h=n-c,f=Math.hypot(d,h);if(f<g(this,Pg))return!1;const m=f-g(this,Tg),p=m/f,v=p*d,y=p*h;let b=o,x=l;o=u,l=c,u+=v,c+=y,(C=g(this,Oo))==null||C.push(e,n);const k=-y/m,S=v/m,w=k*g(this,Xd),A=S*g(this,Xd);return g(this,We).set(g(this,We).subarray(2,8),0),g(this,We).set([u+w,c+A],4),g(this,We).set(g(this,We).subarray(14,18),12),g(this,We).set([u-w,c-A],16),isNaN(g(this,We)[6])?(g(this,Ta).length===0&&(g(this,We).set([o+w,l+A],2),g(this,Ta).push(NaN,NaN,NaN,NaN,(o+w-r)/a,(l+A-i)/s),g(this,We).set([o-w,l-A],14),g(this,qi).push(NaN,NaN,NaN,NaN,(o-w-r)/a,(l-A-i)/s)),g(this,We).set([b,x,o,l,u,c],6),!this.isEmpty()):(g(this,We).set([b,x,o,l,u,c],6),Math.abs(Math.atan2(x-l,b-o)-Math.atan2(y,v))<Math.PI/2?([o,l,u,c]=g(this,We).subarray(2,6),g(this,Ta).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/a,((l+c)/2-i)/s),[o,l,b,x]=g(this,We).subarray(14,18),g(this,qi).push(NaN,NaN,NaN,NaN,((b+o)/2-r)/a,((x+l)/2-i)/s),!0):([b,x,o,l,u,c]=g(this,We).subarray(0,6),g(this,Ta).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),[u,c,o,l,b,x]=g(this,We).subarray(12,18),g(this,qi).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,Ta),n=g(this,qi);if(isNaN(g(this,We)[6])&&!this.isEmpty())return F(this,gn,p3).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,gn,g3).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,gn,m3).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new x3(e,n,r,i,a,s)}getOutlines(){var d;const e=g(this,Ta),n=g(this,qi),r=g(this,We),[i,a,s,o]=g(this,Ur),l=new Float64Array((((d=g(this,Oo))==null?void 0:d.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(g(this,Oo)[h]-i)/s,l[h+1]=(g(this,Oo)[h+1]-a)/o;if(l[l.length-2]=(g(this,ku)-i)/s,l[l.length-1]=(g(this,_u)-a)/o,isNaN(r[6])&&!this.isEmpty())return F(this,gn,y3).call(this,l);const u=new Float64Array(g(this,Ta).length+24+g(this,qi).length);let c=e.length;for(let h=0;h<c;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}c=F(this,gn,b3).call(this,u,c);for(let h=n.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(n[h+f])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=n[h+f],u[c+1]=n[h+f+1],c+=2}return F(this,gn,v3).call(this,u,c),this.newFreeDrawOutline(u,l,g(this,Ur),g(this,qd),g(this,Vd),g(this,Gd))}};Ur=new WeakMap,qi=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,Ta=new WeakMap,We=new WeakMap,ku=new WeakMap,_u=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Oo=new WeakMap,Og=new WeakMap,rx=new WeakMap,ix=new WeakMap,gn=new WeakSet,Zf=function(){const e=g(this,We).subarray(4,6),n=g(this,We).subarray(16,18),[r,i,a,s]=g(this,Ur);return[(g(this,ku)+(e[0]-n[0])/2-r)/a,(g(this,_u)+(e[1]-n[1])/2-i)/s,(g(this,ku)+(n[0]-e[0])/2-r)/a,(g(this,_u)+(n[1]-e[1])/2-i)/s]},p3=function(){const[e,n,r,i]=g(this,Ur),[a,s,o,l]=F(this,gn,Zf).call(this);return`M${(g(this,We)[2]-e)/r} ${(g(this,We)[3]-n)/i} L${(g(this,We)[4]-e)/r} ${(g(this,We)[5]-n)/i} L${a} ${s} L${o} ${l} L${(g(this,We)[16]-e)/r} ${(g(this,We)[17]-n)/i} L${(g(this,We)[14]-e)/r} ${(g(this,We)[15]-n)/i} Z`},m3=function(e){const n=g(this,qi);e.push(`L${n[4]} ${n[5]} Z`)},g3=function(e){const[n,r,i,a]=g(this,Ur),s=g(this,We).subarray(4,6),o=g(this,We).subarray(16,18),[l,u,c,d]=F(this,gn,Zf).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${l} ${u} L${c} ${d} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},y3=function(e){const n=g(this,We),[r,i,a,s]=g(this,Ur),[o,l,u,c]=F(this,gn,Zf).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(d,e,g(this,Ur),g(this,qd),g(this,Vd),g(this,Gd))},v3=function(e,n){const r=g(this,qi);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},b3=function(e,n){const r=g(this,We).subarray(4,6),i=g(this,We).subarray(16,18),[a,s,o,l]=g(this,Ur),[u,c,d,h]=F(this,gn,Zf).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],n),n+=24},z(es,Og,8),z(es,rx,2),z(es,ix,g(es,Og)+g(es,rx));let D0=es;var Yd,Au,gs,Mg,Hr,Ng,Wt,Ar,Qf,Jf,w3;class x3 extends f3{constructor(n,r,i,a,s,o){super();z(this,Ar);z(this,Yd);z(this,Au,null);z(this,gs);z(this,Mg);z(this,Hr);z(this,Ng);z(this,Wt);D(this,Wt,n),D(this,Hr,r),D(this,Yd,i),D(this,Ng,a),D(this,gs,s),D(this,Mg,o),F(this,Ar,w3).call(this,o);const{x:l,y:u,width:c,height:d}=g(this,Au);for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-u)/d;for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-u)/d}toSVGPath(){const n=[`M${g(this,Wt)[4]} ${g(this,Wt)[5]}`];for(let r=6,i=g(this,Wt).length;r<i;r+=6){if(isNaN(g(this,Wt)[r])){n.push(`L${g(this,Wt)[r+4]} ${g(this,Wt)[r+5]}`);continue}n.push(`C${g(this,Wt)[r]} ${g(this,Wt)[r+1]} ${g(this,Wt)[r+2]} ${g(this,Wt)[r+3]} ${g(this,Wt)[r+4]} ${g(this,Wt)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,l=a-r;let u,c;switch(s){case 0:u=F(this,Ar,Qf).call(this,g(this,Wt),n,a,o,-l),c=F(this,Ar,Qf).call(this,g(this,Hr),n,a,o,-l);break;case 90:u=F(this,Ar,Jf).call(this,g(this,Wt),n,r,o,l),c=F(this,Ar,Jf).call(this,g(this,Hr),n,r,o,l);break;case 180:u=F(this,Ar,Qf).call(this,g(this,Wt),i,r,-o,l),c=F(this,Ar,Qf).call(this,g(this,Hr),i,r,-o,l);break;case 270:u=F(this,Ar,Jf).call(this,g(this,Wt),i,a,-o,-l),c=F(this,Ar,Jf).call(this,g(this,Hr),i,a,-o,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return g(this,Au)}newOutliner(n,r,i,a,s,o=0){return new D0(n,r,i,a,s,o)}getNewOutline(n,r){const{x:i,y:a,width:s,height:o}=g(this,Au),[l,u,c,d]=g(this,Yd),h=s*c,f=o*d,m=i*c+l,p=a*d+u,v=this.newOutliner({x:g(this,Hr)[0]*h+m,y:g(this,Hr)[1]*f+p},g(this,Yd),g(this,Ng),n,g(this,Mg),r??g(this,gs));for(let y=2;y<g(this,Hr).length;y+=2)v.add({x:g(this,Hr)[y]*h+m,y:g(this,Hr)[y+1]*f+p});return v.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Yd=new WeakMap,Au=new WeakMap,gs=new WeakMap,Mg=new WeakMap,Hr=new WeakMap,Ng=new WeakMap,Wt=new WeakMap,Ar=new WeakSet,Qf=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l]*a,o[l+1]=i+n[l+1]*s;return o},Jf=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l+1]*a,o[l+1]=i+n[l]*s;return o},w3=function(n){const r=g(this,Wt);let i=r[4],a=r[5],s=i,o=a,l=i,u=a,c=i,d=a;const h=n?Math.max:Math.min;for(let y=6,b=r.length;y<b;y+=6){if(isNaN(r[y]))s=Math.min(s,r[y+4]),o=Math.min(o,r[y+5]),l=Math.max(l,r[y+4]),u=Math.max(u,r[y+5]),d<r[y+5]?(c=r[y+4],d=r[y+5]):d===r[y+5]&&(c=h(c,r[y+4]));else{const x=Te.bezierBoundingBox(i,a,...r.slice(y,y+6));s=Math.min(s,x[0]),o=Math.min(o,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=h(c,x[2]))}i=r[y+4],a=r[y+5]}const f=s-g(this,gs),m=o-g(this,gs),p=l-s+2*g(this,gs),v=u-o+2*g(this,gs);D(this,Au,{x:f,y:m,width:p,height:v,lastPoint:[c,d]})};var Ig,Mo,Xi,cr,S3,Gv,k3,_3,o_;class q2{constructor(e,n=0,r=0,i=!0){z(this,cr);z(this,Ig);z(this,Mo,[]);z(this,Xi,[]);let a=1/0,s=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:v,y,width:b,height:x}of e){const k=Math.floor((v-n)/u)*u,S=Math.ceil((v+b+n)/u)*u,w=Math.floor((y-n)/u)*u,A=Math.ceil((y+x+n)/u)*u,E=[k,w,A,!0],C=[S,w,A,!1];g(this,Mo).push(E,C),a=Math.min(a,k),s=Math.max(s,S),o=Math.min(o,w),l=Math.max(l,A)}const c=s-a+2*r,d=l-o+2*r,h=a-r,f=o-r,m=g(this,Mo).at(i?-1:-2),p=[m[0],m[2]];for(const v of g(this,Mo)){const[y,b,x]=v;v[0]=(y-h)/c,v[1]=(b-f)/d,v[2]=(x-f)/d}D(this,Ig,{x:h,y:f,width:c,height:d,lastPoint:p})}getOutlines(){g(this,Mo).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of g(this,Mo))n[3]?(e.push(...F(this,cr,o_).call(this,n)),F(this,cr,k3).call(this,n)):(F(this,cr,_3).call(this,n),e.push(...F(this,cr,o_).call(this,n)));return F(this,cr,S3).call(this,e)}}Ig=new WeakMap,Mo=new WeakMap,Xi=new WeakMap,cr=new WeakSet,S3=function(e){const n=[],r=new Set;for(const s of e){const[o,l,u]=s;n.push([o,l,s],[o,u,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,l,u,c,d]=s;r.delete(s);let h=o,f=l;for(a=[o,u],i.push(a);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[o,l,u,c,d]=m,h!==o&&(a.push(h,f,o,f===l?l:u),h=o),f=f===l?u:l}a.push(h,f)}return new hZ(i,g(this,Ig))},Gv=function(e){const n=g(this,Xi);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},k3=function([,e,n]){const r=F(this,cr,Gv).call(this,e);g(this,Xi).splice(r,0,[e,n])},_3=function([,e,n]){const r=F(this,cr,Gv).call(this,e);for(let i=r;i<g(this,Xi).length;i++){const[a,s]=g(this,Xi)[i];if(a!==e)break;if(a===e&&s===n){g(this,Xi).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=g(this,Xi)[i];if(a!==e)break;if(a===e&&s===n){g(this,Xi).splice(i,1);return}}},o_=function(e){const[n,r,i]=e,a=[[n,r,i]],s=F(this,cr,Gv).call(this,i);for(let o=0;o<s;o++){const[l,u]=g(this,Xi)[o];for(let c=0,d=a.length;c<d;c++){const[,h,f]=a[c];if(!(u<=h||f<=l)){if(h>=l){if(f>u)a[c][1]=u;else{if(d===1)return[];a.splice(c,1),c--,d--}continue}a[c][2]=l,f>u&&a.push([n,u,f])}}}return a};var Rg,Kd;class hZ extends f3{constructor(n,r){super();z(this,Rg);z(this,Kd);D(this,Kd,n),D(this,Rg,r)}toSVGPath(){const n=[];for(const r of g(this,Kd)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],l=r[s+1];o===i?(n.push(`V${l}`),a=l):l===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],l=i-n,u=a-r;for(const c of g(this,Kd)){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=n+c[h]*l,d[h+1]=a-c[h+1]*u;o.push(d)}return o}get box(){return g(this,Rg)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Rg=new WeakMap,Kd=new WeakMap;class l_ extends D0{newFreeDrawOutline(e,n,r,i,a,s){return new fZ(e,n,r,i,a,s)}get classNamesForDrawing(){return["highlight","free"]}}class fZ extends x3{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,n,r,i,a,s=0){return new l_(e,n,r,i,a,s)}}var Yi,Eu,Zd,un,jg,Qd,Lg,Dg,No,Ki,Jd,$g,pt,u_,c_,d_,Al,A3,no;const yr=class yr{constructor({editor:e=null,uiManager:n=null}){z(this,pt);z(this,Yi,null);z(this,Eu,null);z(this,Zd);z(this,un,null);z(this,jg,!1);z(this,Qd,!1);z(this,Lg,null);z(this,Dg);z(this,No,null);z(this,Ki,null);z(this,Jd);var r;e?(D(this,Qd,!1),D(this,Jd,je.HIGHLIGHT_COLOR),D(this,Lg,e)):(D(this,Qd,!0),D(this,Jd,je.HIGHLIGHT_DEFAULT_COLOR)),D(this,Ki,(e==null?void 0:e._uiManager)||n),D(this,Dg,g(this,Ki)._eventBus),D(this,Zd,(e==null?void 0:e.color)||((r=g(this,Ki))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),g(yr,$g)||D(yr,$g,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new ny([[["Escape","mac+Escape"],yr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yr.prototype._moveToPrevious],[["Home","mac+Home"],yr.prototype._moveToBeginning],[["End","mac+End"],yr.prototype._moveToEnd]]))}renderButton(){const e=D(this,Yi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=g(this,Ki)._signal;e.addEventListener("click",F(this,pt,Al).bind(this),{signal:n}),e.addEventListener("keydown",F(this,pt,d_).bind(this),{signal:n});const r=D(this,Eu,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=g(this,Zd),e.append(r),e}renderMainDropdown(){const e=D(this,un,F(this,pt,u_).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,Yi)){F(this,pt,Al).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,pt,c_).call(this,n,e)}_moveToNext(e){var n,r;if(!g(this,pt,no)){F(this,pt,Al).call(this,e);return}if(e.target===g(this,Yi)){(n=g(this,un).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=g(this,un))==null?void 0:n.firstChild)||e.target===g(this,Yi)){g(this,pt,no)&&this._hideDropdownFromKeyboard();return}g(this,pt,no)||F(this,pt,Al).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!g(this,pt,no)){F(this,pt,Al).call(this,e);return}(n=g(this,un).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!g(this,pt,no)){F(this,pt,Al).call(this,e);return}(n=g(this,un).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=g(this,un))==null||e.classList.add("hidden"),(n=g(this,No))==null||n.abort(),D(this,No,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,Qd)){if(!g(this,pt,no)){(e=g(this,Lg))==null||e.unselect();return}this.hideDropdown(),g(this,Yi).focus({preventScroll:!0,focusVisible:g(this,jg)})}}updateColor(e){if(g(this,Eu)&&(g(this,Eu).style.backgroundColor=e),!g(this,un))return;const n=g(this,Ki).highlightColors.values();for(const r of g(this,un).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=g(this,Yi))==null||e.remove(),D(this,Yi,null),D(this,Eu,null),(n=g(this,un))==null||n.remove(),D(this,un,null)}};Yi=new WeakMap,Eu=new WeakMap,Zd=new WeakMap,un=new WeakMap,jg=new WeakMap,Qd=new WeakMap,Lg=new WeakMap,Dg=new WeakMap,No=new WeakMap,Ki=new WeakMap,Jd=new WeakMap,$g=new WeakMap,pt=new WeakSet,u_=function(){const e=document.createElement("div"),n=g(this,Ki)._signal;e.addEventListener("contextmenu",Ti,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of g(this,Ki).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",g(yr,$g)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===g(this,Zd)),a.addEventListener("click",F(this,pt,c_).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",F(this,pt,d_).bind(this),{signal:n}),e},c_=function(e,n){n.stopPropagation(),g(this,Dg).dispatch("switchannotationeditorparams",{source:this,type:g(this,Jd),value:e})},d_=function(e){yr._keyboardManager.exec(this,e)},Al=function(e){if(g(this,pt,no)){this.hideDropdown();return}if(D(this,jg,e.detail===0),g(this,No)||(D(this,No,new AbortController),window.addEventListener("pointerdown",F(this,pt,A3).bind(this),{signal:g(this,Ki).combinedSignal(g(this,No))})),g(this,un)){g(this,un).classList.remove("hidden");return}const n=D(this,un,F(this,pt,u_).call(this));g(this,Yi).append(n)},A3=function(e){var n;(n=g(this,un))!=null&&n.contains(e.target)||this.hideDropdown()},no=function(){return g(this,un)&&!g(this,un).classList.contains("hidden")},z(yr,$g,null);let $0=yr;var eh,Fg,ys,Cu,th,fi,Bg,zg,Pu,Zi,Vn,xr,nh,vs,cn,rh,pi,Ug,De,h_,qv,E3,C3,P3,f_,El,xi,Mc,T3,Xv,ep,O3,M3,N3,I3,R3;const rt=class rt extends ct{constructor(n){super({...n,name:"highlightEditor"});z(this,De);z(this,eh,null);z(this,Fg,0);z(this,ys);z(this,Cu,null);z(this,th,null);z(this,fi,null);z(this,Bg,null);z(this,zg,0);z(this,Pu,null);z(this,Zi,null);z(this,Vn,null);z(this,xr,!1);z(this,nh,null);z(this,vs);z(this,cn,null);z(this,rh,"");z(this,pi);z(this,Ug,"");this.color=n.color||rt._defaultColor,D(this,pi,n.thickness||rt._defaultThickness),D(this,vs,n.opacity||rt._defaultOpacity),D(this,ys,n.boxes||null),D(this,Ug,n.methodOfCreation||""),D(this,rh,n.text||""),this._isDraggable=!1,n.highlightId>-1?(D(this,xr,!0),F(this,De,qv).call(this,n),F(this,De,El).call(this)):g(this,ys)&&(D(this,eh,n.anchorNode),D(this,Fg,n.anchorOffset),D(this,Bg,n.focusNode),D(this,zg,n.focusOffset),F(this,De,h_).call(this),F(this,De,El).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=rt.prototype;return Ze(this,"_keyboardManager",new ny([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,xr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,pi),methodOfCreation:g(this,Ug)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;ct.initialize(n,r),rt._defaultColor||(rt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case je.HIGHLIGHT_DEFAULT_COLOR:rt._defaultColor=r;break;case je.HIGHLIGHT_THICKNESS:rt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return g(this,nh)}updateParams(n,r){switch(n){case je.HIGHLIGHT_COLOR:F(this,De,E3).call(this,r);break;case je.HIGHLIGHT_THICKNESS:F(this,De,C3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[je.HIGHLIGHT_DEFAULT_COLOR,rt._defaultColor],[je.HIGHLIGHT_THICKNESS,rt._defaultThickness]]}get propertiesToUpdate(){return[[je.HIGHLIGHT_COLOR,this.color||rt._defaultColor],[je.HIGHLIGHT_THICKNESS,g(this,pi)||rt._defaultThickness],[je.HIGHLIGHT_FREE,g(this,xr)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(D(this,th,new $0({editor:this})),n.addColorPicker(g(this,th))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,De,ep).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,De,ep).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){F(this,De,f_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,De,El).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,De,f_).call(this):n&&(F(this,De,El).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;g(this,xr)?(n=(n-this.rotation+360)%360,i=F(a=rt,xi,Mc).call(a,g(this,Zi).box,n)):i=F(s=rt,xi,Mc).call(s,this,n),r.rotate(g(this,Vn),n),r.rotate(g(this,cn),n),r.updateBox(g(this,Vn),i),r.updateBox(g(this,cn),F(o=rt,xi,Mc).call(o,g(this,fi).box,n))}render(){if(this.div)return this.div;const n=super.render();g(this,rh)&&(n.setAttribute("aria-label",g(this,rh)),n.setAttribute("role","mark")),g(this,xr)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,De,T3).bind(this),{signal:this._uiManager._signal});const r=D(this,Pu,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=g(this,Cu);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),j0(this,g(this,Pu),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,cn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,cn),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,De,Xv).call(this,!0);break;case 1:case 3:F(this,De,Xv).call(this,!1);break}}select(){var n,r;super.select(),g(this,cn)&&((n=this.parent)==null||n.drawLayer.removeClass(g(this,cn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(g(this,cn),"selected"))}unselect(){var n;super.unselect(),g(this,cn)&&((n=this.parent)==null||n.drawLayer.removeClass(g(this,cn),"selected"),g(this,xr)||F(this,De,Xv).call(this,!1))}get _mustFixPosition(){return!g(this,xr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(g(this,Vn),n),this.parent.drawLayer.show(g(this,cn),n))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:l,width:u,height:c}=i.getBoundingClientRect(),d=new AbortController,h=n.combinedSignal(d),f=p=>{p.preventDefault(),p.stopPropagation()},m=p=>{d.abort(),F(this,xi,I3).call(this,n,p)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ti,{signal:h}),i.addEventListener("pointermove",F(this,xi,N3).bind(this,n),{signal:h}),this._freeHighlight=new l_({x:a,y:s},[o,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(n,r,i){var p,v,y,b;let a=null;if(n instanceof a3){const{data:{quadPoints:x,rect:k,rotation:S,id:w,color:A,opacity:E,popupRef:C},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),opacity:E,quadPoints:x,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:S,id:w,deleted:!1,popupRef:C}}else if(n instanceof WC){const{data:{inkLists:x,rect:k,rotation:S,id:w,color:A,borderStyle:{rawWidth:E},popupRef:C},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),thickness:E,inkLists:x,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:S,id:w,deleted:!1,popupRef:C}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=n,c=await super.deserialize(n,r,i);c.color=Te.makeHexColor(...s),D(c,vs,u||1),l&&D(c,pi,n.thickness),c.annotationElementId=n.id||null,c._initialData=a;const[d,h]=c.pageDimensions,[f,m]=c.pageTranslation;if(o){const x=D(c,ys,[]);for(let k=0;k<o.length;k+=8)x.push({x:(o[k]-f)/d,y:1-(o[k+1]-m)/h,width:(o[k+2]-o[k])/d,height:(o[k+1]-o[k+5])/h});F(p=c,De,h_).call(p),F(v=c,De,El).call(v),c.rotate(c.rotation)}else if(l){D(c,xr,!0);const x=l[0],k={x:x[0]-f,y:h-(x[1]-m)},S=new l_(k,[0,0,d,h],1,g(c,pi)/2,!0,.001);for(let E=0,C=x.length;E<C;E+=2)k.x=x[E]-f,k.y=h-(x[E+1]-m),S.add(k);const{id:w,clipPathId:A}=r.drawLayer.draw(S,c.color,c._defaultOpacity,!0);F(y=c,De,qv).call(y,{highlightOutlines:S.getOutlines(),highlightId:w,clipPathId:A}),F(b=c,De,El).call(b)}return c}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=ct._colorManager.convert(this.color),a={annotationType:Fe.HIGHLIGHT,color:i,opacity:g(this,vs),thickness:g(this,pi),quadPoints:F(this,De,O3).call(this),outlines:F(this,De,M3).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:F(this,De,ep).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!F(this,De,R3).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};eh=new WeakMap,Fg=new WeakMap,ys=new WeakMap,Cu=new WeakMap,th=new WeakMap,fi=new WeakMap,Bg=new WeakMap,zg=new WeakMap,Pu=new WeakMap,Zi=new WeakMap,Vn=new WeakMap,xr=new WeakMap,nh=new WeakMap,vs=new WeakMap,cn=new WeakMap,rh=new WeakMap,pi=new WeakMap,Ug=new WeakMap,De=new WeakSet,h_=function(){const n=new q2(g(this,ys),.001);D(this,Zi,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Zi).box;const r=new q2(g(this,ys),.0025,.001,this._uiManager.direction==="ltr");D(this,fi,r.getOutlines());const{lastPoint:i}=g(this,fi).box;D(this,nh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},qv=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,h;if(D(this,Zi,n),D(this,fi,n.getNewOutline(g(this,pi)/2+1.5,.0025)),r>=0)D(this,Vn,r),D(this,Cu,i),this.parent.drawLayer.finalizeLine(r,n),D(this,cn,this.parent.drawLayer.drawOutline(g(this,fi)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,Vn),n),this.parent.drawLayer.updateBox(g(this,Vn),F(d=rt,xi,Mc).call(d,g(this,Zi).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,cn),g(this,fi)),this.parent.drawLayer.updateBox(g(this,cn),F(h=rt,xi,Mc).call(h,g(this,fi).box,f))}const{x:s,y:o,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[f,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*m/f,this.height=u*f/m;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[f,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*m/f,this.height=u*f/m;break}}const{lastPoint:c}=g(this,fi).box;D(this,nh,[(c[0]-s)/l,(c[1]-o)/u])},E3=function(n){const r=(s,o)=>{var l,u,c;this.color=s,(l=this.parent)==null||l.drawLayer.changeColor(g(this,Vn),s),(u=g(this,th))==null||u.updateColor(s),D(this,vs,o),(c=this.parent)==null||c.drawLayer.changeOpacity(g(this,Vn),o)},i=this.color,a=g(this,vs);this.addCommands({cmd:r.bind(this,n,rt._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},C3=function(n){const r=g(this,pi),i=a=>{D(this,pi,a),F(this,De,P3).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},P3=function(n){if(!g(this,xr))return;F(this,De,qv).call(this,{highlightOutlines:g(this,Zi).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},f_=function(){g(this,Vn)===null||!this.parent||(this.parent.drawLayer.remove(g(this,Vn)),D(this,Vn,null),this.parent.drawLayer.remove(g(this,cn)),D(this,cn,null))},El=function(n=this.parent){g(this,Vn)===null&&({id:tr(this,Vn)._,clipPathId:tr(this,Cu)._}=n.drawLayer.draw(g(this,Zi),this.color,g(this,vs)),D(this,cn,n.drawLayer.drawOutline(g(this,fi))),g(this,Pu)&&(g(this,Pu).style.clipPath=g(this,Cu)))},xi=new WeakSet,Mc=function({x:n,y:r,width:i,height:a},s){switch(s){case 90:return{x:1-r-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-r-a,width:i,height:a};case 270:return{x:r,y:1-n-i,width:a,height:i}}return{x:n,y:r,width:i,height:a}},T3=function(n){rt._keyboardManager.exec(this,n)},Xv=function(n){if(!g(this,eh))return;const r=window.getSelection();n?r.setPosition(g(this,eh),g(this,Fg)):r.setPosition(g(this,Bg),g(this,zg))},ep=function(){return g(this,xr)?this.rotation:0},O3=function(){if(g(this,xr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=g(this,ys),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:c,width:d,height:h}of s){const f=u*n+i,m=(1-c-h)*r+a;o[l]=o[l+4]=f,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=f+d*n,o[l+5]=o[l+7]=m+h*r,l+=8}return o},M3=function(n){return g(this,Zi).serialize(n,F(this,De,ep).call(this))},N3=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},I3=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},R3=function(n){const{color:r}=this._initialData;return n.color.some((i,a)=>i!==r[a])},z(rt,xi),Ie(rt,"_defaultColor",null),Ie(rt,"_defaultOpacity",1),Ie(rt,"_defaultThickness",12),Ie(rt,"_type","highlight"),Ie(rt,"_editorType",Fe.HIGHLIGHT),Ie(rt,"_freeHighlightId",-1),Ie(rt,"_freeHighlight",null),Ie(rt,"_freeHighlightClipId","");let F0=rt;var Tu,Ou,Oa,bs,mi,Mu,Nu,Iu,xs,ih,Ru,ju,Io,_e,j3,L3,D3,$3,m_,F3,g_,B3,z3,U3,H3,W3,Cl,y_,v_,b_,Yv,Kv,Nc,x_,Zv,Xs,V3,w_,G3,q3,S_,Qv,tp;const It=class It extends ct{constructor(n){super({...n,name:"inkEditor"});z(this,_e);z(this,Tu,0);z(this,Ou,0);z(this,Oa,null);z(this,bs,new Path2D);z(this,mi,!1);z(this,Mu,null);z(this,Nu,!1);z(this,Iu,!1);z(this,xs,null);z(this,ih,null);z(this,Ru,0);z(this,ju,0);z(this,Io,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){ct.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case je.INK_THICKNESS:It._defaultThickness=r;break;case je.INK_COLOR:It._defaultColor=r;break;case je.INK_OPACITY:It._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case je.INK_THICKNESS:F(this,_e,j3).call(this,r);break;case je.INK_COLOR:F(this,_e,L3).call(this,r);break;case je.INK_OPACITY:F(this,_e,D3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[je.INK_THICKNESS,It._defaultThickness],[je.INK_COLOR,It._defaultColor||ct._defaultLineColor],[je.INK_OPACITY,Math.round(It._defaultOpacity*100)]]}get propertiesToUpdate(){return[[je.INK_THICKNESS,this.thickness||It._defaultThickness],[je.INK_COLOR,this.color||It._defaultColor||ct._defaultLineColor],[je.INK_OPACITY,Math.round(100*(this.opacity??It._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(F(this,_e,Yv).call(this),F(this,_e,Kv).call(this)),this.isAttachedToDOM||(this.parent.add(this),F(this,_e,Nc).call(this)),F(this,_e,tp).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,Oa)&&(clearTimeout(g(this,Oa)),D(this,Oa,null)),(n=g(this,xs))==null||n.disconnect(),D(this,xs,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,a=this.height*r;this.setDimensions(i,a)}enableEditMode(){g(this,mi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,F(this,_e,y_).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),F(this,_e,v_).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,mi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),D(this,mi,!0),this.div.classList.add("disabled"),F(this,_e,tp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||g(this,mi)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),F(this,_e,F3).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),F(this,_e,g_).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),F(this,_e,b_).call(this,n)}canvasPointerleave(n){F(this,_e,b_).call(this,n)}get isResizable(){return!this.isEmpty()&&g(this,mi)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,s,o]=F(this,_e,$3).call(this);if(this.setAt(i,a,0,0),this.setDims(s,o),F(this,_e,Yv).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),D(this,Iu,!0),F(this,_e,Nc).call(this),this.setDims(this.width*l,this.height*u),F(this,_e,Cl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return F(this,_e,Kv).call(this),this.div}setDimensions(n,r){const i=Math.round(n),a=Math.round(r);if(g(this,Ru)===i&&g(this,ju)===a)return;D(this,Ru,i),D(this,ju,a),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=n/s,this.height=r/o,this.fixAndSetPosition(),g(this,mi)&&F(this,_e,x_).call(this,n,r),F(this,_e,Nc).call(this),F(this,_e,Cl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(n,r,i){var v,y,b;if(n instanceof WC)return null;const a=await super.deserialize(n,r,i);a.thickness=n.thickness,a.color=Te.makeHexColor(...n.color),a.opacity=n.opacity;const[s,o]=a.pageDimensions,l=a.width*s,u=a.height*o,c=a.parentScale,d=n.thickness/2;D(a,mi,!0),D(a,Ru,Math.round(l)),D(a,ju,Math.round(u));const{paths:h,rect:f,rotation:m}=n;for(let{bezier:x}of h){x=F(v=It,Xs,G3).call(v,x,f,m);const k=[];a.paths.push(k);let S=c*(x[0]-d),w=c*(x[1]-d);for(let E=2,C=x.length;E<C;E+=6){const O=c*(x[E]-d),I=c*(x[E+1]-d),T=c*(x[E+2]-d),j=c*(x[E+3]-d),P=c*(x[E+4]-d),$=c*(x[E+5]-d);k.push([[S,w],[O,I],[T,j],[P,$]]),S=P,w=$}const A=F(this,Xs,V3).call(this,k);a.bezierPath2D.push(A)}const p=F(y=a,_e,S_).call(y);return D(a,Ou,Math.max(ct.MIN_SIZE,p[2]-p[0])),D(a,Tu,Math.max(ct.MIN_SIZE,p[3]-p[1])),F(b=a,_e,x_).call(b,l,u),a}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=ct._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Fe.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:F(this,_e,q3).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Tu=new WeakMap,Ou=new WeakMap,Oa=new WeakMap,bs=new WeakMap,mi=new WeakMap,Mu=new WeakMap,Nu=new WeakMap,Iu=new WeakMap,xs=new WeakMap,ih=new WeakMap,Ru=new WeakMap,ju=new WeakMap,Io=new WeakMap,_e=new WeakSet,j3=function(n){const r=a=>{this.thickness=a,F(this,_e,tp).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},L3=function(n){const r=a=>{this.color=a,F(this,_e,Cl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},D3=function(n){const r=a=>{this.opacity=a,F(this,_e,Cl).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:je.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$3=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},m_=function(){const{ctx:n,color:r,opacity:i,thickness:a,parentScale:s,scaleFactor:o}=this;n.lineWidth=a*s/o,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${jY(i)}`},F3=function(n,r){this.canvas.addEventListener("contextmenu",Ti,{signal:this._uiManager._signal}),F(this,_e,v_).call(this),D(this,Mu,new AbortController);const i=this._uiManager.combinedSignal(g(this,Mu));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,g(this,Iu)||(D(this,Iu,!0),F(this,_e,Nc).call(this),this.thickness||(this.thickness=It._defaultThickness),this.color||(this.color=It._defaultColor||ct._defaultLineColor),this.opacity??(this.opacity=It._defaultOpacity)),this.currentPath.push([n,r]),D(this,Nu,!1),F(this,_e,m_).call(this),D(this,Io,()=>{F(this,_e,U3).call(this),g(this,Io)&&window.requestAnimationFrame(g(this,Io))}),window.requestAnimationFrame(g(this,Io))},g_=function(n,r){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===a)return;const s=this.currentPath;let o=g(this,bs);if(s.push([n,r]),D(this,Nu,!0),s.length<=2){o.moveTo(...s[0]),o.lineTo(n,r);return}s.length===3&&(D(this,bs,o=new Path2D),o.moveTo(...s[0])),F(this,_e,H3).call(this,o,...s.at(-3),...s.at(-2),n,r)},B3=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);g(this,bs).lineTo(...n)},z3=function(n,r){D(this,Io,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),F(this,_e,g_).call(this,n,r),F(this,_e,B3).call(this);let i;if(this.currentPath.length!==1)i=F(this,_e,W3).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const a=g(this,bs),s=this.currentPath;this.currentPath=[],D(this,bs,new Path2D);const o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(F(this,_e,Yv).call(this),F(this,_e,Kv).call(this)),F(this,_e,tp).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},U3=function(){if(!g(this,Nu))return;D(this,Nu,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(o=>o[0]),a=r.map(o=>o[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...a)-n,Math.max(...a)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(g(this,bs)),s.restore()},H3=function(n,r,i,a,s,o,l){const u=(r+a)/2,c=(i+s)/2,d=(a+o)/2,h=(s+l)/2;n.bezierCurveTo(u+2*(a-u)/3,c+2*(s-c)/3,d+2*(a-d)/3,h+2*(s-h)/3,d,h)},W3=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[a,s]=n[0];for(i=1;i<n.length-2;i++){const[f,m]=n[i],[p,v]=n[i+1],y=(f+p)/2,b=(m+v)/2,x=[a+2*(f-a)/3,s+2*(m-s)/3],k=[y+2*(f-y)/3,b+2*(m-b)/3];r.push([[a,s],x,k,[y,b]]),[a,s]=[y,b]}const[o,l]=n[i],[u,c]=n[i+1],d=[a+2*(o-a)/3,s+2*(l-s)/3],h=[u+2*(o-u)/3,c+2*(l-c)/3];return r.push([[a,s],d,h,[u,c]]),r},Cl=function(){if(this.isEmpty()){F(this,_e,Zv).call(this);return}F(this,_e,m_).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),F(this,_e,Zv).call(this);for(const i of this.bezierPath2D)r.stroke(i)},y_=function(){if(g(this,ih))return;D(this,ih,new AbortController);const n=this._uiManager.combinedSignal(g(this,ih));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})},v_=function(){var n;(n=this.pointerdownAC)==null||n.abort(),this.pointerdownAC=null},b_=function(n){var r;(r=g(this,Mu))==null||r.abort(),D(this,Mu,null),F(this,_e,y_).call(this),g(this,Oa)&&clearTimeout(g(this,Oa)),D(this,Oa,setTimeout(()=>{D(this,Oa,null),this.canvas.removeEventListener("contextmenu",Ti)},10)),F(this,_e,z3).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Kv=function(){D(this,xs,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),g(this,xs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=g(this,xs))==null||n.disconnect(),D(this,xs,null)},{once:!0})},Nc=function(){if(!g(this,Iu))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),F(this,_e,Zv).call(this)},x_=function(n,r){const i=F(this,_e,Qv).call(this),a=(n-i)/g(this,Ou),s=(r-i)/g(this,Tu);this.scaleFactor=Math.min(a,s)},Zv=function(){const n=F(this,_e,Qv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},Xs=new WeakSet,V3=function(n){const r=new Path2D;for(let i=0,a=n.length;i<a;i++){const[s,o,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return r},w_=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+a,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=o-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},G3=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-a}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=o-d}break;default:throw new Error("Invalid rotation")}return n},q3=function(n,r,i,a){var c,d;const s=[],o=this.thickness/2,l=n*r+o,u=n*i+o;for(const h of this.paths){const f=[],m=[];for(let p=0,v=h.length;p<v;p++){const[y,b,x,k]=h[p];if(y[0]===k[0]&&y[1]===k[1]&&v===1){const j=n*y[0]+l,P=n*y[1]+u;f.push(j,P),m.push(j,P);break}const S=n*y[0]+l,w=n*y[1]+u,A=n*b[0]+l,E=n*b[1]+u,C=n*x[0]+l,O=n*x[1]+u,I=n*k[0]+l,T=n*k[1]+u;p===0&&(f.push(S,w),m.push(S,w)),f.push(A,E,C,O,I,T),m.push(A,E),p===v-1&&m.push(I,T)}s.push({bezier:F(c=It,Xs,w_).call(c,f,a,this.rotation),points:F(d=It,Xs,w_).call(d,m,a,this.rotation)})}return s},S_=function(){let n=1/0,r=-1/0,i=1/0,a=-1/0;for(const s of this.paths)for(const[o,l,u,c]of s){const d=Te.bezierBoundingBox(...o,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),a=Math.max(a,d[3])}return[n,i,r,a]},Qv=function(){return g(this,mi)?Math.ceil(this.thickness*this.parentScale):0},tp=function(n=!1){if(this.isEmpty())return;if(!g(this,mi)){F(this,_e,Cl).call(this);return}const r=F(this,_e,S_).call(this),i=F(this,_e,Qv).call(this);D(this,Ou,Math.max(ct.MIN_SIZE,r[2]-r[0])),D(this,Tu,Math.max(ct.MIN_SIZE,r[3]-r[1]));const a=Math.ceil(i+g(this,Ou)*this.scaleFactor),s=Math.ceil(i+g(this,Tu)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=s/l,this.setAspectRatio(a,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],F(this,_e,Nc).call(this),F(this,_e,Cl).call(this),D(this,Ru,a),D(this,ju,s),this.setDims(a,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},z(It,Xs),Ie(It,"_defaultColor",null),Ie(It,"_defaultOpacity",1),Ie(It,"_defaultThickness",1),Ie(It,"_type","ink"),Ie(It,"_editorType",Fe.INK);let p_=It;var jt,Mn,Ro,ws,jo,ah,Ma,Ss,Na,Wr,sh,Ke,np,rp,Jv,__,X3,e0,A_,t0,Y3,K3;const Ap=class Ap extends ct{constructor(n){super({...n,name:"stampEditor"});z(this,Ke);z(this,jt,null);z(this,Mn,null);z(this,Ro,null);z(this,ws,null);z(this,jo,null);z(this,ah,"");z(this,Ma,null);z(this,Ss,null);z(this,Na,null);z(this,Wr,!1);z(this,sh,!1);D(this,ws,n.bitmapUrl),D(this,jo,n.bitmapFile)}static initialize(n,r){ct.initialize(n,r)}static get supportedTypes(){return Ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Fe.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n,r;g(this,Mn)&&(D(this,jt,null),this._uiManager.imageManager.deleteId(g(this,Mn)),(n=g(this,Ma))==null||n.remove(),D(this,Ma,null),(r=g(this,Ss))==null||r.disconnect(),D(this,Ss,null),g(this,Na)&&(clearTimeout(g(this,Na)),D(this,Na,null))),super.remove()}rebuild(){if(!this.parent){g(this,Mn)&&F(this,Ke,Jv).call(this);return}super.rebuild(),this.div!==null&&(g(this,Mn)&&g(this,Ma)===null&&F(this,Ke,Jv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Ro)||g(this,jt)||g(this,ws)||g(this,jo)||g(this,Mn))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,jt)?F(this,Ke,__).call(this):F(this,Ke,Jv).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(n*i,r*a,this.width*i,this.height*a)}return this.div}copyCanvas(n,r,i=!1){var f;n||(n=224);const{width:a,height:s}=g(this,jt),o=new bk;let l=g(this,jt),u=a,c=s,d=null;if(r){if(a>r||s>r){const E=Math.min(r/a,r/s);u=Math.floor(a*E),c=Math.floor(s*E)}d=document.createElement("canvas");const m=d.width=Math.ceil(u*o.sx),p=d.height=Math.ceil(c*o.sy);g(this,Wr)||(l=F(this,Ke,e0).call(this,m,p));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",b="#42414d");const x=15,k=x*o.sx,S=x*o.sy,w=new OffscreenCanvas(k*2,S*2),A=w.getContext("2d");A.fillStyle=y,A.fillRect(0,0,k*2,S*2),A.fillStyle=b,A.fillRect(0,0,k,S),A.fillRect(k,S,k,S),v.fillStyle=v.createPattern(w,"repeat"),v.fillRect(0,0,m,p),v.drawImage(l,0,0,l.width,l.height,0,0,m,p)}let h=null;if(i){let m,p;if(o.symmetric&&l.width<n&&l.height<n)m=l.width,p=l.height;else if(l=g(this,jt),a>n||s>n){const b=Math.min(n/a,n/s);m=Math.floor(a*b),p=Math.floor(s*b),g(this,Wr)||(l=F(this,Ke,e0).call(this,m,p))}const y=new OffscreenCanvas(m,p).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,m,p),h={width:m,height:p,data:y.getImageData(0,0,m,p).data}}return{canvas:d,width:u,height:c,imageData:h}}getImageForAltText(){return g(this,Ma)}static async deserialize(n,r,i){var p;let a=null;if(n instanceof s3){const{data:{rect:v,rotation:y,id:b,structParent:x,popupRef:k},container:S,parent:{page:{pageNumber:w}}}=n,A=S.querySelector("canvas"),E=i.imageManager.getFromCanvas(S.id,A);A.remove();const C=((p=await r._structTree.getAriaAttributes(`${IC}${b}`))==null?void 0:p.get("aria-label"))||"";a=n={annotationType:Fe.STAMP,bitmapId:E.id,bitmap:E.bitmap,pageIndex:w-1,rect:v.slice(0),rotation:y,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:C},isSvg:!1,structParent:x,popupRef:k}}const s=await super.deserialize(n,r,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:d,accessibilityData:h}=n;c&&i.imageManager.isValidId(c)?(D(s,Mn,c),l&&D(s,jt,l)):D(s,ws,u),D(s,Wr,d);const[f,m]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/m,s.annotationElementId=n.id||null,h&&(s.altTextData=h),s._initialData=a,D(s,sh,!!a),s}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Fe.STAMP,bitmapId:g(this,Mn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,Wr),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=F(this,Ke,t0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=F(this,Ke,K3).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=g(this,Wr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(g(this,Mn)))r.stamps.set(g(this,Mn),{area:o,serialized:i}),i.bitmap=F(this,Ke,t0).call(this,!1);else if(g(this,Wr)){const l=r.stamps.get(g(this,Mn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=F(this,Ke,t0).call(this,!1))}return i}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};jt=new WeakMap,Mn=new WeakMap,Ro=new WeakMap,ws=new WeakMap,jo=new WeakMap,ah=new WeakMap,Ma=new WeakMap,Ss=new WeakMap,Na=new WeakMap,Wr=new WeakMap,sh=new WeakMap,Ke=new WeakSet,np=function(n,r=!1){if(!n){this.remove();return}D(this,jt,n.bitmap),r||(D(this,Mn,n.id),D(this,Wr,n.isSvg)),n.file&&D(this,ah,n.file.name),F(this,Ke,__).call(this)},rp=function(){if(D(this,Ro,null),this._uiManager.enableWaiting(!1),!!g(this,Ma)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,jt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,jt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Jv=function(){if(g(this,Mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Mn)).then(i=>F(this,Ke,np).call(this,i,!0)).finally(()=>F(this,Ke,rp).call(this));return}if(g(this,ws)){const i=g(this,ws);D(this,ws,null),this._uiManager.enableWaiting(!0),D(this,Ro,this._uiManager.imageManager.getFromUrl(i).then(a=>F(this,Ke,np).call(this,a)).finally(()=>F(this,Ke,rp).call(this)));return}if(g(this,jo)){const i=g(this,jo);D(this,jo,null),this._uiManager.enableWaiting(!0),D(this,Ro,this._uiManager.imageManager.getFromFile(i).then(a=>F(this,Ke,np).call(this,a)).finally(()=>F(this,Ke,rp).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Ap.supportedTypesStr;const r=this._uiManager._signal;D(this,Ro,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,Ke,np).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,Ke,rp).call(this))),n.click()},__=function(){const{div:n}=this;let{width:r,height:i}=g(this,jt);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const d=Math.min(o*a/r,o*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/a,i*u/s),this._uiManager.enableWaiting(!1);const c=D(this,Ma,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,Ke,A_).call(this,r,i),F(this,Ke,Y3).call(this),g(this,sh)||(this.parent.addUndoableEditor(this),D(this,sh,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,ah)&&c.setAttribute("aria-label",g(this,ah))},X3=function(n,r){var o;const[i,a]=this.parentDimensions;this.width=n/i,this.height=r/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,Na)!==null&&clearTimeout(g(this,Na)),D(this,Na,setTimeout(()=>{D(this,Na,null),F(this,Ke,A_).call(this,n,r)},200))},e0=function(n,r){const{width:i,height:a}=g(this,jt);let s=i,o=a,l=g(this,jt);for(;s>2*n||o>2*r;){const u=s,c=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(s,o);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,o),l=d.transferToImageBitmap()}return l},A_=function(n,r){const i=new bk,a=Math.ceil(n*i.sx),s=Math.ceil(r*i.sy),o=g(this,Ma);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=g(this,Wr)?g(this,jt):F(this,Ke,e0).call(this,a,s),u=o.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,a,s)},t0=function(n){if(n){if(g(this,Wr)){const a=this._uiManager.imageManager.getSvgUrl(g(this,Mn));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=g(this,jt),r.getContext("2d").drawImage(g(this,jt),0,0),r.toDataURL()}if(g(this,Wr)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*rl.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*rl.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(g(this,jt),0,0,g(this,jt).width,g(this,jt).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(g(this,jt))},Y3=function(){this._uiManager._signal&&(D(this,Ss,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&F(this,Ke,X3).call(this,r.width,r.height)})),g(this,Ss).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=g(this,Ss))==null||n.disconnect(),D(this,Ss,null)},{once:!0}))},K3=function(n){var u;const{rect:r,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,s=n.rect.every((c,d)=>Math.abs(c-r[d])<1),o=n.pageIndex===i,l=(((u=n.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:s&&o&&l,isSameAltText:l}},Ie(Ap,"_type","stamp"),Ie(Ap,"_editorType",Fe.STAMP);let k_=Ap;var Lu,oh,Ia,Lo,ks,Vr,Do,lh,uh,Gn,_s,Me,$o,Ln,Z3,C_,P_,T_,n0;const Li=class Li{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:c}){z(this,Ln);z(this,Lu);z(this,oh,!1);z(this,Ia,null);z(this,Lo,null);z(this,ks,null);z(this,Vr,new Map);z(this,Do,!1);z(this,lh,!1);z(this,uh,!1);z(this,Gn,null);z(this,_s,null);z(this,Me);const d=[...g(Li,$o).values()];if(!Li._initialized){Li._initialized=!0;for(const h of d)h.initialize(c,e)}e.registerEditorTypes(d),D(this,Me,e),this.pageIndex=n,this.div=r,D(this,Lu,a),D(this,Ia,s),this.viewport=u,D(this,Gn,l),this.drawLayer=o,this._structTree=i,g(this,Me).addLayer(this)}get isEmpty(){return g(this,Vr).size===0}get isInvisible(){return this.isEmpty&&g(this,Me).getMode()===Fe.NONE}updateToolbar(e){g(this,Me).updateToolbar(e)}updateMode(e=g(this,Me).getMode()){switch(F(this,Ln,n0).call(this),e){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of g(Li,$o).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=g(this,Gn))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(g(this,Me).getMode()!==Fe.INK)return;if(!e){for(const r of g(this,Vr).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Me).setEditingState(e)}addCommands(e){g(this,Me).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=g(this,Ia))==null||n.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of g(this,Vr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(g(this,Me).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!g(this,Ia))return;const n=g(this,Ia).getEditableAnnotations();for(const r of n){if(r.hide(),g(this,Me).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;D(this,uh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const a of g(this,Vr).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(g(this,Ia)){const a=g(this,Ia).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(g(this,Me).isDeletedAnnotationElement(o))continue;let l=n.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(g(this,Me).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}F(this,Ln,n0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of g(Li,$o).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,uh,!1)}getEditableAnnotation(e){var n;return((n=g(this,Ia))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Me).getActive()!==e&&g(this,Me).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,Gn))!=null&&e.div&&!g(this,_s)){D(this,_s,new AbortController);const n=g(this,Me).combinedSignal(g(this,_s));g(this,Gn).div.addEventListener("pointerdown",F(this,Ln,Z3).bind(this),{signal:n}),g(this,Gn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,Gn))!=null&&e.div&&g(this,_s)&&(g(this,_s).abort(),D(this,_s,null),g(this,Gn).div.classList.remove("highlighting"))}enableClick(){if(g(this,Lo))return;D(this,Lo,new AbortController);const e=g(this,Me).combinedSignal(g(this,Lo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,Lo))==null||e.abort(),D(this,Lo,null)}attach(e){g(this,Vr).set(e.id,e);const{annotationElementId:n}=e;n&&g(this,Me).isDeletedAnnotationElement(n)&&g(this,Me).removeDeletedAnnotationElement(e)}detach(e){var n;g(this,Vr).delete(e.id),(n=g(this,Lu))==null||n.removePointerInTextLayer(e.contentDiv),!g(this,uh)&&e.annotationElementId&&g(this,Me).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Me).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,lh)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Me).addDeletedAnnotationElement(e.annotationElementId),ct.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Me).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Me).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!g(this,ks)&&(e._focusEventsAllowed=!1,D(this,ks,setTimeout(()=>{D(this,ks,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Me)._signal}),n.focus())},0))),e._structTreeParentId=(r=g(this,Lu))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return g(this,Me).getId()}combinedSignal(e){return g(this,Me).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,Ln,C_))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){g(this,Me).updateToolbar(e),g(this,Me).updateMode(e);const{offsetX:r,offsetY:i}=F(this,Ln,T_).call(this),a=this.getNextId(),s=F(this,Ln,P_).call(this,{parent:this,id:a,x:r,y:i,uiManager:g(this,Me),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=g(Li,$o).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,g(this,Me)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=F(this,Ln,P_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Me),isCentered:n,...r});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(F(this,Ln,T_).call(this),!0)}setSelected(e){g(this,Me).setSelected(e)}toggleSelected(e){g(this,Me).toggleSelected(e)}unselect(e){g(this,Me).unselect(e)}pointerup(e){const{isMac:n}=lr.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&g(this,Do)){if(D(this,Do,!1),!g(this,oh)){D(this,oh,!0);return}if(g(this,Me).getMode()===Fe.STAMP){g(this,Me).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Me).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),g(this,Do)){D(this,Do,!1);return}const{isMac:n}=lr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;D(this,Do,!0);const r=g(this,Me).getActive();D(this,oh,!r||r.isEmpty())}findNewParent(e,n,r){const i=g(this,Me).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=g(this,Me).getActive())==null?void 0:e.parent)===this&&(g(this,Me).commitOrRemove(),g(this,Me).setActiveEditor(null)),g(this,ks)&&(clearTimeout(g(this,ks)),D(this,ks,null));for(const r of g(this,Vr).values())(n=g(this,Lu))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,g(this,Vr).clear(),g(this,Me).removeLayer(this)}render({viewport:e}){this.viewport=e,qu(this.div,e);for(const n of g(this,Me).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){g(this,Me).commitOrRemove(),F(this,Ln,n0).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,qu(this.div,{rotation:r}),n!==r)for(const i of g(this,Vr).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return g(this,Me).viewParameters.realScale}};Lu=new WeakMap,oh=new WeakMap,Ia=new WeakMap,Lo=new WeakMap,ks=new WeakMap,Vr=new WeakMap,Do=new WeakMap,lh=new WeakMap,uh=new WeakMap,Gn=new WeakMap,_s=new WeakMap,Me=new WeakMap,$o=new WeakMap,Ln=new WeakSet,Z3=function(e){g(this,Me).unselectAll();const{target:n}=e;if(n===g(this,Gn).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&g(this,Gn).div.contains(n)){const{isMac:r}=lr.platform;if(e.button!==0||e.ctrlKey&&r)return;g(this,Me).showAllEditors("highlight",!0,!0),g(this,Gn).div.classList.add("free"),this.toggleDrawing(),F0.startHighlighting(this,g(this,Me).direction==="ltr",{target:g(this,Gn).div,x:e.x,y:e.y}),g(this,Gn).div.addEventListener("pointerup",()=>{g(this,Gn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Me)._signal}),e.preventDefault()}},C_=function(){return g(Li,$o).get(g(this,Me).getMode())},P_=function(e){const n=g(this,Ln,C_);return n?new n.prototype.constructor(e):null},T_=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(a+o)/2-e,c=(s+l)/2-n,[d,h]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:h}},n0=function(){D(this,lh,!0);for(const e of g(this,Vr).values())e.isEmpty()&&e.remove();D(this,lh,!1)},Ie(Li,"_initialized",!1),z(Li,$o,new Map([a_,p_,k_,F0].map(e=>[e._editorType,e])));let E_=Li;var Ra,Hg,Zt,As,Wg,M_,nc,N_,Q3;const Pn=class Pn{constructor({pageIndex:e}){z(this,nc);z(this,Ra,null);z(this,Hg,0);z(this,Zt,new Map);z(this,As,new Map);this.pageIndex=e}setParent(e){if(!g(this,Ra)){D(this,Ra,e);return}if(g(this,Ra)!==e){if(g(this,Zt).size>0)for(const n of g(this,Zt).values())n.remove(),e.append(n);D(this,Ra,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new HC)}draw(e,n,r,i=!1){const a=tr(this,Hg)._++,s=F(this,nc,N_).call(this,e.box);s.classList.add(...e.classNamesForDrawing);const o=Pn._svgFactory.createElement("defs");s.append(o);const l=Pn._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&g(this,As).set(a,l);const c=F(this,nc,Q3).call(this,o,u),d=Pn._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),g(this,Zt).set(a,s),{id:a,clipPathId:`url(#${c})`}}drawOutline(e){const n=tr(this,Hg)._++,r=F(this,nc,N_).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Pn._svgFactory.createElement("defs");r.append(i);const a=Pn._svgFactory.createElement("path");i.append(a);const s=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",s),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const c=Pn._svgFactory.createElement("mask");i.append(c),o=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const d=Pn._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=Pn._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=Pn._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),g(this,Zt).set(n,r),n}finalizeLine(e,n){const r=g(this,As).get(e);g(this,As).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){g(this,Zt).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(e,n){g(this,As).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;F(r=Pn,Wg,M_).call(r,g(this,Zt).get(e),n)}show(e,n){g(this,Zt).get(e).classList.toggle("hidden",!n)}rotate(e,n){g(this,Zt).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){g(this,Zt).get(e).setAttribute("fill",n)}changeOpacity(e,n){g(this,Zt).get(e).setAttribute("fill-opacity",n)}addClass(e,n){g(this,Zt).get(e).classList.add(n)}removeClass(e,n){g(this,Zt).get(e).classList.remove(n)}getSVGRoot(e){return g(this,Zt).get(e)}remove(e){g(this,As).delete(e),g(this,Ra)!==null&&(g(this,Zt).get(e).remove(),g(this,Zt).delete(e))}destroy(){D(this,Ra,null);for(const e of g(this,Zt).values())e.remove();g(this,Zt).clear(),g(this,As).clear()}};Ra=new WeakMap,Hg=new WeakMap,Zt=new WeakMap,As=new WeakMap,Wg=new WeakSet,M_=function(e,{x:n=0,y:r=0,width:i=1,height:a=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},nc=new WeakSet,N_=function(e){var r;const n=Pn._svgFactory.create(1,1,!0);return g(this,Ra).append(n),n.setAttribute("aria-hidden",!0),F(r=Pn,Wg,M_).call(r,n,e),n},Q3=function(e,n){const r=Pn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Pn._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},z(Pn,Wg);let O_=Pn;Le.AbortException;Le.AnnotationEditorLayer;Le.AnnotationEditorParamsType;Le.AnnotationEditorType;Le.AnnotationEditorUIManager;var J3=Le.AnnotationLayer,eB=Le.AnnotationMode;Le.ColorPicker;Le.DOMSVGFactory;Le.DrawLayer;Le.FeatureTest;var VC=Le.GlobalWorkerOptions;Le.ImageKind;Le.InvalidPDFException;Le.MissingPDFException;Le.OPS;Le.OutputScale;var pZ=Le.PDFDataRangeTransport;Le.PDFDateString;Le.PDFWorker;Le.PasswordResponses;Le.PermissionFlag;Le.PixelsPerInch;Le.RenderingCancelledException;var tB=Le.TextLayer;Le.UnexpectedResponseException;Le.Util;Le.VerbosityLevel;Le.XfaLayer;Le.build;Le.createValidAbsoluteUrl;Le.fetchData;var nB=Le.getDocument;Le.getFilenameFromUrl;Le.getPdfFilenameFromUrl;Le.getXfaPageViewport;Le.isDataScheme;Le.isPdfFile;Le.noContextMenu;Le.normalizeUnicode;Le.setLayerDimensions;Le.shadow;Le.version;const mZ=Object.freeze(Object.defineProperty({__proto__:null,AnnotationLayer:J3,AnnotationMode:eB,GlobalWorkerOptions:VC,PDFDataRangeTransport:pZ,TextLayer:tB,getDocument:nB},Symbol.toStringTag,{value:"Module"}));var vn=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},gZ=["onCopy","onCut","onPaste"],yZ=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],vZ=["onFocus","onBlur"],bZ=["onInput","onInvalid","onReset","onSubmit"],xZ=["onLoad","onError"],wZ=["onKeyDown","onKeyPress","onKeyUp"],SZ=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],kZ=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],_Z=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],AZ=["onSelect"],EZ=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],CZ=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],PZ=["onScroll"],TZ=["onWheel"],OZ=["onAnimationStart","onAnimationEnd","onAnimationIteration"],MZ=["onTransitionEnd"],NZ=["onToggle"],IZ=["onChange"],RZ=vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn([],gZ,!0),yZ,!0),vZ,!0),bZ,!0),xZ,!0),wZ,!0),SZ,!0),kZ,!0),_Z,!0),AZ,!0),EZ,!0),CZ,!0),PZ,!0),TZ,!0),OZ,!0),MZ,!0),IZ,!0),NZ,!0);function rB(t,e){var n={};return RZ.forEach(function(r){var i=t[r];i&&(e?n[r]=function(a){return i(a,e(r))}:n[r]=i)}),n}function iy(t){var e=!1,n=new Promise(function(r,i){t.then(function(a){return!e&&r(a)}).catch(function(a){return!e&&i(a)})});return{promise:n,cancel:function(){e=!0}}}function iB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iB(t))&&(r&&(r+=" "),r+=e);return r}var jZ="Invariant failed";function Je(t,e){if(!t)throw new Error(jZ)}var LZ=function(){},DZ=LZ;const Zn=nt(DZ);var X2=Object.prototype.hasOwnProperty;function Y2(t,e,n){for(n of t.keys())if(sd(n,e))return n}function sd(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&sd(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=Y2(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=Y2(e,i),!i)||!sd(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(X2.call(t,n)&&++r&&!X2.call(e,n)||!(n in e)||!sd(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const aB=N.createContext(null);function od({children:t,type:e}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const $Z="noopener noreferrer nofollow";class FZ{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Je(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Je(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{Je(this.pdfDocument),Je(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Je(Array.isArray(n));const r=n[0];new Promise(i=>{Je(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{Je(!1)}):typeof r=="number"?i(r):Je(!1)}).then(i=>{const a=i+1;Je(this.pdfViewer),Je(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;Je(this.pdfViewer),Je(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||$Z,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const K2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lx=typeof window<"u",sB=Lx&&window.location.protocol==="file:";function BZ(t){return typeof t<"u"}function vl(t){return BZ(t)&&t!==null}function zZ(t){return typeof t=="string"}function UZ(t){return t instanceof ArrayBuffer}function HZ(t){return Je(Lx),t instanceof Blob}function I_(t){return zZ(t)&&/^data:/.test(t)}function Z2(t){Je(I_(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function WZ(){return Lx&&window.devicePixelRatio||1}const oB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Q2(){Zn(!sB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${oB}`)}function VZ(){Zn(!sB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${oB}`)}function Ku(t){t!=null&&t.cancel&&t.cancel()}function R_(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function GZ(t){return t.name==="RenderingCancelledException"}function qZ(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}function XZ(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function vh(){return N.useReducer(XZ,{value:void 0,error:void 0})}var YZ=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},J2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const{PDFDataRangeTransport:KZ}=mZ,ZZ=(t,e)=>{switch(e){case K2.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case K2.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function eM(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const QZ=N.forwardRef(function(e,n){var{children:r,className:i,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:c,loading:d="Loading PDF",noData:h="No PDF file specified.",onItemClick:f,onLoadError:m,onLoadProgress:p,onLoadSuccess:v,onPassword:y=ZZ,onSourceError:b,onSourceSuccess:x,options:k,renderMode:S,rotate:w}=e,A=J2(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,C]=vh(),{value:O,error:I}=E,[T,j]=vh(),{value:P,error:$}=T,X=N.useRef(new FZ),U=N.useRef([]),q=N.useRef(void 0),G=N.useRef(void 0);l&&l!==q.current&&eM(l)&&(Zn(!sd(l,q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),q.current=l),k&&k!==G.current&&(Zn(!sd(k,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=k);const R=N.useRef({scrollPageIntoView:ye=>{const{dest:M,pageNumber:ee,pageIndex:K=ee-1}=ye;if(f){f({dest:M,pageIndex:K,pageNumber:ee});return}const V=U.current[K];if(V){V.scrollIntoView();return}Zn(!1,`An internal link leading to page ${ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(n,()=>({linkService:X,pages:U,viewer:R}),[]);function B(){x&&x()}function H(){I&&(Zn(!1,I.toString()),b&&b(I))}function L(){C({type:"RESET"})}N.useEffect(L,[l,C]);const ae=N.useCallback(()=>YZ(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return I_(l)?{data:Z2(l)}:(Q2(),{url:l});if(l instanceof KZ)return{range:l};if(UZ(l))return{data:l};if(Lx&&HZ(l))return{data:yield qZ(l)};if(Je(typeof l=="object"),Je(eM(l)),"url"in l&&typeof l.url=="string"){if(I_(l.url)){const{url:ye}=l,M=J2(l,["url"]),ee=Z2(ye);return Object.assign({data:ee},M)}Q2()}return l}),[l]);N.useEffect(()=>{const ye=iy(ae());return ye.promise.then(M=>{C({type:"RESOLVE",value:M})}).catch(M=>{C({type:"REJECT",error:M})}),()=>{Ku(ye)}},[ae,C]),N.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){H();return}B()}},[O]);function Z(){P&&(v&&v(P),U.current=new Array(P.numPages),X.current.setDocument(P))}function de(){$&&(Zn(!1,$.toString()),m&&m($))}N.useEffect(function(){j({type:"RESET"})},[j,O]),N.useEffect(function(){if(!O)return;const M=k?Object.assign(Object.assign({},O),k):O,ee=nB(M);p&&(ee.onProgress=p),y&&(ee.onPassword=y);const K=ee,V=K.promise.then(W=>{j({type:"RESOLVE",value:W})}).catch(W=>{K.destroyed||j({type:"REJECT",error:W})});return()=>{V.finally(()=>K.destroy())}},[k,j,O]),N.useEffect(()=>{if(!(typeof P>"u")){if(P===!1){de();return}Z()}},[P]),N.useEffect(function(){X.current.setViewer(R.current),X.current.setExternalLinkRel(s),X.current.setExternalLinkTarget(o)},[s,o]);const Se=N.useCallback((ye,M)=>{U.current[ye]=M},[]),ge=N.useCallback(ye=>{delete U.current[ye]},[]),ie=N.useMemo(()=>({imageResourcesPath:c,linkService:X.current,onItemClick:f,pdf:P,registerPage:Se,renderMode:S,rotate:w,unregisterPage:ge}),[c,f,P,Se,S,w,ge]),he=N.useMemo(()=>rB(A,()=>P),[A,P]);function fe(){return _.jsx(aB.Provider,{value:ie,children:r})}function te(){return l?P==null?_.jsx(od,{type:"loading",children:typeof d=="function"?d():d}):P===!1?_.jsx(od,{type:"error",children:typeof a=="function"?a():a}):fe():_.jsx(od,{type:"no-data",children:typeof h=="function"?h():h})}return _.jsx("div",Object.assign({className:qe("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},he,{children:te()}))});function lB(){return N.useContext(aB)}function uB(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){n.forEach(function(s){typeof s=="function"?s(a):s&&(s.current=a)})}}const cB=N.createContext(null),dB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},JZ=/^H(\d+)$/;function eQ(t){return t in dB}function Dx(t){return"children"in t}function hB(t){return Dx(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function tQ(t){const e={};if(Dx(t)){const{role:n}=t,r=n.match(JZ);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(eQ(n)){const i=dB[n];i&&(e.role=i)}}return e}function fB(t){const e={};if(Dx(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),hB(t)){const[n]=t.children;if(n){const r=fB(n);return Object.assign(Object.assign({},e),r)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function nQ(t){return t?Object.assign(Object.assign({},tQ(t)),fB(t)):null}function pB({className:t,node:e}){const n=N.useMemo(()=>nQ(e),[e]),r=N.useMemo(()=>!Dx(e)||hB(e)?null:e.children.map((i,a)=>_.jsx(pB,{node:i},a)),[e]);return _.jsx("span",Object.assign({className:t},n,{children:r}))}function $x(){return N.useContext(cB)}function rQ(){const t=$x();Je(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=vh(),{value:a,error:s}=r,{customTextRenderer:o,page:l}=t;function u(){a&&n&&n(a)}function c(){s&&(Zn(!1,s.toString()),e&&e(s))}return N.useEffect(function(){i({type:"RESET"})},[i,l]),N.useEffect(function(){if(o||!l)return;const h=iy(l.getStructTree()),f=h;return h.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>Ku(f)},[o,l,i]),N.useEffect(()=>{if(a!==void 0){if(a===!1){c();return}u()}},[a]),a?_.jsx(pB,{className:"react-pdf__Page__structTree structTree",node:a}):null}const tM=eB;function iQ(t){const e=$x();Je(e);const n=Object.assign(Object.assign({},e),t),{_className:r,canvasBackground:i,devicePixelRatio:a=WZ(),onRenderError:s,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:c,rotate:d,scale:h}=n,{canvasRef:f}=t;Je(l);const m=N.useRef(null);function p(){l&&o&&o(R_(l,h))}function v(k){GZ(k)||(Zn(!1,k.toString()),s&&s(k))}const y=N.useMemo(()=>l.getViewport({scale:h*a,rotation:d}),[a,l,d,h]),b=N.useMemo(()=>l.getViewport({scale:h,rotation:d}),[l,d,h]);N.useEffect(function(){if(!l)return;l.cleanup();const{current:S}=m;if(!S)return;S.width=y.width,S.height=y.height,S.style.width=`${Math.floor(b.width)}px`,S.style.height=`${Math.floor(b.height)}px`,S.style.visibility="hidden";const w={annotationMode:u?tM.ENABLE_FORMS:tM.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:y};i&&(w.background=i);const A=l.render(w),E=A;return A.promise.then(()=>{S.style.visibility="",p()}).catch(v),()=>Ku(E)},[i,l,u,y,b]);const x=N.useCallback(()=>{const{current:k}=m;k&&(k.width=0,k.height=0)},[]);return N.useEffect(()=>x,[x]),_.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:uB(f,m),style:{display:"block",userSelect:"none"},children:c?_.jsx(rQ,{}):null})}function aQ(t){return"str"in t}function sQ(){const t=$x();Je(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:l,rotate:u,scale:c}=t;Je(s);const[d,h]=vh(),{value:f,error:m}=d,p=N.useRef(null);Zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){f&&r&&r(f)}function y(){m&&(Zn(!1,m.toString()),n&&n(m))}N.useEffect(function(){h({type:"RESET"})},[s,h]),N.useEffect(function(){if(!s)return;const E=iy(s.getTextContent()),C=E;return E.promise.then(O=>{h({type:"RESOLVE",value:O})}).catch(O=>{h({type:"REJECT",error:O})}),()=>Ku(C)},[s,h]),N.useEffect(()=>{if(f!==void 0){if(f===!1){y();return}v()}},[f]);const b=N.useCallback(()=>{a&&a()},[a]),x=N.useCallback(A=>{Zn(!1,A.toString()),i&&i(A)},[i]);function k(){const A=p.current;A&&A.classList.add("selecting")}function S(){const A=p.current;A&&A.classList.remove("selecting")}const w=N.useMemo(()=>s.getViewport({scale:c,rotation:u}),[s,u,c]);return N.useLayoutEffect(function(){if(!s||!f)return;const{current:E}=p;if(!E)return;E.innerHTML="";const C=s.streamTextContent({includeMarkedContent:!0}),O={container:E,textContentSource:C,viewport:w},I=new tB(O),T=I;return I.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",E.append(j);const P=E.querySelectorAll('[role="presentation"]');if(e){let $=0;f.items.forEach((X,U)=>{if(!aQ(X))return;const q=P[$];if(!q)return;const G=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:U},X));q.innerHTML=G,$+=X.str&&X.hasEOL?2:1})}b()}).catch(x),()=>Ku(T)},[e,x,b,s,o,l,f,w]),_.jsx("div",{className:qe("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:k,ref:p})}function oQ(){const t=lB(),e=$x();Je(e);const n=Object.assign(Object.assign({},t),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:c,renderForms:d,rotate:h,scale:f=1}=n;Je(c),Je(u),Je(i);const[m,p]=vh(),{value:v,error:y}=m,b=N.useRef(null);Zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){v&&s&&s(v)}function k(){y&&(Zn(!1,y.toString()),a&&a(y))}N.useEffect(function(){p({type:"RESET"})},[p,u]),N.useEffect(function(){if(!u)return;const C=iy(u.getAnnotations()),O=C;return C.promise.then(I=>{p({type:"RESOLVE",value:I})}).catch(I=>{p({type:"REJECT",error:I})}),()=>{Ku(O)}},[p,u]),N.useEffect(()=>{if(v!==void 0){if(v===!1){k();return}x()}},[v]);function S(){l&&l()}function w(E){Zn(!1,`${E}`),o&&o(E)}const A=N.useMemo(()=>u.getViewport({scale:f,rotation:h}),[u,h,f]);return N.useEffect(function(){if(!c||!u||!i||!v)return;const{current:C}=b;if(!C)return;const O=A.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:C,l10n:null,page:u,structTreeLayer:null,viewport:O},T={annotations:v,annotationStorage:c.annotationStorage,div:C,imageResourcesPath:r,linkService:i,page:u,renderForms:d,viewport:O};C.innerHTML="";try{new J3(I).render(T),S()}catch(j){w(j)}return()=>{}},[v,r,i,u,c,d,A]),_.jsx("div",{className:qe("react-pdf__Page__annotations","annotationLayer"),ref:b})}var lQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const nM=1;function uQ(t){const e=lB(),n=Object.assign(Object.assign({},e),t),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:l,customRenderer:u,customTextRenderer:c,devicePixelRatio:d,error:h="Failed to load the page.",height:f,inputRef:m,loading:p="Loading page",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:k,onGetTextError:S,onGetTextSuccess:w,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:O,onRenderError:I,onRenderSuccess:T,onRenderTextLayerError:j,onRenderTextLayerSuccess:P,pageIndex:$,pageNumber:X,pdf:U,registerPage:q,renderAnnotationLayer:G=!0,renderForms:R=!1,renderMode:B="canvas",renderTextLayer:H=!0,rotate:L,scale:ae=nM,unregisterPage:Z,width:de}=n,Se=lQ(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ge,ie]=vh(),{value:he,error:fe}=ge,te=N.useRef(null);Je(U);const ye=vl(X)?X-1:$??null,M=X??(vl($)?$+1:null),ee=L??(he?he.rotate:null),K=N.useMemo(()=>{if(!he)return null;let oe=1;const be=ae??nM;if(de||f){const Oe=he.getViewport({scale:1,rotation:ee});de?oe=de/Oe.width:f&&(oe=f/Oe.height)}return be*oe},[f,he,ee,ae,de]);N.useEffect(function(){return()=>{vl(ye)&&i&&Z&&Z(ye)}},[i,U,ye,Z]);function V(){if(E){if(!he||!K)return;E(R_(he,K))}if(i&&q){if(!vl(ye)||!te.current)return;q(ye,te.current)}}function W(){fe&&(Zn(!1,fe.toString()),A&&A(fe))}N.useEffect(function(){ie({type:"RESET"})},[ie,U,ye]),N.useEffect(function(){if(!U||!M)return;const be=iy(U.getPage(M)),Oe=be;return be.promise.then(Be=>{ie({type:"RESOLVE",value:Be})}).catch(Be=>{ie({type:"REJECT",error:Be})}),()=>Ku(Oe)},[ie,U,M]),N.useEffect(()=>{if(he!==void 0){if(he===!1){W();return}V()}},[he,K]);const Y=N.useMemo(()=>he&&vl(ye)&&M&&vl(ee)&&vl(K)?{_className:r,canvasBackground:a,customTextRenderer:c,devicePixelRatio:d,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:k,onGetTextError:S,onGetTextSuccess:w,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:O,onRenderError:I,onRenderSuccess:T,onRenderTextLayerError:j,onRenderTextLayerSuccess:P,page:he,pageIndex:ye,pageNumber:M,renderForms:R,renderTextLayer:H,rotate:ee,scale:K}:null,[r,a,c,d,y,b,x,k,S,w,C,O,I,T,j,P,he,ye,M,R,H,ee,K]),se=N.useMemo(()=>rB(Se,()=>he&&(K?R_(he,K):void 0)),[Se,he,K]),ue=`${ye}@${K}/${ee}`;function re(){switch(B){case"custom":return Je(u),_.jsx(u,{},`${ue}_custom`);case"none":return null;case"canvas":default:return _.jsx(iQ,{canvasRef:s},`${ue}_canvas`)}}function me(){return H?_.jsx(sQ,{},`${ue}_text`):null}function ve(){return G?_.jsx(oQ,{},`${ue}_annotations`):null}function pe(){return _.jsxs(cB.Provider,{value:Y,children:[re(),me(),ve(),o]})}function J(){return M?U===null||he===void 0||he===null?_.jsx(od,{type:"loading",children:typeof p=="function"?p():p}):U===!1||he===!1?_.jsx(od,{type:"error",children:typeof h=="function"?h():h}):pe():_.jsx(od,{type:"no-data",children:typeof v=="function"?v():v})}return _.jsx("div",Object.assign({className:qe(r,l),"data-page-number":M,ref:uB(m,te),style:{"--scale-factor":`${K}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},se,{children:J()}))}VZ();VC.workerSrc="pdf.worker.mjs";const cQ="/assets/pdf.worker-n-vTvQZi.mjs",dQ=cQ;VC.workerSrc=dQ;const A1=25,E1=400,qy=50,hQ=[80,100,125];function rM(t,e){const n=atob(t),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);const i=new Blob([r],{type:e});return URL.createObjectURL(i)}function fQ({contentBase64:t,fileId:e,size:n}){const r=N.useRef(null),[i,a]=N.useState(null),[s,o]=N.useState(0),[l,u]=N.useState(1),c=N.useRef([]),[d,h]=N.useState(!0),[f,m]=N.useState(null),[p,v]=N.useState(100),[y,b]=N.useState(""),[x,k]=N.useState(!1),[S,w]=N.useState(0),A=N.useRef(0),E=N.useRef(!1);N.useEffect(()=>{if(!t)return;const B=rM(t,"application/pdf");return a(B),()=>URL.revokeObjectURL(B)},[t]);const C=N.useCallback(({numPages:B})=>{o(B),h(!1),m(null)},[]),O=N.useCallback(B=>{h(!1),m((B==null?void 0:B.message)??"Failed to load PDF")},[]);N.useEffect(()=>{if(!r.current)return;const B=new ResizeObserver(H=>{const L=H[0];L&&w(L.contentRect.width)});return B.observe(r.current),()=>B.disconnect()},[]),N.useEffect(()=>{if(s===0)return;const B=c.current,H=new IntersectionObserver(L=>{L.forEach(ae=>{if(ae.isIntersecting){const Z=Number(ae.target.dataset.pageNumber);Number.isNaN(Z)||u(Z)}})},{root:r.current,rootMargin:"-20% 0px",threshold:0});return B.forEach(L=>{L&&H.observe(L)}),()=>H.disconnect()},[s]);const[I,T]=N.useState(0),P=x&&S>0&&I>0?(S-32)/I:p/100,$=N.useCallback(B=>{E.current||(E.current=!0,A.current=B.width,T(B.width))},[]),X=()=>{v(B=>Math.min(E1,B+qy)),k(!1)},U=()=>{v(B=>Math.max(A1,B-qy)),k(!1)},q=()=>{const B=Number.parseInt(y,10);Number.isNaN(B)||v(Math.min(E1,Math.max(A1,B))),b("")},G=N.useCallback(B=>{B.ctrlKey&&(B.preventDefault(),v(H=>B.deltaY<0?Math.min(E1,H+qy):Math.max(A1,H-qy)),k(!1))},[]);N.useEffect(()=>{const B=r.current;if(B)return B.addEventListener("wheel",G,{passive:!1}),()=>B.removeEventListener("wheel",G)},[G]);const R=()=>{m(null),h(!0),o(0),a(B=>(B&&URL.revokeObjectURL(B),rM(t,"application/pdf")))};return f?_.jsxs("div",{className:"flex min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[_.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to load PDF."}),_.jsx("p",{className:"text-sm text-slate-500",children:f}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:R,"aria-label":"Retry loading PDF",children:"Retry"}),_.jsx(yh,{to:"/app/workspace",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",children:"Back to Workspace"})]})]}):_.jsxs("div",{className:"flex h-full flex-col",ref:r,children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:U,"aria-label":"Zoom out",children:""}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:X,"aria-label":"Zoom in",children:"+"}),hQ.map(B=>_.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${p===B?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{v(B),k(!1)},"aria-label":`Zoom ${B}%`,children:[B,"%"]},B)),_.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Custom:"}),_.jsx("input",{type:"text",inputMode:"numeric",placeholder:`${p}%`,value:y,onChange:B=>b(B.target.value.replace(/\D/g,"")),onBlur:q,onKeyDown:B=>{B.key==="Enter"&&q()},className:"w-14 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Custom zoom percentage"}),_.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"%"}),_.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${x?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>k(B=>!B),"aria-label":"Fit to width",children:"Fit to width"}),s>0&&_.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400","aria-live":"polite",children:["Page ",l," of ",s]})]}),_.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-4 dark:bg-slate-600",style:{minHeight:400},children:[d&&_.jsx("div",{className:"flex items-center justify-center py-16",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading PDF"})}),i&&_.jsx(QZ,{file:i,onLoadSuccess:C,onLoadError:O,loading:null,className:"flex flex-col items-center gap-4",children:Array.from({length:s},(B,H)=>H+1).map(B=>_.jsx("div",{className:"relative bg-white shadow-lg dark:bg-slate-900",ref:H=>{c.current[B-1]=H},"data-page-number":B,children:_.jsx(uQ,{pageNumber:B,scale:P,onLoadSuccess:B===1?$:void 0,renderTextLayer:!0,renderAnnotationLayer:!0})},B))})]})]})}function pQ(t){const e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function mQ({content:t,fileName:e}){let n;try{n=JSON.parse(t)}catch{return _.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Invalid Spotify track data."})})}if(n.source!=="spotify")return _.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Not a Spotify track."})});const r=n.trackUrl??`https://open.spotify.com/track/${n.trackId}`;return _.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:_.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[n.artworkUrl&&_.jsx("img",{src:n.artworkUrl,alt:"",className:"h-32 w-32 shrink-0 rounded-lg object-cover shadow"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:n.name||e}),n.artists&&_.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-300",children:n.artists}),n.album&&_.jsxs("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:["Album: ",n.album]}),n.duration_ms!=null&&_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:pQ(n.duration_ms)}),_.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Open in Spotify"})]})]})})}const gQ="workspace-root";function mB(){const{items:t,createFolder:e,addFile:n,addDocxFile:r,addPdfFile:i,renameItem:a,deleteItem:s,getItem:o,updateFileContent:l,moveFile:u}=QD(),{showToast:c}=tW(),d=async(te,ye)=>{if(te===gQ){c("Workspace cannot be removed.","info");return}const M=await s(te);M.length>0&&v(M)},{openTabIds:h,activeTabId:f,openTab:m,closeTab:p,closeTabs:v,setActiveTab:y,reorderTabs:b}=VW(),[x,k]=N.useState(null),[S,w]=N.useState(null),[A,E]=N.useState(null),[C,O]=N.useState(null),[I,T]=N.useState(()=>GH()),[j,P]=N.useState(null),[$,X]=N.useState(!1),[U,q]=N.useState(void 0),G=N.useRef(null);N.useEffect(()=>{qH(I)},[I]);const R=N.useCallback(te=>{T(ye=>({...ye,[te]:!ye[te]}))},[]),B=N.useCallback(te=>{P(te)},[]);N.useEffect(()=>{if(!j)return;const te=setTimeout(()=>P(null),2500);return()=>clearTimeout(te)},[j]);const H=te=>{console.log(" handleCreateFolder called with parentId:",te),q(te)},L=N.useCallback(te=>{console.log(" handleNewFolderSubmit called with name:",te,"parentId:",U);const ye=U===void 0?null:U;q(void 0),e(ye,te.trim()||"New folder")},[U,e]),ae=te=>{var ye;O(te),(ye=G.current)==null||ye.click()},Z=async te=>{var ee;const ye=te.target.files;if(!(ye!=null&&ye.length))return;const M=C;O(null);for(let K=0;K<ye.length;K++){const V=ye[K],W=(ee=V.name.split(".").pop())==null?void 0:ee.toLowerCase();try{if(W==="docx"){if(V.size>GW){c(`"${V.name}" is too large. Maximum size for DOCX files is 5 MB.`,"error");continue}const Y=await new Promise((pe,J)=>{const oe=new FileReader;oe.onload=()=>pe(oe.result),oe.onerror=()=>J(oe.error),oe.readAsArrayBuffer(V)}),se=new Uint8Array(Y),ue=8192;let re="";for(let pe=0;pe<se.length;pe+=ue)re+=String.fromCharCode(...se.subarray(pe,pe+ue));const me=btoa(re),ve=await r(M,V.name,me,V.size);m(ve)}else if(W==="pdf"){if(V.size>qW){c(`"${V.name}" is too large. Maximum size for PDF files is 5 MB.`,"error");continue}const Y=await new Promise((pe,J)=>{const oe=new FileReader;oe.onload=()=>pe(oe.result),oe.onerror=()=>J(oe.error),oe.readAsArrayBuffer(V)}),se=new Uint8Array(Y),ue=8192;let re="";for(let pe=0;pe<se.length;pe+=ue)re+=String.fromCharCode(...se.subarray(pe,pe+ue));const me=btoa(re),ve=await i(M,V.name,me,V.size);m(ve)}else{const Y=await new Promise((ue,re)=>{const me=new FileReader;me.onload=()=>ue(String(me.result)),me.onerror=()=>re(me.error),me.readAsText(V)}),se=W==="csv"?"csv":"text";await n(M,V.name,se,Y)}}catch(Y){console.error(Y),c(`Could not import "${V.name}". Please try again.`,"error")}}te.target.value=""},de=te=>{m(te)},{query:Se}=UD(),ge=N.useMemo(()=>{const te=Se.trim().toLowerCase();return te?t.filter(ye=>ye.name.toLowerCase().includes(te)):t},[t,Se]),ie=f?o(f):null,he=t.length>0,fe=h.length>0;return _.jsxs("div",{className:"flex h-full gap-4",children:[_.jsxs("aside",{className:"flex w-64 flex-col rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",style:{height:"85vh"},children:[_.jsx("div",{className:"border-b border-slate-200 p-2 font-medium text-center text-slate-800 dark:border-slate-700 dark:text-slate-100",children:"Files & folders"}),j&&_.jsx("div",{className:"border-b border-slate-200 bg-blue-50 px-2 py-1.5 text-sm text-blue-800 dark:border-slate-700 dark:bg-blue-900/30 dark:text-blue-200",role:"status",children:j}),_.jsx(YW,{items:ge,selectedFolderId:A,expandedFolders:I,onToggleExpand:R,onSelectFolder:E,onOpenFile:de,onCreateFolder:H,onImportFiles:ae,onRename:a,onDelete:d,moveFile:u,getItem:o,onMoveFeedback:B,isDragging:$,setDragging:X})]}),_.jsx("input",{ref:G,type:"file",multiple:!0,className:"hidden","aria-label":"Import files",onChange:Z}),_.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[fe&&_.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700 overflow-x-auto",onDragOver:te=>te.preventDefault(),onDragLeave:()=>w(null),children:h.map((te,ye)=>{const M=o(te),ee=x===te,K=S===ye;return _.jsxs("div",{draggable:!0,onDragStart:V=>{k(te),V.dataTransfer.setData("text/plain",te),V.dataTransfer.effectAllowed="move"},onDragEnd:()=>{k(null),w(null)},onDragOver:V=>{V.preventDefault(),V.dataTransfer.dropEffect="move",w(ye)},onDrop:V=>{V.preventDefault(),k(null),w(null);const W=V.dataTransfer.getData("text/plain");if(!W||W===te)return;const Y=h.indexOf(W),se=ye;if(Y===se)return;const ue=[...h];ue.splice(Y,1),ue.splice(se,0,W),b(ue)},onClick:()=>y(te),onDoubleClick:()=>p(te),className:["flex min-w-0 max-w-[180px] cursor-grab active:cursor-grabbing items-center gap-1 border-r border-slate-200 dark:border-slate-700 px-2 py-2 text-sm transition-colors duration-150",te===f?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700/50",ee&&"opacity-50",K&&"animate-tab-drop-pulse ring-2 ring-green-500 ring-inset dark:ring-green-400"].filter(Boolean).join(" "),title:(M==null?void 0:M.name)??te,children:[_.jsx("span",{className:"min-w-0 truncate",children:(M==null?void 0:M.name)??te}),_.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),p(te)},className:"shrink-0 rounded p-0.5 text-inherit opacity-70 hover:opacity-100 hover:bg-slate-200 dark:hover:bg-slate-600","aria-label":"Close tab",children:""})]},te)})}),_.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[!fe&&!he&&_.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:[_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No files yet. Create a folder or import files to get started."}),_.jsx(hn,{variant:"primary",size:"lg",onClick:()=>ae(null),children:"Import files"})]}),!fe&&he&&_.jsx("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:_.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click a file in the sidebar to open it in a tab."})}),fe&&ie&&Vc(ie)&&ie.fileType==="docx"&&_.jsx("div",{className:"h-full min-h-[300px]",children:_.jsx(dY,{fileId:ie.id,fileName:ie.name,contentBase64:ie.content,size:ie.size})}),fe&&ie&&Vc(ie)&&ie.fileType==="pdf"&&_.jsx("div",{className:"h-full min-h-[300px]",children:_.jsx(fQ,{fileId:ie.id,fileName:ie.name,contentBase64:ie.content,size:ie.size})}),fe&&ie&&Vc(ie)&&ie.fileType==="spotify"&&_.jsx("div",{className:"h-full min-h-[300px]",children:_.jsx(mQ,{content:ie.content,fileName:ie.name})}),fe&&ie&&Vc(ie)&&(ie.fileType==="text"||ie.fileType==="csv")&&_.jsx("div",{className:"h-full min-h-[300px]",children:_.jsx($q,{content:ie.content,fileType:ie.fileType,fileName:ie.name,onSave:te=>l(ie.id,te)})})]})]}),_.jsx(nk,{open:U!==void 0,title:"New folder",label:"Folder name",defaultValue:"New folder",submitLabel:"Create",onSubmit:L,onCancel:()=>q(void 0)})]})}const $n="study",yQ={id:"pomodoro",phase:"work",remainingSeconds:25*60,cycleCount:0,isRunning:!1,workMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,cyclesBeforeLongBreak:4},vQ={id:"customTimer",durationMinutes:25,remainingSeconds:25*60,isRunning:!1};async function iM(){return await da($n,"pomodoro")??yQ}async function bl(t){await Or($n,t)}async function aM(){return await da($n,"customTimer")??vQ}async function bc(t){await Or($n,t)}const bQ={id:"5217",phase:"work",remainingSeconds:52*60,isRunning:!1,workMinutes:52,breakMinutes:17};async function sM(){return await da($n,"5217")??bQ}async function Ef(t){await Or($n,t)}async function oM(){return await da($n,"timebox")??{id:"timebox",blocks:[],currentIndex:0,remainingSeconds:0,isRunning:!1}}async function xQ(t){await Or($n,t)}async function wQ(){return await da($n,"spacedrep")??{id:"spacedrep",sessions:[]}}async function SQ(t){await Or($n,t)}async function kQ(){return(await oC($n)).filter(e=>"name"in e&&"createdAt"in e&&!("deckId"in e))}async function ip(t){return(await oC($n)).filter(n=>n.deckId===t)}async function _Q(t){await Or($n,t)}async function AQ(t){const e=await ip(t);for(const n of e)await Gu($n,n.id);await Gu($n,t)}async function lM(t){await Or($n,t)}async function EQ(t){await Gu($n,t)}function B0(){return crypto.randomUUID()}let r0=!1;async function GC(){if(!("Notification"in window))return console.warn("Notifications not supported in this browser"),!1;if(Notification.permission==="granted")return r0=!0,!0;if(Notification.permission==="denied")return!1;try{return r0=await Notification.requestPermission()==="granted",r0}catch(t){return console.error("Error requesting notification permission:",t),!1}}function Xp(t,e){if(!(!r0||!("Notification"in window)||Notification.permission!=="granted"))try{new Notification(t,{icon:"/favicon.ico",badge:"/favicon.ico",...e})}catch(n){console.error("Error showing notification:",n)}}function CQ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function PQ(){const[t,e]=N.useState(null),[n,r]=N.useState(!1),[i,a]=N.useState(25),[s,o]=N.useState(5),[l,u]=N.useState(15),[c,d]=N.useState(4),h=N.useRef(null),f=N.useCallback(async()=>{const k=await iM();e(k),a(k.workMinutes),o(k.shortBreakMinutes),u(k.longBreakMinutes),d(k.cyclesBeforeLongBreak)},[]);if(N.useEffect(()=>{f()},[f]),N.useEffect(()=>{if(t!=null&&t.isRunning)return h.current=setInterval(async()=>{const k=await iM();if(!k.isRunning)return;const S=k.remainingSeconds-1;if(S<=0){let w,A,E=k.cycleCount;if(k.phase==="work"){E+=1;const O=k.cyclesBeforeLongBreak>0&&E%k.cyclesBeforeLongBreak===0;w=O?"longBreak":"shortBreak",A=O?k.longBreakMinutes*60:k.shortBreakMinutes*60,Xp("Pomodoro: Work Complete",{body:`Great work! Time for a ${O?"long":"short"} break.`})}else w="work",A=k.workMinutes*60,Xp("Pomodoro: Break Complete",{body:"Break time is over. Ready to focus?"});const C={...k,phase:w,remainingSeconds:A,cycleCount:E};await bl(C),e(C)}else{const w={...k,remainingSeconds:S};await bl(w),e(w)}},1e3),()=>{h.current&&clearInterval(h.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const m=async()=>{await GC();const k={...t,isRunning:!0};await bl(k),e(k)},p=async()=>{const k={...t,isRunning:!1};await bl(k),e(k)},v=async()=>{const k=t.phase,S=k==="work"?t.workMinutes*60:k==="shortBreak"?t.shortBreakMinutes*60:t.longBreakMinutes*60,w={...t,remainingSeconds:S,isRunning:!1};await bl(w),e(w)},y=async()=>{const k={...t,cycleCount:0,phase:"work",remainingSeconds:t.workMinutes*60,isRunning:!1};await bl(k),e(k)},b=async()=>{if(!t)return;const k={...t,workMinutes:i,shortBreakMinutes:s,longBreakMinutes:l,cyclesBeforeLongBreak:c,remainingSeconds:t.phase==="work"?i*60:t.phase==="shortBreak"?s*60:l*60,isRunning:!1};await bl(k),e(k),r(!1)},x=t.phase==="work"?"Work":t.phase==="shortBreak"?"Short break":"Long break";return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Pomodoro"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm hover:bg-slate-100 dark:border-slate-600 dark:hover:bg-slate-700",onClick:()=>r(!n),children:n?"Hide":"Settings"})]}),n&&_.jsxs("div",{className:"mt-4 space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-700/50",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Work duration (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:i,onChange:k=>a(Math.max(1,Math.min(60,parseInt(k.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Short break (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"30",value:s,onChange:k=>o(Math.max(1,Math.min(30,parseInt(k.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Long break (minutes)"}),_.jsx("input",{type:"number",min:"1",max:"60",value:l,onChange:k=>u(Math.max(1,Math.min(60,parseInt(k.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Cycles before long break"}),_.jsx("input",{type:"number",min:"1",max:"10",value:c,onChange:k=>d(Math.max(1,Math.min(10,parseInt(k.target.value)||1))),className:"mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-600 dark:bg-slate-800"})]}),_.jsx("button",{type:"button",className:"w-full rounded-lg bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:b,children:"Apply Settings"})]}),_.jsxs("p",{className:"mt-4 text-sm text-slate-500",children:["Cycle: ",t.cycleCount,"  Phase: ",x]}),_.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:CQ(t.remainingSeconds)}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:p,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:m,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:v,children:"Reset"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:y,children:"Reset cycle"})]})]})}function TQ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function OQ(){const[t,e]=N.useState(null),[n,r]=N.useState("25"),i=N.useRef(null),a=N.useCallback(async()=>{const c=await aM();e(c),r(String(c.durationMinutes))},[]);if(N.useEffect(()=>{a()},[a]),N.useEffect(()=>{if(t!=null&&t.isRunning)return i.current=setInterval(async()=>{const c=await aM();if(!c.isRunning)return;const d=c.remainingSeconds-1;if(d<=0){const h={...c,remainingSeconds:0,isRunning:!1};await bc(h),e(h),Xp("Custom Timer Complete",{body:"Your timer has finished!"})}else{const h={...c,remainingSeconds:d};await bc(h),e(h)}},1e3),()=>{i.current&&clearInterval(i.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const s=async()=>{const c=Math.max(1,Math.min(120,parseInt(n,10)||25)),d={...t,durationMinutes:c,remainingSeconds:c*60,isRunning:!1};await bc(d),e(d),r(String(c))},o=async()=>{await GC();const c={...t,isRunning:!0};await bc(c),e(c)},l=async()=>{const c={...t,isRunning:!1};await bc(c),e(c)},u=async()=>{const c={...t,remainingSeconds:t.durationMinutes*60,isRunning:!1};await bc(c),e(c)};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Custom timer"}),_.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[_.jsx("label",{htmlFor:"custom-duration",className:"text-sm text-slate-600 dark:text-slate-400",children:"Duration (minutes)"}),_.jsx("input",{id:"custom-duration",type:"number",min:1,max:120,value:n,onChange:c=>r(c.target.value),onBlur:s,className:"w-20 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-slate-200 px-2 py-1 text-sm dark:bg-slate-700",onClick:s,children:"Set"})]}),_.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:TQ(t.remainingSeconds)}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:l,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:o,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:u,children:"Reset"})]})]})}function MQ(){var ae;const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState("list"),[l,u]=N.useState(0),[c,d]=N.useState(!1),[h,f]=N.useState([]),[m,p]=N.useState(""),[v,y]=N.useState(""),[b,x]=N.useState(""),[k,S]=N.useState(null),[w,A]=N.useState(null),[E,C]=N.useState(""),[O,I]=N.useState(""),T=N.useCallback(async()=>{const Z=await kQ();e(Z)},[]);N.useEffect(()=>{T()},[T]),N.useEffect(()=>{if(!i){r([]);return}ip(i).then(r)},[i]),N.useEffect(()=>{s==="study"&&n.length>0&&(f([...Array(n.length).keys()].sort(()=>Math.random()-.5)),u(0),d(!1))},[s,n.length]);const j=t.find(Z=>Z.id===i),P=s==="study"&&n.length>0?h.map(Z=>n[Z]):[],$=P[l],X=async()=>{const Z=m.trim()||"New deck",de={id:B0(),name:Z,createdAt:Date.now()};await _Q(de),p(""),await T(),a(de.id)},U=async()=>{if(!i)return;const Z={id:B0(),deckId:i,front:v.trim()||"Front",back:b.trim()||"Back"};await lM(Z),y(""),x("");const de=await ip(i);r(de)},q=Z=>{S(Z)},G=async()=>{const Z=k;S(null),Z&&(await AQ(Z),i===Z&&a(null),await T())},R=async Z=>{await EQ(Z);const de=await ip(i);r(de)},B=Z=>{A(Z.id),C(Z.front),I(Z.back)},H=async()=>{if(!w||!i)return;const Z=n.find(ge=>ge.id===w);if(!Z)return;const de={...Z,front:E.trim()||"Front",back:O.trim()||"Back"};await lM(de),A(null);const Se=await ip(i);r(Se)},L=()=>{A(null),C(""),I("")};return s==="study"&&$?_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[_.jsx("button",{type:"button",className:"text-sm text-blue-600 dark:text-blue-400",onClick:()=>o("list"),children:" Back to decks"}),_.jsxs("span",{className:"text-sm text-slate-500",children:[l+1," / ",P.length]})]}),_.jsxs("div",{className:"min-h-[200px] cursor-pointer select-none rounded-lg border-2 border-border-default bg-flashcard p-6",onClick:()=>d(Z=>!Z),role:"button",onKeyDown:Z=>{(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),d(de=>!de))},children:[_.jsx("p",{className:"text-lg text-text-primary",children:c?$.back:$.front}),_.jsxs("p",{className:"mt-2 text-xs text-text-muted",children:[c?"Back":"Front"," (click to flip)"]})]}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===0,onClick:()=>{u(Z=>Z-1),d(!1)},children:"Previous"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===P.length-1,onClick:()=>{u(Z=>Z+1),d(!1)},children:"Next"})]})]}):_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Flashcards"}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"New deck name",value:m,onChange:Z=>p(Z.target.value),className:"rounded border border-slate-300 px-3 py-1.5 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"New deck name"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1.5 text-white hover:bg-blue-700",onClick:X,children:"Create deck"})]}),_.jsxs("div",{className:"mt-4 flex gap-4",children:[_.jsxs("div",{className:"min-w-[200px]",children:[_.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Decks"}),_.jsx("ul",{className:"mt-2 space-y-1",children:t.map(Z=>_.jsxs("li",{className:"flex items-center justify-between gap-2",children:[_.jsx("button",{type:"button",className:`truncate text-left text-sm ${i===Z.id?"font-medium text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-300"}`,onClick:()=>a(Z.id),children:Z.name}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>q(Z.id),"aria-label":"Delete deck",children:""})]},Z.id))})]}),_.jsxs("div",{className:"flex-1",children:[j&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:j.name}),_.jsxs("button",{type:"button",className:"rounded bg-green-600 px-3 py-1.5 text-sm text-white hover:bg-green-700 disabled:opacity-50",disabled:n.length===0,onClick:()=>o("study"),children:["Study ",n.length>0&&`(${n.length})`]})]}),_.jsxs("div",{className:"mt-2 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Front",value:v,onChange:Z=>y(Z.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card front"}),_.jsx("input",{type:"text",placeholder:"Back",value:b,onChange:Z=>x(Z.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card back"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-white hover:bg-blue-700",onClick:U,children:"Add card"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:n.map(Z=>_.jsx("li",{className:"rounded border border-slate-200 p-2 dark:border-slate-600",children:w===Z.id?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:E,onChange:de=>C(de.target.value),className:"w-full rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Front"}),_.jsx("input",{type:"text",value:O,onChange:de=>I(de.target.value),className:"w-full rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Back"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"rounded bg-green-600 px-3 py-1 text-sm text-white hover:bg-green-700",onClick:H,children:"Save"}),_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-3 py-1 text-sm dark:border-slate-600",onClick:L,children:"Cancel"})]})]}):_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[Z.front,"  ",Z.back]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"text-blue-600 hover:underline dark:text-blue-400",onClick:()=>B(Z),"aria-label":"Edit card",children:"Edit"}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>R(Z.id),"aria-label":"Delete card",children:"Delete"})]})]})},Z.id))}),n.length===0&&_.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"No cards yet. Add a card above."})]}),!j&&t.length>0&&_.jsx("p",{className:"text-sm text-slate-500",children:"Select a deck to add cards or study."}),t.length===0&&_.jsx("p",{className:"text-sm text-slate-500",children:"Create a deck to get started."})]})]}),_.jsx(fC,{open:k!==null,title:"Delete deck",message:k?`Delete deck "${((ae=t.find(Z=>Z.id===k))==null?void 0:ae.name)??"Unknown"}" and all its cards? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:G,onCancel:()=>S(null)})]})}function NQ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function IQ(){const[t,e]=N.useState(null),n=N.useRef(null),r=N.useCallback(async()=>{const o=await sM();e(o)},[]);if(N.useEffect(()=>{r()},[r]),N.useEffect(()=>{if(t!=null&&t.isRunning)return n.current=setInterval(async()=>{const o=await sM();if(!o.isRunning)return;const l=o.remainingSeconds-1;if(l<=0){const u=o.phase==="work"?"break":"work",c=u==="work"?o.workMinutes*60:o.breakMinutes*60,d={...o,phase:u,remainingSeconds:c};await Ef(d),e(d),u==="break"?Xp("52/17: Work Complete",{body:"Great work! Time for a 17-minute break."}):Xp("52/17: Break Complete",{body:"Break time over. Ready for 52 minutes of focus?"})}else{const u={...o,remainingSeconds:l};await Ef(u),e(u)}},1e3),()=>{n.current&&clearInterval(n.current)}},[t==null?void 0:t.isRunning]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const i=async()=>{await GC();const o={...t,isRunning:!0};await Ef(o),e(o)},a=async()=>{const o={...t,isRunning:!1};await Ef(o),e(o)},s=async()=>{const o=t.phase==="work"?t.workMinutes*60:t.breakMinutes*60,l={...t,remainingSeconds:o,isRunning:!1};await Ef(l),e(l)};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"52/17 method"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"52 minutes work, 17 minutes break."}),_.jsx("p",{className:"mt-4 text-3xl font-mono font-medium text-slate-800 dark:text-slate-100",children:NQ(t.remainingSeconds)}),_.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:t.phase==="work"?"Work":"Break"}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:a,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:i,children:"Start"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:s,children:"Reset"})]})]})}function RQ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function jQ(){const[t,e]=N.useState(null),[n,r]=N.useState(""),[i,a]=N.useState("25"),s=N.useRef(null),o=N.useCallback(async()=>{const m=await oM();e(m)},[]);N.useEffect(()=>{o()},[o]);const l=N.useCallback(m=>{xQ(m),e(m)},[]);if(N.useEffect(()=>{if(!(!(t!=null&&t.isRunning)||!t.blocks.length||!t.blocks[t.currentIndex]))return s.current=setInterval(async()=>{const p=await oM();if(!p.isRunning)return;const v=p.remainingSeconds-1;if(v<=0){const y=p.currentIndex+1;if(y>=p.blocks.length){l({...p,isRunning:!1,remainingSeconds:0});return}const b=p.blocks[y];l({...p,currentIndex:y,remainingSeconds:b.durationMinutes*60})}else l({...p,remainingSeconds:v})},1e3),()=>{s.current&&clearInterval(s.current)}},[t==null?void 0:t.isRunning,t==null?void 0:t.blocks.length,t==null?void 0:t.currentIndex,l]),!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const u=()=>{const m=n.trim()||"Block",p=Math.max(1,Math.min(120,parseInt(i,10)||25)),v={id:B0(),label:m,durationMinutes:p,order:t.blocks.length},y={...t,blocks:[...t.blocks,v]};t.blocks.length===0&&(y.currentIndex=0,y.remainingSeconds=p*60),l(y),r(""),a("25")},c=m=>{const p=t.blocks.filter(b=>b.id!==m),v=Math.min(t.currentIndex,Math.max(0,p.length-1)),y=p[v];l({...t,blocks:p,currentIndex:v,remainingSeconds:y?y.durationMinutes*60:0,isRunning:!1})},d=()=>{if(!t.blocks.length)return;const m=t.blocks[t.currentIndex];m&&l({...t,remainingSeconds:m.durationMinutes*60,isRunning:!0})},h=()=>{l({...t,isRunning:!1})},f=t.blocks[t.currentIndex];return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Timeboxing"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Set blocks with labels and run them one by one."}),_.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[_.jsx("input",{type:"text",placeholder:"Block label",value:n,onChange:m=>r(m.target.value),className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("input",{type:"number",min:1,max:120,placeholder:"Minutes",value:i,onChange:m=>a(m.target.value),className:"w-20 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-sm text-white hover:bg-blue-700",onClick:u,children:"Add block"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:t.blocks.map((m,p)=>_.jsxs("li",{className:`flex items-center justify-between rounded border px-3 py-2 text-sm ${p===t.currentIndex?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-slate-200 dark:border-slate-600"}`,children:[_.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:m.label}),_.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[m.durationMinutes," min"]}),_.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>c(m.id),"aria-label":"Remove block",children:""})]},m.id))}),f&&_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"mt-4 text-2xl font-mono text-slate-800 dark:text-slate-100",children:RQ(t.remainingSeconds)}),_.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:f.label}),_.jsx("div",{className:"mt-2 flex gap-2",children:t.isRunning?_.jsx("button",{type:"button",className:"rounded border border-slate-300 px-4 py-2 text-sm dark:border-slate-600",onClick:h,children:"Pause"}):_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:d,children:"Start"})})]})]})}function LQ(){const[t,e]=N.useState(null),[n,r]=N.useState(""),i=N.useCallback(async()=>{const u=await wQ();e(u)},[]);N.useEffect(()=>{i()},[i]);const a=N.useCallback(u=>{SQ(u),e(u)},[]);if(!t)return _.jsx("p",{className:"text-slate-500",children:"Loading..."});const s=()=>{const u=n.trim()||"Session",c={id:B0(),label:u,scheduledDate:new Date().toISOString().slice(0,10),completed:!1};a({...t,sessions:[...t.sessions,c]}),r("")},o=u=>{const c=t.sessions.map(d=>d.id===u?{...d,completed:!d.completed,completedAt:d.completed?void 0:Date.now()}:d);a({...t,sessions:c})},l=u=>{a({...t,sessions:t.sessions.filter(c=>c.id!==u)})};return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spaced repetition planner"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Plan sessions and tick them off. Simple scheduler (no algorithm)."}),_.jsxs("div",{className:"mt-4 flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Session label",value:n,onChange:u=>r(u.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),_.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-sm text-white hover:bg-blue-700",onClick:s,children:"Add session"})]}),_.jsx("ul",{className:"mt-4 space-y-2",children:t.sessions.map(u=>_.jsxs("li",{className:`flex items-center gap-2 rounded border px-3 py-2 text-sm ${u.completed?"border-green-300 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-600"}`,children:[_.jsx("button",{type:"button",className:"flex-shrink-0 rounded border border-slate-300 p-0.5 dark:border-slate-600",onClick:()=>o(u.id),"aria-label":u.completed?"Mark incomplete":"Mark complete",children:u.completed?"":""}),_.jsx("span",{className:u.completed?"text-slate-500 line-through dark:text-slate-400":"text-slate-800 dark:text-slate-200",children:u.label}),_.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.scheduledDate}),_.jsx("button",{type:"button",className:"ml-auto text-red-600 hover:underline",onClick:()=>l(u.id),"aria-label":"Remove session",children:""})]},u.id))}),t.sessions.length===0&&_.jsx("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:"Add a session to get started."})]})}const DQ=[{id:"pomodoro",label:"Pomodoro"},{id:"timer",label:"Custom timer"},{id:"flashcards",label:"Flashcards"},{id:"5217",label:"52/17"},{id:"timeboxing",label:"Timeboxing"},{id:"spacedrep",label:"Spaced rep"}];function $Q(){const[t,e]=N.useState(()=>kO()??"pomodoro");N.useEffect(()=>{const r=kO();r&&e(r)},[]);const n=N.useCallback(r=>{e(r),WH(r)},[]);return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex flex-wrap gap-2 rounded-xl border border-slate-200 bg-white p-2 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:DQ.map(({id:r,label:i})=>_.jsx("button",{type:"button",className:`rounded-lg px-3 py-2 text-sm font-medium transition-colors duration-150 ${t===r?"bg-blue-100 dark:bg-blue-900/50":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>n(r),children:i},r))}),t==="pomodoro"&&_.jsx(PQ,{}),t==="timer"&&_.jsx(OQ,{}),t==="flashcards"&&_.jsx(MQ,{}),t==="5217"&&_.jsx(IQ,{}),t==="timeboxing"&&_.jsx(jQ,{}),t==="spacedrep"&&_.jsx(LQ,{})]})}function FQ(t){var n;const e=t.trim();if(!e)return null;try{const r=e.startsWith("http")?e:`https://${e}`,i=new URL(r);if(i.hostname==="www.youtube.com"||i.hostname==="youtube.com"||i.hostname==="m.youtube.com"){const a=i.searchParams.get("v");if(a)return a.split("&")[0]}if(i.hostname==="youtu.be"){const a=i.pathname.slice(1).split("/")[0].split("?")[0];if(a)return a}if((i.hostname==="www.youtube.com"||i.hostname==="youtube.com")&&i.pathname.startsWith("/embed/")){const a=(n=i.pathname.split("/")[2])==null?void 0:n.split("?")[0];if(a)return a}}catch{}return null}function BQ({isOpen:t,onClose:e,onLoaded:n,initialSearchQuery:r="",searchResults:i=null,errorMessage:a=null,showFallbackPaste:s=!1,cachedVideoId:o=null,onSearchAgain:l}){const[u,c]=N.useState(r),[d,h]=N.useState(""),[f,m]=N.useState(null);if(N.useEffect(()=>{t&&c(r)},[t,r]),!t)return null;const p=!!(i&&i.length>0),v=k=>{n(k),e()},y=()=>{l==null||l(u)},b=()=>{m(null);const k=FQ(d);if(!k){m("Invalid YouTube link. Use youtube.com/watch?v=..., youtu.be/..., or youtube.com/embed/... format.");return}n(k),e(),h("")},x=()=>{m(null),h(""),e()};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"find-youtube-title",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:x}),_.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{id:"find-youtube-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Find on YouTube"}),_.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:p?"Choose a video to play the full version.":s?"Paste a YouTube video URL below.":"Searching"}),p&&_.jsxs(_.Fragment,{children:[o&&_.jsx("div",{className:"mt-3",children:_.jsx(hn,{variant:"secondary",size:"sm",onClick:()=>v(o),children:"Use previous match"})}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{htmlFor:"youtube-search-query",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Search query"}),_.jsx("input",{id:"youtube-search-query",type:"text",placeholder:"e.g. Artist - Track name",value:u,onChange:k=>c(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),l&&_.jsx(hn,{variant:"primary",size:"sm",className:"mt-2",onClick:y,children:"Search again"})]}),_.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-auto rounded-lg border border-slate-200 dark:border-slate-600",children:i.map(k=>_.jsx("li",{children:_.jsxs("div",{role:"button",className:"flex cursor-pointer select-none items-center gap-3 rounded-lg p-2 hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>v(k.videoId),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),v(k.videoId))},children:[k.thumbnailUrl&&_.jsx("img",{src:k.thumbnailUrl,alt:"",className:"h-14 w-24 flex-shrink-0 rounded object-cover"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("p",{className:"truncate text-sm font-medium text-slate-800 dark:text-slate-100",children:k.title}),_.jsx("p",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:k.channelTitle})]}),_.jsx(hn,{variant:"primary",size:"sm",onClick:S=>{S.stopPropagation(),v(k.videoId)},children:"Select"})]})},k.videoId))})]}),s&&_.jsxs(_.Fragment,{children:[a&&_.jsx("p",{className:"mt-4 text-sm text-amber-600 dark:text-amber-400",role:"alert",children:a}),_.jsxs("div",{className:"mt-4",children:[_.jsx("label",{htmlFor:"youtube-paste-url",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste YouTube video URL here"}),_.jsx("input",{id:"youtube-paste-url",type:"url",placeholder:"https://www.youtube.com/watch?v=... or https://youtu.be/...",value:d,onChange:k=>{h(k.target.value),m(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":f?"url-error":void 0}),f&&_.jsx("p",{id:"url-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:f}),_.jsx(hn,{variant:"primary",size:"md",className:"mt-2",onClick:b,children:"Load YouTube"})]})]}),!p&&!s&&_.jsx("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:"Loading"}),_.jsx("div",{className:"mt-6 flex justify-end",children:_.jsx(hn,{variant:"secondary",onClick:x,children:"Cancel"})})]})]})}function zQ(t){try{const e=new URL(t.trim().startsWith("http")?t.trim():`https://${t.trim()}`);if(e.hostname.includes("open.spotify.com")&&e.pathname.includes("/track/"))return`https://open.spotify.com${e.pathname}`}catch{}return t.trim()}function UQ(t){const e=(t??"").trim();if(!e)return{trackTitle:"",artist:""};const n=e.indexOf(" - ");return n===-1?{trackTitle:e,artist:""}:{trackTitle:e.slice(0,n).trim(),artist:e.slice(n+3).trim()}}function HQ(t,e){const{trackTitle:n,artist:r}=UQ(t),i=r||(e??"").trim(),a=i?`${i} ${n}`.trim():n;return a?`${a} audio`:"audio"}async function WQ(t){const e=t.trim().startsWith("http")?t.trim():`https://${t.trim()}`;try{if(!new URL(e).hostname.includes("open.spotify.com"))return null}catch{return null}const r=`https://open.spotify.com/oembed?url=${encodeURIComponent(e)}`;try{const i=await fetch(r);if(!i.ok)return null;const a=await i.json();return typeof a.title!="string"?null:{title:a.title,author_name:a.author_name}}catch{return null}}const VQ="https://www.googleapis.com/youtube/v3";async function uM(t,e){if(!t.trim()||!e.trim())return[];const n=new URLSearchParams({part:"snippet",type:"video",maxResults:"6",q:t.trim(),key:e,videoEmbeddable:"true",safeSearch:"moderate"}),r=`${VQ}/search?${n.toString()}`;try{const i=await fetch(r);return i.ok?((await i.json()).items??[]).filter(o=>{var l;return((l=o.id)==null?void 0:l.videoId)&&o.snippet}).map(o=>{var l,u;return{videoId:o.id.videoId,title:o.snippet.title??"",channelTitle:o.snippet.channelTitle??"",thumbnailUrl:((u=(l=o.snippet.thumbnails)==null?void 0:l.default)==null?void 0:u.url)??""}}):[]}catch{return[]}}function cM(t){try{const e=new URL(t.trim());if(e.hostname.includes("open.spotify.com"))return`https://open.spotify.com/embed${e.pathname+e.search}`}catch{}return null}function dM(t){const e=t.trim();if(!e)return!1;try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.includes("open.spotify.com")}catch{return!1}}function GQ(){const{setSpotifyUrl:t,setYoutubeVideoId:e}=kx(),r=Qo().spotify??"",[i,a]=N.useState(r),[s,o]=N.useState(null),[l,u]=N.useState(null),[c,d]=N.useState(()=>QS()),[h,f]=N.useState(!1),[m,p]=N.useState(""),[v,y]=N.useState(null),[b,x]=N.useState(null),[k,S]=N.useState(null),[w,A]=N.useState(!1),[E,C]=N.useState(null);N.useEffect(()=>{if(a(r),r){const R=cM(r);o(R)}else o(null)},[r]),N.useEffect(()=>{d(QS())},[h]);const O=()=>{const R=i.trim();if(!R){u("Paste a Spotify link first.");return}if(!dM(R)){u("Invalid Spotify link. Use a link from open.spotify.com (track, album, or playlist).");return}u(null);const B=cM(R);if(!B){u("Could not build embed URL.");return}o(B),Vp({...Qo(),spotify:R}),t(R),c&&T()},I=()=>{a(""),o(null),u(null),Vp({...Qo(),spotify:""}),t("")},T=()=>{ID(),d(null),e(null)},j=()=>{I(),T()},P=R=>{ND(R),d(R),e(R),b&&XH(b,R)},$=async()=>{const R=i.trim()||r;if(!R){u("Paste a Spotify link first.");return}if(!dM(R)){u("Invalid Spotify link.");return}u(null);const B=zQ(R),H=jD(),L=B?H[B]??null:null;x(B||null),C(L);const ae="AIzaSyAvFqRj0CLT_x1vy1XBJEn5Q_Qq8mhkEh8";if(!ae.trim()){S("Missing YouTube API key. Add VITE_YOUTUBE_API_KEY to .env and restart dev server."),A(!0),y(null),p(""),f(!0);return}const Z=await WQ(R);if(!(Z!=null&&Z.title)){S("Could not get track info from Spotify link."),A(!0),y(null),p(""),f(!0);return}const de=HQ(Z.title,Z.author_name);p(de);let Se=[];try{Se=await uM(de,ae)}catch{Se=[]}if(!Se.length){S("No YouTube results. Try pasting a YouTube video URL below."),A(!0),y(null),f(!0);return}S(null),A(!1),y(Se),f(!0),s&&I()},X=async R=>{const B="AIzaSyAvFqRj0CLT_x1vy1XBJEn5Q_Qq8mhkEh8";if(B.trim())try{const H=await uM(R.trim()||m,B);y(H),S(H.length?null:"No results. Try a different query or paste a URL below."),A(!H.length)}catch{S("Search failed. Try pasting a YouTube video URL below."),A(!0)}},U=()=>{f(!1),x(null),y(null),S(null),A(!1),C(null)},q=!!s,G=!!c;return _.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spotify + full playback"}),_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:"Spotify embed may be preview-only. Use YouTube for full playback."}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{htmlFor:"spotify-link-input",className:"sr-only",children:"Spotify link"}),_.jsx("input",{id:"spotify-link-input",type:"url",placeholder:"Paste Spotify track, album, or playlist link...",value:i,onChange:R=>{a(R.target.value),u(null)},className:"w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":l?"spotify-error":void 0}),l&&_.jsx("p",{id:"spotify-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:l})]}),_.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[_.jsx(hn,{variant:"primary",size:"md",className:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",onClick:O,children:"Play preview (Spotify)"}),_.jsx(hn,{variant:"danger",size:"md",onClick:$,children:"Play full version (YouTube)"}),(q||G)&&_.jsx(hn,{variant:"secondary",size:"md",onClick:j,children:"Clear all"})]}),_.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:"Playback continues in the bar below."}),q&&s&&_.jsx("div",{className:"mt-4 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-950",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"Spotify preview loaded"}),_.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Playing in bottom bar"})]})]}),_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:I,children:"Clear"})]})}),G&&c&&_.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:"YouTube full version loaded"}),_.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Playing in bottom bar"})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:$,children:"Change"}),_.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:T,children:"Clear"})]})]})}),_.jsx(BQ,{isOpen:h,onClose:U,onLoaded:P,initialSearchQuery:m,searchResults:v,errorMessage:k,showFallbackPaste:w,cachedVideoId:E,onSearchAgain:X})]})}function i0(t){var n;const e=t.trim();if(!e)return null;try{const r=e.startsWith("http")?e:`https://${e}`,i=new URL(r);if(i.hostname==="www.youtube.com"||i.hostname==="youtube.com"||i.hostname==="m.youtube.com"){const a=i.searchParams.get("v");if(a)return a.split("&")[0]}if(i.hostname==="youtu.be"){const a=i.pathname.slice(1).split("/")[0].split("?")[0];if(a)return a}if((i.hostname==="www.youtube.com"||i.hostname==="youtube.com")&&i.pathname.startsWith("/embed/")){const a=(n=i.pathname.split("/")[2])==null?void 0:n.split("?")[0];if(a)return a}}catch{}return null}function qQ(t){return`https://www.youtube.com/embed/${t}`}function hM(t,e){try{if(t==="spotify"){const n=new URL(e.trim());return n.hostname.includes("open.spotify.com")?`https://open.spotify.com/embed${n.pathname+n.search}`:null}if(t==="youtube"){const n=i0(e);return n?qQ(n):null}}catch{return null}return null}function XQ(t){try{return new URL(t).hostname}catch{return t.slice(0,40)+(t.length>40?"":"")}}function YQ(t){return t==="spotify"?"Spotify":t==="youtube"?"YouTube":t}const KQ={spotify:"352px",youtube:"auto"};function ZQ({title:t,subtitle:e,provider:n,storageKey:r}){const{isPopupOpen:i,setYoutubeVideoId:a}=kx(),o=Qo()[r]??"",[l,u]=N.useState(o),[c,d]=N.useState(null),[h,f]=N.useState(null),[m,p]=N.useState(null),[v,y]=N.useState(null),b=N.useRef(null),x=N.useRef(null);N.useEffect(()=>{if(u(o),o){const O=hM(n,o);if(d(O),n==="youtube"&&O){const I=i0(o);a(I)}}else d(null),n==="youtube"&&a(null)},[o,n,a]),N.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const k=()=>{y(`${YQ(r)} embed cleared`),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{y(null),b.current=null},2500)},S=()=>{d(null),u(""),f(null),p(null);const O={...Qo(),[r]:""};Vp(O),k(),n==="youtube"&&a(null)},w=O=>{if(n!=="youtube")return O.trim();const I=O.trim();if(!I)return"";const T=I.split(/[\s\n]+/);for(const j of T){const P=i0(j);if(P)return`https://www.youtube.com/watch?v=${P}`}return I},A=O=>{const I=O.target.value,T=w(I);u(T),f(null)},E=O=>{O.preventDefault();const I=O.clipboardData.getData("text"),T=w(I);u(T),f(null)},C=()=>{const O=l.trim();if(!O){S();return}const I=hM(n,O);if(!I){f(n==="youtube"?"Invalid YouTube link. Use youtube.com/watch?v=..., youtu.be/..., or youtube.com/embed/... format.":"Invalid link for this provider.");return}d(I),f(null),p(null);const T={...Qo(),[r]:O};if(Vp(T),n==="youtube"){const j=i0(O);a(j)}};return N.useEffect(()=>{if(!c||!x.current)return;const O=()=>{p(n==="youtube"?"YouTube player failed to load. The video may be unavailable or restricted.":"Player failed to load. Please check the link and try again.")},I=x.current;return I.addEventListener("error",O),()=>{I.removeEventListener("error",O)}},[c,n]),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:t}),e&&_.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:e}),_.jsxs("div",{className:"mt-2 flex gap-2",children:[_.jsx("input",{type:"url",placeholder:`Paste ${t} link...`,value:l,onChange:A,onPaste:E,className:"min-w-0 flex-1 rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":`${t} URL`,"aria-describedby":h?`${r}-error`:void 0}),_.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:C,children:"Load"}),_.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:S,children:"Clear"})]}),h&&_.jsx("p",{id:`${r}-error`,className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:h}),v&&_.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",role:"status",children:v}),_.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:"Playback continues in the bar below."}),c&&o&&_.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:["Currently loaded: ",XQ(o)," ",_.jsx("button",{type:"button",className:"text-blue-600 underline hover:no-underline dark:text-blue-400",onClick:S,children:"Remove"})]}),c&&_.jsxs(_.Fragment,{children:[m&&_.jsx("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 p-3 dark:border-amber-800 dark:bg-amber-950",children:_.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",role:"alert",children:m})}),_.jsx("div",{className:`mt-4 w-full overflow-hidden rounded-lg bg-slate-900 ${n==="youtube"?"aspect-video":""}`,style:n!=="youtube"?{height:KQ[n]}:void 0,children:i?_.jsx("div",{className:"flex h-full items-center justify-center",children:_.jsx("p",{className:"text-sm text-slate-400",children:"Playing in pop-up. Close pop-up to resume here."})}):_.jsx("iframe",{ref:x,title:t,src:c,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})]})]})}function QQ(){return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Media Player Hub"}),_.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Playback and volume controls are handled by the provider embed."}),_.jsx(GQ,{}),_.jsx(ZQ,{title:"YouTube",provider:"youtube",storageKey:"youtube"})]})}var gB={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Zr,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,u={};function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var O=S(C);O.chunkSize=parseInt(O.chunkSize),C.step||C.chunk||(O.chunkSize=null),this._handle=new p(O),(this._handle.streamer=this)._config=O}).call(this,E),this.parseChunk=function(C,O){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let j=this._config.newline;j||(T=this._config.quoteChar||'"',j=this._handle.guessLineEndings(C,T)),C=[...C.split(j).slice(I)].join(j)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(C))!==void 0&&(C=T),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+C,T=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=T.meta.cursor,I=(this._finished||(this._partialLine=I.substring(C-this._baseIndex),this._baseIndex=C),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:T,workerId:u.WORKER_ID,finished:I});else if(A(this._config.chunk)&&!O){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!I||!A(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(C){A(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:C,finished:!1})}}function d(E){var C;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),c.call(this,E),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=w(this._chunkLoaded,this),C.onerror=w(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var O,I=this._config.downloadRequestHeaders;for(O in I)C.setRequestHeader(O,I[O])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+T));try{C.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(O){O=C.statusText||O,this._sendError(new Error(O))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),c.call(this,E);var C,O,I=typeof FileReader<"u";this.stream=function(T){this._input=T,O=T.slice||T.webkitSlice||T.mozSlice,I?((C=new FileReader).onload=w(this._chunkLoaded,this),C.onerror=w(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),T=O.call(T,this._start,j)),C.readAsText(T,this._config.encoding));I||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(C.error)}}function f(E){var C;c.call(this,E=E||{}),this.stream=function(O){return C=O,this._nextChunk()},this._nextChunk=function(){var O,I;if(!this._finished)return O=this._config.chunkSize,C=O?(I=C.substring(0,O),C.substring(O)):(I=C,""),this._finished=!C,this.parseChunk(I)}}function m(E){c.call(this,E=E||{});var C=[],O=!0,I=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):O=!0},this._streamData=w(function(T){try{C.push(typeof T=="string"?T:T.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(j){this._streamError(j)}},this),this._streamError=w(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=w(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(E){var C,O,I,T,j=Math.pow(2,53),P=-j,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,q=0,G=0,R=!1,B=!1,H=[],L={data:[],errors:[],meta:{}};function ae(ge){return E.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function Z(){if(L&&I&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),I=!1),E.skipEmptyLines&&(L.data=L.data.filter(function(te){return!ae(te)})),de()){let te=function(ye,M){A(E.transformHeader)&&(ye=E.transformHeader(ye,M)),H.push(ye)};var fe=te;if(L)if(Array.isArray(L.data[0])){for(var ge=0;de()&&ge<L.data.length;ge++)L.data[ge].forEach(te);L.data.splice(0,1)}else L.data.forEach(te)}function ie(te,ye){for(var M=E.header?{}:[],ee=0;ee<te.length;ee++){var K=ee,V=te[ee],V=((W,Y)=>(se=>(E.dynamicTypingFunction&&E.dynamicTyping[se]===void 0&&(E.dynamicTyping[se]=E.dynamicTypingFunction(se)),(E.dynamicTyping[se]||E.dynamicTyping)===!0))(W)?Y==="true"||Y==="TRUE"||Y!=="false"&&Y!=="FALSE"&&((se=>{if($.test(se)&&(se=parseFloat(se),P<se&&se<j))return 1})(Y)?parseFloat(Y):X.test(Y)?new Date(Y):Y===""?null:Y):Y)(K=E.header?ee>=H.length?"__parsed_extra":H[ee]:K,V=E.transform?E.transform(V,K):V);K==="__parsed_extra"?(M[K]=M[K]||[],M[K].push(V)):M[K]=V}return E.header&&(ee>H.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+ee,G+ye):ee<H.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+ee,G+ye)),M}var he;L&&(E.header||E.dynamicTyping||E.transform)&&(he=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(ie),he=L.data.length):L.data=ie(L.data,0),E.header&&L.meta&&(L.meta.fields=H),G+=he)}function de(){return E.header&&H.length===0}function Se(ge,ie,he,fe){ge={type:ge,code:ie,message:he},fe!==void 0&&(ge.row=fe),L.errors.push(ge)}A(E.step)&&(T=E.step,E.step=function(ge){L=ge,de()?Z():(Z(),L.data.length!==0&&(q+=ge.data.length,E.preview&&q>E.preview?O.abort():(L.data=L.data[0],T(L,U))))}),this.parse=function(ge,ie,he){var fe=E.quoteChar||'"',fe=(E.newline||(E.newline=this.guessLineEndings(ge,fe)),I=!1,E.delimiter?A(E.delimiter)&&(E.delimiter=E.delimiter(ge),L.meta.delimiter=E.delimiter):((fe=((te,ye,M,ee,K)=>{var V,W,Y,se;K=K||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ue=0;ue<K.length;ue++){for(var re,me=K[ue],ve=0,pe=0,J=0,oe=(Y=void 0,new y({comments:ee,delimiter:me,newline:ye,preview:10}).parse(te)),be=0;be<oe.data.length;be++)M&&ae(oe.data[be])?J++:(re=oe.data[be].length,pe+=re,Y===void 0?Y=re:0<re&&(ve+=Math.abs(re-Y),Y=re));0<oe.data.length&&(pe/=oe.data.length-J),(W===void 0||ve<=W)&&(se===void 0||se<pe)&&1.99<pe&&(W=ve,V=me,se=pe)}return{successful:!!(E.delimiter=V),bestDelimiter:V}})(ge,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=fe.bestDelimiter:(I=!0,E.delimiter=u.DefaultDelimiter),L.meta.delimiter=E.delimiter),S(E));return E.preview&&E.header&&fe.preview++,C=ge,O=new y(fe),L=O.parse(C,ie,he),Z(),R?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,O.abort(),C=A(E.chunk)?"":C.substring(O.getCharIndex())},this.resume=function(){U.streamer._halted?(R=!1,U.streamer.parseChunk(C,!0)):setTimeout(U.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,O.abort(),L.meta.aborted=!0,A(E.complete)&&E.complete(L),C=""},this.guessLineEndings=function(te,fe){te=te.substring(0,1048576);var fe=new RegExp(v(fe)+"([^]*?)"+v(fe),"gm"),he=(te=te.replace(fe,"")).split("\r"),fe=te.split(`
`),te=1<fe.length&&fe[0].length<he[0].length;if(he.length===1||te)return`
`;for(var ye=0,M=0;M<he.length;M++)he[M][0]===`
`&&ye++;return ye>=he.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(E){var C=(E=E||{}).delimiter,O=E.newline,I=E.comments,T=E.step,j=E.preview,P=E.fastMode,$=null,X=!1,U=E.quoteChar==null?'"':E.quoteChar,q=U;if(E.escapeChar!==void 0&&(q=E.escapeChar),(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=","),I===C)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<u.BAD_DELIMITERS.indexOf(I))&&(I=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var G=0,R=!1;this.parse=function(B,H,L){if(typeof B!="string")throw new Error("Input must be a string");var ae=B.length,Z=C.length,de=O.length,Se=I.length,ge=A(T),ie=[],he=[],fe=[],te=G=0;if(!B)return ve();if(P||P!==!1&&B.indexOf(U)===-1){for(var ye=B.split(O),M=0;M<ye.length;M++){if(fe=ye[M],G+=fe.length,M!==ye.length-1)G+=O.length;else if(L)return ve();if(!I||fe.substring(0,Se)!==I){if(ge){if(ie=[],se(fe.split(C)),pe(),R)return ve()}else se(fe.split(C));if(j&&j<=M)return ie=ie.slice(0,j),ve(!0)}}return ve()}for(var ee=B.indexOf(C,G),K=B.indexOf(O,G),V=new RegExp(v(q)+v(U),"g"),W=B.indexOf(U,G);;)if(B[G]===U)for(W=G,G++;;){if((W=B.indexOf(U,W+1))===-1)return L||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:G}),re();if(W===ae-1)return re(B.substring(G,W).replace(V,U));if(U===q&&B[W+1]===q)W++;else if(U===q||W===0||B[W-1]!==q){ee!==-1&&ee<W+1&&(ee=B.indexOf(C,W+1));var Y=ue((K=K!==-1&&K<W+1?B.indexOf(O,W+1):K)===-1?ee:Math.min(ee,K));if(B.substr(W+1+Y,Z)===C){fe.push(B.substring(G,W).replace(V,U)),B[G=W+1+Y+Z]!==U&&(W=B.indexOf(U,G)),ee=B.indexOf(C,G),K=B.indexOf(O,G);break}if(Y=ue(K),B.substring(W+1+Y,W+1+Y+de)===O){if(fe.push(B.substring(G,W).replace(V,U)),me(W+1+Y+de),ee=B.indexOf(C,G),W=B.indexOf(U,G),ge&&(pe(),R))return ve();if(j&&ie.length>=j)return ve(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:G}),W++}}else if(I&&fe.length===0&&B.substring(G,G+Se)===I){if(K===-1)return ve();G=K+de,K=B.indexOf(O,G),ee=B.indexOf(C,G)}else if(ee!==-1&&(ee<K||K===-1))fe.push(B.substring(G,ee)),G=ee+Z,ee=B.indexOf(C,G);else{if(K===-1)break;if(fe.push(B.substring(G,K)),me(K+de),ge&&(pe(),R))return ve();if(j&&ie.length>=j)return ve(!0)}return re();function se(J){ie.push(J),te=G}function ue(J){var oe=0;return oe=J!==-1&&(J=B.substring(W+1,J))&&J.trim()===""?J.length:oe}function re(J){return L||(J===void 0&&(J=B.substring(G)),fe.push(J),G=ae,se(fe),ge&&pe()),ve()}function me(J){G=J,se(fe),fe=[],K=B.indexOf(O,G)}function ve(J){if(E.header&&!H&&ie.length&&!X){var oe=ie[0],be=Object.create(null),Oe=new Set(oe);let Be=!1;for(let ot=0;ot<oe.length;ot++){let Pt=oe[ot];if(be[Pt=A(E.transformHeader)?E.transformHeader(Pt,ot):Pt]){let Ve,Ir=be[Pt];for(;Ve=Pt+"_"+Ir,Ir++,Oe.has(Ve););Oe.add(Ve),oe[ot]=Ve,be[Pt]++,Be=!0,($=$===null?{}:$)[Ve]=Pt}else be[Pt]=1,oe[ot]=Pt;Oe.add(Pt)}Be&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:ie,errors:he,meta:{delimiter:C,linebreak:O,aborted:R,truncated:!!J,cursor:te+(H||0),renamedHeaders:$}}}function pe(){T(ve()),ie=[],he=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return G}}function b(E){var C=E.data,O=o[C.workerId],I=!1;if(C.error)O.userError(C.error,C.file);else if(C.results&&C.results.data){var T={abort:function(){I=!0,x(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(A(O.userStep)){for(var j=0;j<C.results.data.length&&(O.userStep({data:C.results.data[j],errors:C.results.errors,meta:C.results.meta},T),!I);j++);delete C.results}else A(O.userChunk)&&(O.userChunk(C.results,T,C.file),delete C.results)}C.finished&&!I&&x(C.workerId,C.results)}function x(E,C){var O=o[E];A(O.userComplete)&&O.userComplete(C),O.terminate(),delete o[E]}function k(){throw new Error("Not implemented.")}function S(E){if(typeof E!="object"||E===null)return E;var C,O=Array.isArray(E)?[]:{};for(C in E)O[C]=S(E[C]);return O}function w(E,C){return function(){E.apply(C,arguments)}}function A(E){return typeof E=="function"}return u.parse=function(E,C){var O=(C=C||{}).dynamicTyping||!1;if(A(O)&&(C.dynamicTypingFunction=O,O={}),C.dynamicTyping=O,C.transform=!!A(C.transform)&&C.transform,!C.worker||!u.WORKERS_SUPPORTED)return O=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(E),O=new(C.download?d:f)(C)):E.readable===!0&&A(E.read)&&A(E.on)?O=new m(C):(r.File&&E instanceof File||E instanceof Object)&&(O=new h(C)),O.stream(E);(O=(()=>{var I;return!!u.WORKERS_SUPPORTED&&(I=(()=>{var T=r.URL||r.webkitURL||null,j=n.toString();return u.BLOB_URL||(u.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(I=new r.Worker(I)).onmessage=b,I.id=l++,o[I.id]=I)})()).userStep=C.step,O.userChunk=C.chunk,O.userComplete=C.complete,O.userError=C.error,C.step=A(C.step),C.chunk=A(C.chunk),C.complete=A(C.complete),C.error=A(C.error),delete C.worker,O.postMessage({input:E,config:C,workerId:O.id})},u.unparse=function(E,C){var O=!1,I=!0,T=",",j=`\r
`,P='"',$=P+P,X=!1,U=null,q=!1,G=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||u.BAD_DELIMITERS.filter(function(H){return C.delimiter.indexOf(H)!==-1}).length||(T=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(O=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(X=C.skipEmptyLines),typeof C.newline=="string"&&(j=C.newline),typeof C.quoteChar=="string"&&(P=C.quoteChar),typeof C.header=="boolean"&&(I=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");U=C.columns}C.escapeChar!==void 0&&($=C.escapeChar+P),C.escapeFormulae instanceof RegExp?q=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(P),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return R(null,E,X);if(typeof E[0]=="object")return R(U||Object.keys(E[0]),E,X)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||U),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),R(E.fields||[],E.data||[],X);throw new Error("Unable to serialize unrecognized input");function R(H,L,ae){var Z="",de=(typeof H=="string"&&(H=JSON.parse(H)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(H)&&0<H.length),Se=!Array.isArray(L[0]);if(de&&I){for(var ge=0;ge<H.length;ge++)0<ge&&(Z+=T),Z+=B(H[ge],ge);0<L.length&&(Z+=j)}for(var ie=0;ie<L.length;ie++){var he=(de?H:L[ie]).length,fe=!1,te=de?Object.keys(L[ie]).length===0:L[ie].length===0;if(ae&&!de&&(fe=ae==="greedy"?L[ie].join("").trim()==="":L[ie].length===1&&L[ie][0].length===0),ae==="greedy"&&de){for(var ye=[],M=0;M<he;M++){var ee=Se?H[M]:M;ye.push(L[ie][ee])}fe=ye.join("").trim()===""}if(!fe){for(var K=0;K<he;K++){0<K&&!te&&(Z+=T);var V=de&&Se?H[K]:K;Z+=B(L[ie][V],K)}ie<L.length-1&&(!ae||0<he&&!te)&&(Z+=j)}}return Z}function B(H,L){var ae,Z;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(Z=!1,q&&typeof H=="string"&&q.test(H)&&(H="'"+H,Z=!0),ae=H.toString().replace(G,$),(Z=Z||O===!0||typeof O=="function"&&O(H,L)||Array.isArray(O)&&O[L]||((de,Se)=>{for(var ge=0;ge<Se.length;ge++)if(-1<de.indexOf(Se[ge]))return!0;return!1})(ae,u.BAD_DELIMITERS)||-1<ae.indexOf(T)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?P+ae+P:ae)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=p,u.NetworkStreamer=d,u.FileStreamer=h,u.StringStreamer=f,u.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(E){var C=E.config||{},O=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)O.push({file:this.files[P],inputElem:this,instanceConfig:i.extend({},C)})}),I(),this;function I(){if(O.length===0)A(E.complete)&&E.complete();else{var j,P,$,X,U=O[0];if(A(E.before)){var q=E.before(U.file,U.inputElem);if(typeof q=="object"){if(q.action==="abort")return j="AbortError",P=U.file,$=U.inputElem,X=q.reason,void(A(E.error)&&E.error({name:j},P,$,X));if(q.action==="skip")return void T();typeof q.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,q.config))}else if(q==="skip")return void T()}var G=U.instanceConfig.complete;U.instanceConfig.complete=function(R){A(G)&&G(R,U.file,U.inputElem),T()},u.parse(U.file,U.instanceConfig)}}function T(){O.splice(0,1),I()}}),s&&(r.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&r.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(m.prototype=Object.create(c.prototype)).constructor=m,u})})(gB);var JQ=gB.exports;const eJ=nt(JQ);var tJ=Array.isArray,Nr=tJ,nJ=typeof Zr=="object"&&Zr&&Zr.Object===Object&&Zr,yB=nJ,rJ=yB,iJ=typeof self=="object"&&self&&self.Object===Object&&self,aJ=rJ||iJ||Function("return this")(),Va=aJ,sJ=Va,oJ=sJ.Symbol,ay=oJ,fM=ay,vB=Object.prototype,lJ=vB.hasOwnProperty,uJ=vB.toString,Cf=fM?fM.toStringTag:void 0;function cJ(t){var e=lJ.call(t,Cf),n=t[Cf];try{t[Cf]=void 0;var r=!0}catch{}var i=uJ.call(t);return r&&(e?t[Cf]=n:delete t[Cf]),i}var dJ=cJ,hJ=Object.prototype,fJ=hJ.toString;function pJ(t){return fJ.call(t)}var mJ=pJ,pM=ay,gJ=dJ,yJ=mJ,vJ="[object Null]",bJ="[object Undefined]",mM=pM?pM.toStringTag:void 0;function xJ(t){return t==null?t===void 0?bJ:vJ:mM&&mM in Object(t)?gJ(t):yJ(t)}var Ks=xJ;function wJ(t){return t!=null&&typeof t=="object"}var Zs=wJ,SJ=Ks,kJ=Zs,_J="[object Symbol]";function AJ(t){return typeof t=="symbol"||kJ(t)&&SJ(t)==_J}var Kh=AJ,EJ=Nr,CJ=Kh,PJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TJ=/^\w*$/;function OJ(t,e){if(EJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||CJ(t)?!0:TJ.test(t)||!PJ.test(t)||e!=null&&t in Object(e)}var qC=OJ;function MJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fl=MJ;const Zh=nt(fl);var NJ=Ks,IJ=fl,RJ="[object AsyncFunction]",jJ="[object Function]",LJ="[object GeneratorFunction]",DJ="[object Proxy]";function $J(t){if(!IJ(t))return!1;var e=NJ(t);return e==jJ||e==LJ||e==RJ||e==DJ}var XC=$J;const Ue=nt(XC);var FJ=Va,BJ=FJ["__core-js_shared__"],zJ=BJ,C1=zJ,gM=function(){var t=/[^.]+$/.exec(C1&&C1.keys&&C1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UJ(t){return!!gM&&gM in t}var HJ=UJ,WJ=Function.prototype,VJ=WJ.toString;function GJ(t){if(t!=null){try{return VJ.call(t)}catch{}try{return t+""}catch{}}return""}var bB=GJ,qJ=XC,XJ=HJ,YJ=fl,KJ=bB,ZJ=/[\\^$.*+?()[\]{}|]/g,QJ=/^\[object .+?Constructor\]$/,JJ=Function.prototype,eee=Object.prototype,tee=JJ.toString,nee=eee.hasOwnProperty,ree=RegExp("^"+tee.call(nee).replace(ZJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iee(t){if(!YJ(t)||XJ(t))return!1;var e=qJ(t)?ree:QJ;return e.test(KJ(t))}var aee=iee;function see(t,e){return t==null?void 0:t[e]}var oee=see,lee=aee,uee=oee;function cee(t,e){var n=uee(t,e);return lee(n)?n:void 0}var cc=cee,dee=cc,hee=dee(Object,"create"),Fx=hee,yM=Fx;function fee(){this.__data__=yM?yM(null):{},this.size=0}var pee=fee;function mee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gee=mee,yee=Fx,vee="__lodash_hash_undefined__",bee=Object.prototype,xee=bee.hasOwnProperty;function wee(t){var e=this.__data__;if(yee){var n=e[t];return n===vee?void 0:n}return xee.call(e,t)?e[t]:void 0}var See=wee,kee=Fx,_ee=Object.prototype,Aee=_ee.hasOwnProperty;function Eee(t){var e=this.__data__;return kee?e[t]!==void 0:Aee.call(e,t)}var Cee=Eee,Pee=Fx,Tee="__lodash_hash_undefined__";function Oee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pee&&e===void 0?Tee:e,this}var Mee=Oee,Nee=pee,Iee=gee,Ree=See,jee=Cee,Lee=Mee;function Qh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qh.prototype.clear=Nee;Qh.prototype.delete=Iee;Qh.prototype.get=Ree;Qh.prototype.has=jee;Qh.prototype.set=Lee;var Dee=Qh;function $ee(){this.__data__=[],this.size=0}var Fee=$ee;function Bee(t,e){return t===e||t!==t&&e!==e}var YC=Bee,zee=YC;function Uee(t,e){for(var n=t.length;n--;)if(zee(t[n][0],e))return n;return-1}var Bx=Uee,Hee=Bx,Wee=Array.prototype,Vee=Wee.splice;function Gee(t){var e=this.__data__,n=Hee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vee.call(e,n,1),--this.size,!0}var qee=Gee,Xee=Bx;function Yee(t){var e=this.__data__,n=Xee(e,t);return n<0?void 0:e[n][1]}var Kee=Yee,Zee=Bx;function Qee(t){return Zee(this.__data__,t)>-1}var Jee=Qee,ete=Bx;function tte(t,e){var n=this.__data__,r=ete(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nte=tte,rte=Fee,ite=qee,ate=Kee,ste=Jee,ote=nte;function Jh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jh.prototype.clear=rte;Jh.prototype.delete=ite;Jh.prototype.get=ate;Jh.prototype.has=ste;Jh.prototype.set=ote;var zx=Jh,lte=cc,ute=Va,cte=lte(ute,"Map"),KC=cte,vM=Dee,dte=zx,hte=KC;function fte(){this.size=0,this.__data__={hash:new vM,map:new(hte||dte),string:new vM}}var pte=fte;function mte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gte=mte,yte=gte;function vte(t,e){var n=t.__data__;return yte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ux=vte,bte=Ux;function xte(t){var e=bte(this,t).delete(t);return this.size-=e?1:0,e}var wte=xte,Ste=Ux;function kte(t){return Ste(this,t).get(t)}var _te=kte,Ate=Ux;function Ete(t){return Ate(this,t).has(t)}var Cte=Ete,Pte=Ux;function Tte(t,e){var n=Pte(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ote=Tte,Mte=pte,Nte=wte,Ite=_te,Rte=Cte,jte=Ote;function ef(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ef.prototype.clear=Mte;ef.prototype.delete=Nte;ef.prototype.get=Ite;ef.prototype.has=Rte;ef.prototype.set=jte;var ZC=ef,xB=ZC,Lte="Expected a function";function QC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(QC.Cache||xB),n}QC.Cache=xB;var wB=QC;const Dte=nt(wB);var $te=wB,Fte=500;function Bte(t){var e=$te(t,function(r){return n.size===Fte&&n.clear(),r}),n=e.cache;return e}var zte=Bte,Ute=zte,Hte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wte=/\\(\\)?/g,Vte=Ute(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hte,function(n,r,i,a){e.push(i?a.replace(Wte,"$1"):r||n)}),e}),Gte=Vte;function qte(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var JC=qte,bM=ay,Xte=JC,Yte=Nr,Kte=Kh,xM=bM?bM.prototype:void 0,wM=xM?xM.toString:void 0;function SB(t){if(typeof t=="string")return t;if(Yte(t))return Xte(t,SB)+"";if(Kte(t))return wM?wM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zte=SB,Qte=Zte;function Jte(t){return t==null?"":Qte(t)}var kB=Jte,ene=Nr,tne=qC,nne=Gte,rne=kB;function ine(t,e){return ene(t)?t:tne(t,e)?[t]:nne(rne(t))}var _B=ine,ane=Kh;function sne(t){if(typeof t=="string"||ane(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Hx=sne,one=_B,lne=Hx;function une(t,e){e=one(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lne(e[n++])];return n&&n==r?t:void 0}var eP=une,cne=eP;function dne(t,e,n){var r=t==null?void 0:cne(t,e);return r===void 0?n:r}var AB=dne;const _i=nt(AB);function hne(t){return t==null}var fne=hne;const Xe=nt(fne);var pne=Ks,mne=Nr,gne=Zs,yne="[object String]";function vne(t){return typeof t=="string"||!mne(t)&&gne(t)&&pne(t)==yne}var bne=vne;const Zu=nt(bne);var EB={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=Symbol.for("react.element"),nP=Symbol.for("react.portal"),Wx=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),qx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),xne=Symbol.for("react.server_context"),Yx=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),Qx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),wne=Symbol.for("react.offscreen"),CB;CB=Symbol.for("react.module.reference");function Mi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tP:switch(t=t.type,t){case Wx:case Gx:case Vx:case Kx:case Zx:return t;default:switch(t=t&&t.$$typeof,t){case xne:case Xx:case Yx:case Jx:case Qx:case qx:return t;default:return e}}case nP:return e}}}ht.ContextConsumer=Xx;ht.ContextProvider=qx;ht.Element=tP;ht.ForwardRef=Yx;ht.Fragment=Wx;ht.Lazy=Jx;ht.Memo=Qx;ht.Portal=nP;ht.Profiler=Gx;ht.StrictMode=Vx;ht.Suspense=Kx;ht.SuspenseList=Zx;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(t){return Mi(t)===Xx};ht.isContextProvider=function(t){return Mi(t)===qx};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tP};ht.isForwardRef=function(t){return Mi(t)===Yx};ht.isFragment=function(t){return Mi(t)===Wx};ht.isLazy=function(t){return Mi(t)===Jx};ht.isMemo=function(t){return Mi(t)===Qx};ht.isPortal=function(t){return Mi(t)===nP};ht.isProfiler=function(t){return Mi(t)===Gx};ht.isStrictMode=function(t){return Mi(t)===Vx};ht.isSuspense=function(t){return Mi(t)===Kx};ht.isSuspenseList=function(t){return Mi(t)===Zx};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wx||t===Gx||t===Vx||t===Kx||t===Zx||t===wne||typeof t=="object"&&t!==null&&(t.$$typeof===Jx||t.$$typeof===Qx||t.$$typeof===qx||t.$$typeof===Xx||t.$$typeof===Yx||t.$$typeof===CB||t.getModuleId!==void 0)};ht.typeOf=Mi;EB.exports=ht;var Sne=EB.exports,kne=Ks,_ne=Zs,Ane="[object Number]";function Ene(t){return typeof t=="number"||_ne(t)&&kne(t)==Ane}var PB=Ene;const Cne=nt(PB);var Pne=PB;function Tne(t){return Pne(t)&&t!=+t}var One=Tne;const sy=nt(One);var aa=function(e){return e===0?0:e>0?1:-1},Dl=function(e){return Zu(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Cne(e)&&!sy(e)},Mne=function(e){return Xe(e)},mn=function(e){return ke(e)||Zu(e)},Nne=0,oy=function(e){var n=++Nne;return"".concat(e||"").concat(n)},Qu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Zu(e))return r;var a;if(Dl(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return sy(a)&&(a=r),i&&a>n&&(a=n),a},co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ine=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ra=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function z0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):_i(r,e))===n})}var Rne=function(e,n){return ke(e)&&ke(n)?e-n:Zu(e)&&Zu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ld(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function j_(t){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j_(t)}var jne=["viewBox","children"],Lne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SM=["points","pathLength"],P1={svg:jne,polygon:SM,polyline:SM},rP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],U0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Zh(r))return null;var i={};return Object.keys(r).forEach(function(a){rP.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Dne=function(e,n,r){return function(i){return e(n,r,i),null}},H0=function(e,n,r){if(!Zh(e)||j_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];rP.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Dne(s,n,r))}),i},$ne=["children"],Fne=["children"];function kM(t,e){if(t==null)return{};var n=Bne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L_(t){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(t)}var _M={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AM=null,T1=null,iP=function t(e){if(e===AM&&Array.isArray(T1))return T1;var n=[];return N.Children.forEach(e,function(r){Xe(r)||(Sne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),T1=n,AM=e,n};function Ai(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Rs(i)}):r=[Rs(e)],iP(t).forEach(function(i){var a=_i(i,"type.displayName")||_i(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Xr(t,e){var n=Ai(t,e);return n&&n[0]}var EM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},zne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Une=function(e){return e&&e.type&&Zu(e.type)&&zne.indexOf(e.type)>=0},Hne=function(e){return e&&L_(e)==="object"&&"clipDot"in e},Wne=function(e,n,r,i){var a,s=(a=P1==null?void 0:P1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ue(e)&&(i&&s.includes(n)||Lne.includes(n))||r&&rP.includes(n)},Qe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Zh(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Wne((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},D_=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return CM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!CM(a,s))return!1}return!0},CM=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,a=kM(r,$ne),s=n.props||{},o=s.children,l=kM(s,Fne);return i&&o?ld(a,l)&&D_(i,o):!i&&!o?ld(a,l):!1}return!1},PM=function(e,n){var r=[],i={};return iP(e).forEach(function(a,s){if(Une(a))r.push(a);else if(a){var o=Rs(a.type),l=n[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var d=u(a,o,s);r.push(d),i[o]=!0}}}),r},Vne=function(e){var n=e&&e.type;return n&&_M[n]?_M[n]:null},Gne=function(e,n){return iP(n).indexOf(e)},qne=["children","width","height","viewBox","className","style","title","desc"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function Xne(t,e){if(t==null)return{};var n=Yne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=Xne(t,qne),c=i||{width:n,height:r,x:0,y:0},d=qe("recharts-surface",a);return ne.createElement("svg",$_({},Qe(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),ne.createElement("title",null,o),ne.createElement("desc",null,l),e)}var Kne=["children","className"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function Zne(t,e){if(t==null)return{};var n=Qne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=Zne(t,Kne),a=qe("recharts-layer",r);return ne.createElement("g",B_({className:a},Qe(i,!0),{ref:e}),n)}),js=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Jne(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var ere=Jne,tre=ere;function nre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:tre(t,e,n)}var rre=nre,ire="\\ud800-\\udfff",are="\\u0300-\\u036f",sre="\\ufe20-\\ufe2f",ore="\\u20d0-\\u20ff",lre=are+sre+ore,ure="\\ufe0e\\ufe0f",cre="\\u200d",dre=RegExp("["+cre+ire+lre+ure+"]");function hre(t){return dre.test(t)}var TB=hre;function fre(t){return t.split("")}var pre=fre,OB="\\ud800-\\udfff",mre="\\u0300-\\u036f",gre="\\ufe20-\\ufe2f",yre="\\u20d0-\\u20ff",vre=mre+gre+yre,bre="\\ufe0e\\ufe0f",xre="["+OB+"]",z_="["+vre+"]",U_="\\ud83c[\\udffb-\\udfff]",wre="(?:"+z_+"|"+U_+")",MB="[^"+OB+"]",NB="(?:\\ud83c[\\udde6-\\uddff]){2}",IB="[\\ud800-\\udbff][\\udc00-\\udfff]",Sre="\\u200d",RB=wre+"?",jB="["+bre+"]?",kre="(?:"+Sre+"(?:"+[MB,NB,IB].join("|")+")"+jB+RB+")*",_re=jB+RB+kre,Are="(?:"+[MB+z_+"?",z_,NB,IB,xre].join("|")+")",Ere=RegExp(U_+"(?="+U_+")|"+Are+_re,"g");function Cre(t){return t.match(Ere)||[]}var Pre=Cre,Tre=pre,Ore=TB,Mre=Pre;function Nre(t){return Ore(t)?Mre(t):Tre(t)}var Ire=Nre,Rre=rre,jre=TB,Lre=Ire,Dre=kB;function $re(t){return function(e){e=Dre(e);var n=jre(e)?Lre(e):void 0,r=n?n[0]:e.charAt(0),i=n?Rre(n,1).join(""):e.slice(1);return r[t]()+i}}var Fre=$re,Bre=Fre,zre=Bre("toUpperCase"),Ure=zre;const ew=nt(Ure);function xt(t){return function(){return t}}const LB=Math.cos,W0=Math.sin,ha=Math.sqrt,V0=Math.PI,tw=2*V0,H_=Math.PI,W_=2*H_,Pl=1e-6,Hre=W_-Pl;function DB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Wre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DB:Wre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,d=o-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Pl)if(!(Math.abs(d*l-u*c)>Pl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-s,m=i-o,p=l*l+u*u,v=f*f+m*m,y=Math.sqrt(p),b=Math.sqrt(h),x=a*Math.tan((H_-Math.acos((p+h-v)/(2*y*b)))/2),k=x/b,S=x/y;Math.abs(k-1)>Pl&&this._append`L${e+k*c},${n+k*d}`,this._append`A${a},${a},0,0,${+(d*f>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Pl||Math.abs(this._y1-c)>Pl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%W_+W_),h>Hre?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Pl&&this._append`A${r},${r},0,${+(h>=H_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vre(e)}function sP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $B(t){this._context=t}$B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nw(t){return new $B(t)}function FB(t){return t[0]}function BB(t){return t[1]}function zB(t,e){var n=xt(!0),r=null,i=nw,a=null,s=aP(o);t=typeof t=="function"?t:t===void 0?FB:xt(t),e=typeof e=="function"?e:e===void 0?BB:xt(e);function o(l){var u,c=(l=sP(l)).length,d,h=!1,f;for(r==null&&(a=i(f=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Xy(t,e,n){var r=null,i=xt(!0),a=null,s=nw,o=null,l=aP(u);t=typeof t=="function"?t:t===void 0?FB:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?BB:xt(+n);function u(d){var h,f,m,p=(d=sP(d)).length,v,y=!1,b,x=new Array(p),k=new Array(p);for(a==null&&(o=s(b=l())),h=0;h<=p;++h){if(!(h<p&&i(v=d[h],h,d))===y)if(y=!y)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=f;--m)o.point(x[m],k[m]);o.lineEnd(),o.areaEnd()}y&&(x[h]=+t(v,h,d),k[h]=+e(v,h,d),o.point(r?+r(v,h,d):x[h],n?+n(v,h,d):k[h]))}if(b)return o=null,b+""||null}function c(){return zB().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:xt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:xt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:xt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:xt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class UB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Gre(t){return new UB(t,!0)}function qre(t){return new UB(t,!1)}const oP={draw(t,e){const n=ha(e/V0);t.moveTo(n,0),t.arc(0,0,n,0,tw)}},Xre={draw(t,e){const n=ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},HB=ha(1/3),Yre=HB*2,Kre={draw(t,e){const n=ha(e/Yre),r=n*HB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Zre={draw(t,e){const n=ha(e),r=-n/2;t.rect(r,r,n,n)}},Qre=.8908130915292852,WB=W0(V0/10)/W0(7*V0/10),Jre=W0(tw/10)*WB,eie=-LB(tw/10)*WB,tie={draw(t,e){const n=ha(e*Qre),r=Jre*n,i=eie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=tw*a/5,o=LB(s),l=W0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},O1=ha(3),nie={draw(t,e){const n=-ha(e/(O1*3));t.moveTo(0,n*2),t.lineTo(-O1*n,-n),t.lineTo(O1*n,-n),t.closePath()}},li=-.5,ui=ha(3)/2,V_=1/ha(12),rie=(V_/2+1)*3,iie={draw(t,e){const n=ha(e/rie),r=n/2,i=n*V_,a=r,s=n*V_+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(li*r-ui*i,ui*r+li*i),t.lineTo(li*a-ui*s,ui*a+li*s),t.lineTo(li*o-ui*l,ui*o+li*l),t.lineTo(li*r+ui*i,li*i-ui*r),t.lineTo(li*a+ui*s,li*s-ui*a),t.lineTo(li*o+ui*l,li*l-ui*o),t.closePath()}};function aie(t,e){let n=null,r=aP(i);t=typeof t=="function"?t:xt(t||oP),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function G0(){}function q0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function VB(t){this._context=t}VB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sie(t){return new VB(t)}function GB(t){this._context=t}GB.prototype={areaStart:G0,areaEnd:G0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:q0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oie(t){return new GB(t)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:q0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lie(t){return new qB(t)}function XB(t){this._context=t}XB.prototype={areaStart:G0,areaEnd:G0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uie(t){return new XB(t)}function TM(t){return t<0?-1:1}function OM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(TM(a)+TM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function MM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function X0(t){this._context=t}X0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M1(this,this._t0,MM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M1(this,MM(this,n=OM(this,t,e)),n);break;default:M1(this,this._t0,n=OM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function YB(t){this._context=new KB(t)}(YB.prototype=Object.create(X0.prototype)).point=function(t,e){X0.prototype.point.call(this,e,t)};function KB(t){this._context=t}KB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function cie(t){return new X0(t)}function die(t){return new YB(t)}function ZB(t){this._context=t}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NM(t),i=NM(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NM(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function hie(t){return new ZB(t)}function rw(t,e){this._context=t,this._t=e}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fie(t){return new rw(t,.5)}function pie(t){return new rw(t,0)}function mie(t){return new rw(t,1)}function bh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function G_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gie(t,e){return t[e]}function yie(t){const e=[];return e.key=t,e}function vie(){var t=xt([]),e=G_,n=bh,r=gie;function i(a){var s=Array.from(t.apply(this,arguments),yie),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(d,s[o].key,u,a)]).data=d;for(o=0,c=sP(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?G_:typeof a=="function"?a:xt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bh,i):n},i}function bie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}bh(t,e)}}function xie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bh(t,e)}}function wie(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],d=c[r][1]||0,h=c[r-1][1]||0,f=(d-h)/2,m=0;m<o;++m){var p=t[e[m]],v=p[r][1]||0,y=p[r-1][1]||0;f+=v-y}l+=d,u+=f*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bh(t,e)}}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var Sie=["type","size","sizeType"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kie(t,e,n){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=Aie(t,"string");return Yp(e)=="symbol"?e:e+""}function Aie(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eie(t,e){if(t==null)return{};var n=Cie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QB={symbolCircle:oP,symbolCross:Xre,symbolDiamond:Kre,symbolSquare:Zre,symbolStar:tie,symbolTriangle:nie,symbolWye:iie},Pie=Math.PI/180,Tie=function(e){var n="symbol".concat(ew(e));return QB[n]||oP},Oie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Pie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mie=function(e,n){QB["symbol".concat(ew(e))]=n},lP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Eie(e,Sie),u=RM(RM({},l),{},{type:r,size:a,sizeType:o}),c=function(){var v=Tie(r),y=aie().type(v).size(Oie(a,o,r));return y()},d=u.className,h=u.cx,f=u.cy,m=Qe(u,!0);return h===+h&&f===+f&&a===+a?ne.createElement("path",q_({},m,{className:qe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};lP.registerSymbol=Mie;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){Kp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e5(r.key),r)}}function jie(t,e,n){return e&&Rie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lie(t,e,n){return e=Y0(e),Die(t,JB()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function Die(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(t)}function $ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JB=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function Fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function Kp(t,e,n){return e=e5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5(t){var e=Bie(t,"string");return xh(e)=="symbol"?e:e+""}function Bie(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ci=32,uP=function(t){function e(){return Iie(this,e),Lie(this,e,arguments)}return Fie(e,t),jie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ci/2,s=ci/6,o=ci/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ci,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ci,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ci/8,"h").concat(ci,"v").concat(ci*3/4,"h").concat(-ci,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var u=Nie({},r);return delete u.legendIcon,ne.cloneElement(r.legendIcon,u)}return ne.createElement(lP,{fill:l,cx:a,cy:a,size:ci,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ci,height:ci},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,m){var p=f.formatter||l,v=qe(Kp(Kp({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Ue(f.value)?null:f.value;js(!Ue(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return ne.createElement("li",X_({className:v,style:d,key:"legend-item-".concat(m)},H0(r.props,f,m)),ne.createElement(F_,{width:s,height:s,viewBox:c,style:h},r.renderIcon(f)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,f,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);Kp(uP,"displayName","Legend");Kp(uP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zie=zx;function Uie(){this.__data__=new zie,this.size=0}var Hie=Uie;function Wie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vie=Wie;function Gie(t){return this.__data__.get(t)}var qie=Gie;function Xie(t){return this.__data__.has(t)}var Yie=Xie,Kie=zx,Zie=KC,Qie=ZC,Jie=200;function eae(t,e){var n=this.__data__;if(n instanceof Kie){var r=n.__data__;if(!Zie||r.length<Jie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qie(r)}return n.set(t,e),this.size=n.size,this}var tae=eae,nae=zx,rae=Hie,iae=Vie,aae=qie,sae=Yie,oae=tae;function tf(t){var e=this.__data__=new nae(t);this.size=e.size}tf.prototype.clear=rae;tf.prototype.delete=iae;tf.prototype.get=aae;tf.prototype.has=sae;tf.prototype.set=oae;var t5=tf,lae="__lodash_hash_undefined__";function uae(t){return this.__data__.set(t,lae),this}var cae=uae;function dae(t){return this.__data__.has(t)}var hae=dae,fae=ZC,pae=cae,mae=hae;function K0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fae;++e<n;)this.add(t[e])}K0.prototype.add=K0.prototype.push=pae;K0.prototype.has=mae;var n5=K0;function gae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var r5=gae;function yae(t,e){return t.has(e)}var i5=yae,vae=n5,bae=r5,xae=i5,wae=1,Sae=2;function kae(t,e,n,r,i,a){var s=n&wae,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=n&Sae?new vae:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var m=t[d],p=e[d];if(r)var v=s?r(p,m,d,e,t,a):r(m,p,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!bae(e,function(y,b){if(!xae(f,b)&&(m===y||i(m,y,n,r,a)))return f.push(b)})){h=!1;break}}else if(!(m===p||i(m,p,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var a5=kae,_ae=Va,Aae=_ae.Uint8Array,Eae=Aae;function Cae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Pae=Cae;function Tae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cP=Tae,LM=ay,DM=Eae,Oae=YC,Mae=a5,Nae=Pae,Iae=cP,Rae=1,jae=2,Lae="[object Boolean]",Dae="[object Date]",$ae="[object Error]",Fae="[object Map]",Bae="[object Number]",zae="[object RegExp]",Uae="[object Set]",Hae="[object String]",Wae="[object Symbol]",Vae="[object ArrayBuffer]",Gae="[object DataView]",$M=LM?LM.prototype:void 0,N1=$M?$M.valueOf:void 0;function qae(t,e,n,r,i,a,s){switch(n){case Gae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vae:return!(t.byteLength!=e.byteLength||!a(new DM(t),new DM(e)));case Lae:case Dae:case Bae:return Oae(+t,+e);case $ae:return t.name==e.name&&t.message==e.message;case zae:case Hae:return t==e+"";case Fae:var o=Nae;case Uae:var l=r&Rae;if(o||(o=Iae),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=jae,s.set(t,e);var c=Mae(o(t),o(e),r,i,a,s);return s.delete(t),c;case Wae:if(N1)return N1.call(t)==N1.call(e)}return!1}var Xae=qae;function Yae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var s5=Yae,Kae=s5,Zae=Nr;function Qae(t,e,n){var r=e(t);return Zae(t)?r:Kae(r,n(t))}var Jae=Qae;function ese(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var tse=ese;function nse(){return[]}var rse=nse,ise=tse,ase=rse,sse=Object.prototype,ose=sse.propertyIsEnumerable,FM=Object.getOwnPropertySymbols,lse=FM?function(t){return t==null?[]:(t=Object(t),ise(FM(t),function(e){return ose.call(t,e)}))}:ase,use=lse;function cse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dse=cse,hse=Ks,fse=Zs,pse="[object Arguments]";function mse(t){return fse(t)&&hse(t)==pse}var gse=mse,BM=gse,yse=Zs,o5=Object.prototype,vse=o5.hasOwnProperty,bse=o5.propertyIsEnumerable,xse=BM(function(){return arguments}())?BM:function(t){return yse(t)&&vse.call(t,"callee")&&!bse.call(t,"callee")},dP=xse,Z0={exports:{}};function wse(){return!1}var Sse=wse;Z0.exports;(function(t,e){var n=Va,r=Sse,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(Z0,Z0.exports);var l5=Z0.exports,kse=9007199254740991,_se=/^(?:0|[1-9]\d*)$/;function Ase(t,e){var n=typeof t;return e=e??kse,!!e&&(n=="number"||n!="symbol"&&_se.test(t))&&t>-1&&t%1==0&&t<e}var hP=Ase,Ese=9007199254740991;function Cse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ese}var fP=Cse,Pse=Ks,Tse=fP,Ose=Zs,Mse="[object Arguments]",Nse="[object Array]",Ise="[object Boolean]",Rse="[object Date]",jse="[object Error]",Lse="[object Function]",Dse="[object Map]",$se="[object Number]",Fse="[object Object]",Bse="[object RegExp]",zse="[object Set]",Use="[object String]",Hse="[object WeakMap]",Wse="[object ArrayBuffer]",Vse="[object DataView]",Gse="[object Float32Array]",qse="[object Float64Array]",Xse="[object Int8Array]",Yse="[object Int16Array]",Kse="[object Int32Array]",Zse="[object Uint8Array]",Qse="[object Uint8ClampedArray]",Jse="[object Uint16Array]",eoe="[object Uint32Array]",_t={};_t[Gse]=_t[qse]=_t[Xse]=_t[Yse]=_t[Kse]=_t[Zse]=_t[Qse]=_t[Jse]=_t[eoe]=!0;_t[Mse]=_t[Nse]=_t[Wse]=_t[Ise]=_t[Vse]=_t[Rse]=_t[jse]=_t[Lse]=_t[Dse]=_t[$se]=_t[Fse]=_t[Bse]=_t[zse]=_t[Use]=_t[Hse]=!1;function toe(t){return Ose(t)&&Tse(t.length)&&!!_t[Pse(t)]}var noe=toe;function roe(t){return function(e){return t(e)}}var u5=roe,Q0={exports:{}};Q0.exports;(function(t,e){var n=yB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Q0,Q0.exports);var ioe=Q0.exports,aoe=noe,soe=u5,zM=ioe,UM=zM&&zM.isTypedArray,ooe=UM?soe(UM):aoe,c5=ooe,loe=dse,uoe=dP,coe=Nr,doe=l5,hoe=hP,foe=c5,poe=Object.prototype,moe=poe.hasOwnProperty;function goe(t,e){var n=coe(t),r=!n&&uoe(t),i=!n&&!r&&doe(t),a=!n&&!r&&!i&&foe(t),s=n||r||i||a,o=s?loe(t.length,String):[],l=o.length;for(var u in t)(e||moe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hoe(u,l)))&&o.push(u);return o}var yoe=goe,voe=Object.prototype;function boe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||voe;return t===n}var xoe=boe;function woe(t,e){return function(n){return t(e(n))}}var d5=woe,Soe=d5,koe=Soe(Object.keys,Object),_oe=koe,Aoe=xoe,Eoe=_oe,Coe=Object.prototype,Poe=Coe.hasOwnProperty;function Toe(t){if(!Aoe(t))return Eoe(t);var e=[];for(var n in Object(t))Poe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ooe=Toe,Moe=XC,Noe=fP;function Ioe(t){return t!=null&&Noe(t.length)&&!Moe(t)}var ly=Ioe,Roe=yoe,joe=Ooe,Loe=ly;function Doe(t){return Loe(t)?Roe(t):joe(t)}var iw=Doe,$oe=Jae,Foe=use,Boe=iw;function zoe(t){return $oe(t,Boe,Foe)}var Uoe=zoe,HM=Uoe,Hoe=1,Woe=Object.prototype,Voe=Woe.hasOwnProperty;function Goe(t,e,n,r,i,a){var s=n&Hoe,o=HM(t),l=o.length,u=HM(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Voe.call(e,h)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var y=t[h],b=e[h];if(r)var x=s?r(b,y,h,e,t,a):r(y,b,h,t,e,a);if(!(x===void 0?y===b||i(y,b,n,r,a):x)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(t),a.delete(e),p}var qoe=Goe,Xoe=cc,Yoe=Va,Koe=Xoe(Yoe,"DataView"),Zoe=Koe,Qoe=cc,Joe=Va,ele=Qoe(Joe,"Promise"),tle=ele,nle=cc,rle=Va,ile=nle(rle,"Set"),h5=ile,ale=cc,sle=Va,ole=ale(sle,"WeakMap"),lle=ole,K_=Zoe,Z_=KC,Q_=tle,J_=h5,eA=lle,f5=Ks,nf=bB,WM="[object Map]",ule="[object Object]",VM="[object Promise]",GM="[object Set]",qM="[object WeakMap]",XM="[object DataView]",cle=nf(K_),dle=nf(Z_),hle=nf(Q_),fle=nf(J_),ple=nf(eA),Tl=f5;(K_&&Tl(new K_(new ArrayBuffer(1)))!=XM||Z_&&Tl(new Z_)!=WM||Q_&&Tl(Q_.resolve())!=VM||J_&&Tl(new J_)!=GM||eA&&Tl(new eA)!=qM)&&(Tl=function(t){var e=f5(t),n=e==ule?t.constructor:void 0,r=n?nf(n):"";if(r)switch(r){case cle:return XM;case dle:return WM;case hle:return VM;case fle:return GM;case ple:return qM}return e});var mle=Tl,I1=t5,gle=a5,yle=Xae,vle=qoe,YM=mle,KM=Nr,ZM=l5,ble=c5,xle=1,QM="[object Arguments]",JM="[object Array]",Yy="[object Object]",wle=Object.prototype,eN=wle.hasOwnProperty;function Sle(t,e,n,r,i,a){var s=KM(t),o=KM(e),l=s?JM:YM(t),u=o?JM:YM(e);l=l==QM?Yy:l,u=u==QM?Yy:u;var c=l==Yy,d=u==Yy,h=l==u;if(h&&ZM(t)){if(!ZM(e))return!1;s=!0,c=!1}if(h&&!c)return a||(a=new I1),s||ble(t)?gle(t,e,n,r,i,a):yle(t,e,l,n,r,i,a);if(!(n&xle)){var f=c&&eN.call(t,"__wrapped__"),m=d&&eN.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,v=m?e.value():e;return a||(a=new I1),i(p,v,n,r,a)}}return h?(a||(a=new I1),vle(t,e,n,r,i,a)):!1}var kle=Sle,_le=kle,tN=Zs;function p5(t,e,n,r,i){return t===e?!0:t==null||e==null||!tN(t)&&!tN(e)?t!==t&&e!==e:_le(t,e,n,r,p5,i)}var pP=p5,Ale=t5,Ele=pP,Cle=1,Ple=2;function Tle(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Ale;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?Ele(c,u,Cle|Ple,r,d):h))return!1}}return!0}var Ole=Tle,Mle=fl;function Nle(t){return t===t&&!Mle(t)}var m5=Nle,Ile=m5,Rle=iw;function jle(t){for(var e=Rle(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ile(i)]}return e}var Lle=jle;function Dle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var g5=Dle,$le=Ole,Fle=Lle,Ble=g5;function zle(t){var e=Fle(t);return e.length==1&&e[0][2]?Ble(e[0][0],e[0][1]):function(n){return n===t||$le(n,t,e)}}var Ule=zle;function Hle(t,e){return t!=null&&e in Object(t)}var Wle=Hle,Vle=_B,Gle=dP,qle=Nr,Xle=hP,Yle=fP,Kle=Hx;function Zle(t,e,n){e=Vle(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Kle(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Yle(i)&&Xle(s,i)&&(qle(t)||Gle(t)))}var Qle=Zle,Jle=Wle,eue=Qle;function tue(t,e){return t!=null&&eue(t,e,Jle)}var nue=tue,rue=pP,iue=AB,aue=nue,sue=qC,oue=m5,lue=g5,uue=Hx,cue=1,due=2;function hue(t,e){return sue(t)&&oue(e)?lue(uue(t),e):function(n){var r=iue(n,t);return r===void 0&&r===e?aue(n,t):rue(e,r,cue|due)}}var fue=hue;function pue(t){return t}var rf=pue;function mue(t){return function(e){return e==null?void 0:e[t]}}var gue=mue,yue=eP;function vue(t){return function(e){return yue(e,t)}}var bue=vue,xue=gue,wue=bue,Sue=qC,kue=Hx;function _ue(t){return Sue(t)?xue(kue(t)):wue(t)}var Aue=_ue,Eue=Ule,Cue=fue,Pue=rf,Tue=Nr,Oue=Aue;function Mue(t){return typeof t=="function"?t:t==null?Pue:typeof t=="object"?Tue(t)?Cue(t[0],t[1]):Eue(t):Oue(t)}var pl=Mue;function Nue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var y5=Nue;function Iue(t){return t!==t}var Rue=Iue;function jue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Lue=jue,Due=y5,$ue=Rue,Fue=Lue;function Bue(t,e,n){return e===e?Fue(t,e,n):Due(t,$ue,n)}var zue=Bue,Uue=zue;function Hue(t,e){var n=t==null?0:t.length;return!!n&&Uue(t,e,0)>-1}var Wue=Hue;function Vue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Gue=Vue;function que(){}var Xue=que,R1=h5,Yue=Xue,Kue=cP,Zue=1/0,Que=R1&&1/Kue(new R1([,-0]))[1]==Zue?function(t){return new R1(t)}:Yue,Jue=Que,ece=n5,tce=Wue,nce=Gue,rce=i5,ice=Jue,ace=cP,sce=200;function oce(t,e,n){var r=-1,i=tce,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=nce;else if(a>=sce){var u=e?null:ice(t);if(u)return ace(u);s=!1,i=rce,l=new ece}else l=e?[]:o;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(c)}else i(l,d,n)||(l!==o&&l.push(d),o.push(c))}return o}var lce=oce,uce=pl,cce=lce;function dce(t,e){return t&&t.length?cce(t,uce(e)):[]}var hce=dce;const nN=nt(hce);function v5(t,e,n){return e===!0?nN(t,n):Ue(e)?nN(t,e):t}function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}var fce=["ref"];function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x5(r.key),r)}}function mce(t,e,n){return e&&iN(t.prototype,e),n&&iN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gce(t,e,n){return e=J0(e),yce(t,b5()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function yce(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vce(t)}function vce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b5=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(t,e)}function aw(t,e,n){return e=x5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x5(t){var e=xce(t,"string");return wh(e)=="symbol"?e:e+""}function xce(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wce(t,e){if(t==null)return{};var n=Sce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kce(t){return t.value}function _ce(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=wce(e,fce);return ne.createElement(uP,n)}var aN=1,ud=function(t){function e(){var n;pce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gce(this,e,[].concat(i)),aw(n,"lastBoundingBox",{width:-1,height:-1}),n}return bce(e,t),mce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aN||Math.abs(i.height-this.lastBoundingBox.height)>aN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ka({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ka(Ka({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Ka(Ka({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},_ce(a,Ka(Ka({},this.props),{},{payload:v5(c,u,kce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ka(Ka({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ke(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);aw(ud,"displayName","Legend");aw(ud,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sN=ay,Ace=dP,Ece=Nr,oN=sN?sN.isConcatSpreadable:void 0;function Cce(t){return Ece(t)||Ace(t)||!!(oN&&t&&t[oN])}var Pce=Cce,Tce=s5,Oce=Pce;function w5(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Oce),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?w5(o,e-1,n,r,i):Tce(i,o):r||(i[i.length]=o)}return i}var S5=w5;function Mce(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Nce=Mce,Ice=Nce,Rce=Ice(),jce=Rce,Lce=jce,Dce=iw;function $ce(t,e){return t&&Lce(t,e,Dce)}var k5=$ce,Fce=ly;function Bce(t,e){return function(n,r){if(n==null)return n;if(!Fce(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var zce=Bce,Uce=k5,Hce=zce,Wce=Hce(Uce),mP=Wce,Vce=mP,Gce=ly;function qce(t,e){var n=-1,r=Gce(t)?Array(t.length):[];return Vce(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var _5=qce;function Xce(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Yce=Xce,lN=Kh;function Kce(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=lN(t),s=e!==void 0,o=e===null,l=e===e,u=lN(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Zce=Kce,Qce=Zce;function Jce(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Qce(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ede=Jce,j1=JC,tde=eP,nde=pl,rde=_5,ide=Yce,ade=u5,sde=ede,ode=rf,lde=Nr;function ude(t,e,n){e.length?e=j1(e,function(a){return lde(a)?function(s){return tde(s,a.length===1?a[0]:a)}:a}):e=[ode];var r=-1;e=j1(e,ade(nde));var i=rde(t,function(a,s,o){var l=j1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return ide(i,function(a,s){return sde(a,s,n)})}var cde=ude;function dde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hde=dde,fde=hde,uN=Math.max;function pde(t,e,n){return e=uN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=uN(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),fde(t,this,o)}}var mde=pde;function gde(t){return function(){return t}}var yde=gde,vde=cc,bde=function(){try{var t=vde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),A5=bde,xde=yde,cN=A5,wde=rf,Sde=cN?function(t,e){return cN(t,"toString",{configurable:!0,enumerable:!1,value:xde(e),writable:!0})}:wde,kde=Sde,_de=800,Ade=16,Ede=Date.now;function Cde(t){var e=0,n=0;return function(){var r=Ede(),i=Ade-(r-n);if(n=r,i>0){if(++e>=_de)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Pde=Cde,Tde=kde,Ode=Pde,Mde=Ode(Tde),Nde=Mde,Ide=rf,Rde=mde,jde=Nde;function Lde(t,e){return jde(Rde(t,e,Ide),t+"")}var Dde=Lde,$de=YC,Fde=ly,Bde=hP,zde=fl;function Ude(t,e,n){if(!zde(n))return!1;var r=typeof e;return(r=="number"?Fde(n)&&Bde(e,n.length):r=="string"&&e in n)?$de(n[e],t):!1}var sw=Ude,Hde=S5,Wde=cde,Vde=Dde,dN=sw,Gde=Vde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&dN(t,e[0],e[1])?e=[]:n>2&&dN(e[0],e[1],e[2])&&(e=[e[0]]),Wde(t,Hde(e,1),[])}),qde=Gde;const gP=nt(qde);function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(this,arguments)}function Xde(t,e){return Qde(t)||Zde(t,e)||Kde(t,e)||Yde()}function Yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return hN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hN(t,e)}}function hN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Qde(t){if(Array.isArray(t))return t}function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return e=ehe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return Zp(e)=="symbol"?e:e+""}function the(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nhe(t){return Array.isArray(t)&&mn(t[0])&&mn(t[1])?t.join(" ~ "):t}var rhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(c&&c.length){var T={padding:0,margin:0},j=(h?gP(c,h):c).map(function(P,$){if(P.type==="none")return null;var X=L1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},o),U=P.formatter||d||nhe,q=P.value,G=P.name,R=q,B=G;if(U&&R!=null&&B!=null){var H=U(q,G,P,$,c);if(Array.isArray(H)){var L=Xde(H,2);R=L[0],B=L[1]}else R=H}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:X},mn(B)?ne.createElement("span",{className:"recharts-tooltip-item-name"},B):null,mn(B)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},R),ne.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:T},j)}return null},k=L1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=L1({margin:0},u),w=!Xe(p),A=w?p:"",E=qe("recharts-default-tooltip",f),C=qe("recharts-tooltip-label",m);w&&v&&c!==void 0&&c!==null&&(A=v(p,c));var O=b?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",nA({className:E,style:k},O),ne.createElement("p",{className:C,style:S},ne.isValidElement(A)?A:"".concat(A)),x())};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function Ky(t,e,n){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ahe(t,"string");return Qp(e)=="symbol"?e:e+""}function ahe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pf="recharts-tooltip-wrapper",she={visibility:"hidden"};function ohe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return qe(Pf,Ky(Ky(Ky(Ky({},"".concat(Pf,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(Pf,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(Pf,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(Pf,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function pN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ke(a[r]))return a[r];var c=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,f=l[r];return h<f?Math.max(d,l[r]):Math.max(c,l[r])}var m=d+o,p=l[r]+u;return m>p?Math.max(c,l[r]):Math.max(d,l[r])}function lhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=pN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=pN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=lhe({translateX:c,translateY:d,useTranslate3d:o})):u=she,{cssProperties:u,cssClasses:ohe({translateX:c,translateY:d,coordinate:n})}}function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){iA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function hhe(t,e,n){return e&&dhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,n){return e=eb(e),phe(t,E5()?Reflect.construct(e,n||[],eb(t).constructor):e.apply(t,n))}function phe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(t)}function mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function eb(t){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eb(t)}function ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rA(t,e)}function iA(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5(t){var e=yhe(t,"string");return Sh(e)=="symbol"?e:e+""}function yhe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yN=1,vhe=function(t){function e(){var n;che(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fhe(this,e,[].concat(i)),iA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ghe(e,t),hhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>yN||Math.abs(r.height-this.state.lastBoundingBox.height)>yN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,m=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=uhe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),k=x.cssClasses,S=x.cssProperties,w=gN(gN({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return ne.createElement("div",{tabIndex:-1,className:k,style:w,ref:function(E){r.wrapperNode=E}},u)}}])}(N.PureComponent),bhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},af={isSsr:bhe()};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){yP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function whe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function She(t,e,n){return e&&whe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function khe(t,e,n){return e=tb(e),_he(t,P5()?Reflect.construct(e,n||[],tb(t).constructor):e.apply(t,n))}function _he(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(t)}function Ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tb(t)}function Ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function yP(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=Che(t,"string");return kh(e)=="symbol"?e:e+""}function Che(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Phe(t){return t.dataKey}function The(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(rhe,e)}var Ji=function(t){function e(){return xhe(this,e),khe(this,e,arguments)}return Ehe(e,t),She(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,m=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,S=m??[];d&&S.length&&(S=v5(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),p,Phe));var w=S.length>0;return ne.createElement(vhe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:w,offset:f,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:k},The(u,bN(bN({},this.props),{},{payload:S})))}}])}(N.PureComponent);yP(Ji,"displayName","Tooltip");yP(Ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!af.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ohe=Va,Mhe=function(){return Ohe.Date.now()},Nhe=Mhe,Ihe=/\s/;function Rhe(t){for(var e=t.length;e--&&Ihe.test(t.charAt(e)););return e}var jhe=Rhe,Lhe=jhe,Dhe=/^\s+/;function $he(t){return t&&t.slice(0,Lhe(t)+1).replace(Dhe,"")}var Fhe=$he,Bhe=Fhe,xN=fl,zhe=Kh,wN=NaN,Uhe=/^[-+]0x[0-9a-f]+$/i,Hhe=/^0b[01]+$/i,Whe=/^0o[0-7]+$/i,Vhe=parseInt;function Ghe(t){if(typeof t=="number")return t;if(zhe(t))return wN;if(xN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bhe(t);var n=Hhe.test(t);return n||Whe.test(t)?Vhe(t.slice(2),n?2:8):Uhe.test(t)?wN:+t}var O5=Ghe,qhe=fl,D1=Nhe,SN=O5,Xhe="Expected a function",Yhe=Math.max,Khe=Math.min;function Zhe(t,e,n){var r,i,a,s,o,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Xhe);e=SN(e)||0,qhe(n)&&(c=!!n.leading,d="maxWait"in n,a=d?Yhe(SN(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function f(w){var A=r,E=i;return r=i=void 0,u=w,s=t.apply(E,A),s}function m(w){return u=w,o=setTimeout(y,e),c?f(w):s}function p(w){var A=w-l,E=w-u,C=e-A;return d?Khe(C,a-E):C}function v(w){var A=w-l,E=w-u;return l===void 0||A>=e||A<0||d&&E>=a}function y(){var w=D1();if(v(w))return b(w);o=setTimeout(y,p(w))}function b(w){return o=void 0,h&&r?f(w):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function k(){return o===void 0?s:b(D1())}function S(){var w=D1(),A=v(w);if(r=arguments,i=this,l=w,A){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(y,e),f(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=x,S.flush=k,S}var Qhe=Zhe,Jhe=Qhe,efe=fl,tfe="Expected a function";function nfe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(tfe);return efe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jhe(t,e,{leading:r,maxWait:e,trailing:i})}var rfe=nfe;const M5=nt(rfe);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return e=afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return Jp(e)=="symbol"?e:e+""}function sfe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e){return dfe(t)||cfe(t,e)||ufe(t,e)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ufe(t,e){if(t){if(typeof t=="string")return _N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(t,e)}}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dfe(t){if(Array.isArray(t))return t}var hfe=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,m=t.debounce,p=m===void 0?0:m,v=t.id,y=t.className,b=t.onResize,x=t.style,k=x===void 0?{}:x,S=N.useRef(null),w=N.useRef();w.current=b,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=N.useState({containerWidth:i.width,containerHeight:i.height}),E=ofe(A,2),C=E[0],O=E[1],I=N.useCallback(function(j,P){O(function($){var X=Math.round(j),U=Math.round(P);return $.containerWidth===X&&$.containerHeight===U?$:{containerWidth:X,containerHeight:U}})},[]);N.useEffect(function(){var j=function(G){var R,B=G[0].contentRect,H=B.width,L=B.height;I(H,L),(R=w.current)===null||R===void 0||R.call(w,H,L)};p>0&&(j=M5(j,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(j),$=S.current.getBoundingClientRect(),X=$.width,U=$.height;return I(X,U),P.observe(S.current),function(){P.disconnect()}},[I,p]);var T=N.useMemo(function(){var j=C.containerWidth,P=C.containerHeight;if(j<0||P<0)return null;js(Dl(s)||Dl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),js(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Dl(s)?j:s,X=Dl(l)?P:l;n&&n>0&&($?X=$/n:X&&($=X*n),h&&X>h&&(X=h)),js($>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,X,s,l,c,d,n);var U=!Array.isArray(f)&&Rs(f.type).endsWith("Chart");return ne.Children.map(f,function(q){return ne.isValidElement(q)?N.cloneElement(q,Zy({width:$,height:X},U?{style:Zy({height:"100%",width:"100%",maxHeight:X,maxWidth:$},q.props.style)}:{})):q})},[n,f,l,h,d,c,C,s]);return ne.createElement("div",{id:v?"".concat(v):void 0,className:qe("recharts-responsive-container",y),style:Zy(Zy({},k),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},T)}),N5=function(e){return null};N5.displayName="Cell";function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return e=pfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=mfe(t,"string");return em(e)=="symbol"?e:e+""}function mfe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc={widthCache:{},cacheCount:0},gfe=2e3,yfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EN="recharts_measurement_span";function vfe(t){var e=sA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||af.isSsr)return{width:0,height:0};var r=vfe(n),i=JSON.stringify({text:e,copyStyle:r});if(xc.widthCache[i])return xc.widthCache[i];try{var a=document.getElementById(EN);a||(a=document.createElement("span"),a.setAttribute("id",EN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=sA(sA({},yfe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return xc.widthCache[i]=l,++xc.cacheCount>gfe&&(xc.cacheCount=0,xc.widthCache={}),l}catch{return{width:0,height:0}}},bfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function nb(t,e){return kfe(t)||Sfe(t,e)||wfe(t,e)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(t,e){if(t){if(typeof t=="string")return CN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(t,e)}}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function kfe(t){if(Array.isArray(t))return t}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Efe(r.key),r)}}function Afe(t,e,n){return e&&PN(t.prototype,e),n&&PN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t){var e=Cfe(t,"string");return tm(e)=="symbol"?e:e+""}function Cfe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ON=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ofe=Object.keys(I5),Gc="NaN";function Mfe(t,e){return t*I5[e]}var Qy=function(){function t(e,n){_fe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Pfe.test(n)&&(this.num=NaN,this.unit=""),Ofe.includes(n)&&(this.num=Mfe(e,n),this.unit="px")}return Afe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Tfe.exec(n))!==null&&r!==void 0?r:[],a=nb(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function R5(t){if(t.includes(Gc))return Gc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=TN.exec(e))!==null&&n!==void 0?n:[],i=nb(r,4),a=i[1],s=i[2],o=i[3],l=Qy.parse(a??""),u=Qy.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Gc;e=e.replace(TN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=ON.exec(e))!==null&&d!==void 0?d:[],f=nb(h,4),m=f[1],p=f[2],v=f[3],y=Qy.parse(m??""),b=Qy.parse(v??""),x=p==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Gc;e=e.replace(ON,x.toString())}return e}var MN=/\(([^()]*)\)/;function Nfe(t){for(var e=t;e.includes("(");){var n=MN.exec(e),r=nb(n,2),i=r[1];e=e.replace(MN,R5(i))}return e}function Ife(t){var e=t.replace(/\s+/g,"");return e=Nfe(e),e=R5(e),e}function Rfe(t){try{return Ife(t)}catch{return Gc}}function $1(t){var e=Rfe(t.slice(5,-1));return e===Gc?"":e}var jfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lfe=["dx","dy","angle","className","breakAll"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}function NN(t,e){if(t==null)return{};var n=Dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IN(t,e){return zfe(t)||Bfe(t,e)||Ffe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(t,e){if(t){if(typeof t=="string")return RN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RN(t,e)}}function RN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function zfe(t){if(Array.isArray(t))return t}var j5=/[ \f\n\r\t\v\u2028\u2029]+/,L5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Xe(n)||(r?a=n.toString().split(""):a=n.toString().split(j5));var s=a.map(function(l){return{word:l,width:xp(l,i).width}}),o=r?0:xp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Ufe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,c=ke(s),d=o,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(X,U){var q=U.word,G=U.width,R=X[X.length-1];if(R&&(i==null||a||R.width+G+r<Number(i)))R.words.push(q),R.width+=G+r;else{var B={words:[q],width:G};X.push(B)}return X},[])},f=h(n),m=function($){return $.reduce(function(X,U){return X.width>U.width?X:U})};if(!c)return f;for(var p="",v=function($){var X=d.slice(0,$),U=L5({breakAll:u,style:l,children:X+p}).wordsWithComputedWidth,q=h(U),G=q.length>s||m(q).width>Number(i);return[G,q]},y=0,b=d.length-1,x=0,k;y<=b&&x<=d.length-1;){var S=Math.floor((y+b)/2),w=S-1,A=v(w),E=IN(A,2),C=E[0],O=E[1],I=v(S),T=IN(I,1),j=T[0];if(!C&&!j&&(y=S+1),C&&j&&(b=S-1),!C&&j){k=O;break}x++}return k||f},jN=function(e){var n=Xe(e)?[]:e.toString().split(j5);return[{words:n}]},Hfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!af.isSsr){var l,u,c=L5({breakAll:s,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return jN(i);return Ufe({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return jN(i)},LN="#808080",rb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,p=m===void 0?"end":m,v=e.fill,y=v===void 0?LN:v,b=NN(e,jfe),x=N.useMemo(function(){return Hfe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),k=b.dx,S=b.dy,w=b.angle,A=b.className,E=b.breakAll,C=NN(b,Lfe);if(!mn(r)||!mn(a))return null;var O=r+(ke(k)?k:0),I=a+(ke(S)?S:0),T;switch(p){case"start":T=$1("calc(".concat(u,")"));break;case"middle":T=$1("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:T=$1("calc(".concat(x.length-1," * -").concat(o,")"));break}var j=[];if(d){var P=x[0].width,$=b.width;j.push("scale(".concat((ke($)?$/P:1)/P,")"))}return w&&j.push("rotate(".concat(w,", ").concat(O,", ").concat(I,")")),j.length&&(C.transform=j.join(" ")),ne.createElement("text",oA({},Qe(C,!0),{x:O,y:I,className:qe("recharts-text",A),textAnchor:f,fill:y.includes("url")?LN:y}),x.map(function(X,U){var q=X.words.join(E?"":" ");return ne.createElement("tspan",{x:O,dy:U===0?T:o,key:"".concat(q,"-").concat(U)},q)}))};function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vP(t){let e,n,r;t.length!==2?(e=Jo,n=(o,l)=>Jo(t(o),l),r=(o,l)=>t(o)-l):(e=t===Jo||t===Wfe?t:Vfe,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Vfe(){return 0}function D5(t){return t===null?NaN:+t}function*Gfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qfe=vP(Jo),uy=qfe.right;vP(D5).center;class DN extends Map{constructor(e,n=Kfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($N(this,e))}has(e){return super.has($N(this,e))}set(e,n){return super.set(Xfe(this,e),n)}delete(e){return super.delete(Yfe(this,e))}}function $N({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Yfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zfe(t=Jo){if(t===Jo)return $5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qfe=Math.sqrt(50),Jfe=Math.sqrt(10),epe=Math.sqrt(2);function ib(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Qfe?10:a>=Jfe?5:a>=epe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?ib(t,e,n*2):[o,l,u]}function lA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?ib(e,t,n):ib(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function uA(t,e,n){return e=+e,t=+t,n=+n,ib(t,e,n)[2]}function cA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?uA(e,t,n):uA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function F5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$5:Zfe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(n,Math.floor(e-u*d/l+h)),m=Math.min(r,Math.floor(e+(l-u)*d/l+h));F5(t,e,f,m,i)}const a=t[e];let s=n,o=r;for(Tf(t,n,e),i(t[r],a)>0&&Tf(t,n,r);s<o;){for(Tf(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Tf(t,n,o):(++o,Tf(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Tf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tpe(t,e,n){if(t=Float64Array.from(Gfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return BN(t);if(e>=1)return FN(t);var r,i=(r-1)*e,a=Math.floor(i),s=FN(F5(t,a).subarray(0,a+1)),o=BN(t.subarray(a+1));return s+(o-s)*(i-a)}}function npe(t,e,n=D5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function rpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dA=Symbol("implicit");function bP(){var t=new DN,e=[],n=[],r=dA;function i(a){let s=t.get(a);if(s===void 0){if(r!==dA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new DN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bP(e,n).unknown(r)},Ni.apply(i,arguments),i}function nm(){var t=bP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,f=i<r,m=f?i:r,p=f?r:i;a=(p-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(p-m-a*(h-l))*c,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=rpe(h).map(function(y){return m+a*y});return n(f?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return nm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Ni.apply(d(),arguments)}function B5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B5(e())},t}function wp(){return B5(nm.apply(null,arguments).paddingInner(1))}function xP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function z5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cy(){}var rm=.7,ab=1/rm,cd="\\s*([+-]?\\d+)\\s*",im="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ipe=/^#([0-9a-f]{3,8})$/,ape=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),spe=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),ope=new RegExp(`^rgba\\(${cd},${cd},${cd},${im}\\)$`),lpe=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${im}\\)$`),upe=new RegExp(`^hsl\\(${im},${Ba},${Ba}\\)$`),cpe=new RegExp(`^hsla\\(${im},${Ba},${Ba},${im}\\)$`),zN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xP(cy,am,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UN,formatHex:UN,formatHex8:dpe,formatHsl:hpe,formatRgb:HN,toString:HN});function UN(){return this.rgb().formatHex()}function dpe(){return this.rgb().formatHex8()}function hpe(){return U5(this).formatHsl()}function HN(){return this.rgb().formatRgb()}function am(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ipe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WN(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ape.exec(t))?new _r(e[1],e[2],e[3],1):(e=spe.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ope.exec(t))?Jy(e[1],e[2],e[3],e[4]):(e=lpe.exec(t))?Jy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=upe.exec(t))?qN(e[1],e[2]/100,e[3]/100,1):(e=cpe.exec(t))?qN(e[1],e[2]/100,e[3]/100,e[4]):zN.hasOwnProperty(t)?WN(zN[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function WN(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function Jy(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function fpe(t){return t instanceof cy||(t=am(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function hA(t,e,n,r){return arguments.length===1?fpe(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xP(_r,hA,z5(cy,{brighter(t){return t=t==null?ab:Math.pow(ab,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(Fu(this.r),Fu(this.g),Fu(this.b),sb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VN,formatHex:VN,formatHex8:ppe,formatRgb:GN,toString:GN}));function VN(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}`}function ppe(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}${$l((isNaN(this.opacity)?1:this.opacity)*255)}`}function GN(){const t=sb(this.opacity);return`${t===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${t===1?")":`, ${t})`}`}function sb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $l(t){return t=Fu(t),(t<16?"0":"")+t.toString(16)}function qN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function U5(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof cy||(t=am(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ia(s,o,l,t.opacity)}function mpe(t,e,n,r){return arguments.length===1?U5(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xP(ia,mpe,z5(cy,{brighter(t){return t=t==null?ab:Math.pow(ab,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _r(F1(t>=240?t-240:t+120,i,r),F1(t,i,r),F1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(XN(this.h),ev(this.s),ev(this.l),sb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sb(this.opacity);return`${t===1?"hsl(":"hsla("}${XN(this.h)}, ${ev(this.s)*100}%, ${ev(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XN(t){return t=(t||0)%360,t<0?t+360:t}function ev(t){return Math.max(0,Math.min(1,t||0))}function F1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wP=t=>()=>t;function gpe(t,e){return function(n){return t+n*e}}function ype(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vpe(t){return(t=+t)==1?H5:function(e,n){return n-e?ype(e,n,t):wP(isNaN(e)?n:e)}}function H5(t,e){var n=e-t;return n?gpe(t,n):wP(isNaN(t)?e:t)}const YN=function t(e){var n=vpe(e);function r(i,a){var s=n((i=hA(i)).r,(a=hA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=H5(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function bpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function xpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wpe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=sf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Spe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ob(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B1=new RegExp(fA.source,"g");function _pe(t){return function(){return t}}function Ape(t){return function(e){return t(e)+""}}function Epe(t,e){var n=fA.lastIndex=B1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=fA.exec(t))&&(i=B1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ob(r,i)})),n=B1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Ape(l[0].x):_pe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function sf(t,e){var n=typeof e,r;return e==null||n==="boolean"?wP(e):(n==="number"?ob:n==="string"?(r=am(e))?(e=r,YN):Epe:e instanceof am?YN:e instanceof Date?Spe:xpe(e)?bpe:Array.isArray(e)?wpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kpe:ob)(t,e)}function SP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cpe(t,e){e===void 0&&(e=t,t=sf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Ppe(t){return function(){return t}}function lb(t){return+t}var KN=[0,1];function sr(t){return t}function pA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ppe(isNaN(e)?NaN:.5)}function Tpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ope(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=pA(i,r),a=n(s,a)):(r=pA(r,i),a=n(a,s)),function(o){return a(r(o))}}function Mpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=uy(t,o,1,r)-1;return a[l](i[l](o))}}function dy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ow(){var t=KN,e=KN,n=sf,r,i,a,s=sr,o,l,u;function c(){var h=Math.min(t.length,e.length);return s!==sr&&(s=Tpe(t[0],t[h-1])),o=h>2?Mpe:Ope,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=o(e,t.map(r),ob)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,lb),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=SP,c()},d.clamp=function(h){return arguments.length?(s=h?!0:sr,c()):s!==sr},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,f){return r=h,i=f,c()}}function kP(){return ow()(sr,sr)}function Npe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ub(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _h(t){return t=ub(Math.abs(t)),t?t[1]:NaN}function Ipe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Rpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(t){if(!(e=jpe.exec(t)))throw new Error("invalid format: "+t);var e;return new _P({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sm.prototype=_P.prototype;function _P(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_P.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cb;function Dpe(t,e){var n=ub(t,e);if(!n)return cb=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(cb=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ub(t,Math.max(0,e+a-1))[0]}function ZN(t,e){var n=ub(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Npe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZN(t*100,e),r:ZN,s:Dpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JN(t){return t}var eI=Array.prototype.map,tI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $pe(t){var e=t.grouping===void 0||t.thousands===void 0?JN:Ipe(eI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?JN:Rpe(eI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=sm(d);var f=d.fill,m=d.align,p=d.sign,v=d.symbol,y=d.zero,b=d.width,x=d.comma,k=d.precision,S=d.trim,w=d.type;w==="n"?(x=!0,w="g"):QN[w]||(k===void 0&&(k=12),S=!0,w="g"),(y||f==="0"&&m==="=")&&(y=!0,f="0",m="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),E=(v==="$"?r:/[%p]/.test(w)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),C=QN[w],O=/[defgprs%]/.test(w);k=k===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function I(T){var j=A,P=E,$,X,U;if(w==="c")P=C(T)+P,T="";else{T=+T;var q=T<0||1/T<0;if(T=isNaN(T)?l:C(Math.abs(T),k),S&&(T=Lpe(T)),q&&+T==0&&p!=="+"&&(q=!1),j=(q?p==="("?p:o:p==="-"||p==="("?"":p)+j,P=(w==="s"&&!isNaN(T)&&cb!==void 0?tI[8+cb/3]:"")+P+(q&&p==="("?")":""),O){for($=-1,X=T.length;++$<X;)if(U=T.charCodeAt($),48>U||U>57){P=(U===46?i+T.slice($+1):T.slice($))+P,T=T.slice(0,$);break}}}x&&!y&&(T=e(T,1/0));var G=j.length+T.length+P.length,R=G<b?new Array(b-G+1).join(f):"";switch(x&&y&&(T=e(R+T,R.length?b-P.length:1/0),R=""),m){case"<":T=j+T+P+R;break;case"=":T=j+R+T+P;break;case"^":T=R.slice(0,G=R.length>>1)+j+T+P+R.slice(G);break;default:T=R+j+T+P;break}return a(T)}return I.toString=function(){return d+""},I}function c(d,h){var f=Math.max(-8,Math.min(8,Math.floor(_h(h)/3)))*3,m=Math.pow(10,-f),p=u((d=sm(d),d.type="f",d),{suffix:tI[8+f/3]});return function(v){return p(m*v)}}return{format:u,formatPrefix:c}}var tv,AP,W5;Fpe({thousands:",",grouping:[3],currency:["$",""]});function Fpe(t){return tv=$pe(t),AP=tv.format,W5=tv.formatPrefix,tv}function Bpe(t){return Math.max(0,-_h(Math.abs(t)))}function zpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_h(e)/3)))*3-_h(Math.abs(t)))}function Upe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_h(e)-_h(t))+1}function V5(t,e,n,r){var i=cA(t,e,n),a;switch(r=sm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=zpe(i,s))&&(r.precision=a),W5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Upe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Bpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return AP(r)}function ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return lA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return V5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=uA(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function db(){var t=kP();return t.copy=function(){return dy(t,db())},Ni.apply(t,arguments),ml(t)}function G5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return G5(t).unknown(e)},t=arguments.length?Array.from(t,lb):[0,1],ml(n)}function q5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function nI(t){return Math.log(t)}function rI(t){return Math.exp(t)}function Hpe(t){return-Math.log(-t)}function Wpe(t){return-Math.exp(-t)}function Vpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gpe(t){return t===10?Vpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function iI(t){return(e,n)=>-t(-e,n)}function EP(t){const e=t(nI,rI),n=e.domain;let r=10,i,a;function s(){return i=qpe(r),a=Gpe(r),n()[0]<0?(i=iI(i),a=iI(a),t(Hpe,Wpe)):t(nI,rI),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),f=i(c),m,p;const v=o==null?10:+o;let y=[];if(!(r%1)&&f-h<v){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(m=1;m<r;++m)if(p=h<0?m/a(-h):m*a(h),!(p<u)){if(p>c)break;y.push(p)}}else for(;h<=f;++h)for(m=r-1;m>=1;--m)if(p=h>0?m/a(-h):m*a(h),!(p<u)){if(p>c)break;y.push(p)}y.length*2<v&&(y=lA(u,c,v))}else y=lA(h,f,Math.min(f-h,v)).map(a);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sm(l)).precision==null&&(l.trim=!0),l=AP(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(q5(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function X5(){const t=EP(ow()).domain([1,10]);return t.copy=()=>dy(t,X5()).base(t.base()),Ni.apply(t,arguments),t}function aI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CP(t){var e=1,n=t(aI(e),sI(e));return n.constant=function(r){return arguments.length?t(aI(e=+r),sI(e)):e},ml(n)}function Y5(){var t=CP(ow());return t.copy=function(){return dy(t,Y5()).constant(t.constant())},Ni.apply(t,arguments)}function oI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ype(t){return t<0?-t*t:t*t}function PP(t){var e=t(sr,sr),n=1;function r(){return n===1?t(sr,sr):n===.5?t(Xpe,Ype):t(oI(n),oI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ml(e)}function TP(){var t=PP(ow());return t.copy=function(){return dy(t,TP()).exponent(t.exponent())},Ni.apply(t,arguments),t}function Kpe(){return TP.apply(null,arguments).exponent(.5)}function lI(t){return Math.sign(t)*t*t}function Zpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function K5(){var t=kP(),e=[0,1],n=!1,r;function i(a){var s=Zpe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(lI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lb)).map(lI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ni.apply(i,arguments),ml(i)}function Z5(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=npe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[uy(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Jo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Z5().domain(t).range(e).unknown(r)},Ni.apply(a,arguments)}function Q5(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[uy(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Q5().domain([t,e]).range(i).unknown(a)},Ni.apply(ml(s),arguments)}function J5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[uy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return J5().domain(t).range(e).unknown(n)},Ni.apply(i,arguments)}const z1=new Date,U1=new Date;function yn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>yn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(z1.setTime(+a),U1.setTime(+s),t(z1),t(U1),Math.floor(n(z1,U1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const hb=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hb);hb.range;const Ts=1e3,Si=Ts*60,Os=Si*60,Hs=Os*24,OP=Hs*7,uI=Hs*30,H1=Hs*365,Fl=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCSeconds());Fl.range;const MP=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ts)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getMinutes());MP.range;const NP=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getUTCMinutes());NP.range;const IP=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ts-t.getMinutes()*Si)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());IP.range;const RP=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());RP.range;const hy=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/Hs,t=>t.getDate()-1);hy.range;const lw=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hs,t=>t.getUTCDate()-1);lw.range;const ez=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hs,t=>Math.floor(t/Hs));ez.range;function dc(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Si)/OP)}const uw=dc(0),fb=dc(1),Qpe=dc(2),Jpe=dc(3),Ah=dc(4),eme=dc(5),tme=dc(6);uw.range;fb.range;Qpe.range;Jpe.range;Ah.range;eme.range;tme.range;function hc(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/OP)}const cw=hc(0),pb=hc(1),nme=hc(2),rme=hc(3),Eh=hc(4),ime=hc(5),ame=hc(6);cw.range;pb.range;nme.range;rme.range;Eh.range;ime.range;ame.range;const jP=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jP.range;const LP=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LP.range;const Ws=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ws.range;const Vs=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function tz(t,e,n,r,i,a){const s=[[Fl,1,Ts],[Fl,5,5*Ts],[Fl,15,15*Ts],[Fl,30,30*Ts],[a,1,Si],[a,5,5*Si],[a,15,15*Si],[a,30,30*Si],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Hs],[r,2,2*Hs],[n,1,OP],[e,1,uI],[e,3,3*uI],[t,1,H1]];function o(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),m=f?f.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,d){const h=Math.abs(c-u)/d,f=vP(([,,v])=>v).right(s,h);if(f===s.length)return t.every(cA(u/H1,c/H1,d));if(f===0)return hb.every(Math.max(cA(u,c,d),1));const[m,p]=s[h/s[f-1][2]<s[f][2]/h?f-1:f];return m.every(p)}return[o,l]}const[sme,ome]=tz(Vs,LP,cw,ez,RP,NP),[lme,ume]=tz(Ws,jP,uw,hy,IP,MP);function W1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function V1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Of(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Mf(i),c=Nf(i),d=Mf(a),h=Nf(a),f=Mf(s),m=Nf(s),p=Mf(o),v=Nf(o),y=Mf(l),b=Nf(l),x={a:U,A:q,b:G,B:R,c:null,d:mI,e:mI,f:Ime,g:Hme,G:Vme,H:Ome,I:Mme,j:Nme,L:nz,m:Rme,M:jme,p:B,q:H,Q:vI,s:bI,S:Lme,u:Dme,U:$me,V:Fme,w:Bme,W:zme,x:null,X:null,y:Ume,Y:Wme,Z:Gme,"%":yI},k={a:L,A:ae,b:Z,B:de,c:null,d:gI,e:gI,f:Kme,g:sge,G:lge,H:qme,I:Xme,j:Yme,L:iz,m:Zme,M:Qme,p:Se,q:ge,Q:vI,s:bI,S:Jme,u:ege,U:tge,V:nge,w:rge,W:ige,x:null,X:null,y:age,Y:oge,Z:uge,"%":yI},S={a:O,A:I,b:T,B:j,c:P,d:fI,e:fI,f:Eme,g:hI,G:dI,H:pI,I:pI,j:Sme,L:Ame,m:wme,M:kme,p:C,q:xme,Q:Pme,s:Tme,S:_me,u:mme,U:gme,V:yme,w:pme,W:vme,x:$,X,y:hI,Y:dI,Z:bme,"%":Cme};x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),k.x=w(n,k),k.X=w(r,k),k.c=w(e,k);function w(ie,he){return function(fe){var te=[],ye=-1,M=0,ee=ie.length,K,V,W;for(fe instanceof Date||(fe=new Date(+fe));++ye<ee;)ie.charCodeAt(ye)===37&&(te.push(ie.slice(M,ye)),(V=cI[K=ie.charAt(++ye)])!=null?K=ie.charAt(++ye):V=K==="e"?" ":"0",(W=he[K])&&(K=W(fe,V)),te.push(K),M=ye+1);return te.push(ie.slice(M,ye)),te.join("")}}function A(ie,he){return function(fe){var te=Of(1900,void 0,1),ye=E(te,ie,fe+="",0),M,ee;if(ye!=fe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(he&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(M=V1(Of(te.y,0,1)),ee=M.getUTCDay(),M=ee>4||ee===0?pb.ceil(M):pb(M),M=lw.offset(M,(te.V-1)*7),te.y=M.getUTCFullYear(),te.m=M.getUTCMonth(),te.d=M.getUTCDate()+(te.w+6)%7):(M=W1(Of(te.y,0,1)),ee=M.getDay(),M=ee>4||ee===0?fb.ceil(M):fb(M),M=hy.offset(M,(te.V-1)*7),te.y=M.getFullYear(),te.m=M.getMonth(),te.d=M.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ee="Z"in te?V1(Of(te.y,0,1)).getUTCDay():W1(Of(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ee+5)%7:te.w+te.U*7-(ee+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,V1(te)):W1(te)}}function E(ie,he,fe,te){for(var ye=0,M=he.length,ee=fe.length,K,V;ye<M;){if(te>=ee)return-1;if(K=he.charCodeAt(ye++),K===37){if(K=he.charAt(ye++),V=S[K in cI?he.charAt(ye++):K],!V||(te=V(ie,fe,te))<0)return-1}else if(K!=fe.charCodeAt(te++))return-1}return te}function C(ie,he,fe){var te=u.exec(he.slice(fe));return te?(ie.p=c.get(te[0].toLowerCase()),fe+te[0].length):-1}function O(ie,he,fe){var te=f.exec(he.slice(fe));return te?(ie.w=m.get(te[0].toLowerCase()),fe+te[0].length):-1}function I(ie,he,fe){var te=d.exec(he.slice(fe));return te?(ie.w=h.get(te[0].toLowerCase()),fe+te[0].length):-1}function T(ie,he,fe){var te=y.exec(he.slice(fe));return te?(ie.m=b.get(te[0].toLowerCase()),fe+te[0].length):-1}function j(ie,he,fe){var te=p.exec(he.slice(fe));return te?(ie.m=v.get(te[0].toLowerCase()),fe+te[0].length):-1}function P(ie,he,fe){return E(ie,e,he,fe)}function $(ie,he,fe){return E(ie,n,he,fe)}function X(ie,he,fe){return E(ie,r,he,fe)}function U(ie){return s[ie.getDay()]}function q(ie){return a[ie.getDay()]}function G(ie){return l[ie.getMonth()]}function R(ie){return o[ie.getMonth()]}function B(ie){return i[+(ie.getHours()>=12)]}function H(ie){return 1+~~(ie.getMonth()/3)}function L(ie){return s[ie.getUTCDay()]}function ae(ie){return a[ie.getUTCDay()]}function Z(ie){return l[ie.getUTCMonth()]}function de(ie){return o[ie.getUTCMonth()]}function Se(ie){return i[+(ie.getUTCHours()>=12)]}function ge(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=w(ie+="",x);return he.toString=function(){return ie},he},parse:function(ie){var he=A(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=w(ie+="",k);return he.toString=function(){return ie},he},utcParse:function(ie){var he=A(ie+="",!0);return he.toString=function(){return ie},he}}}var cI={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,dme=/^%/,hme=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function fme(t){return t.replace(hme,"\\$&")}function Mf(t){return new RegExp("^(?:"+t.map(fme).join("|")+")","i")}function Nf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function pme(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mme(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gme(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yme(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vme(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dI(t,e,n){var r=Cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hI(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xme(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wme(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fI(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Sme(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pI(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _me(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ame(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Eme(t,e,n){var r=Cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cme(t,e,n){var r=dme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pme(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tme(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mI(t,e){return tt(t.getDate(),e,2)}function Ome(t,e){return tt(t.getHours(),e,2)}function Mme(t,e){return tt(t.getHours()%12||12,e,2)}function Nme(t,e){return tt(1+hy.count(Ws(t),t),e,3)}function nz(t,e){return tt(t.getMilliseconds(),e,3)}function Ime(t,e){return nz(t,e)+"000"}function Rme(t,e){return tt(t.getMonth()+1,e,2)}function jme(t,e){return tt(t.getMinutes(),e,2)}function Lme(t,e){return tt(t.getSeconds(),e,2)}function Dme(t){var e=t.getDay();return e===0?7:e}function $me(t,e){return tt(uw.count(Ws(t)-1,t),e,2)}function rz(t){var e=t.getDay();return e>=4||e===0?Ah(t):Ah.ceil(t)}function Fme(t,e){return t=rz(t),tt(Ah.count(Ws(t),t)+(Ws(t).getDay()===4),e,2)}function Bme(t){return t.getDay()}function zme(t,e){return tt(fb.count(Ws(t)-1,t),e,2)}function Ume(t,e){return tt(t.getFullYear()%100,e,2)}function Hme(t,e){return t=rz(t),tt(t.getFullYear()%100,e,2)}function Wme(t,e){return tt(t.getFullYear()%1e4,e,4)}function Vme(t,e){var n=t.getDay();return t=n>=4||n===0?Ah(t):Ah.ceil(t),tt(t.getFullYear()%1e4,e,4)}function Gme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function gI(t,e){return tt(t.getUTCDate(),e,2)}function qme(t,e){return tt(t.getUTCHours(),e,2)}function Xme(t,e){return tt(t.getUTCHours()%12||12,e,2)}function Yme(t,e){return tt(1+lw.count(Vs(t),t),e,3)}function iz(t,e){return tt(t.getUTCMilliseconds(),e,3)}function Kme(t,e){return iz(t,e)+"000"}function Zme(t,e){return tt(t.getUTCMonth()+1,e,2)}function Qme(t,e){return tt(t.getUTCMinutes(),e,2)}function Jme(t,e){return tt(t.getUTCSeconds(),e,2)}function ege(t){var e=t.getUTCDay();return e===0?7:e}function tge(t,e){return tt(cw.count(Vs(t)-1,t),e,2)}function az(t){var e=t.getUTCDay();return e>=4||e===0?Eh(t):Eh.ceil(t)}function nge(t,e){return t=az(t),tt(Eh.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function rge(t){return t.getUTCDay()}function ige(t,e){return tt(pb.count(Vs(t)-1,t),e,2)}function age(t,e){return tt(t.getUTCFullYear()%100,e,2)}function sge(t,e){return t=az(t),tt(t.getUTCFullYear()%100,e,2)}function oge(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function lge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Eh(t):Eh.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function uge(){return"+0000"}function yI(){return"%"}function vI(t){return+t}function bI(t){return Math.floor(+t/1e3)}var wc,sz,oz;cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cge(t){return wc=cme(t),sz=wc.format,wc.parse,oz=wc.utcFormat,wc.utcParse,wc}function dge(t){return new Date(t)}function hge(t){return t instanceof Date?+t:+new Date(+t)}function DP(t,e,n,r,i,a,s,o,l,u){var c=kP(),d=c.invert,h=c.domain,f=u(".%L"),m=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),x=u("%B"),k=u("%Y");function S(w){return(l(w)<w?f:o(w)<w?m:s(w)<w?p:a(w)<w?v:r(w)<w?i(w)<w?y:b:n(w)<w?x:k)(w)}return c.invert=function(w){return new Date(d(w))},c.domain=function(w){return arguments.length?h(Array.from(w,hge)):h().map(dge)},c.ticks=function(w){var A=h();return t(A[0],A[A.length-1],w??10)},c.tickFormat=function(w,A){return A==null?S:u(A)},c.nice=function(w){var A=h();return(!w||typeof w.range!="function")&&(w=e(A[0],A[A.length-1],w??10)),w?h(q5(A,w)):c},c.copy=function(){return dy(c,DP(t,e,n,r,i,a,s,o,l,u))},c}function fge(){return Ni.apply(DP(lme,ume,Ws,jP,uw,hy,IP,MP,Fl,sz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pge(){return Ni.apply(DP(sme,ome,Vs,LP,cw,lw,RP,NP,Fl,oz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dw(){var t=0,e=1,n,r,i,a,s=sr,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var f,m;return arguments.length?([f,m]=h,s=d(f,m),u):[s(0),s(1)]}}return u.range=c(sf),u.rangeRound=c(SP),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lz(){var t=ml(dw()(sr));return t.copy=function(){return gl(t,lz())},Qs.apply(t,arguments)}function uz(){var t=EP(dw()).domain([1,10]);return t.copy=function(){return gl(t,uz()).base(t.base())},Qs.apply(t,arguments)}function cz(){var t=CP(dw());return t.copy=function(){return gl(t,cz()).constant(t.constant())},Qs.apply(t,arguments)}function $P(){var t=PP(dw());return t.copy=function(){return gl(t,$P()).exponent(t.exponent())},Qs.apply(t,arguments)}function mge(){return $P.apply(null,arguments).exponent(.5)}function dz(){var t=[],e=sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((uy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>tpe(t,a/r))},n.copy=function(){return dz(e).domain(t)},Qs.apply(n,arguments)}function hw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=sr,c,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+c(p))-a)*(r*p<r*a?o:l),u(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,n]=p,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f):[t,e,n]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(u=p,f):u};function m(p){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,u=Cpe(p,[y,b,x]),f):[u(0),u(.5),u(1)]}}return f.range=m(sf),f.rangeRound=m(SP),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return c=p,i=p(t),a=p(e),s=p(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f}}function hz(){var t=ml(hw()(sr));return t.copy=function(){return gl(t,hz())},Qs.apply(t,arguments)}function fz(){var t=EP(hw()).domain([.1,1,10]);return t.copy=function(){return gl(t,fz()).base(t.base())},Qs.apply(t,arguments)}function pz(){var t=CP(hw());return t.copy=function(){return gl(t,pz()).constant(t.constant())},Qs.apply(t,arguments)}function FP(){var t=PP(hw());return t.copy=function(){return gl(t,FP()).exponent(t.exponent())},Qs.apply(t,arguments)}function gge(){return FP.apply(null,arguments).exponent(.5)}const xI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nm,scaleDiverging:hz,scaleDivergingLog:fz,scaleDivergingPow:FP,scaleDivergingSqrt:gge,scaleDivergingSymlog:pz,scaleIdentity:G5,scaleImplicit:dA,scaleLinear:db,scaleLog:X5,scaleOrdinal:bP,scalePoint:wp,scalePow:TP,scaleQuantile:Z5,scaleQuantize:Q5,scaleRadial:K5,scaleSequential:lz,scaleSequentialLog:uz,scaleSequentialPow:$P,scaleSequentialQuantile:dz,scaleSequentialSqrt:mge,scaleSequentialSymlog:cz,scaleSqrt:Kpe,scaleSymlog:Y5,scaleThreshold:J5,scaleTime:fge,scaleUtc:pge,tickFormat:V5},Symbol.toStringTag,{value:"Module"}));var yge=Kh;function vge(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!yge(s):n(s,o)))var o=s,l=a}return l}var mz=vge;function bge(t,e){return t>e}var xge=bge,wge=mz,Sge=xge,kge=rf;function _ge(t){return t&&t.length?wge(t,kge,Sge):void 0}var Age=_ge;const fw=nt(Age);function Ege(t,e){return t<e}var Cge=Ege,Pge=mz,Tge=Cge,Oge=rf;function Mge(t){return t&&t.length?Pge(t,Oge,Tge):void 0}var Nge=Mge;const pw=nt(Nge);var Ige=JC,Rge=pl,jge=_5,Lge=Nr;function Dge(t,e){var n=Lge(t)?Ige:jge;return n(t,Rge(e))}var $ge=Dge,Fge=S5,Bge=$ge;function zge(t,e){return Fge(Bge(t,e),1)}var Uge=zge;const Hge=nt(Uge);var Wge=pP;function Vge(t,e){return Wge(t,e)}var Gge=Vge;const mw=nt(Gge);var of=1e9,qge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zP,Mt=!0,Oi="[DecimalError] ",Bu=Oi+"Invalid argument: ",BP=Oi+"Exponent out of range: ",lf=Math.floor,Ol=Math.pow,Xge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,_n=1e7,At=7,gz=9007199254740991,mb=lf(gz/At),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Ls(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return yt(Ls(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return nn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kr))throw Error(Oi+"NaN");if(n.s<1)throw Error(Oi+(n.s?"NaN":"-Infinity"));return n.eq(Kr)?new r(0):(Mt=!1,e=Ls(om(n,a),om(t,a),a),Mt=!0,yt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bz(e,t):yz(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oi+"NaN");return n.s?(Mt=!1,e=Ls(n,t,0,1).times(t),Mt=!0,n.minus(e)):yt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return vz(this)};Pe.naturalLogarithm=Pe.ln=function(){return om(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yz(e,t):bz(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bu+t);if(e=nn(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Oi+"NaN")}for(t=nn(o),Mt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Da(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=lf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ls(o,a,s+2)).times(.5),Da(a.d).slice(0,s)===(e=Da(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(yt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Mt=!0,yt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,d=c.constructor,h=c.d,f=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=f.length,l<u&&(a=h,h=f,f=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+f[r]*h[i-r-1]+e,a[i--]=o%_n|0,e=o/_n|0;a[i]=(a[i]+e)%_n|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Mt?yt(t,d.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ha(t,0,of),e===void 0?e=r.rounding:Ha(e,0,8),yt(n,t+nn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ju(r,!0):(Ha(t,0,of),e===void 0?e=i.rounding:Ha(e,0,8),r=yt(new i(r),t+1,e),n=Ju(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ju(i):(Ha(t,0,of),e===void 0?e=a.rounding:Ha(e,0,8),r=yt(new a(i),t+nn(i)+1,e),n=Ju(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return yt(new e(t),nn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Kr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Oi+"Infinity");return o}if(o.eq(Kr))return o;if(r=l.precision,t.eq(Kr))return yt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=gz){for(i=new l(Kr),e=Math.ceil(r/At+4),Mt=!1;n%2&&(i=i.times(o),SI(i.d,e)),n=lf(n/2),n!==0;)o=o.times(o),SI(o.d,e);return Mt=!0,t.s<0?new l(Kr).div(i):yt(i,r)}}else if(a<0)throw Error(Oi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Mt=!1,i=t.times(om(o,r+u)),Mt=!0,i=vz(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=nn(i),r=Ju(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ha(t,1,of),e===void 0?e=a.rounding:Ha(e,0,8),i=yt(new a(i),t,e),n=nn(i),r=Ju(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ha(t,1,of),e===void 0?e=r.rounding:Ha(e,0,8)),yt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return Ju(t,e<=n.toExpNeg||e>=n.toExpPos)};function yz(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Mt?yt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(d/At),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/_n|0,l[a]%=_n;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Mt?yt(e,d):e}function Ha(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bu+t)}function Da(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=At-r.length,n&&(a+=so(n)),a+=r;s=t[e],r=s+"",n=At-r.length,n&&(a+=so(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ls=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%_n|0,s=a/_n|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*_n+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,d,h,f,m,p,v,y,b,x,k,S,w,A,E,C=r.constructor,O=r.s==i.s?1:-1,I=r.d,T=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Oi+"Division by zero");for(l=r.e-i.e,A=T.length,S=I.length,f=new C(O),m=f.d=[],u=0;T[u]==(I[u]||0);)++u;if(T[u]>(I[u]||0)&&--l,a==null?b=a=C.precision:s?b=a+(nn(r)-nn(i))+1:b=a,b<0)return new C(0);if(b=b/At+2|0,u=0,A==1)for(c=0,T=T[0],b++;(u<S||c)&&b--;u++)x=c*_n+(I[u]||0),m[u]=x/T|0,c=x%T|0;else{for(c=_n/(T[0]+1)|0,c>1&&(T=t(T,c),I=t(I,c),A=T.length,S=I.length),k=A,p=I.slice(0,A),v=p.length;v<A;)p[v++]=0;E=T.slice(),E.unshift(0),w=T[0],T[1]>=_n/2&&++w;do c=0,o=e(T,p,A,v),o<0?(y=p[0],A!=v&&(y=y*_n+(p[1]||0)),c=y/w|0,c>1?(c>=_n&&(c=_n-1),d=t(T,c),h=d.length,v=p.length,o=e(d,p,h,v),o==1&&(c--,n(d,A<h?E:T,h))):(c==0&&(o=c=1),d=T.slice()),h=d.length,h<v&&d.unshift(0),n(p,d,v),o==-1&&(v=p.length,o=e(T,p,A,v),o<1&&(c++,n(p,A<v?E:T,v))),v=p.length):o===0&&(c++,p=[0]),m[u++]=c,o&&p[0]?p[v++]=I[k]||0:(p=[I[k]],v=1);while((k++<S||p[0]!==void 0)&&b--)}return m[0]||m.shift(),f.e=l,yt(f,s?a+nn(f)+1:a)}}();function vz(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,d=c.precision;if(nn(t)>16)throw Error(BP+nn(t));if(!t.s)return new c(Kr);for(Mt=!1,o=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Ol(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Kr),c.precision=o;;){if(i=yt(i.times(t),o),n=n.times(++l),s=a.plus(Ls(i,n,o)),Da(s.d).slice(0,o)===Da(a.d).slice(0,o)){for(;u--;)a=yt(a.times(a),o);return c.precision=d,e==null?(Mt=!0,yt(a,d)):a}a=s}}function nn(t){for(var e=t.e*At,n=t.d[0];n>=10;n/=10)e++;return e}function G1(t,e,n){if(e>t.LN10.sd())throw Mt=!0,n&&(t.precision=n),Error(Oi+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function so(t){for(var e="";t--;)e+="0";return e}function om(t,e){var n,r,i,a,s,o,l,u,c,d=1,h=10,f=t,m=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(Oi+(f.s?"NaN":"-Infinity"));if(f.eq(Kr))return new p(0);if(e==null?(Mt=!1,u=v):u=e,f.eq(10))return e==null&&(Mt=!0),G1(p,u);if(u+=h,p.precision=u,n=Da(m),r=n.charAt(0),a=nn(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(t),n=Da(f.d),r=n.charAt(0),d++;a=nn(f),r>1?(f=new p("0."+n),a++):f=new p(r+"."+n.slice(1))}else return l=G1(p,u+2,v).times(a+""),f=om(new p(r+"."+n.slice(1)),u-h).plus(l),p.precision=v,e==null?(Mt=!0,yt(f,v)):f;for(o=s=f=Ls(f.minus(Kr),f.plus(Kr),u),c=yt(f.times(f),u),i=3;;){if(s=yt(s.times(c),u),l=o.plus(Ls(s,new p(i),u)),Da(l.d).slice(0,u)===Da(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(G1(p,u+2,v).times(a+""))),o=Ls(o,new p(d),u),p.precision=v,e==null?(Mt=!0,yt(o,v)):o;o=l,i+=2}}function wI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=lf(n/At),t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mt&&(t.e>mb||t.e<-mb))throw Error(BP+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,a,s,o,l,u,c,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=At,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/At),a=d.length,c>=a)return t;for(u=a=d[c],s=1;a>=10;a/=10)s++;r%=At,i=r-At+s}if(n!==void 0&&(a=Ol(10,s-i-1),o=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Ol(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=nn(t),d.length=1,e=e-a-1,d[0]=Ol(10,(At-e%At)%At),t.e=lf(-e/At)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ol(10,At-r),d[c]=i>0?(u/Ol(10,s-i)%Ol(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==_n&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=_n)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Mt&&(t.e>mb||t.e<-mb))throw Error(BP+nn(t));return t}function bz(t,e){var n,r,i,a,s,o,l,u,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Mt?yt(e,f):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(f/At),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=_n-1;--l[a],l[i]+=_n}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Mt?yt(e,f):e):new h(0)}function Ju(t,e,n){var r,i=nn(t),a=Da(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+so(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+so(-i-1)+a,n&&(r=n-s)>0&&(a+=so(r))):i>=s?(a+=so(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+so(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=so(r))),t.s<0?"-"+a:a}function SI(t,e){if(t.length>e)return t.length=e,!0}function xz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return wI(s,a.toString())}else if(typeof a!="string")throw Error(Bu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Xge.test(a))wI(s,a);else throw Error(Bu+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xz,i.config=i.set=Yge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yge(t){if(!t||typeof t!="object")throw Error(Oi+"Object expected");var e,n,r,i=["precision",1,of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(lf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bu+n+": "+r);return this}var zP=xz(qge);Kr=new zP(1);const ft=zP;function Kge(t){return eye(t)||Jge(t)||Qge(t)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qge(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function Jge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eye(t){if(Array.isArray(t))return mA(t)}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tye=function(e){return e},wz={},Sz=function(e){return e===wz},kI=function(e){return function n(){return arguments.length===0||arguments.length===1&&Sz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nye=function t(e,n){return e===1?n:kI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==wz}).length;return s>=e?n.apply(void 0,i):t(e-s,kI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(d){return Sz(d)?l.shift():d});return n.apply(void 0,Kge(c).concat(l))}))})},gw=function(e){return nye(e.length,e)},gA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rye=gw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),iye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tye;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},yA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},kz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function aye(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function sye(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var oye=gw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lye=gw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),uye=gw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const yw={rangeStep:sye,getDigitCount:aye,interpolateNumber:oye,uninterpolateNumber:lye,uninterpolateTruncation:uye};function vA(t){return hye(t)||dye(t)||_z(t)||cye()}function cye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hye(t){if(Array.isArray(t))return bA(t)}function lm(t,e){return mye(t)||pye(t,e)||_z(t,e)||fye()}function fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(t,e){if(t){if(typeof t=="string")return bA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(t,e)}}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function mye(t){if(Array.isArray(t))return t}function Az(t){var e=lm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Ez(t,e,n){if(t.lte(0))return new ft(0);var r=yw.getDigitCount(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new ft(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new ft(Math.ceil(l))}function gye(t,e,n){var r=1,i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(yw.getDigitCount(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),o=iye(rye(function(l){return i.add(new ft(l-s).mul(r)).toNumber()}),gA);return o(0,e)}function Cz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=Ez(new ft(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ft(0):(s=new ft(t).add(e).div(2),s=s.sub(new ft(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new ft(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?Cz(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new ft(o).mul(a)),tickMax:s.add(new ft(l).mul(a))})}function yye(t){var e=lm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Az([n,r]),l=lm(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(vA(gA(0,i-1).map(function(){return 1/0}))):[].concat(vA(gA(0,i-1).map(function(){return-1/0})),[c]);return n>r?yA(d):d}if(u===c)return gye(u,i,a);var h=Cz(u,c,s,a),f=h.step,m=h.tickMin,p=h.tickMax,v=yw.rangeStep(m,p.add(new ft(.1).mul(f)),f);return n>r?yA(v):v}function vye(t,e){var n=lm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Az([r,i]),o=lm(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=Ez(new ft(u).sub(l).div(c-1),a,0),h=[].concat(vA(yw.rangeStep(new ft(l),new ft(u).sub(new ft(.99).mul(d)),d)),[u]);return r>i?yA(h):h}var bye=kz(yye),xye=kz(vye),wye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function Sye(t,e){return Eye(t)||Aye(t,e)||_ye(t,e)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(t,e){if(t){if(typeof t=="string")return _I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Eye(t){if(Array.isArray(t))return t}function Cye(t,e){if(t==null)return{};var n=Pye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oz(r.key),r)}}function Mye(t,e,n){return e&&Oye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nye(t,e,n){return e=yb(e),Iye(t,Pz()?Reflect.construct(e,n||[],yb(t).constructor):e.apply(t,n))}function Iye(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(t)}function Rye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yb(t)}function jye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xA(t,e)}function Tz(t,e,n){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oz(t){var e=Lye(t,"string");return Ch(e)=="symbol"?e:e+""}function Lye(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fy=function(t){function e(){return Tye(this,e),Nye(this,e,arguments)}return jye(e,t),Mye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Cye(r,wye),f=Qe(h,!1);this.props.direction==="x"&&c.type!=="number"&&Je(!1);var m=l.map(function(p){var v=u(p,o),y=v.x,b=v.y,x=v.value,k=v.errorVal;if(!k)return null;var S=[],w,A;if(Array.isArray(k)){var E=Sye(k,2);w=E[0],A=E[1]}else w=A=k;if(a==="vertical"){var C=c.scale,O=b+i,I=O+s,T=O-s,j=C(x-w),P=C(x+A);S.push({x1:P,y1:I,x2:P,y2:T}),S.push({x1:j,y1:O,x2:P,y2:O}),S.push({x1:j,y1:I,x2:j,y2:T})}else if(a==="horizontal"){var $=d.scale,X=y+i,U=X-s,q=X+s,G=$(x-w),R=$(x+A);S.push({x1:U,y1:R,x2:q,y2:R}),S.push({x1:X,y1:G,x2:X,y2:R}),S.push({x1:U,y1:G,x2:q,y2:G})}return ne.createElement(qt,gb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},f),S.map(function(B){return ne.createElement("line",gb({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return ne.createElement(qt,{className:"recharts-errorBars"},m)}}])}(ne.Component);Tz(fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Tz(fy,"displayName","ErrorBar");function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dye(t,e,n){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ye(t){var e=Fye(t,"string");return um(e)=="symbol"?e:e+""}function Fye(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Xr(n,ud);if(!s)return null;var o=ud.defaultProps,l=o!==void 0?xl(xl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return c.concat(m.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,f=h!==void 0?xl(xl({},h),d.props):{},m=f.dataKey,p=f.name,v=f.legendType,y=f.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:UP(d),value:p||m,payload:f}}),xl(xl(xl({},l),ud.getWithHeight(s,i)),{},{payload:u,item:s})};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function EI(t){return Hye(t)||Uye(t)||zye(t)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zye(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function Uye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hye(t){if(Array.isArray(t))return wA(t)}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dd(t,e,n){return e=Wye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wye(t){var e=Vye(t,"string");return cm(e)=="symbol"?e:e+""}function Vye(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ri(t,e,n){return Xe(t)||Xe(e)?n:mn(e)?_i(t,e,n):Ue(e)?e(t):n}function Sp(t,e,n,r){var i=Hge(t,function(o){return ri(o,e)});if(n==="number"){var a=i.filter(function(o){return ke(o)||parseFloat(o)});return a.length?[pw(a),fw(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Xe(o)}):i;return s.map(function(o){return mn(o)||o instanceof Date?o:""})}var Gye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,d=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(aa(d-c)!==aa(h-d)){var m=[];if(aa(h-d)===aa(l[1]-l[0])){f=h;var p=d+l[1]-l[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{f=c;var v=h+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var b=Math.min(c,h),x=Math.max(c,h);if(e>(b+d)/2&&e<=(x+d)/2){s=i[u].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){s=r[k].index;break}return s},UP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},qye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,d=Object.keys(c),h=0,f=d.length;h<f;h++){var m=c[d[h]],p=m.items,v=m.cateAxisId,y=p.filter(function(A){return Rs(A.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Ht(Ht({},b),y[0].props):y[0].props,k=x.barSize,S=x[v];s[S]||(s[S]=[]);var w=Xe(k)?n:k;s[S].push({item:y[0],stackList:y.slice(1),barSize:Xe(w)?void 0:Qu(w,r,0)})}}return s},Xye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=Qu(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,f=i/l,m=s.reduce(function(k,S){return k+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&f>0&&(h=!0,f*=.9,m=l*f);var p=(i-m)/2>>0,v={offset:p-u,size:0};c=s.reduce(function(k,S){var w={item:S.item,position:{offset:v.offset+v.size+u,size:h?f:S.barSize}},A=[].concat(EI(k),[w]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:v})}),A},d)}else{var y=Qu(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var b=(i-2*y-(l-1)*u)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;c=s.reduce(function(k,S,w){var A=[].concat(EI(k),[{item:S.item,position:{offset:y+(b+u)*w+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},d)}return c},Yye=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=Mz({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,f=u.align,m=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&f!=="center"&&ke(e[f]))return Ht(Ht({},e),{},dd({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&m!=="middle"&&ke(e[m]))return Ht(Ht({},e),{},dd({},m,e[m]+(h||0)))}return e},Kye=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Nz=function(e,n,r,i,a){var s=n.props.children,o=Ai(s,fy).filter(function(u){return Kye(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=ri(c,r);if(Xe(d))return u;var h=Array.isArray(d)?[pw(d),fw(d)]:[d,d],f=l.reduce(function(m,p){var v=ri(c,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},Zye=function(e,n,r,i,a){var s=n.map(function(o){return Nz(e,o,r,a,i)}).filter(function(o){return!Xe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Iz=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Nz(e,l,u,i)||Sp(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},Rz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jz=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ms=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?aa(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!sy(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},q1=new WeakMap,nv=function(e,n){if(typeof n!="function")return e;q1.has(e)||q1.set(e,new WeakMap);var r=q1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Qye=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:nm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:db(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wp(),realScaleType:"point"}:a==="category"?{scale:nm(),realScaleType:"band"}:{scale:db(),realScaleType:"linear"};if(Zu(i)){var l="scale".concat(ew(i));return{scale:(xI[l]||wp)(),realScaleType:xI[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:wp(),realScaleType:"point"}},PI=1e-4,Jye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-PI,s=Math.max(i[0],i[1])+PI,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},eve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tve=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(a[0]=r),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},nve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=sy(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},rve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=sy(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},ive={sign:nve,expand:bie,none:bh,silhouette:xie,wiggle:wie,positive:rve},ave=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=ive[r],s=vie().keys(i).value(function(o,l){return+ri(o,l,0)}).order(G_).offset(a);return s(e)},sve=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Ht(Ht({},h.type.defaultProps),h.props):h.props,p=m.stackId,v=m.hide;if(v)return d;var y=m[r],b=d[y]||{hasStack:!1,stackGroups:{}};if(mn(p)){var x=b.stackGroups[p]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[p]=x}else b.stackGroups[oy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ht(Ht({},d),{},dd({},y,b))},l),c={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,v){var y=f.stackGroups[v];return Ht(Ht({},p),{},dd({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:ave(e,y.items,a)}))},m)}return Ht(Ht({},d),{},dd({},h,f))},c)},ove=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=bye(u,a,o);return e.domain([pw(c),fw(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),h=xye(d,a,o);return{niceTicks:h}}return null};function TI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var o=z0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ri(i,Xe(s)?e.dataKey:s);return Xe(l)?null:e.scale(l)}var OI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=ri(s,n.dataKey,n.domain[o]);return Xe(l)?null:n.scale(l)-a/2+i},lve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},uve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},cve=function(e){return e.reduce(function(n,r){return[pw(r.concat([n[0]]).filter(ke)),fw(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},Lz=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,c){var d=cve(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SA=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MI.test(e[0])){var a=+MI.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(NI.test(e[1])){var s=+NI.exec(e[1])[1];i[1]=n[1]+s}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},vb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=gP(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},II=function(e,n,r){return!e||!e.length||mw(e,_i(r,"type.defaultProps.domain"))?n:e},Dz=function(e,n){var r=e.type.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ht(Ht({},Qe(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:UP(e),value:ri(n,i),type:l,payload:n,chartType:u,hide:c})};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){dve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dve(t,e,n){return e=hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hve(t){var e=fve(t,"string");return dm(e)=="symbol"?e:e+""}function fve(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bb=Math.PI/180,pve=function(e){return e*180/Math.PI},Rn=function(e,n,r,i){return{x:e+Math.cos(-bb*i)*r,y:n+Math.sin(-bb*i)*r}},mve=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},gve=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=mve({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:pve(u),angleInRadian:u}},yve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},vve=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},LI=function(e,n){var r=e.x,i=e.y,a=gve({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=yve(n),d=c.startAngle,h=c.endAngle,f=o,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?jI(jI({},n),{},{radius:s,angle:vve(f,n)}):null};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var bve=["offset"];function xve(t){return _ve(t)||kve(t)||Sve(t)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sve(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function kve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ve(t){if(Array.isArray(t))return kA(t)}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ave(t,e){if(t==null)return{};var n=Eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){Cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cve(t,e,n){return e=Pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=Tve(t,"string");return hm(e)=="symbol"?e:e+""}function Tve(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}var Ove=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return Ue(r)?r(i):i},Mve=function(e,n){var r=aa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Nve=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,m=l.endAngle,p=l.clockWise,v=(d+h)/2,y=Mve(f,m),b=y>=0?1:-1,x,k;i==="insideStart"?(x=f+b*s,k=p):i==="insideEnd"?(x=m-b*s,k=!p):i==="end"&&(x=m+b*s,k=p),k=y<=0?k:!k;var S=Rn(u,c,v,x),w=Rn(u,c,v,x+(k?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(w.x,",").concat(w.y),E=Xe(e.id)?oy("recharts-radial-line-"):e.id;return ne.createElement("text",fm({},r,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),ne.createElement("defs",null,ne.createElement("path",{id:E,d:A})),ne.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Ive=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,h=(c+d)/2;if(i==="outside"){var f=Rn(s,o,u+r,h),m=f.x,p=f.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=Rn(s,o,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,f=d>0?"end":"start",m=d>0?"start":"end",p=u>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var x={x:o+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return on(on({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var k={x:o+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return on(on({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:o-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return on(on({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(a==="right"){var w={x:o+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return on(on({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return a==="insideLeft"?on({x:o+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideRight"?on({x:o+u-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?on({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?on({x:o+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:f},A):a==="insideTopLeft"?on({x:o+v,y:l+h,textAnchor:b,verticalAnchor:m},A):a==="insideTopRight"?on({x:o+u-v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideBottomLeft"?on({x:o+v,y:l+c-h,textAnchor:b,verticalAnchor:f},A):a==="insideBottomRight"?on({x:o+u-v,y:l+c-h,textAnchor:y,verticalAnchor:f},A):Zh(a)&&(ke(a.x)||Dl(a.x))&&(ke(a.y)||Dl(a.y))?on({x:o+Qu(a.x,u),y:l+Qu(a.y,c),textAnchor:"end",verticalAnchor:"end"},A):on({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},jve=function(e){return"cx"in e&&ke(e.cx)};function Yn(t){var e=t.offset,n=e===void 0?5:e,r=Ave(t,bve),i=on({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!a||Xe(o)&&Xe(l)&&!N.isValidElement(u)&&!Ue(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var f;if(Ue(u)){if(f=N.createElement(u,i),N.isValidElement(f))return f}else f=Ove(i);var m=jve(a),p=Qe(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Nve(i,f,p);var v=m?Ive(i):Rve(i);return ne.createElement(rb,fm({className:qe("recharts-label",d)},p,v,{breakAll:h}),f)}Yn.displayName="Label";var $z=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,p=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(ke(p)&&ke(v)){if(ke(d)&&ke(h))return{x:d,y:h,width:p,height:v};if(ke(f)&&ke(m))return{x:f,y:m,width:p,height:v}}return ke(d)&&ke(h)?{x:d,y:h,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},Lve=function(e,n){return e?e===!0?ne.createElement(Yn,{key:"label-implicit",viewBox:n}):mn(e)?ne.createElement(Yn,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===Yn?N.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Yn,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?ne.createElement(Yn,{key:"label-implicit",content:e,viewBox:n}):Zh(e)?ne.createElement(Yn,fm({viewBox:n},e,{key:"label-implicit"})):null:null},Dve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=$z(e),s=Ai(i,Yn).map(function(l,u){return N.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=Lve(e.label,n||a);return[o].concat(xve(s))};Yn.parseViewBox=$z;Yn.renderCallByParent=Dve;function $ve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Fve=$ve;const Bve=nt(Fve);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var zve=["valueAccessor"],Uve=["data","dataKey","clockWise","id","textBreakAll"];function Hve(t){return qve(t)||Gve(t)||Vve(t)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(t,e){if(t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function Gve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qve(t){if(Array.isArray(t))return _A(t)}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return e=Yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Kve(t,"string");return pm(e)=="symbol"?e:e+""}function Kve(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BI(t,e){if(t==null)return{};var n=Zve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qve=function(e){return Array.isArray(e.value)?Bve(e.value):e.value};function el(t){var e=t.valueAccessor,n=e===void 0?Qve:e,r=BI(t,zve),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=BI(r,Uve);return!i||!i.length?null:ne.createElement(qt,{className:"recharts-label-list"},i.map(function(c,d){var h=Xe(a)?n(c,d):ri(c&&c.payload,a),f=Xe(o)?{}:{id:"".concat(o,"-").concat(d)};return ne.createElement(Yn,xb({},Qe(c,!0),u,f,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Yn.parseViewBox(Xe(s)?c:FI(FI({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}el.displayName="LabelList";function Jve(t,e){return t?t===!0?ne.createElement(el,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Ue(t)?ne.createElement(el,{key:"labelList-implicit",data:e,content:t}):Zh(t)?ne.createElement(el,xb({data:e},t,{key:"labelList-implicit"})):null:null}function e0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ai(r,el).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Jve(t.label,e);return[a].concat(Hve(i))}el.renderCallByParent=e0e;function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(this,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){t0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t0e(t,e,n){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return mm(e)=="symbol"?e:e+""}function r0e(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i0e=function(e,n){var r=aa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(o?1:-1)+i,d=Math.asin(l/c)/bb,h=u?a:a+s*d,f=Rn(n,r,c,h),m=Rn(n,r,i,h),p=u?a-s*d:a,v=Rn(n,r,c*Math.cos(d*bb),p);return{center:f,circleTangency:m,lineTangency:v,theta:d}},Fz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=i0e(s,o),u=s+l,c=Rn(n,r,a,s),d=Rn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=Rn(n,r,i,s),m=Rn(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},a0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=aa(c-u),h=rv({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),f=h.circleTangency,m=h.lineTangency,p=h.theta,v=rv({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,k=l?Math.abs(u-c):Math.abs(u-c)-p-x;if(k<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Fz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var w=rv({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=w.circleTangency,E=w.lineTangency,C=w.theta,O=rv({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=O.circleTangency,T=O.lineTangency,j=O.theta,P=l?Math.abs(u-c):Math.abs(u-c)-C-j;if(P<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},s0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bz=function(e){var n=UI(UI({},s0e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<a||c===d)return null;var f=qe("recharts-sector",h),m=s-a,p=Qu(o,m,0,!0),v;return p>0&&Math.abs(c-d)<360?v=a0e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):v=Fz({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),ne.createElement("path",AA({},Qe(n,!0),{className:f,d:v,role:"img"}))};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(this,arguments)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){o0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0e(t,e,n){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t){var e=u0e(t,"string");return gm(e)=="symbol"?e:e+""}function u0e(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VI={curveBasisClosed:oie,curveBasisOpen:lie,curveBasis:sie,curveBumpX:Gre,curveBumpY:qre,curveLinearClosed:uie,curveLinear:nw,curveMonotoneX:cie,curveMonotoneY:die,curveNatural:hie,curveStep:fie,curveStepAfter:mie,curveStepBefore:pie},iv=function(e){return e.x===+e.x&&e.y===+e.y},If=function(e){return e.x},Rf=function(e){return e.y},c0e=function(e,n){if(Ue(e))return e;var r="curve".concat(ew(e));return(r==="curveMonotone"||r==="curveBump")&&n?VI["".concat(r).concat(n==="vertical"?"Y":"X")]:VI[r]||nw},d0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=c0e(r,o),d=u?a.filter(function(p){return iv(p)}):a,h;if(Array.isArray(s)){var f=u?s.filter(function(p){return iv(p)}):s,m=d.map(function(p,v){return WI(WI({},p),{},{base:f[v]})});return o==="vertical"?h=Xy().y(Rf).x1(If).x0(function(p){return p.base.x}):h=Xy().x(If).y1(Rf).y0(function(p){return p.base.y}),h.defined(iv).curve(c),h(m)}return o==="vertical"&&ke(s)?h=Xy().y(Rf).x1(If).x0(s):ke(s)?h=Xy().x(If).y1(Rf).y0(s):h=zB().x(If).y(Rf),h.defined(iv).curve(c),h(d)},CA=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?d0e(e):i;return N.createElement("path",EA({},Qe(e,!1),U0(e),{className:qe("recharts-curve",n),d:s,ref:a}))},zz={exports:{}},h0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f0e=h0e,p0e=f0e;function Uz(){}function Hz(){}Hz.resetWarningCache=Uz;var m0e=function(){function t(r,i,a,s,o,l){if(l!==p0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hz,resetWarningCache:Uz};return n.PropTypes=n,n};zz.exports=m0e();var g0e=zz.exports;const at=nt(g0e),{getOwnPropertyNames:y0e,getOwnPropertySymbols:v0e}=Object,{hasOwnProperty:b0e}=Object.prototype;function X1(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function av(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function x0e(t){return t!=null?t[Symbol.toStringTag]:void 0}function GI(t){return y0e(t).concat(v0e(t))}const w0e=Object.hasOwn||((t,e)=>b0e.call(t,e));function fc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const S0e="__v",k0e="__o",_0e="_owner",{getOwnPropertyDescriptor:qI,keys:XI}=Object;function A0e(t,e){return t.byteLength===e.byteLength&&wb(new Uint8Array(t),new Uint8Array(e))}function E0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function C0e(t,e){return t.byteLength===e.byteLength&&wb(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function P0e(t,e){return fc(t.getTime(),e.getTime())}function T0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function O0e(t,e){return t===e}function YI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(o=u.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,f=o.value;if(n.equals(h[0],f[0],l,d,t,e,n)&&n.equals(h[1],f[1],h[0],f[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const M0e=fc;function N0e(t,e,n){const r=XI(t);let i=r.length;if(XI(e).length!==i)return!1;for(;i-- >0;)if(!Wz(t,e,n,r[i]))return!1;return!0}function jf(t,e,n){const r=GI(t);let i=r.length;if(GI(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!Wz(t,e,n,a)||(s=qI(t,a),o=qI(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function I0e(t,e){return fc(t.valueOf(),e.valueOf())}function R0e(t,e){return t.source===e.source&&t.flags===e.flags}function KI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(o=l.next())&&!o.done;){if(!i[c]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function wb(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function j0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Wz(t,e,n,r){return(r===_0e||r===k0e||r===S0e)&&(t.$$typeof||e.$$typeof)?!0:w0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const L0e="[object ArrayBuffer]",D0e="[object Arguments]",$0e="[object Boolean]",F0e="[object DataView]",B0e="[object Date]",z0e="[object Error]",U0e="[object Map]",H0e="[object Number]",W0e="[object Object]",V0e="[object RegExp]",G0e="[object Set]",q0e="[object String]",X0e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Y0e="[object URL]",K0e=Object.prototype.toString;function Z0e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:m}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const x=typeof v;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(v,y,b):x==="function"?a(v,y,b):!1;const k=v.constructor;if(k!==y.constructor)return!1;if(k===Object)return l(v,y,b);if(Array.isArray(v))return e(v,y,b);if(k===Date)return r(v,y,b);if(k===RegExp)return c(v,y,b);if(k===Map)return s(v,y,b);if(k===Set)return d(v,y,b);const S=K0e.call(v);if(S===B0e)return r(v,y,b);if(S===V0e)return c(v,y,b);if(S===U0e)return s(v,y,b);if(S===G0e)return d(v,y,b);if(S===W0e)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b);if(S===Y0e)return f(v,y,b);if(S===z0e)return i(v,y,b);if(S===D0e)return l(v,y,b);if(X0e[S])return h(v,y,b);if(S===L0e)return t(v,y,b);if(S===F0e)return n(v,y,b);if(S===$0e||S===H0e||S===q0e)return u(v,y,b);if(m){let w=m[S];if(!w){const A=x0e(v);A&&(w=m[A])}if(w)return w(v,y,b)}return!1}}function Q0e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:A0e,areArraysEqual:n?jf:E0e,areDataViewsEqual:C0e,areDatesEqual:P0e,areErrorsEqual:T0e,areFunctionsEqual:O0e,areMapsEqual:n?X1(YI,jf):YI,areNumbersEqual:M0e,areObjectsEqual:n?jf:N0e,arePrimitiveWrappersEqual:I0e,areRegExpsEqual:R0e,areSetsEqual:n?X1(KI,jf):KI,areTypedArraysEqual:n?X1(wb,jf):wb,areUrlsEqual:j0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=av(r.areArraysEqual),a=av(r.areMapsEqual),s=av(r.areObjectsEqual),o=av(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function J0e(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function ebe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(o,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const tbe=yl();yl({strict:!0});yl({circular:!0});yl({circular:!0,strict:!0});yl({createInternalComparator:()=>fc});yl({strict:!0,createInternalComparator:()=>fc});yl({circular:!0,createInternalComparator:()=>fc});yl({circular:!0,createInternalComparator:()=>fc,strict:!0});function yl(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Q0e(t),s=Z0e(a),o=n?n(s):J0e(s);return ebe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function nbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ZI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):nbe(i)};requestAnimationFrame(r)}function PA(t){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(t)}function rbe(t){return obe(t)||sbe(t)||abe(t)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function abe(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function obe(t){if(Array.isArray(t))return t}function lbe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=rbe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){ZI(i.bind(null,u),l);return}i(l),ZI(i.bind(null,u));return}PA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Vz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vz(t,e,n){return e=ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=cbe(t,"string");return ym(e)==="symbol"?e:String(e)}function cbe(t,e){if(ym(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},hbe=function(e){return e},fbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kp=function(e,n){return Object.keys(n).reduce(function(r,i){return eR(eR({},r),{},Vz({},i,e(i,n[i])))},{})},tR=function(e,n,r){return e.map(function(i){return"".concat(fbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pbe(t,e){return ybe(t)||gbe(t,e)||Gz(t,e)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ybe(t){if(Array.isArray(t))return t}function vbe(t){return wbe(t)||xbe(t)||Gz(t)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function xbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wbe(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sb=1e-4,qz=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Xz=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},nR=function(e,n){return function(r){var i=qz(e,n);return Xz(i,r)}},Sbe=function(e,n){return function(r){var i=qz(e,n),a=[].concat(vbe(i.map(function(s,o){return s*o}).slice(1)),[0]);return Xz(a,r)}},rR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=pbe(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var d=nR(i,s),h=nR(a,o),f=Sbe(i,s),m=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,x=b,k=0;k<8;++k){var S=d(x)-b,w=f(x);if(Math.abs(S-b)<Sb||w<Sb)return h(x);x=m(x-S/w)}return h(x)};return p.isStepper=!1,p},kbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(c,d,h){var f=-(c-d)*r,m=h*a,p=h+(f-m)*o/1e3,v=h*o/1e3+c;return Math.abs(v-d)<Sb&&Math.abs(p)<Sb?[d,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},_be=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rR(i);case"spring":return kbe();default:if(i.split("(")[0]==="cubic-bezier")return rR(i)}return typeof i=="function"?i:null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function iR(t){return Cbe(t)||Ebe(t)||Yz(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cbe(t){if(Array.isArray(t))return MA(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){OA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OA(t,e,n){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Tbe(t,"string");return vm(e)==="symbol"?e:String(e)}function Tbe(t,e){if(vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Obe(t,e){return Ibe(t)||Nbe(t,e)||Yz(t,e)||Mbe()}function Mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yz(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ibe(t){if(Array.isArray(t))return t}var kb=function(e,n,r){return e+(n-e)*r},NA=function(e){var n=e.from,r=e.to;return n!==r},Rbe=function t(e,n,r){var i=kp(function(a,s){if(NA(s)){var o=e(s.from,s.to,s.velocity),l=Obe(o,2),u=l[0],c=l[1];return Nn(Nn({},s),{},{from:u,velocity:c})}return s},n);return r<1?kp(function(a,s){return NA(s)?Nn(Nn({},s),{},{velocity:kb(s.velocity,i[a].velocity,r),from:kb(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const jbe=function(t,e,n,r,i){var a=dbe(t,e),s=a.reduce(function(v,y){return Nn(Nn({},v),{},OA({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Nn(Nn({},v),{},OA({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return kp(function(y,b){return b.from},o)},f=function(){return!Object.values(o).filter(NA).length},m=function(y){u||(u=y);var b=y-u,x=b/n.dt;o=Rbe(n,o,x),i(Nn(Nn(Nn({},t),e),h())),u=y,f()||(l=requestAnimationFrame(d))},p=function(y){c||(c=y);var b=(y-c)/r,x=kp(function(S,w){return kb.apply(void 0,iR(w).concat([n(b)]))},s);if(i(Nn(Nn(Nn({},t),e),x)),b<1)l=requestAnimationFrame(d);else{var k=kp(function(S,w){return kb.apply(void 0,iR(w).concat([n(1)]))},s);i(Nn(Nn(Nn({},t),e),k))}};return d=n.isStepper?m:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var Lbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dbe(t,e){if(t==null)return{};var n=$be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $be(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y1(t){return Ube(t)||zbe(t)||Bbe(t)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function zbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ube(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ap(t,e,n){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kz(r.key),r)}}function Vbe(t,e,n){return e&&Wbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kz(t){var e=Gbe(t,"string");return Ph(e)==="symbol"?e:String(e)}function Gbe(t,e){if(Ph(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RA(t,e)}function Xbe(t){var e=Ybe();return function(){var r=_b(t),i;if(e){var a=_b(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return jA(this,i)}}function jA(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LA(t)}function LA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ybe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_b(t)}var Gs=function(t){qbe(n,t);var e=Xbe(n);function n(r,i){var a;Hbe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,f=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(LA(a)),a.changeStyle=a.changeStyle.bind(LA(a)),!o||f<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),jA(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},jA(a);a.state={style:l?ap({},l,u):u}}else a.state={style:{}};return a}return Vbe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,h=this.state.style;if(o){if(!s){var f={style:l?ap({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(f);return}if(!(tbe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||u?d:i.to;if(this.state&&h){var v={style:l?ap({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(ji(ji({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=jbe(s,o,_be(u),l,this.changeStyle),m=function(){a.stopJSAnimation=f()};this.manager.start([h,c,m,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,f=function(p,v,y){if(y===0)return p;var b=v.duration,x=v.easing,k=x===void 0?"ease":x,S=v.style,w=v.properties,A=v.onAnimationEnd,E=y>0?s[y-1]:v,C=w||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(Y1(p),[a.runJSAnimation.bind(a,{from:E.style,to:S,duration:b,easing:k}),b]);var O=tR(C,b,k),I=ji(ji(ji({},E.style),S),{},{transition:O});return[].concat(Y1(p),[I,b,A]).filter(hbe)};return this.manager.start([l].concat(Y1(s.reduce(f,[c,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lbe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=o?ap({},o,l):l,v=tR(Object.keys(p),s,u);m.start([c,a,ji(ji({},p),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Dbe(i,Lbe),u=N.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var d=function(f){var m=f.props,p=m.style,v=p===void 0?{}:p,y=m.className,b=N.cloneElement(f,ji(ji({},l),{},{style:ji(ji({},v),c),className:y}));return b};return u===1?d(N.Children.only(a)):ne.createElement("div",null,N.Children.map(a,function(h){return d(h)}))}}]),n}(N.PureComponent);Gs.displayName="Animate";Gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gs.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function Kbe(t,e){return exe(t)||Jbe(t,e)||Qbe(t,e)||Zbe()}function Zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qbe(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function exe(t){if(Array.isArray(t))return t}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){txe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function txe(t,e,n){return e=nxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nxe(t){var e=rxe(t,"string");return bm(e)=="symbol"?e:e+""}function rxe(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cR=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=a[h]>s?s:a[h];c="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*d[1])),c+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*d[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);c="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},ixe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},axe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HP=function(e){var n=uR(uR({},axe),e),r=N.useRef(),i=N.useState(-1),a=Kbe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&o(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,f=n.className,m=n.animationEasing,p=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var x=qe("recharts-rectangle",f);return b?ne.createElement(Gs,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:p,animationEasing:m,isActive:b},function(k){var S=k.width,w=k.height,A=k.x,E=k.y;return ne.createElement(Gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:m},ne.createElement("path",Ab({},Qe(n,!0),{className:x,d:cR(A,E,S,w,h),ref:r})))}):ne.createElement("path",Ab({},Qe(n,!0),{className:x,d:cR(l,u,c,d,h)}))};function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(this,arguments)}var WP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=qe("recharts-dot",a);return n===+n&&r===+r&&i===+i?N.createElement("circle",DA({},Qe(e,!1),U0(e),{className:s,cx:n,cy:r,r:i})):null};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}var sxe=["x","y","top","left","width","height","className"];function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lxe(t,e,n){return e=uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t){var e=cxe(t,"string");return xm(e)=="symbol"?e:e+""}function cxe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dxe(t,e){if(t==null)return{};var n=hxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fxe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},pxe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,f=h===void 0?0:h,m=e.className,p=dxe(e,sxe),v=oxe({x:r,y:a,top:o,left:u,width:d,height:f},p);return!ke(r)||!ke(a)||!ke(d)||!ke(f)||!ke(o)||!ke(u)?null:ne.createElement("path",$A({},Qe(v,!0),{className:qe("recharts-cross",m),d:fxe(r,a,d,f,o,u)}))},mxe=d5,gxe=mxe(Object.getPrototypeOf,Object),yxe=gxe,vxe=Ks,bxe=yxe,xxe=Zs,wxe="[object Object]",Sxe=Function.prototype,kxe=Object.prototype,Zz=Sxe.toString,_xe=kxe.hasOwnProperty,Axe=Zz.call(Object);function Exe(t){if(!xxe(t)||vxe(t)!=wxe)return!1;var e=bxe(t);if(e===null)return!0;var n=_xe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Zz.call(n)==Axe}var Cxe=Exe;const Pxe=nt(Cxe);var Txe=Ks,Oxe=Zs,Mxe="[object Boolean]";function Nxe(t){return t===!0||t===!1||Oxe(t)&&Txe(t)==Mxe}var Ixe=Nxe;const Rxe=nt(Ixe);function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function jxe(t,e){return Fxe(t)||$xe(t,e)||Dxe(t,e)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dxe(t,e){if(t){if(typeof t=="string")return hR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(t,e)}}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $xe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fxe(t){if(Array.isArray(t))return t}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bxe(t,e,n){return e=zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Uxe(t,"string");return wm(e)=="symbol"?e:e+""}function Uxe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mR=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},Hxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wxe=function(e){var n=pR(pR({},Hxe),e),r=N.useRef(),i=N.useState(-1),a=jxe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,f=n.className,m=n.animationEasing,p=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=qe("recharts-trapezoid",f);return y?ne.createElement(Gs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:p,animationEasing:m,isActive:y},function(x){var k=x.upperWidth,S=x.lowerWidth,w=x.height,A=x.x,E=x.y;return ne.createElement(Gs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},ne.createElement("path",Eb({},Qe(n,!0),{className:b,d:mR(A,E,k,S,w),ref:r})))}):ne.createElement("g",null,ne.createElement("path",Eb({},Qe(n,!0),{className:b,d:mR(l,u,c,d,h)})))},Vxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Gxe(t,e){if(t==null)return{};var n=qxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xxe(t,e,n){return e=Yxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yxe(t){var e=Kxe(t,"string");return Sm(e)=="symbol"?e:e+""}function Kxe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zxe(t,e){return Cb(Cb({},e),t)}function Qxe(t,e){return t==="symbols"}function yR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(HP,n);case"trapezoid":return ne.createElement(Wxe,n);case"sector":return ne.createElement(Bz,n);case"symbols":if(Qxe(e))return ne.createElement(lP,n);break;default:return null}}function Jxe(t){return N.isValidElement(t)?t.props:t}function ewe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Zxe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Gxe(t,Vxe),u;if(N.isValidElement(e))u=N.cloneElement(e,Cb(Cb({},l),Jxe(e)));else if(Ue(e))u=e(l);else if(Pxe(e)&&!Rxe(e)){var c=i(e,l);u=ne.createElement(yR,{shapeType:n,elementProps:c})}else{var d=l;u=ne.createElement(yR,{shapeType:n,elementProps:d})}return o?ne.createElement(qt,{className:s},u):u}function vw(t,e){return e!=null&&"trapezoids"in t.props}function bw(t,e){return e!=null&&"sectors"in t.props}function km(t,e){return e!=null&&"points"in t.props}function twe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function nwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function rwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function iwe(t,e){var n;return vw(t,e)?n=twe:bw(t,e)?n=nwe:km(t,e)&&(n=rwe),n}function awe(t,e){var n;return vw(t,e)?n="trapezoids":bw(t,e)?n="sectors":km(t,e)&&(n="points"),n}function swe(t,e){if(vw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(bw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return km(t,e)?e.payload:{}}function owe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=awe(n,e),a=swe(n,e),s=r.filter(function(l,u){var c=mw(a,l),d=n.props[i].filter(function(m){var p=iwe(n,e);return p(m,e)}),h=n.props[i].indexOf(d[d.length-1]),f=u===h;return c&&f}),o=r.indexOf(s[s.length-1]);return o}var lwe=Math.ceil,uwe=Math.max;function cwe(t,e,n,r){for(var i=-1,a=uwe(lwe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var dwe=cwe,hwe=O5,vR=1/0,fwe=17976931348623157e292;function pwe(t){if(!t)return t===0?t:0;if(t=hwe(t),t===vR||t===-vR){var e=t<0?-1:1;return e*fwe}return t===t?t:0}var Qz=pwe,mwe=dwe,gwe=sw,K1=Qz;function ywe(t){return function(e,n,r){return r&&typeof r!="number"&&gwe(e,n,r)&&(n=r=void 0),e=K1(e),n===void 0?(n=e,e=0):n=K1(n),r=r===void 0?e<n?1:-1:K1(r),mwe(e,n,r,t)}}var vwe=ywe,bwe=vwe,xwe=bwe(),wwe=xwe;const Pb=nt(wwe);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Jz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jz(t,e,n){return e=Swe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Swe(t){var e=kwe(t,"string");return _m(e)=="symbol"?e:e+""}function kwe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _we=["Webkit","Moz","O","ms"],Awe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=_we.reduce(function(a,s){return xR(xR({},a),{},Jz({},s+r,n))},{});return i[e]=n,i};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ewe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t6(r.key),r)}}function Cwe(t,e,n){return e&&SR(t.prototype,e),n&&SR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,n){return e=Ob(e),Twe(t,e6()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function Twe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(t)}function Owe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function Mwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FA(t,e)}function Dr(t,e,n){return e=t6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6(t){var e=Nwe(t,"string");return Th(e)=="symbol"?e:e+""}function Nwe(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iwe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wp().domain(Pb(0,l)).range([a,a+s-o]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},kR=function(e){return e.changedTouches&&!!e.changedTouches.length},Oh=function(t){function e(n){var r;return Ewe(this,e),r=Pwe(this,e,[n]),Dr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Dr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dr(r,"handleSlideDragStart",function(i){var a=kR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mwe(e,t),Cwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,d=Math.min(i,a),h=Math.max(i,a),f=e.getIndexInRange(s,d),m=e.getIndexInRange(s,h);return{startIndex:f-f%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ri(a[r],o,r);return Ue(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,m=l.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+c-d-o,u+c-d-s):p<0&&(p=Math.max(p,u-s,u-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==f)&&m&&m(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=kR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,f=c.travellerWidth,m=c.onChange,p=c.gap,v=c.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-f-u):b<0&&(b=Math.max(b,d-u)),y[s]=u+b;var x=this.getIndex(y),k=x.startIndex,S=x.endIndex,w=function(){var E=v.length-1;return s==="startX"&&(o>l?k%p===0:S%p===0)||o<l&&S===E||s==="endX"&&(o>l?S%p===0:k%p===0)||o>l&&S===E};this.setState(Dr(Dr({},s,u+b),"brushMoveStartX",r.pageX),function(){m&&w()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=o.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var f=o[h];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(Dr({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return ne.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,c=r.padding,d=N.Children.only(u);return d?ne.cloneElement(d,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,m=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),b=Z1(Z1({},Qe(this.props,!1)),{},{x:y,y:u,width:c,height:d}),x=f||"Min value: ".concat((a=m[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return ne.createElement(qt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,f=5,m={pointerEvents:"none",fill:u};return ne.createElement(qt,{className:"recharts-brush-texts"},ne.createElement(rb,Tb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:s+o/2},m),this.getTextOfTick(i)),ne.createElement(rb,Tb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,f=h.startX,m=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ke(o)||!ke(l)||!ke(u)||!ke(c)||u<=0||c<=0)return null;var x=qe("recharts-brush",a),k=ne.Children.count(s)===1,S=Awe("userSelect","none");return ne.createElement(qt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(p||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Z1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Iwe({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(N.PureComponent);Dr(Oh,"displayName","Brush");Dr(Oh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rwe=mP;function jwe(t,e){var n;return Rwe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Lwe=jwe,Dwe=r5,$we=pl,Fwe=Lwe,Bwe=Nr,zwe=sw;function Uwe(t,e,n){var r=Bwe(t)?Dwe:Fwe;return n&&zwe(t,e,n)&&(e=void 0),r(t,$we(e))}var Hwe=Uwe;const Wwe=nt(Hwe);var za=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_R=A5;function Vwe(t,e,n){e=="__proto__"&&_R?_R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Gwe=Vwe,qwe=Gwe,Xwe=k5,Ywe=pl;function Kwe(t,e){var n={};return e=Ywe(e),Xwe(t,function(r,i,a){qwe(n,i,e(r,i,a))}),n}var Zwe=Kwe;const Qwe=nt(Zwe);function Jwe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var e1e=Jwe,t1e=mP;function n1e(t,e){var n=!0;return t1e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var r1e=n1e,i1e=e1e,a1e=r1e,s1e=pl,o1e=Nr,l1e=sw;function u1e(t,e,n){var r=o1e(t)?i1e:a1e;return n&&l1e(t,e,n)&&(e=void 0),r(t,s1e(e))}var c1e=u1e;const n6=nt(c1e);var d1e=["x","y"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){h1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e,n){return e=f1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f1e(t){var e=p1e(t,"string");return Am(e)=="symbol"?e:e+""}function p1e(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m1e(t,e){if(t==null)return{};var n=g1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y1e(t,e){var n=t.x,r=t.y,i=m1e(t,d1e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Lf(Lf(Lf(Lf(Lf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function ER(t){return ne.createElement(ewe,BA({shapeType:"rectangle",propTransformer:y1e,activeClassName:"recharts-active-bar"},t))}var v1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ke(r)||Mne(r);return a?e(r,i):(a||Je(!1),n)}},b1e=["value","background"],r6;function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function x1e(t,e){if(t==null)return{};var n=w1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a6(r.key),r)}}function k1e(t,e,n){return e&&PR(t.prototype,e),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _1e(t,e,n){return e=Nb(e),A1e(t,i6()?Reflect.construct(e,n||[],Nb(t).constructor):e.apply(t,n))}function A1e(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1e(t)}function E1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(t)}function C1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zA(t,e)}function Uo(t,e,n){return e=a6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6(t){var e=P1e(t,"string");return Mh(e)=="symbol"?e:e+""}function P1e(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pc=function(t){function e(){var n;S1e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_1e(this,e,[].concat(i)),Uo(n,"state",{isAnimationFinished:!1}),Uo(n,"id",oy("recharts-bar-")),Uo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Uo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return C1e(e,t),k1e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Qe(this.props,!1);return r&&r.map(function(d,h){var f=h===l,m=f?u:s,p=Jt(Jt(Jt({},c),d),{},{isActive:f,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(qt,Mb({className:"recharts-bar-rectangle"},H0(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),ne.createElement(ER,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return ne.createElement(Gs,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,p=a.map(function(v,y){var b=h&&h[y];if(b){var x=ra(b.x,v.x),k=ra(b.y,v.y),S=ra(b.width,v.width),w=ra(b.height,v.height);return Jt(Jt({},v),{},{x:x(m),y:k(m),width:S(m),height:w(m)})}if(s==="horizontal"){var A=ra(0,v.height),E=A(m);return Jt(Jt({},v),{},{y:v.y+v.height-E,height:E})}var C=ra(0,v.width),O=C(m);return Jt(Jt({},v),{},{width:O})});return ne.createElement(qt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!mw(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Qe(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,h=x1e(u,b1e);if(!d)return null;var f=Jt(Jt(Jt(Jt(Jt({},h),{},{fill:"#eee"},d),l),H0(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return ne.createElement(ER,Mb({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},f))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=Ai(c,fy);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,f=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:ri(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(qt,m,d.map(function(p){return ne.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,f=r.isAnimationActive,m=r.background,p=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=qe("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,k=b||x,S=Xe(p)?this.id:p;return ne.createElement(qt,{className:y},b||x?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(S)},ne.createElement("rect",{x:b?u:u-d/2,y:x?c:c-h/2,width:b?d:d*2,height:x?h:h*2}))):null,ne.createElement(qt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!f||v)&&el.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);r6=pc;Uo(pc,"displayName","Bar");Uo(pc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!af.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uo(pc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,f=eve(r,n);if(!f)return null;var m=e.layout,p=n.type.defaultProps,v=p!==void 0?Jt(Jt({},p),n.props):n.props,y=v.dataKey,b=v.children,x=v.minPointSize,k=m==="horizontal"?s:a,S=u?k.scale.domain():null,w=lve({numericAxis:k}),A=Ai(b,N5),E=d.map(function(C,O){var I,T,j,P,$,X;u?I=tve(u[c+O],S):(I=ri(C,y),Array.isArray(I)||(I=[w,I]));var U=v1e(x,r6.defaultProps.minPointSize)(I[1],O);if(m==="horizontal"){var q,G=[s.scale(I[0]),s.scale(I[1])],R=G[0],B=G[1];T=OI({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:C,index:O}),j=(q=B??R)!==null&&q!==void 0?q:void 0,P=f.size;var H=R-B;if($=Number.isNaN(H)?0:H,X={x:T,y:s.y,width:P,height:s.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var L=aa($||U)*(Math.abs(U)-Math.abs($));j-=L,$+=L}}else{var ae=[a.scale(I[0]),a.scale(I[1])],Z=ae[0],de=ae[1];if(T=Z,j=OI({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:C,index:O}),P=de-Z,$=f.size,X={x:a.x,y:j,width:a.width,height:$},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var Se=aa(P||U)*(Math.abs(U)-Math.abs(P));P+=Se}}return Jt(Jt(Jt({},C),{},{x:T,y:j,width:P,height:$,value:u?I:I[1],payload:C,background:X},A&&A[O]&&A[O].props),{},{tooltipPayload:[Dz(n,C)],tooltipPosition:{x:T+P/2,y:j+$/2}})});return Jt({data:E,layout:m},h)});function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function T1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s6(r.key),r)}}function O1e(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xw(t,e,n){return e=s6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=M1e(t,"string");return Em(e)=="symbol"?e:e+""}function M1e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o6=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Xr(u,pc);return c.reduce(function(f,m){var p=n[m],v=p.orientation,y=p.domain,b=p.padding,x=b===void 0?{}:b,k=p.mirror,S=p.reversed,w="".concat(v).concat(k?"Mirror":""),A,E,C,O,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=y[1]-y[0],j=1/0,P=p.categoricalDomain.sort(Rne);if(P.forEach(function(ae,Z){Z>0&&(j=Math.min((ae||0)-(P[Z-1]||0),j))}),Number.isFinite(j)){var $=j/T,X=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(A=$*X/2),p.padding==="no-gap"){var U=Qu(e.barCategoryGap,$*X),q=$*X/2;A=q-U-(q-U)/X*U}}}i==="xAxis"?E=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:E=p.range,S&&(E=[E[1],E[0]]);var G=Qye(p,a,h),R=G.scale,B=G.realScaleType;R.domain(y).range(E),Jye(R);var H=ove(R,ea(ea({},p),{},{realScaleType:B}));i==="xAxis"?(I=v==="top"&&!k||v==="bottom"&&k,C=r.left,O=d[w]-I*p.height):i==="yAxis"&&(I=v==="left"&&!k||v==="right"&&k,C=d[w]-I*p.width,O=r.top);var L=ea(ea(ea({},p),H),{},{realScaleType:B,x:C,y:O,scale:R,width:i==="xAxis"?r.width:p.width,height:i==="yAxis"?r.height:p.height});return L.bandSize=vb(L,H),!p.hide&&i==="xAxis"?d[w]+=(I?-1:1)*L.height:p.hide||(d[w]+=(I?-1:1)*L.width),ea(ea({},f),{},xw({},m,L))},{})},l6=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},N1e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return l6({x:n,y:r},{x:i,y:a})},u6=function(){function t(e){T1e(this,t),this.scale=e}return O1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();xw(u6,"EPS",1e-4);var VP=function(e){var n=Object.keys(e).reduce(function(r,i){return ea(ea({},r),{},xw({},i,u6.create(e[i])))},{});return ea(ea({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Qwe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return n6(i,function(a,s){return n[s].isInRange(a)})}})};function I1e(t){return(t%180+180)%180}var R1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=I1e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},j1e=pl,L1e=ly,D1e=iw;function $1e(t){return function(e,n,r){var i=Object(e);if(!L1e(e)){var a=j1e(n);e=D1e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var F1e=$1e,B1e=Qz;function z1e(t){var e=B1e(t),n=e%1;return e===e?n?e-n:e:0}var U1e=z1e,H1e=y5,W1e=pl,V1e=U1e,G1e=Math.max;function q1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:V1e(n);return i<0&&(i=G1e(r+i,0)),H1e(t,W1e(e),i)}var X1e=q1e,Y1e=F1e,K1e=X1e,Z1e=Y1e(K1e),Q1e=Z1e;const J1e=nt(Q1e);var eSe=Dte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GP=N.createContext(void 0),qP=N.createContext(void 0),c6=N.createContext(void 0),d6=N.createContext({}),h6=N.createContext(void 0),f6=N.createContext(0),p6=N.createContext(0),MR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,c=eSe(a);return ne.createElement(GP.Provider,{value:r},ne.createElement(qP.Provider,{value:i},ne.createElement(d6.Provider,{value:a},ne.createElement(c6.Provider,{value:c},ne.createElement(h6.Provider,{value:s},ne.createElement(f6.Provider,{value:u},ne.createElement(p6.Provider,{value:l},o)))))))},tSe=function(){return N.useContext(h6)},m6=function(e){var n=N.useContext(GP);n==null&&Je(!1);var r=n[e];return r==null&&Je(!1),r},nSe=function(){var e=N.useContext(GP);return co(e)},rSe=function(){var e=N.useContext(qP),n=J1e(e,function(r){return n6(r.domain,Number.isFinite)});return n||co(e)},g6=function(e){var n=N.useContext(qP);n==null&&Je(!1);var r=n[e];return r==null&&Je(!1),r},iSe=function(){var e=N.useContext(c6);return e},aSe=function(){return N.useContext(d6)},XP=function(){return N.useContext(p6)},YP=function(){return N.useContext(f6)};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v6(r.key),r)}}function lSe(t,e,n){return e&&oSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uSe(t,e,n){return e=Ib(e),cSe(t,y6()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function cSe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dSe(t)}function dSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function hSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UA(t,e)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){KP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KP(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=fSe(t,"string");return Nh(e)=="symbol"?e:e+""}function fSe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pSe(t,e){return vSe(t)||ySe(t,e)||gSe(t,e)||mSe()}function mSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gSe(t,e){if(t){if(typeof t=="string")return RR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(t,e)}}function RR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ySe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vSe(t){if(Array.isArray(t))return t}function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HA.apply(this,arguments)}var bSe=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Ue(e)?r=e(n):r=ne.createElement("line",HA({},n,{className:"recharts-reference-line-line"})),r},xSe=function(e,n,r,i,a,s,o,l,u){var c=a.x,d=a.y,h=a.width,f=a.height;if(r){var m=u.y,p=e.y.apply(m,{position:s});if(za(u,"discard")&&!e.y.isInRange(p))return null;var v=[{x:c+h,y:p},{x:c,y:p}];return l==="left"?v.reverse():v}if(n){var y=u.x,b=e.x.apply(y,{position:s});if(za(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:d+f},{x:b,y:d}];return o==="top"?x.reverse():x}if(i){var k=u.segment,S=k.map(function(w){return e.apply(w,{position:s})});return za(u,"discard")&&Wwe(S,function(w){return!e.isInRange(w)})?null:S}return null};function wSe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=tSe(),c=m6(i),d=g6(a),h=iSe();if(!u||!h)return null;js(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=VP({x:c.scale,y:d.scale}),m=mn(e),p=mn(n),v=r&&r.length===2,y=xSe(f,m,p,v,h,t.position,c.orientation,d.orientation,t);if(!y)return null;var b=pSe(y,2),x=b[0],k=x.x,S=x.y,w=b[1],A=w.x,E=w.y,C=za(t,"hidden")?"url(#".concat(u,")"):void 0,O=IR(IR({clipPath:C},Qe(t,!0)),{},{x1:k,y1:S,x2:A,y2:E});return ne.createElement(qt,{className:qe("recharts-reference-line",o)},bSe(s,O),Yn.renderCallByParent(t,N1e({x1:k,y1:S,x2:A,y2:E})))}var ZP=function(t){function e(){return sSe(this,e),uSe(this,e,arguments)}return hSe(e,t),lSe(e,[{key:"render",value:function(){return ne.createElement(wSe,this.props)}}])}(ne.Component);KP(ZP,"displayName","ReferenceLine");KP(ZP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(this,arguments)}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x6(r.key),r)}}function _Se(t,e,n){return e&&kSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ASe(t,e,n){return e=Rb(e),ESe(t,b6()?Reflect.construct(e,n||[],Rb(t).constructor):e.apply(t,n))}function ESe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CSe(t)}function CSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(t)}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function ww(t,e,n){return e=x6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t){var e=TSe(t,"string");return Ih(e)=="symbol"?e:e+""}function TSe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OSe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=VP({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return za(e,"discard")&&!s.isInRange(o)?null:o},Sw=function(t){function e(){return SSe(this,e),ASe(this,e,arguments)}return PSe(e,t),_Se(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=mn(i),c=mn(a);if(js(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=OSe(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,p=m.shape,v=m.className,y=za(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=LR(LR({clipPath:y},Qe(this.props,!0)),{},{cx:h,cy:f});return ne.createElement(qt,{className:qe("recharts-reference-dot",v)},e.renderDot(p,b),Yn.renderCallByParent(this.props,{x:h-s,y:f-s,width:2*s,height:2*s}))}}])}(ne.Component);ww(Sw,"displayName","ReferenceDot");ww(Sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ww(Sw,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Ue(t)?n=t(e):n=ne.createElement(WP,WA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(this,arguments)}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S6(r.key),r)}}function ISe(t,e,n){return e&&NSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,n){return e=jb(e),jSe(t,w6()?Reflect.construct(e,n||[],jb(t).constructor):e.apply(t,n))}function jSe(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LSe(t)}function LSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w6=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qA(t,e)}function kw(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=$Se(t,"string");return Rh(e)=="symbol"?e:e+""}function $Se(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FSe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var h=VP({x:c.scale,y:d.scale}),f={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return za(a,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:l6(f,m)},_w=function(t){function e(){return MSe(this,e),RSe(this,e,arguments)}return DSe(e,t),ISe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;js(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=mn(i),h=mn(a),f=mn(s),m=mn(o),p=this.props.shape;if(!d&&!h&&!f&&!m&&!p)return null;var v=FSe(d,h,f,m,this.props);if(!v&&!p)return null;var y=za(this.props,"hidden")?"url(#".concat(c,")"):void 0;return ne.createElement(qt,{className:qe("recharts-reference-area",l)},e.renderRect(p,$R($R({clipPath:y},Qe(this.props,!0)),v)),Yn.renderCallByParent(this.props,v))}}])}(ne.Component);kw(_w,"displayName","ReferenceArea");kw(_w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kw(_w,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Ue(t)?n=t(e):n=ne.createElement(HP,GA({},e,{className:"recharts-reference-area-rect"})),n});function k6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function BSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return R1e(r,n)}function zSe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Lb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function USe(t,e){return k6(t,e+1)}function HSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,c=s,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:k6(r,u)};var p=l,v,y=function(){return v===void 0&&(v=n(m,p)),v},b=m.coordinate,x=l===0||Lb(t,b,y,c,o);x||(l=0,c=s,u+=1),x&&(c=b+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){WSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WSe(t,e,n){return e=VSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=GSe(t,"string");return Cm(e)=="symbol"?e:e+""}function GSe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var f=a[h],m,p=function(){return m===void 0&&(m=n(f,h)),m};if(h===s-1){var v=t*(f.coordinate+t*p()/2-l);a[h]=f=qn(qn({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate})}else a[h]=f=qn(qn({},f),{},{tickCoord:f.coordinate});var y=Lb(t,f.tickCoord,p,o,l);y&&(l=f.tickCoord-t*(p()/2+i),a[h]=qn(qn({},f),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function XSe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var c=r[o-1],d=n(c,o-1),h=t*(c.coordinate+t*d/2-u);s[o-1]=c=qn(qn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var f=Lb(t,c.tickCoord,function(){return d},l,u);f&&(u=c.tickCoord-t*(d/2+i),s[o-1]=qn(qn({},c),{},{isShow:!0}))}for(var m=a?o-1:o,p=function(b){var x=s[b],k,S=function(){return k===void 0&&(k=n(x,b)),k};if(b===0){var w=t*(x.coordinate-t*S()/2-l);s[b]=x=qn(qn({},x),{},{tickCoord:w<0?x.coordinate-w*t:x.coordinate})}else s[b]=x=qn(qn({},x),{},{tickCoord:x.coordinate});var A=Lb(t,x.tickCoord,S,l,u);A&&(l=x.tickCoord+t*(S()/2+i),s[b]=qn(qn({},x),{},{isShow:!0}))},v=0;v<m;v++)p(v);return s}function QP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ke(l)||af.isSsr)return USe(i,typeof l=="number"&&ke(l)?l:0);var h=[],f=o==="top"||o==="bottom"?"width":"height",m=c&&f==="width"?xp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(x,k){var S=Ue(u)?u(x.value,k):x.value;return f==="width"?BSe(xp(S,{fontSize:e,letterSpacing:n}),m,d):xp(S,{fontSize:e,letterSpacing:n})[f]},v=i.length>=2?aa(i[1].coordinate-i[0].coordinate):1,y=zSe(a,v,f);return l==="equidistantPreserveStart"?HSe(v,y,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=XSe(v,y,p,i,s,l==="preserveStartEnd"):h=qSe(v,y,p,i,s),h.filter(function(b){return b.isShow}))}var YSe=["viewBox"],KSe=["viewBox"],ZSe=["ticks"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){JP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1(t,e){if(t==null)return{};var n=QSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A6(r.key),r)}}function eke(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tke(t,e,n){return e=Db(e),nke(t,_6()?Reflect.construct(e,n||[],Db(t).constructor):e.apply(t,n))}function nke(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rke(t)}function rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(t)}function ike(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XA(t,e)}function JP(t,e,n){return e=A6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A6(t){var e=ake(t,"string");return jh(e)=="symbol"?e:e+""}function ake(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uf=function(t){function e(n){var r;return JSe(this,e),r=tke(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ike(e,t),eke(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Q1(r,YSe),o=this.props,l=o.viewBox,u=Q1(o,KSe);return!ld(a,l)||!ld(s,u)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,f,m,p,v,y,b,x=d?-1:1,k=r.tickSize||c,S=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":f=m=r.coordinate,v=s+ +!d*l,p=v-x*k,b=p-x*h,y=S;break;case"left":p=v=r.coordinate,m=a+ +!d*o,f=m-x*k,y=f-x*h,b=S;break;case"right":p=v=r.coordinate,m=a+ +d*o,f=m+x*k,y=f+x*h,b=S;break;default:f=m=r.coordinate,v=s+ +d*l,p=v+x*k,b=p+x*h,y=S;break}return{line:{x1:f,y1:p,x2:m,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=an(an(an({},Qe(this.props,!1)),Qe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=an(an({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var f=+(l==="left"&&!u||l==="right"&&u);d=an(an({},d),{},{x1:i+f*s,y1:a,x2:i+f*s,y2:a+o})}return ne.createElement("line",qc({},d,{className:qe("recharts-cartesian-axis-line",_i(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,d=o.tickFormatter,h=o.unit,f=QP(an(an({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Qe(this.props,!1),y=Qe(c,!1),b=an(an({},v),{},{fill:"none"},Qe(l,!1)),x=f.map(function(k,S){var w=s.getTickLineCoord(k),A=w.line,E=w.tick,C=an(an(an(an({textAnchor:m,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),E),{},{index:S,payload:k,visibleTicksCount:f.length,tickFormatter:d});return ne.createElement(qt,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},H0(s.props,k,S)),l&&ne.createElement("line",qc({},b,A,{className:qe("recharts-cartesian-axis-tick-line",_i(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(Ue(d)?d(k.value,S):k.value).concat(h||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,f=Q1(d,ZSe),m=h;return Ue(l)&&(m=h&&h.length>0?l(this.props):l(f)),s<=0||o<=0||!m||!m.length?null:ne.createElement(qt,{className:qe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=qe(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?s=ne.cloneElement(r,an(an({},i),{},{className:o})):Ue(r)?s=r(an(an({},i),{},{className:o})):s=ne.createElement(rb,qc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(N.Component);JP(uf,"displayName","CartesianAxis");JP(uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ske=["x1","y1","x2","y2","key"],oke=["offset"];function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lke(t,e,n){return e=uke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uke(t){var e=cke(t,"string");return ec(e)=="symbol"?e:e+""}function cke(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}function HR(t,e){if(t==null)return{};var n=dke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function E6(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=HR(e,ske),u=Qe(l,!1);u.offset;var c=HR(u,oke);n=ne.createElement("line",Bl({},c,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function fke(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Kn(Kn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return E6(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Kn(Kn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return E6(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mke(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var m=!c[f+1],p=m?i+s-h:c[f+1]-h;if(p<=0)return null;var v=f%e.length;return ne.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:p,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var m=!c[f+1],p=m?a+o-h:c[f+1]-h;if(p<=0)return null;var v=f%r.length;return ne.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yke=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return jz(QP(Kn(Kn(Kn({},uf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},vke=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return jz(QP(Kn(Kn(Kn({},uf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function YA(t){var e,n,r,i,a,s,o=XP(),l=YP(),u=aSe(),c=Kn(Kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Sc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Sc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Sc.verticalFill,x:ke(t.x)?t.x:u.left,y:ke(t.y)?t.y:u.top,width:ke(t.width)?t.width:u.width,height:ke(t.height)?t.height:u.height}),d=c.x,h=c.y,f=c.width,m=c.height,p=c.syncWithTicks,v=c.horizontalValues,y=c.verticalValues,b=nSe(),x=rSe();if(!ke(f)||f<=0||!ke(m)||m<=0||!ke(d)||d!==+d||!ke(h)||h!==+h)return null;var k=c.verticalCoordinatesGenerator||yke,S=c.horizontalCoordinatesGenerator||vke,w=c.horizontalPoints,A=c.verticalPoints;if((!w||!w.length)&&Ue(S)){var E=v&&v.length,C=S({yAxis:x?Kn(Kn({},x),{},{ticks:E?v:x.ticks}):void 0,width:o,height:l,offset:u},E?!0:p);js(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ec(C),"]")),Array.isArray(C)&&(w=C)}if((!A||!A.length)&&Ue(k)){var O=y&&y.length,I=k({xAxis:b?Kn(Kn({},b),{},{ticks:O?y:b.ticks}):void 0,width:o,height:l,offset:u},O?!0:p);js(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ec(I),"]")),Array.isArray(I)&&(A=I)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(hke,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),ne.createElement(fke,Bl({},c,{offset:u,horizontalPoints:w,xAxis:b,yAxis:x})),ne.createElement(pke,Bl({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:x})),ne.createElement(mke,Bl({},c,{horizontalPoints:w})),ne.createElement(gke,Bl({},c,{verticalPoints:A})))}YA.displayName="CartesianGrid";var bke=["type","layout","connectNulls","ref"],xke=["key"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function WR(t,e){if(t==null)return{};var n=wke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kc(t){return Ake(t)||_ke(t)||kke(t)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kke(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function _ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ake(t){if(Array.isArray(t))return KA(t)}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P6(r.key),r)}}function Cke(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pke(t,e,n){return e=$b(e),Tke(t,C6()?Reflect.construct(e,n||[],$b(t).constructor):e.apply(t,n))}function Tke(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(t)}function Oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!t})()}function $b(t){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(t)}function Mke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZA(t,e)}function ta(t,e,n){return e=P6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6(t){var e=Nke(t,"string");return Lh(e)=="symbol"?e:e+""}function Nke(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var py=function(t){function e(){var n;Eke(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pke(this,e,[].concat(i)),ta(n,"state",{isAnimationFinished:!0,totalLength:0}),ta(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ta(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(y,b){return y+b});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),d=s%u,h=o-s,f=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>d){f=[].concat(kc(l.slice(0,m)),[d-p]);break}var v=f.length%2===0?[0,h]:[h];return[].concat(kc(e.repeat(l,c)),kc(f),v).map(function(y){return"".concat(y,"px")}).join(", ")}),ta(n,"id",oy("recharts-line-")),ta(n,"pathRef",function(s){n.mainCurve=s}),ta(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ta(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Mke(e,t),Cke(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=Ai(c,fy);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:ri(p.payload,v)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(qt,f,d.map(function(m){return ne.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,d=Qe(this.props,!1),h=Qe(l,!0),f=u.map(function(p,v){var y=Lr(Lr(Lr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:c,payload:p.payload,points:u});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(qt,_p({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var d=WR(o,bke),h=Lr(Lr(Lr({},Qe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return ne.createElement(CA,_p({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,f=s.animationId,m=s.animateNewValues,p=s.width,v=s.height,y=this.state,b=y.prevPoints,x=y.totalLength;return ne.createElement(Gs,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(b){var w=b.length/o.length,A=o.map(function(T,j){var P=Math.floor(j*w);if(b[P]){var $=b[P],X=ra($.x,T.x),U=ra($.y,T.y);return Lr(Lr({},T),{},{x:X(S),y:U(S)})}if(m){var q=ra(p*2,T.x),G=ra(v/2,T.y);return Lr(Lr({},T),{},{x:q(S),y:G(S)})}return Lr(Lr({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(A,r,i)}var E=ra(0,x),C=E(S),O;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=a.getStrokeDasharray(C,x,I)}else O=a.generateSimpleStrokeDasharray(x,C);return a.renderCurveStatically(o,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!mw(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,f=i.width,m=i.height,p=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=qe("recharts-line",l),k=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,w=k||S,A=Xe(v)?this.id:v,E=(r=Qe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=E.r,O=C===void 0?3:C,I=E.strokeWidth,T=I===void 0?2:I,j=Hne(s)?s:{},P=j.clipDot,$=P===void 0?!0:P,X=O*2+T;return ne.createElement(qt,{className:x},k||S?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(A)},ne.createElement("rect",{x:k?h:h-f/2,y:S?d:d-m/2,width:k?f:f*2,height:S?m:m*2})),!$&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ne.createElement("rect",{x:h-X/2,y:d-X/2,width:f+X,height:m+X}))):null,!b&&this.renderCurve(w,A),this.renderErrorBar(w,A),(b||s)&&this.renderDots(w,$,A),(!p||y)&&el.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(kc(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(kc(s),kc(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(ne.isValidElement(r))a=ne.cloneElement(r,i);else if(Ue(r))a=r(i);else{var s=i.key,o=WR(i,xke),l=qe("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ne.createElement(WP,_p({key:s},o,{className:l}))}return a}}])}(N.PureComponent);ta(py,"displayName","Line");ta(py,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!af.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ta(py,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,f){var m=ri(h,s);return c==="horizontal"?{x:TI({axis:n,ticks:i,bandSize:o,entry:h,index:f}),y:Xe(m)?null:r.scale(m),value:m,payload:h}:{x:Xe(m)?null:n.scale(m),y:TI({axis:r,ticks:a,bandSize:o,entry:h,index:f}),value:m,payload:h}});return Lr({points:d,layout:c},u)});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Ike(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M6(r.key),r)}}function jke(t,e,n){return e&&Rke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,n){return e=Fb(e),Dke(t,T6()?Reflect.construct(e,n||[],Fb(t).constructor):e.apply(t,n))}function Dke(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ke(t)}function $ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!t})()}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(t)}function Fke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function O6(t,e,n){return e=M6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t){var e=Bke(t,"string");return Dh(e)=="symbol"?e:e+""}function Bke(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function zke(t){var e=t.xAxisId,n=XP(),r=YP(),i=m6(e);return i==null?null:N.createElement(uf,JA({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ms(s,!0)}}))}var $h=function(t){function e(){return Ike(this,e),Lke(this,e,arguments)}return Fke(e,t),jke(e,[{key:"render",value:function(){return N.createElement(zke,this.props)}}])}(N.Component);O6($h,"displayName","XAxis");O6($h,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function Wke(t,e,n){return e&&Hke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,n){return e=Bb(e),Gke(t,N6()?Reflect.construct(e,n||[],Bb(t).constructor):e.apply(t,n))}function Gke(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qke(t)}function qke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N6=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bb(t)}function Xke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function I6(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=Yke(t,"string");return Fh(e)=="symbol"?e:e+""}function Yke(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}var Kke=function(e){var n=e.yAxisId,r=XP(),i=YP(),a=g6(n);return a==null?null:N.createElement(uf,tE({},a,{className:qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ms(o,!0)}}))},Bh=function(t){function e(){return Uke(this,e),Vke(this,e,arguments)}return Xke(e,t),Wke(e,[{key:"render",value:function(){return N.createElement(Kke,this.props)}}])}(N.Component);I6(Bh,"displayName","YAxis");I6(Bh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qR(t){return e_e(t)||Jke(t)||Qke(t)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qke(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function Jke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e_e(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rE=function(e,n,r,i,a){var s=Ai(e,ZP),o=Ai(e,Sw),l=[].concat(qR(s),qR(o)),u=Ai(e,_w),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(p,v){if(v.props[c]===r&&za(v.props,"extendDomain")&&ke(v.props[d])){var y=v.props[d];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var f="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(p,v){if(v.props[c]===r&&za(v.props,"extendDomain")&&ke(v.props[f])&&ke(v.props[m])){var y=v.props[f],b=v.props[m];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,v){return ke(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},j6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,f,m){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,f),!0;case 6:return v.fn.call(v.context,c,d,h,f,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var k=v.length,S;for(x=0;x<k;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,d);break;case 4:v[x].fn.call(v[x].context,c,d,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&s(this,f);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==c||h&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[f]=v.length===1?v[0]:v:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(j6);var t_e=j6.exports;const n_e=nt(t_e);var J1=new n_e,eS="recharts.syncMouseEvents";function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L6(r.key),r)}}function a_e(t,e,n){return e&&i_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tS(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=s_e(t,"string");return Pm(e)=="symbol"?e:e+""}function s_e(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o_e=function(){function t(){r_e(this,t),tS(this,"activeIndex",0),tS(this,"coordinateList",[]),tS(this,"layout","horizontal")}return a_e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,h=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function l_e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function u_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function D6(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Rn(e,n,r,i),o=Rn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function c_e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Rn(o,l,u,d),f=Rn(o,l,c,d);r=h.x,i=h.y,a=f.x,s=f.y}else return D6(e);return[{x:r,y:i},{x:a,y:s}]}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){d_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_e(t,e,n){return e=h_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h_e(t){var e=f_e(t,"string");return Tm(e)=="symbol"?e:e+""}function f_e(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p_e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,p=CA;if(h==="ScatterChart")m=s,p=pxe;else if(h==="BarChart")m=u_e(d,s,l,c),p=HP;else if(d==="radial"){var v=D6(s),y=v.cx,b=v.cy,x=v.radius,k=v.startAngle,S=v.endAngle;m={cx:y,cy:b,startAngle:k,endAngle:S,innerRadius:x,outerRadius:x},p=Bz}else m={points:c_e(d,s,l)},p=CA;var w=sv(sv(sv(sv({stroke:"#ccc",pointerEvents:"none"},l),m),Qe(f,!1)),{},{payload:o,payloadIndex:u,className:qe("recharts-tooltip-cursor",f.className)});return N.isValidElement(f)?N.cloneElement(f,w):N.createElement(p,w)}var m_e=["item"],g_e=["children","className","width","height","style","compact","title","desc"];function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function YR(t,e){return b_e(t)||v_e(t,e)||F6(t,e)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function b_e(t){if(Array.isArray(t))return t}function KR(t,e){if(t==null)return{};var n=x_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B6(r.key),r)}}function k_e(t,e,n){return e&&S_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function __e(t,e,n){return e=zb(e),A_e(t,$6()?Reflect.construct(e,n||[],zb(t).constructor):e.apply(t,n))}function A_e(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_e(t)}function E_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function zb(t){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zb(t)}function C_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(t,e)}function Uh(t){return O_e(t)||T_e(t)||F6(t)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function T_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O_e(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ne(t,e,n){return e=B6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B6(t){var e=M_e(t,"string");return zh(e)=="symbol"?e:e+""}function M_e(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N_e={xAxis:["bottom","top"],yAxis:["left","right"]},I_e={width:"100%",height:"100%"},z6={x:0,y:0};function ov(t){return t}var R_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},j_e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ce(ce(ce({},i),Rn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return ce(ce(ce({},i),Rn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return z6},Aw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Uh(o),Uh(u)):o},[]);return s.length>0?s:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function U6(t){return t==="number"?[0,"auto"]:void 0}var sE=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Aw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var f=d===void 0?o:d;h=z0(f,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Uh(l),[Dz(u,h)]):l},[])},QR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=R_e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Gye(s,o,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=sE(e,n,c,d),f=j_e(r,o,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},L_e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,f=Rz(c,a);return r.reduce(function(m,p){var v,y=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,b=y.type,x=y.dataKey,k=y.allowDataOverflow,S=y.allowDuplicatedCategory,w=y.scale,A=y.ticks,E=y.includeHidden,C=y[s];if(m[C])return m;var O=Aw(e.data,{graphicalItems:i.filter(function(H){var L,ae=s in H.props?H.props[s]:(L=H.type.defaultProps)===null||L===void 0?void 0:L[s];return ae===C}),dataStartIndex:l,dataEndIndex:u}),I=O.length,T,j,P;l_e(y.domain,k,b)&&(T=SA(y.domain,null,k),f&&(b==="number"||w!=="auto")&&(P=Sp(O,x,"category")));var $=U6(b);if(!T||T.length===0){var X,U=(X=y.domain)!==null&&X!==void 0?X:$;if(x){if(T=Sp(O,x,b),b==="category"&&f){var q=Ine(T);S&&q?(j=T,T=Pb(0,I)):S||(T=II(U,T,p).reduce(function(H,L){return H.indexOf(L)>=0?H:[].concat(Uh(H),[L])},[]))}else if(b==="category")S?T=T.filter(function(H){return H!==""&&!Xe(H)}):T=II(U,T,p).reduce(function(H,L){return H.indexOf(L)>=0||L===""||Xe(L)?H:[].concat(Uh(H),[L])},[]);else if(b==="number"){var G=Zye(O,i.filter(function(H){var L,ae,Z=s in H.props?H.props[s]:(L=H.type.defaultProps)===null||L===void 0?void 0:L[s],de="hide"in H.props?H.props.hide:(ae=H.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return Z===C&&(E||!de)}),x,a,c);G&&(T=G)}f&&(b==="number"||w!=="auto")&&(P=Sp(O,x,"category"))}else f?T=Pb(0,I):o&&o[C]&&o[C].hasStack&&b==="number"?T=h==="expand"?[0,1]:Lz(o[C].stackGroups,l,u):T=Iz(O,i.filter(function(H){var L=s in H.props?H.props[s]:H.type.defaultProps[s],ae="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return L===C&&(E||!ae)}),b,c,!0);if(b==="number")T=rE(d,T,C,a,A),U&&(T=SA(U,T,k));else if(b==="category"&&U){var R=U,B=T.every(function(H){return R.indexOf(H)>=0});B&&(T=R)}}return ce(ce({},m),{},Ne({},C,ce(ce({},y),{},{axisType:a,domain:T,categoricalDomain:P,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:$,isCategorical:f,layout:c})))},{})},D_e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Aw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),f=h.length,m=Rz(c,a),p=-1;return r.reduce(function(v,y){var b=y.type.defaultProps!==void 0?ce(ce({},y.type.defaultProps),y.props):y.props,x=b[s],k=U6("number");if(!v[x]){p++;var S;return m?S=Pb(0,f):o&&o[x]&&o[x].hasStack?(S=Lz(o[x].stackGroups,l,u),S=rE(d,S,x,a)):(S=SA(k,Iz(h,r.filter(function(w){var A,E,C=s in w.props?w.props[s]:(A=w.type.defaultProps)===null||A===void 0?void 0:A[s],O="hide"in w.props?w.props.hide:(E=w.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===x&&!O}),"number",c),i.defaultProps.allowDataOverflow),S=rE(d,S,x,a)),ce(ce({},v),{},Ne({},x,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:_i(N_e,"".concat(a,".").concat(p%2),null),domain:S,originalDomain:k,isCategorical:m,layout:c})))}return v},{})},$_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Ai(c,a),f={};return h&&h.length?f=L_e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(f=D_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),f},F_e=function(e){var n=co(e),r=Ms(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:vb(n,r)}},JR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xr(n,Oh),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},B_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Rs(n&&n.type);return r&&r.indexOf("Bar")>=0})},ej=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},z_e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,c=r.height,d=r.children,h=r.margin||{},f=Xr(d,Oh),m=Xr(d,ud),p=Object.keys(l).reduce(function(S,w){var A=l[w],E=A.orientation;return!A.mirror&&!A.hide?ce(ce({},S),{},Ne({},E,S[E]+A.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,w){var A=s[w],E=A.orientation;return!A.mirror&&!A.hide?ce(ce({},S),{},Ne({},E,_i(S,"".concat(E))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=ce(ce({},v),p),b=y.bottom;f&&(y.bottom+=f.props.height||Oh.defaultProps.height),m&&n&&(y=Yye(y,i,r,n));var x=u-y.left-y.right,k=c-y.top-y.bottom;return ce(ce({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(k,0)})},U_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},H6=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(y,b){var x=b.graphicalItems,k=b.stackGroups,S=b.offset,w=b.updateId,A=b.dataStartIndex,E=b.dataEndIndex,C=y.barSize,O=y.layout,I=y.barGap,T=y.barCategoryGap,j=y.maxBarSize,P=ej(O),$=P.numericAxisName,X=P.cateAxisName,U=B_e(x),q=[];return x.forEach(function(G,R){var B=Aw(y.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:E}),H=G.type.defaultProps!==void 0?ce(ce({},G.type.defaultProps),G.props):G.props,L=H.dataKey,ae=H.maxBarSize,Z=H["".concat($,"Id")],de=H["".concat(X,"Id")],Se={},ge=l.reduce(function(ue,re){var me=b["".concat(re.axisType,"Map")],ve=H["".concat(re.axisType,"Id")];me&&me[ve]||re.axisType==="zAxis"||Je(!1);var pe=me[ve];return ce(ce({},ue),{},Ne(Ne({},re.axisType,pe),"".concat(re.axisType,"Ticks"),Ms(pe)))},Se),ie=ge[X],he=ge["".concat(X,"Ticks")],fe=k&&k[Z]&&k[Z].hasStack&&uve(G,k[Z].stackGroups),te=Rs(G.type).indexOf("Bar")>=0,ye=vb(ie,he),M=[],ee=U&&qye({barSize:C,stackGroups:k,totalSize:U_e(ge,X)});if(te){var K,V,W=Xe(ae)?j:ae,Y=(K=(V=vb(ie,he,!0))!==null&&V!==void 0?V:W)!==null&&K!==void 0?K:0;M=Xye({barGap:I,barCategoryGap:T,bandSize:Y!==ye?Y:ye,sizeList:ee[de],maxBarSize:W}),Y!==ye&&(M=M.map(function(ue){return ce(ce({},ue),{},{position:ce(ce({},ue.position),{},{offset:ue.position.offset-Y/2})})}))}var se=G&&G.type&&G.type.getComposedData;se&&q.push({props:ce(ce({},se(ce(ce({},ge),{},{displayedData:B,props:y,dataKey:L,item:G,bandSize:ye,barPosition:M,offset:S,stackedData:fe,layout:O,dataStartIndex:A,dataEndIndex:E}))),{},Ne(Ne(Ne({key:G.key||"item-".concat(R)},$,ge[$]),X,ge[X]),"animationId",w)),childIndex:Gne(G,y.children),item:G})}),q},f=function(y,b){var x=y.props,k=y.dataStartIndex,S=y.dataEndIndex,w=y.updateId;if(!EM({props:x}))return null;var A=x.children,E=x.layout,C=x.stackOffset,O=x.data,I=x.reverseStackOrder,T=ej(E),j=T.numericAxisName,P=T.cateAxisName,$=Ai(A,r),X=sve(O,$,"".concat(j,"Id"),"".concat(P,"Id"),C,I),U=l.reduce(function(H,L){var ae="".concat(L.axisType,"Map");return ce(ce({},H),{},Ne({},ae,$_e(x,ce(ce({},L),{},{graphicalItems:$,stackGroups:L.axisType===j&&X,dataStartIndex:k,dataEndIndex:S}))))},{}),q=z_e(ce(ce({},U),{},{props:x,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(H){U[H]=c(x,U[H],q,H.replace("Map",""),n)});var G=U["".concat(P,"Map")],R=F_e(G),B=h(x,ce(ce({},U),{},{dataStartIndex:k,dataEndIndex:S,updateId:w,graphicalItems:$,stackGroups:X,offset:q}));return ce(ce({formattedGraphicalItems:B,graphicalItems:$,offset:q,stackGroups:X},R),U)},m=function(v){function y(b){var x,k,S;return w_e(this,y),S=__e(this,y,[b]),Ne(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(S,"accessibilityManager",new o_e),Ne(S,"handleLegendBBoxUpdate",function(w){if(w){var A=S.state,E=A.dataStartIndex,C=A.dataEndIndex,O=A.updateId;S.setState(ce({legendBBox:w},f({props:S.props,dataStartIndex:E,dataEndIndex:C,updateId:O},ce(ce({},S.state),{},{legendBBox:w}))))}}),Ne(S,"handleReceiveSyncEvent",function(w,A,E){if(S.props.syncId===w){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),Ne(S,"handleBrushChange",function(w){var A=w.startIndex,E=w.endIndex;if(A!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return ce({dataStartIndex:A,dataEndIndex:E},f({props:S.props,dataStartIndex:A,dataEndIndex:E,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),Ne(S,"handleMouseEnter",function(w){var A=S.getMouseInfo(w);if(A){var E=ce(ce({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseEnter;Ue(C)&&C(E,w)}}),Ne(S,"triggeredAfterMouseMove",function(w){var A=S.getMouseInfo(w),E=A?ce(ce({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseMove;Ue(C)&&C(E,w)}),Ne(S,"handleItemMouseEnter",function(w){S.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Ne(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ne(S,"handleMouseMove",function(w){w.persist(),S.throttleTriggeredAfterMouseMove(w)}),Ne(S,"handleMouseLeave",function(w){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var E=S.props.onMouseLeave;Ue(E)&&E(A,w)}),Ne(S,"handleOuterEvent",function(w){var A=Vne(w),E=_i(S.props,"".concat(A));if(A&&Ue(E)){var C,O;/.*touch.*/i.test(A)?O=S.getMouseInfo(w.changedTouches[0]):O=S.getMouseInfo(w),E((C=O)!==null&&C!==void 0?C:{},w)}}),Ne(S,"handleClick",function(w){var A=S.getMouseInfo(w);if(A){var E=ce(ce({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var C=S.props.onClick;Ue(C)&&C(E,w)}}),Ne(S,"handleMouseDown",function(w){var A=S.props.onMouseDown;if(Ue(A)){var E=S.getMouseInfo(w);A(E,w)}}),Ne(S,"handleMouseUp",function(w){var A=S.props.onMouseUp;if(Ue(A)){var E=S.getMouseInfo(w);A(E,w)}}),Ne(S,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Ne(S,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&S.handleMouseDown(w.changedTouches[0])}),Ne(S,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&S.handleMouseUp(w.changedTouches[0])}),Ne(S,"handleDoubleClick",function(w){var A=S.props.onDoubleClick;if(Ue(A)){var E=S.getMouseInfo(w);A(E,w)}}),Ne(S,"handleContextMenu",function(w){var A=S.props.onContextMenu;if(Ue(A)){var E=S.getMouseInfo(w);A(E,w)}}),Ne(S,"triggerSyncEvent",function(w){S.props.syncId!==void 0&&J1.emit(eS,S.props.syncId,w,S.eventEmitterSymbol)}),Ne(S,"applySyncEvent",function(w){var A=S.props,E=A.layout,C=A.syncMethod,O=S.state.updateId,I=w.dataStartIndex,T=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)S.setState(ce({dataStartIndex:I,dataEndIndex:T},f({props:S.props,dataStartIndex:I,dataEndIndex:T,updateId:O},S.state)));else if(w.activeTooltipIndex!==void 0){var j=w.chartX,P=w.chartY,$=w.activeTooltipIndex,X=S.state,U=X.offset,q=X.tooltipTicks;if(!U)return;if(typeof C=="function")$=C(q,w);else if(C==="value"){$=-1;for(var G=0;G<q.length;G++)if(q[G].value===w.activeLabel){$=G;break}}var R=ce(ce({},U),{},{x:U.left,y:U.top}),B=Math.min(j,R.x+R.width),H=Math.min(P,R.y+R.height),L=q[$]&&q[$].value,ae=sE(S.state,S.props.data,$),Z=q[$]?{x:E==="horizontal"?q[$].coordinate:B,y:E==="horizontal"?H:q[$].coordinate}:z6;S.setState(ce(ce({},w),{},{activeLabel:L,activeCoordinate:Z,activePayload:ae,activeTooltipIndex:$}))}else S.setState(w)}),Ne(S,"renderCursor",function(w){var A,E=S.state,C=E.isTooltipActive,O=E.activeCoordinate,I=E.activePayload,T=E.offset,j=E.activeTooltipIndex,P=E.tooltipAxisBandSize,$=S.getTooltipEventType(),X=(A=w.props.active)!==null&&A!==void 0?A:C,U=S.props.layout,q=w.key||"_recharts-cursor";return ne.createElement(p_e,{key:q,activeCoordinate:O,activePayload:I,activeTooltipIndex:j,chartName:n,element:w,isActive:X,layout:U,offset:T,tooltipAxisBandSize:P,tooltipEventType:$})}),Ne(S,"renderPolarAxis",function(w,A,E){var C=_i(w,"type.axisType"),O=_i(S.state,"".concat(C,"Map")),I=w.type.defaultProps,T=I!==void 0?ce(ce({},I),w.props):w.props,j=O&&O[T["".concat(C,"Id")]];return N.cloneElement(w,ce(ce({},j),{},{className:qe(C,j.className),key:w.key||"".concat(A,"-").concat(E),ticks:Ms(j,!0)}))}),Ne(S,"renderPolarGrid",function(w){var A=w.props,E=A.radialLines,C=A.polarAngles,O=A.polarRadius,I=S.state,T=I.radiusAxisMap,j=I.angleAxisMap,P=co(T),$=co(j),X=$.cx,U=$.cy,q=$.innerRadius,G=$.outerRadius;return N.cloneElement(w,{polarAngles:Array.isArray(C)?C:Ms($,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(O)?O:Ms(P,!0).map(function(R){return R.coordinate}),cx:X,cy:U,innerRadius:q,outerRadius:G,key:w.key||"polar-grid",radialLines:E})}),Ne(S,"renderLegend",function(){var w=S.state.formattedGraphicalItems,A=S.props,E=A.children,C=A.width,O=A.height,I=S.props.margin||{},T=C-(I.left||0)-(I.right||0),j=Mz({children:E,formattedGraphicalItems:w,legendWidth:T,legendContent:u});if(!j)return null;var P=j.item,$=KR(j,m_e);return N.cloneElement(P,ce(ce({},$),{},{chartWidth:C,chartHeight:O,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ne(S,"renderTooltip",function(){var w,A=S.props,E=A.children,C=A.accessibilityLayer,O=Xr(E,Ji);if(!O)return null;var I=S.state,T=I.isTooltipActive,j=I.activeCoordinate,P=I.activePayload,$=I.activeLabel,X=I.offset,U=(w=O.props.active)!==null&&w!==void 0?w:T;return N.cloneElement(O,{viewBox:ce(ce({},X),{},{x:X.left,y:X.top}),active:U,label:$,payload:U?P:[],coordinate:j,accessibilityLayer:C})}),Ne(S,"renderBrush",function(w){var A=S.props,E=A.margin,C=A.data,O=S.state,I=O.offset,T=O.dataStartIndex,j=O.dataEndIndex,P=O.updateId;return N.cloneElement(w,{key:w.key||"_recharts-brush",onChange:nv(S.handleBrushChange,w.props.onChange),data:C,x:ke(w.props.x)?w.props.x:I.left,y:ke(w.props.y)?w.props.y:I.top+I.height+I.brushBottom-(E.bottom||0),width:ke(w.props.width)?w.props.width:I.width,startIndex:T,endIndex:j,updateId:"brush-".concat(P)})}),Ne(S,"renderReferenceElement",function(w,A,E){if(!w)return null;var C=S,O=C.clipPathId,I=S.state,T=I.xAxisMap,j=I.yAxisMap,P=I.offset,$=w.type.defaultProps||{},X=w.props,U=X.xAxisId,q=U===void 0?$.xAxisId:U,G=X.yAxisId,R=G===void 0?$.yAxisId:G;return N.cloneElement(w,{key:w.key||"".concat(A,"-").concat(E),xAxis:T[q],yAxis:j[R],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:O})}),Ne(S,"renderActivePoints",function(w){var A=w.item,E=w.activePoint,C=w.basePoint,O=w.childIndex,I=w.isRange,T=[],j=A.props.key,P=A.item.type.defaultProps!==void 0?ce(ce({},A.item.type.defaultProps),A.item.props):A.item.props,$=P.activeDot,X=P.dataKey,U=ce(ce({index:O,dataKey:X,cx:E.x,cy:E.y,r:4,fill:UP(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Qe($,!1)),U0($));return T.push(y.renderActiveDot($,U,"".concat(j,"-activePoint-").concat(O))),C?T.push(y.renderActiveDot($,ce(ce({},U),{},{cx:C.x,cy:C.y}),"".concat(j,"-basePoint-").concat(O))):I&&T.push(null),T}),Ne(S,"renderGraphicChild",function(w,A,E){var C=S.filterFormatItem(w,A,E);if(!C)return null;var O=S.getTooltipEventType(),I=S.state,T=I.isTooltipActive,j=I.tooltipAxis,P=I.activeTooltipIndex,$=I.activeLabel,X=S.props.children,U=Xr(X,Ji),q=C.props,G=q.points,R=q.isRange,B=q.baseLine,H=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,L=H.activeDot,ae=H.hide,Z=H.activeBar,de=H.activeShape,Se=!!(!ae&&T&&U&&(L||Z||de)),ge={};O!=="axis"&&U&&U.props.trigger==="click"?ge={onClick:nv(S.handleItemMouseEnter,w.props.onClick)}:O!=="axis"&&(ge={onMouseLeave:nv(S.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:nv(S.handleItemMouseEnter,w.props.onMouseEnter)});var ie=N.cloneElement(w,ce(ce({},C.props),ge));function he(re){return typeof j.dataKey=="function"?j.dataKey(re.payload):null}if(Se)if(P>=0){var fe,te;if(j.dataKey&&!j.allowDuplicatedCategory){var ye=typeof j.dataKey=="function"?he:"payload.".concat(j.dataKey.toString());fe=z0(G,ye,$),te=R&&B&&z0(B,ye,$)}else fe=G==null?void 0:G[P],te=R&&B&&B[P];if(de||Z){var M=w.props.activeIndex!==void 0?w.props.activeIndex:P;return[N.cloneElement(w,ce(ce(ce({},C.props),ge),{},{activeIndex:M})),null,null]}if(!Xe(fe))return[ie].concat(Uh(S.renderActivePoints({item:C,activePoint:fe,basePoint:te,childIndex:P,isRange:R})))}else{var ee,K=(ee=S.getItemByXY(S.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:ie},V=K.graphicalItem,W=V.item,Y=W===void 0?w:W,se=V.childIndex,ue=ce(ce(ce({},C.props),ge),{},{activeIndex:se});return[N.cloneElement(Y,ue),null,null]}return R?[ie,null,null]:[ie,null]}),Ne(S,"renderCustomized",function(w,A,E){return N.cloneElement(w,ce(ce({key:"recharts-customized-".concat(E)},S.props),S.state))}),Ne(S,"renderMap",{CartesianGrid:{handler:ov,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ov},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ov},YAxis:{handler:ov},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:oy("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=M5(S.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),S.state={},S}return C_e(y,v),k_e(y,[{key:"componentDidMount",value:function(){var x,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,k=x.children,S=x.data,w=x.height,A=x.layout,E=Xr(k,Ji);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=sE(this.state,S,C,O),T=this.state.tooltipTicks[C].coordinate,j=(this.state.offset.top+w)/2,P=A==="horizontal",$=P?{x:T,y:j}:{y:T,x:j},X=this.state.formattedGraphicalItems.find(function(q){var G=q.item;return G.type.name==="Scatter"});X&&($=ce(ce({},$),X.props.points[C].tooltipPosition),I=X.props.points[C].tooltipPayload);var U={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:$};this.setState(U),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,w;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){D_([Xr(x.children,Ji)],[Xr(this.props.children,Ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Xr(this.props.children,Ji);if(x&&typeof x.props.shared=="boolean"){var k=x.props.shared?"axis":"item";return o.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var k=this.container,S=k.getBoundingClientRect(),w=bfe(S),A={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},E=S.width/k.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,E);if(!C)return null;var O=this.state,I=O.xAxisMap,T=O.yAxisMap,j=this.getTooltipEventType(),P=QR(this.state,this.props.data,this.props.layout,C);if(j!=="axis"&&I&&T){var $=co(I).scale,X=co(T).scale,U=$&&$.invert?$.invert(A.chartX):null,q=X&&X.invert?X.invert(A.chartY):null;return ce(ce({},A),{},{xValue:U,yValue:q},P)}return P?ce(ce({},A),P):null}},{key:"inRange",value:function(x,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,A=x/S,E=k/S;if(w==="horizontal"||w==="vertical"){var C=this.state.offset,O=A>=C.left&&A<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return O?{x:A,y:E}:null}var I=this.state,T=I.angleAxisMap,j=I.radiusAxisMap;if(T&&j){var P=co(T);return LI({x:A,y:E},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,k=this.getTooltipEventType(),S=Xr(x,Ji),w={};S&&k==="axis"&&(S.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=U0(this.props,this.handleOuterEvent);return ce(ce({},A),w)}},{key:"addListener",value:function(){J1.on(eS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J1.removeListener(eS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,k,S){for(var w=this.state.formattedGraphicalItems,A=0,E=w.length;A<E;A++){var C=w[A];if(C.item===x||C.props.key===x.key||k===Rs(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,k=this.state.offset,S=k.left,w=k.top,A=k.height,E=k.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:x},ne.createElement("rect",{x:S,y:w,height:A,width:E})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(k,S){var w=YR(S,2),A=w[0],E=w[1];return ce(ce({},k),{},Ne({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(k,S){var w=YR(S,2),A=w[0],E=w[1];return ce(ce({},k),{},Ne({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(x){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(x){var k=this.state,S=k.formattedGraphicalItems,w=k.activeItem;if(S&&S.length)for(var A=0,E=S.length;A<E;A++){var C=S[A],O=C.props,I=C.item,T=I.type.defaultProps!==void 0?ce(ce({},I.type.defaultProps),I.props):I.props,j=Rs(I.type);if(j==="Bar"){var P=(O.data||[]).find(function(q){return ixe(x,q)});if(P)return{graphicalItem:C,payload:P}}else if(j==="RadialBar"){var $=(O.data||[]).find(function(q){return LI(x,q)});if($)return{graphicalItem:C,payload:$}}else if(vw(C,w)||bw(C,w)||km(C,w)){var X=owe({graphicalItem:C,activeTooltipItem:w,itemData:T.data}),U=T.activeIndex===void 0?X:T.activeIndex;return{graphicalItem:ce(ce({},C),{},{childIndex:U}),payload:km(C,w)?T.data[X]:C.props.data[X]}}}return null}},{key:"render",value:function(){var x=this;if(!EM(this))return null;var k=this.props,S=k.children,w=k.className,A=k.width,E=k.height,C=k.style,O=k.compact,I=k.title,T=k.desc,j=KR(k,g_e),P=Qe(j,!1);if(O)return ne.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(F_,Xc({},P,{width:A,height:E,title:I,desc:T}),this.renderClipPath(),PM(S,this.renderMap)));if(this.props.accessibilityLayer){var $,X;P.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,P.role=(X=this.props.role)!==null&&X!==void 0?X:"application",P.onKeyDown=function(q){x.accessibilityManager.keyboardEvent(q)},P.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return ne.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Xc({className:qe("recharts-wrapper",w),style:ce({position:"relative",cursor:"default",width:A,height:E},C)},U,{ref:function(G){x.container=G}}),ne.createElement(F_,Xc({},P,{width:A,height:E,title:I,desc:T,style:I_e}),this.renderClipPath(),PM(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Ne(m,"displayName",n),Ne(m,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ne(m,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,k=v.children,S=v.width,w=v.height,A=v.layout,E=v.stackOffset,C=v.margin,O=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var T=JR(v);return ce(ce(ce({},T),{},{updateId:0},f(ce(ce({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:w,prevLayout:A,prevStackOffset:E,prevMargin:C,prevChildren:k})}if(b!==y.prevDataKey||x!==y.prevData||S!==y.prevWidth||w!==y.prevHeight||A!==y.prevLayout||E!==y.prevStackOffset||!ld(C,y.prevMargin)){var j=JR(v),P={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=ce(ce({},QR(y,x,A)),{},{updateId:y.updateId+1}),X=ce(ce(ce({},j),P),$);return ce(ce(ce({},X),f(ce({props:v},X),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:w,prevLayout:A,prevStackOffset:E,prevMargin:C,prevChildren:k})}if(!D_(k,y.prevChildren)){var U,q,G,R,B=Xr(k,Oh),H=B&&(U=(q=B.props)===null||q===void 0?void 0:q.startIndex)!==null&&U!==void 0?U:O,L=B&&(G=(R=B.props)===null||R===void 0?void 0:R.endIndex)!==null&&G!==void 0?G:I,ae=H!==O||L!==I,Z=!Xe(x),de=Z&&!ae?y.updateId:y.updateId+1;return ce(ce({updateId:de},f(ce(ce({props:v},y),{},{updateId:de,dataStartIndex:H,dataEndIndex:L}),y)),{},{prevChildren:k,dataStartIndex:H,dataEndIndex:L})}return null}),Ne(m,"renderActiveDot",function(v,y,b){var x;return N.isValidElement(v)?x=N.cloneElement(v,y):Ue(v)?x=v(y):x=ne.createElement(WP,y),ne.createElement(qt,{className:"recharts-active-dot",key:b},x)});var p=N.forwardRef(function(y,b){return ne.createElement(m,Xc({},y,{ref:b}))});return p.displayName=m.displayName,p},H_e=H6({chartName:"LineChart",GraphicalChild:py,axisComponents:[{axisType:"xAxis",AxisComp:$h},{axisType:"yAxis",AxisComp:Bh}],formatAxisMap:o6}),W_e=H6({chartName:"BarChart",GraphicalChild:pc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$h},{axisType:"yAxis",AxisComp:Bh}],formatAxisMap:o6});const W6="csvPrefs";async function V_e(t){return da(W6,t)}async function G_e(t){await Or(W6,{...t,fileId:t.fileId})}function q_e(t){const n=eJ.parse(t,{skipEmptyLines:!0}).data.filter(r=>r.length>0);return n.length?n.map(r=>r.map(i=>(i??"").trim())):n}function V6(t){return String(t).trim().replace(/,/g,"").replace(/\s/g,"")}function X_e(t){if(t==null||String(t).trim()==="")return!1;const e=Number(V6(t));return Number.isFinite(e)}function tj(t,e){let n=0,r=0;for(const i of t){const a=i[e];a==null||String(a).trim()===""||(r++,X_e(String(a))&&n++)}return r>0&&n>=r/2}function nS(t){if(t==null||String(t).trim()==="")return null;const e=Number(V6(t));return Number.isFinite(e)?e:null}function Y_e(t){const e=String(t).trim();return/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d+$/.test(e)}function K_e(){const{items:t,getItem:e}=QD(),n=t.filter(O=>Vc(O)&&O.fileType==="csv"),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState([]),u=r?e(r):null,c=u&&Vc(u)?u:null;N.useEffect(()=>{if(!r){l([]);return}V_e(r).then(O=>s(O??{fileId:r}))},[r]),N.useEffect(()=>{if(!c){l([]);return}l(q_e(c.content))},[c]);const d=N.useCallback(async O=>{if(!r)return;const I={...a,...O,fileId:r};s(I),await G_e(I)},[r,a]),h=o[0]??[],f=o.slice(1),m=a!=null&&a.xColumn&&h.includes(a.xColumn)?a.xColumn:h[0],p=a!=null&&a.yColumn&&h.includes(a.yColumn)?a.yColumn:h[1],v=(a==null?void 0:a.chartType)??"bar",y=(a==null?void 0:a.aggregation)??"sum",b=h.indexOf(m),x=h.indexOf(p),k=x>=0&&tj(f,x),S=b>=0&&tj(f,b),w=f.map(O=>{const I={};return h.forEach((T,j)=>{const P=O[j]??"",$=nS(String(P));I[T]=$!==null?$:P||""}),I}),A=w.some(O=>{const I=O[p];return I!=null&&I!==""&&(typeof I=="number"||!Number.isNaN(Number(I)))}),E=k||A;let C;if(v==="line"){if(C=[...w].map(O=>({...O,[p]:typeof O[p]=="number"?O[p]:nS(String(O[p]??""))})),m&&C.length>0){const O=C[0][m];S&&typeof O=="number"?C.sort((I,T)=>(Number(I[m])??0)-(Number(T[m])??0)):typeof O=="string"&&Y_e(O)&&C.sort((I,T)=>String(I[m]).localeCompare(String(T[m])))}}else{const O=new Map;for(const T of w){const j=String(T[m]??""),$=(typeof T[p]=="number"?T[p]:nS(String(T[p]??"")))??0,X=O.get(j);X?(X.sum+=$,X.count+=1):O.set(j,{sum:$,count:1})}C=[...new Set(w.map(T=>String(T[m]??"")))].map(T=>{const j=O.get(T),P=y==="average"?j.sum/j.count:j.sum;return{[m]:T,[p]:P}})}return n.length===0?_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"CSV Visualizer"}),_.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"No CSV files in your workspace. Import a CSV file from the Workspace section first."})]}):_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("label",{htmlFor:"csv-file-select",className:"mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Select CSV file"}),_.jsxs("select",{id:"csv-file-select",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:r??"",onChange:O=>i(O.target.value||null),children:[_.jsx("option",{value:"",children:"Choose a file..."}),n.map(O=>_.jsx("option",{value:O.id,children:O.name},O.id))]})]}),c&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart options"}),_.jsxs("div",{className:"flex flex-wrap gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-x",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"X axis"}),_.jsx("select",{id:"csv-x",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:m,onChange:O=>d({xColumn:O.target.value}),children:h.map(O=>_.jsx("option",{value:O,children:O},O))})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-y",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Y axis"}),_.jsx("select",{id:"csv-y",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:p,onChange:O=>d({yColumn:O.target.value}),children:h.map(O=>_.jsx("option",{value:O,children:O},O))})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-type",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Chart type"}),_.jsxs("select",{id:"csv-type",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:v,onChange:O=>d({chartType:O.target.value}),children:[_.jsx("option",{value:"bar",children:"Bar"}),_.jsx("option",{value:"line",children:"Line"})]})]}),v==="bar"&&_.jsxs("div",{children:[_.jsx("label",{htmlFor:"csv-agg",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Aggregation"}),_.jsxs("select",{id:"csv-agg",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:y,onChange:O=>d({aggregation:O.target.value}),children:[_.jsx("option",{value:"sum",children:"Sum"}),_.jsx("option",{value:"average",children:"Average"})]})]})]})]}),_.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Table"}),_.jsxs("div",{className:"overflow-x-auto",children:[_.jsxs("table",{className:"w-full min-w-[400px] text-left text-sm",children:[_.jsx("thead",{children:_.jsx("tr",{className:"border-b border-slate-200 dark:border-slate-600",children:h.map(O=>_.jsx("th",{className:"px-2 py-1.5 font-medium text-slate-800 dark:text-slate-100",children:O},O))})}),_.jsx("tbody",{children:f.slice(0,50).map((O,I)=>_.jsx("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:h.map((T,j)=>_.jsx("td",{className:"px-2 py-1.5 text-slate-600 dark:text-slate-400",children:O[j]},j))},I))})]}),f.length>50&&_.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Showing first 50 rows."})]})]}),_.jsxs("div",{className:"h-[300px] rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[_.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart"}),m&&p&&!E?_.jsx("p",{className:"text-amber-600 dark:text-amber-400",children:"Selected Y column has no numeric data."}):m&&p&&C.length>0&&E?_.jsx(hfe,{width:"100%",height:"90%",children:v==="bar"?_.jsxs(W_e,{data:C,children:[_.jsx(YA,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),_.jsx($h,{dataKey:m,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),_.jsx(Bh,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),_.jsx(Ji,{}),_.jsx(pc,{dataKey:p,fill:"#3b82f6"})]}):_.jsxs(H_e,{data:C,children:[_.jsx(YA,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),_.jsx($h,{dataKey:m,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),_.jsx(Bh,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),_.jsx(Ji,{}),_.jsx(py,{type:"monotone",dataKey:p,stroke:"#3b82f6",connectNulls:!1})]})}):_.jsx("p",{className:"text-slate-500",children:"Select X and Y columns to show a chart."})]})]}),r&&!c&&_.jsx("p",{className:"text-slate-500",children:"File not found. It may have been deleted."})]})}function Z_e(){const{theme:t,setTheme:e,font:n,setFont:r,compact:i,setCompact:a,reduceMotion:s,setReduceMotion:o}=Qg();return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),_.jsxs("div",{className:"rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-sm p-6 shadow-lg dark:border-slate-700/60 dark:bg-slate-800/80",children:[_.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:"Theme"}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Choose from Light, Dark, Cyberpunk, Octopus, Pip-Boy, or Lofi."}),_.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:ED.map(l=>_.jsx("button",{type:"button",className:`rounded-xl px-5 py-2.5 text-sm font-medium capitalize transition-all duration-200 ${t===l?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md shadow-blue-500/20":"border border-slate-300/60 bg-white/60 text-slate-700 hover:bg-white hover:shadow-md hover:opacity-95 dark:border-slate-600/60 dark:bg-slate-800/60 dark:text-slate-300 dark:hover:bg-slate-700/80"}`,onClick:()=>e(l),children:l},l))})]}),_.jsxs("div",{className:"rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-sm p-6 shadow-lg dark:border-slate-700/60 dark:bg-slate-800/80",children:[_.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:"Font"}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Choose a typeface for the app. Works with any theme."}),_.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:CD.map(l=>_.jsx("button",{type:"button",className:`rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200 ${n===l?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md shadow-blue-500/20":"border border-slate-300/60 bg-white/60 text-slate-700 hover:bg-white hover:shadow-md hover:opacity-95 dark:border-slate-600/60 dark:bg-slate-800/60 dark:text-slate-300 dark:hover:bg-slate-700/80"}`,onClick:()=>r(l),style:n===l?void 0:{fontFamily:DH(l)},children:jH(l)},l))})]}),_.jsxs("div",{className:"rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-sm p-6 shadow-lg dark:border-slate-700/60 dark:bg-slate-800/80",children:[_.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:"Compact mode"}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Reduce padding and font size across the app."}),_.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[_.jsx("button",{type:"button",role:"switch","aria-checked":i,className:`relative inline-flex h-7 w-12 flex-shrink-0 rounded-full transition-all duration-200 ${i?"bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg shadow-blue-500/25":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>a(!i),children:_.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white shadow-md transition-transform ${i?"translate-x-5":"translate-x-0.5"}`,style:{marginTop:2}})}),_.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:i?"On":"Off"})]})]}),_.jsxs("div",{className:"rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-sm p-6 shadow-lg dark:border-slate-700/60 dark:bg-slate-800/80",children:[_.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:"Reduce motion"}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Minimize animations and transitions. Also respects your system preference."}),_.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[_.jsx("button",{type:"button",role:"switch","aria-checked":s,className:`relative inline-flex h-7 w-12 flex-shrink-0 rounded-full transition-all duration-200 ${s?"bg-gradient-to-r from-blue-500 to-blue-600 shadow-lg shadow-blue-500/25":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>o(!s),children:_.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white shadow-md transition-transform ${s?"translate-x-5":"translate-x-0.5"}`,style:{marginTop:2}})}),_.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:s?"On":"Off"})]})]}),_.jsxs("div",{className:"rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-sm p-6 shadow-lg dark:border-slate-700/60 dark:bg-slate-800/80",children:[_.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:"Theme preview"}),_.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Verify contrast: card, button, input, and flashcard sample."}),_.jsxs("div",{className:"mt-4 space-y-4",children:[_.jsxs("div",{className:"rounded-xl border border-slate-200/60 bg-slate-50/60 p-4 shadow-md dark:border-slate-600/60 dark:bg-slate-700/50",children:[_.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Sample card"}),_.jsx("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-300",children:"Secondary text"})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",className:"rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-2 text-sm font-medium text-white shadow-lg shadow-blue-500/25 hover:from-blue-600 hover:to-blue-700 transition-all duration-200 hover:opacity-95",children:"Primary"}),_.jsx("button",{type:"button",className:"rounded-xl border border-slate-300/60 bg-white/60 px-4 py-2 text-sm font-medium text-slate-700 shadow-md hover:bg-white hover:shadow-lg transition-all duration-200 hover:opacity-95 dark:border-slate-600/60 dark:bg-slate-700/60 dark:text-slate-200 dark:hover:bg-slate-600/80",children:"Secondary"})]}),_.jsx("input",{type:"text",readOnly:!0,value:"Sample input",className:"w-full rounded-xl border border-slate-300/60 bg-white/60 px-4 py-2.5 text-sm text-slate-800 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all dark:border-slate-600/60 dark:bg-slate-800/60 dark:text-slate-200"}),_.jsxs("div",{className:"rounded-xl border-2 border-border-default bg-flashcard p-5 shadow-md",children:[_.jsx("p",{className:"text-sm font-medium text-text-primary",children:"Flashcard sample text"}),_.jsx("p",{className:"mt-2 text-xs text-text-muted",children:"Muted text"})]})]})]})]})}const Q_e={workspace:mB,study:$Q,media:QQ,csv:K_e,settings:Z_e};function J_e(){const{section:t}=sC(),n=Q_e[t??"workspace"]??mB;return _.jsx(n,{})}function eAe(){return _.jsxs(_.Fragment,{children:[_.jsx(fW,{}),_.jsxs(vH,{children:[_.jsx(kl,{path:"/",element:_.jsx(yW,{})}),_.jsxs(kl,{path:"/app",element:_.jsx(HW,{}),children:[_.jsx(kl,{index:!0,element:_.jsx(WW,{})}),_.jsx(kl,{path:"spotify-callback",element:_.jsx(O0,{to:"/app/media",replace:!0})}),_.jsx(kl,{path:":section",element:_.jsx(J_e,{})})]}),_.jsx(kl,{path:"*",element:_.jsx(O0,{to:"/",replace:!0})})]})]})}gD(document.getElementById("root")).render(_.jsx(N.StrictMode,{children:_.jsx(lW,{children:_.jsx(YH,{children:_.jsx(eW,{children:_.jsx(rW,{children:_.jsx(iW,{children:_.jsx(AH,{children:_.jsx(eAe,{})})})})})})})}));

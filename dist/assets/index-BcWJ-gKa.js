var T4=Object.defineProperty;var ZP=t=>{throw TypeError(t)};var O4=(t,e,n)=>e in t?T4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ne=(t,e,n)=>O4(t,typeof e!="symbol"?e+"":e,n),ww=(t,e,n)=>e.has(t)||ZP("Cannot "+n);var m=(t,e,n)=>(ww(t,e,"read from private field"),n?n.call(t):e.get(t)),z=(t,e,n)=>e.has(t)?ZP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),D=(t,e,n,r)=>(ww(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$=(t,e,n)=>(ww(t,e,"access private method"),n);var er=(t,e,n,r)=>({set _(i){D(t,e,i,n)},get _(){return m(t,e,r)}});function I4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qR={exports:{}},tx={},XR={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=Symbol.for("react.element"),M4=Symbol.for("react.portal"),N4=Symbol.for("react.fragment"),R4=Symbol.for("react.strict_mode"),L4=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),D4=Symbol.for("react.context"),$4=Symbol.for("react.forward_ref"),F4=Symbol.for("react.suspense"),B4=Symbol.for("react.memo"),z4=Symbol.for("react.lazy"),QP=Symbol.iterator;function U4(t){return t===null||typeof t!="object"?null:(t=QP&&t[QP]||t["@@iterator"],typeof t=="function"?t:null)}var KR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YR=Object.assign,ZR={};function Hd(t,e,n){this.props=t,this.context=e,this.refs=ZR,this.updater=n||KR}Hd.prototype.isReactComponent={};Hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QR(){}QR.prototype=Hd.prototype;function JA(t,e,n){this.props=t,this.context=e,this.refs=ZR,this.updater=n||KR}var eE=JA.prototype=new QR;eE.constructor=JA;YR(eE,Hd.prototype);eE.isPureReactComponent=!0;var JP=Array.isArray,JR=Object.prototype.hasOwnProperty,tE={current:null},eL={key:!0,ref:!0,__self:!0,__source:!0};function tL(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)JR.call(e,r)&&!eL.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gg,type:t,key:a,ref:s,props:i,_owner:tE.current}}function H4(t,e){return{$$typeof:Gg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gg}function W4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eT=/\/+/g;function Sw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W4(""+t.key):e.toString(36)}function ov(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gg:case M4:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Sw(s,0):r,JP(i)?(n="",t!=null&&(n=t.replace(eT,"$&/")+"/"),ov(i,e,n,"",function(u){return u})):i!=null&&(nE(i)&&(i=H4(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(eT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",JP(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Sw(a,o);s+=ov(a,e,n,l,i)}else if(l=U4(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Sw(a,o++),s+=ov(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gy(t,e,n){if(t==null)return t;var r=[],i=0;return ov(t,r,"","",function(a){return e.call(n,a,i++)}),r}function V4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cr={current:null},lv={transition:null},G4={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:lv,ReactCurrentOwner:tE};function nL(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:gy,forEach:function(t,e,n){gy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gy(t,function(){e++}),e},toArray:function(t){return gy(t,function(e){return e})||[]},only:function(t){if(!nE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=Hd;Ke.Fragment=N4;Ke.Profiler=L4;Ke.PureComponent=JA;Ke.StrictMode=R4;Ke.Suspense=F4;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G4;Ke.act=nL;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YR({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=tE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)JR.call(e,l)&&!eL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Gg,type:t.type,key:i,ref:a,props:r,_owner:s}};Ke.createContext=function(t){return t={$$typeof:D4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j4,_context:t},t.Consumer=t};Ke.createElement=tL;Ke.createFactory=function(t){var e=tL.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:$4,render:t}};Ke.isValidElement=nE;Ke.lazy=function(t){return{$$typeof:z4,_payload:{_status:-1,_result:t},_init:V4}};Ke.memo=function(t,e){return{$$typeof:B4,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=lv.transition;lv.transition={};try{t()}finally{lv.transition=e}};Ke.unstable_act=nL;Ke.useCallback=function(t,e){return cr.current.useCallback(t,e)};Ke.useContext=function(t){return cr.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return cr.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return cr.current.useEffect(t,e)};Ke.useId=function(){return cr.current.useId()};Ke.useImperativeHandle=function(t,e,n){return cr.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return cr.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return cr.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return cr.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return cr.current.useReducer(t,e,n)};Ke.useRef=function(t){return cr.current.useRef(t)};Ke.useState=function(t){return cr.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return cr.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return cr.current.useTransition()};Ke.version="18.3.1";XR.exports=Ke;var N=XR.exports;const ne=nt(N),q4=I4({__proto__:null,default:ne},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4=N,K4=Symbol.for("react.element"),Y4=Symbol.for("react.fragment"),Z4=Object.prototype.hasOwnProperty,Q4=X4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J4={key:!0,ref:!0,__self:!0,__source:!0};function rL(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Z4.call(e,r)&&!J4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:K4,type:t,key:a,ref:s,props:i,_owner:Q4.current}}tx.Fragment=Y4;tx.jsx=rL;tx.jsxs=rL;qR.exports=tx;var T=qR.exports,iL={exports:{}},ei={},aL={exports:{}},sL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,G){var M=W.length;W.push(G);e:for(;0<M;){var V=M-1>>>1,U=W[V];if(0<i(U,G))W[V]=G,W[M]=U,M=V;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var G=W[0],M=W.pop();if(M!==G){W[0]=M;e:for(var V=0,U=W.length,j=U>>>1;V<j;){var Q=2*(V+1)-1,ae=W[Q],me=Q+1,pe=W[me];if(0>i(ae,M))me<U&&0>i(pe,ae)?(W[V]=pe,W[me]=M,V=me):(W[V]=ae,W[Q]=M,V=Q);else if(me<U&&0>i(pe,M))W[V]=pe,W[me]=M,V=me;else break e}}return G}function i(W,G){var M=W.sortIndex-G.sortIndex;return M!==0?M:W.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=W)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function k(W){if(p=!1,x(W),!g)if(n(l)!==null)g=!0,q(w);else{var G=n(u);G!==null&&B(k,G.startTime-W)}}function w(W,G){g=!1,p&&(p=!1,y(_),_=-1),f=!0;var M=d;try{for(x(G),h=n(l);h!==null&&(!(h.expirationTime>G)||W&&!R());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var U=V(h.expirationTime<=G);G=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(l)&&r(l),x(G)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var Q=n(u);Q!==null&&B(k,Q.startTime-G),j=!1}return j}finally{h=null,d=M,f=!1}}var S=!1,A=null,_=-1,E=5,O=-1;function R(){return!(t.unstable_now()-O<E)}function P(){if(A!==null){var W=t.unstable_now();O=W;var G=!0;try{G=A(!0,W)}finally{G?L():(S=!1,A=null)}}else S=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,F=C.port2;C.port1.onmessage=P,L=function(){F.postMessage(null)}}else L=function(){v(P,0)};function q(W){A=W,S||(S=!0,L())}function B(W,G){_=v(function(){W(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,q(w))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var M=d;d=G;try{return W()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,G){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var M=d;d=W;try{return G()}finally{d=M}},t.unstable_scheduleCallback=function(W,G,M){var V=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=M+U,W={id:c++,callback:G,priorityLevel:W,startTime:M,expirationTime:U,sortIndex:-1},M>V?(W.sortIndex=M,e(u,W),n(l)===null&&W===n(u)&&(p?(y(_),_=-1):p=!0,B(k,M-V))):(W.sortIndex=U,e(l,W),g||f||(g=!0,q(w))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var G=d;return function(){var M=d;d=G;try{return W.apply(this,arguments)}finally{d=M}}}})(sL);aL.exports=sL;var e6=aL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t6=N,Qr=e6;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oL=new Set,Cp={};function nc(t,e){hd(t,e),hd(t+"Capture",e)}function hd(t,e){for(Cp[t]=e,t=0;t<e.length;t++)oL.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X1=Object.prototype.hasOwnProperty,n6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tT={},nT={};function r6(t){return X1.call(nT,t)?!0:X1.call(tT,t)?!1:n6.test(t)?nT[t]=!0:(tT[t]=!0,!1)}function i6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a6(t,e,n,r){if(e===null||typeof e>"u"||i6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rE=/[\-:]([a-z])/g;function iE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rE,iE);Dn[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rE,iE);Dn[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rE,iE);Dn[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function aE(t,e,n,r){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a6(e,n,i,r)&&(n=null),r||i===null?r6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xs=t6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yy=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),sE=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),uL=Symbol.for("react.context"),oE=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),Z1=Symbol.for("react.suspense_list"),lE=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),cL=Symbol.for("react.offscreen"),rT=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,kw;function Ff(t){if(kw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kw=e&&e[1]||""}return`
`+kw+t}var _w=!1;function Aw(t,e){if(!t||_w)return"";_w=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{_w=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ff(t):""}function s6(t){switch(t.tag){case 5:return Ff(t.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 2:case 15:return t=Aw(t.type,!1),t;case 11:return t=Aw(t.type.render,!1),t;case 1:return t=Aw(t.type,!0),t;default:return""}}function Q1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lc:return"Fragment";case Rc:return"Portal";case K1:return"Profiler";case sE:return"StrictMode";case Y1:return"Suspense";case Z1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uL:return(t.displayName||"Context")+".Consumer";case lL:return(t._context.displayName||"Context")+".Provider";case oE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lE:return e=t.displayName||null,e!==null?e:Q1(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return Q1(t(e))}catch{}}return null}function o6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q1(e);case 8:return e===sE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l6(t){var e=hL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vy(t){t._valueTracker||(t._valueTracker=l6(t))}function dL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J1(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fL(t,e){e=e.checked,e!=null&&aE(t,"checked",e,!1)}function eS(t,e){fL(t,e);var n=Jo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tS(t,e.type,n):e.hasOwnProperty("defaultValue")&&tS(t,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tS(t,e,n){(e!=="number"||rb(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bf=Array.isArray;function Zc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Bf(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jo(n)}}function pL(t,e){var n=Jo(e.value),r=Jo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var by,gL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(by=by||document.createElement("div"),by.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=by.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u6=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){u6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function yL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function vL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c6=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iS(t,e){if(e){if(c6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function aS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sS=null;function uE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oS=null,Qc=null,Jc=null;function lT(t){if(t=Kg(t)){if(typeof oS!="function")throw Error(be(280));var e=t.stateNode;e&&(e=sx(e),oS(t.stateNode,t.type,e))}}function bL(t){Qc?Jc?Jc.push(t):Jc=[t]:Qc=t}function xL(){if(Qc){var t=Qc,e=Jc;if(Jc=Qc=null,lT(t),e)for(t=0;t<e.length;t++)lT(e[t])}}function wL(t,e){return t(e)}function SL(){}var Ew=!1;function kL(t,e,n){if(Ew)return t(e,n);Ew=!0;try{return wL(t,e,n)}finally{Ew=!1,(Qc!==null||Jc!==null)&&(SL(),xL())}}function Tp(t,e){var n=t.stateNode;if(n===null)return null;var r=sx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var lS=!1;if($s)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){lS=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{lS=!1}function h6(t,e,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var lp=!1,ib=null,ab=!1,uS=null,d6={onError:function(t){lp=!0,ib=t}};function f6(t,e,n,r,i,a,s,o,l){lp=!1,ib=null,h6.apply(d6,arguments)}function p6(t,e,n,r,i,a,s,o,l){if(f6.apply(this,arguments),lp){if(lp){var u=ib;lp=!1,ib=null}else throw Error(be(198));ab||(ab=!0,uS=u)}}function rc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _L(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uT(t){if(rc(t)!==t)throw Error(be(188))}function m6(t){var e=t.alternate;if(!e){if(e=rc(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return uT(i),t;if(a===r)return uT(i),e;a=a.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function AL(t){return t=m6(t),t!==null?EL(t):null}function EL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EL(t);if(e!==null)return e;t=t.sibling}return null}var CL=Qr.unstable_scheduleCallback,cT=Qr.unstable_cancelCallback,g6=Qr.unstable_shouldYield,y6=Qr.unstable_requestPaint,Gt=Qr.unstable_now,v6=Qr.unstable_getCurrentPriorityLevel,cE=Qr.unstable_ImmediatePriority,PL=Qr.unstable_UserBlockingPriority,sb=Qr.unstable_NormalPriority,b6=Qr.unstable_LowPriority,TL=Qr.unstable_IdlePriority,nx=null,Da=null;function x6(t){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(nx,t,void 0,(t.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:k6,w6=Math.log,S6=Math.LN2;function k6(t){return t>>>=0,t===0?32:31-(w6(t)/S6|0)|0}var xy=64,wy=4194304;function zf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ob(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=zf(o):(a&=s,a!==0&&(r=zf(a)))}else s=n&~i,s!==0?r=zf(s):a!==0&&(r=zf(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-aa(e),i=1<<n,r|=t[n],e&=~i;return r}function _6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-aa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=_6(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function cS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OL(){var t=xy;return xy<<=1,!(xy&4194240)&&(xy=64),t}function Cw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-aa(e),t[e]=n}function E6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-aa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function hE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-aa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ht=0;function IL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ML,dE,NL,RL,LL,hS=!1,Sy=[],Uo=null,Ho=null,Wo=null,Op=new Map,Ip=new Map,so=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hT(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":Op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(e.pointerId)}}function pf(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Kg(e),e!==null&&dE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P6(t,e,n,r,i){switch(e){case"focusin":return Uo=pf(Uo,t,e,n,r,i),!0;case"dragenter":return Ho=pf(Ho,t,e,n,r,i),!0;case"mouseover":return Wo=pf(Wo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Op.set(a,pf(Op.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ip.set(a,pf(Ip.get(a)||null,t,e,n,r,i)),!0}return!1}function jL(t){var e=Ml(t.target);if(e!==null){var n=rc(e);if(n!==null){if(e=n.tag,e===13){if(e=_L(n),e!==null){t.blockedOn=e,LL(t.priority,function(){NL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sS=r,n.target.dispatchEvent(r),sS=null}else return e=Kg(n),e!==null&&dE(e),t.blockedOn=n,!1;e.shift()}return!0}function dT(t,e,n){uv(t)&&n.delete(e)}function T6(){hS=!1,Uo!==null&&uv(Uo)&&(Uo=null),Ho!==null&&uv(Ho)&&(Ho=null),Wo!==null&&uv(Wo)&&(Wo=null),Op.forEach(dT),Ip.forEach(dT)}function mf(t,e){t.blockedOn===e&&(t.blockedOn=null,hS||(hS=!0,Qr.unstable_scheduleCallback(Qr.unstable_NormalPriority,T6)))}function Mp(t){function e(i){return mf(i,t)}if(0<Sy.length){mf(Sy[0],t);for(var n=1;n<Sy.length;n++){var r=Sy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&mf(Uo,t),Ho!==null&&mf(Ho,t),Wo!==null&&mf(Wo,t),Op.forEach(e),Ip.forEach(e),n=0;n<so.length;n++)r=so[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)jL(n),n.blockedOn===null&&so.shift()}var eh=Xs.ReactCurrentBatchConfig,lb=!0;function O6(t,e,n,r){var i=ht,a=eh.transition;eh.transition=null;try{ht=1,fE(t,e,n,r)}finally{ht=i,eh.transition=a}}function I6(t,e,n,r){var i=ht,a=eh.transition;eh.transition=null;try{ht=4,fE(t,e,n,r)}finally{ht=i,eh.transition=a}}function fE(t,e,n,r){if(lb){var i=dS(t,e,n,r);if(i===null)Dw(t,e,r,ub,n),hT(t,r);else if(P6(i,t,e,n,r))r.stopPropagation();else if(hT(t,r),e&4&&-1<C6.indexOf(t)){for(;i!==null;){var a=Kg(i);if(a!==null&&ML(a),a=dS(t,e,n,r),a===null&&Dw(t,e,r,ub,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Dw(t,e,r,null,n)}}var ub=null;function dS(t,e,n,r){if(ub=null,t=uE(r),t=Ml(t),t!==null)if(e=rc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_L(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ub=t,null}function DL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v6()){case cE:return 1;case PL:return 4;case sb:case b6:return 16;case TL:return 536870912;default:return 16}default:return 16}}var $o=null,pE=null,cv=null;function $L(){if(cv)return cv;var t,e=pE,n=e.length,r,i="value"in $o?$o.value:$o.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return cv=i.slice(t,1<r?1-r:void 0)}function hv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ky(){return!0}function fT(){return!1}function ti(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ky:fT,this.isPropagationStopped=fT,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ky)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ky)},persist:function(){},isPersistent:ky}),e}var Wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mE=ti(Wd),Xg=Ft({},Wd,{view:0,detail:0}),M6=ti(Xg),Pw,Tw,gf,rx=Ft({},Xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gf&&(gf&&t.type==="mousemove"?(Pw=t.screenX-gf.screenX,Tw=t.screenY-gf.screenY):Tw=Pw=0,gf=t),Pw)},movementY:function(t){return"movementY"in t?t.movementY:Tw}}),pT=ti(rx),N6=Ft({},rx,{dataTransfer:0}),R6=ti(N6),L6=Ft({},Xg,{relatedTarget:0}),Ow=ti(L6),j6=Ft({},Wd,{animationName:0,elapsedTime:0,pseudoElement:0}),D6=ti(j6),$6=Ft({},Wd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F6=ti($6),B6=Ft({},Wd,{data:0}),mT=ti(B6),z6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H6[t])?!!e[t]:!1}function gE(){return W6}var V6=Ft({},Xg,{key:function(t){if(t.key){var e=z6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?U6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gE,charCode:function(t){return t.type==="keypress"?hv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G6=ti(V6),q6=Ft({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gT=ti(q6),X6=Ft({},Xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gE}),K6=ti(X6),Y6=Ft({},Wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z6=ti(Y6),Q6=Ft({},rx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J6=ti(Q6),e8=[9,13,27,32],yE=$s&&"CompositionEvent"in window,up=null;$s&&"documentMode"in document&&(up=document.documentMode);var t8=$s&&"TextEvent"in window&&!up,FL=$s&&(!yE||up&&8<up&&11>=up),yT=" ",vT=!1;function BL(t,e){switch(t){case"keyup":return e8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jc=!1;function n8(t,e){switch(t){case"compositionend":return zL(e);case"keypress":return e.which!==32?null:(vT=!0,yT);case"textInput":return t=e.data,t===yT&&vT?null:t;default:return null}}function r8(t,e){if(jc)return t==="compositionend"||!yE&&BL(t,e)?(t=$L(),cv=pE=$o=null,jc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FL&&e.locale!=="ko"?null:e.data;default:return null}}var i8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i8[t.type]:e==="textarea"}function UL(t,e,n,r){bL(r),e=cb(e,"onChange"),0<e.length&&(n=new mE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cp=null,Np=null;function a8(t){JL(t,0)}function ix(t){var e=Fc(t);if(dL(e))return t}function s8(t,e){if(t==="change")return e}var HL=!1;if($s){var Iw;if($s){var Mw="oninput"in document;if(!Mw){var xT=document.createElement("div");xT.setAttribute("oninput","return;"),Mw=typeof xT.oninput=="function"}Iw=Mw}else Iw=!1;HL=Iw&&(!document.documentMode||9<document.documentMode)}function wT(){cp&&(cp.detachEvent("onpropertychange",WL),Np=cp=null)}function WL(t){if(t.propertyName==="value"&&ix(Np)){var e=[];UL(e,Np,t,uE(t)),kL(a8,e)}}function o8(t,e,n){t==="focusin"?(wT(),cp=e,Np=n,cp.attachEvent("onpropertychange",WL)):t==="focusout"&&wT()}function l8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ix(Np)}function u8(t,e){if(t==="click")return ix(e)}function c8(t,e){if(t==="input"||t==="change")return ix(e)}function h8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oa=typeof Object.is=="function"?Object.is:h8;function Rp(t,e){if(oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X1.call(e,i)||!oa(t[i],e[i]))return!1}return!0}function ST(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kT(t,e){var n=ST(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ST(n)}}function VL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GL(){for(var t=window,e=rb();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rb(t.document)}return e}function vE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d8(t){var e=GL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VL(n.ownerDocument.documentElement,n)){if(r!==null&&vE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=kT(n,a);var s=kT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f8=$s&&"documentMode"in document&&11>=document.documentMode,Dc=null,fS=null,hp=null,pS=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pS||Dc==null||Dc!==rb(r)||(r=Dc,"selectionStart"in r&&vE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hp&&Rp(hp,r)||(hp=r,r=cb(fS,"onSelect"),0<r.length&&(e=new mE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dc)))}function _y(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $c={animationend:_y("Animation","AnimationEnd"),animationiteration:_y("Animation","AnimationIteration"),animationstart:_y("Animation","AnimationStart"),transitionend:_y("Transition","TransitionEnd")},Nw={},qL={};$s&&(qL=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function ax(t){if(Nw[t])return Nw[t];if(!$c[t])return t;var e=$c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qL)return Nw[t]=e[n];return t}var XL=ax("animationend"),KL=ax("animationiteration"),YL=ax("animationstart"),ZL=ax("transitionend"),QL=new Map,AT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function al(t,e){QL.set(t,e),nc(e,[t])}for(var Rw=0;Rw<AT.length;Rw++){var Lw=AT[Rw],p8=Lw.toLowerCase(),m8=Lw[0].toUpperCase()+Lw.slice(1);al(p8,"on"+m8)}al(XL,"onAnimationEnd");al(KL,"onAnimationIteration");al(YL,"onAnimationStart");al("dblclick","onDoubleClick");al("focusin","onFocus");al("focusout","onBlur");al(ZL,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function ET(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,p6(r,e,void 0,t),t.currentTarget=null}function JL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;ET(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;ET(i,o,u),a=l}}}if(ab)throw t=uS,ab=!1,uS=null,t}function kt(t,e){var n=e[bS];n===void 0&&(n=e[bS]=new Set);var r=t+"__bubble";n.has(r)||(ej(e,t,2,!1),n.add(r))}function jw(t,e,n){var r=0;e&&(r|=4),ej(n,t,r,e)}var Ay="_reactListening"+Math.random().toString(36).slice(2);function Lp(t){if(!t[Ay]){t[Ay]=!0,oL.forEach(function(n){n!=="selectionchange"&&(g8.has(n)||jw(n,!1,t),jw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ay]||(e[Ay]=!0,jw("selectionchange",!1,e))}}function ej(t,e,n,r){switch(DL(e)){case 1:var i=O6;break;case 4:i=I6;break;default:i=fE}n=i.bind(null,e,n,t),i=void 0,!lS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dw(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ml(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}kL(function(){var u=a,c=uE(n),h=[];e:{var d=QL.get(t);if(d!==void 0){var f=mE,g=t;switch(t){case"keypress":if(hv(n)===0)break e;case"keydown":case"keyup":f=G6;break;case"focusin":g="focus",f=Ow;break;case"focusout":g="blur",f=Ow;break;case"beforeblur":case"afterblur":f=Ow;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=pT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=R6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=K6;break;case XL:case KL:case YL:f=D6;break;case ZL:f=Z6;break;case"scroll":f=M6;break;case"wheel":f=J6;break;case"copy":case"cut":case"paste":f=F6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=gT}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?d!==null?d+"Capture":null:d;p=[];for(var b=u,x;b!==null;){x=b;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,y!==null&&(k=Tp(b,y),k!=null&&p.push(jp(b,k,x)))),v)break;b=b.return}0<p.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:p}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==sS&&(g=n.relatedTarget||n.fromElement)&&(Ml(g)||g[Fs]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Ml(g):null,g!==null&&(v=rc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(p=pT,k="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=gT,k="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?d:Fc(f),x=g==null?d:Fc(g),d=new p(k,b+"leave",f,n,c),d.target=v,d.relatedTarget=x,k=null,Ml(c)===u&&(p=new p(y,b+"enter",g,n,c),p.target=x,p.relatedTarget=v,k=p),v=k,f&&g)t:{for(p=f,y=g,b=0,x=p;x;x=mc(x))b++;for(x=0,k=y;k;k=mc(k))x++;for(;0<b-x;)p=mc(p),b--;for(;0<x-b;)y=mc(y),x--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=mc(p),y=mc(y)}p=null}else p=null;f!==null&&CT(h,d,f,p,!1),g!==null&&v!==null&&CT(h,v,g,p,!0)}}e:{if(d=u?Fc(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=s8;else if(bT(d))if(HL)w=c8;else{w=l8;var S=o8}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=u8);if(w&&(w=w(t,u))){UL(h,w,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&tS(d,"number",d.value)}switch(S=u?Fc(u):window,t){case"focusin":(bT(S)||S.contentEditable==="true")&&(Dc=S,fS=u,hp=null);break;case"focusout":hp=fS=Dc=null;break;case"mousedown":pS=!0;break;case"contextmenu":case"mouseup":case"dragend":pS=!1,_T(h,n,c);break;case"selectionchange":if(f8)break;case"keydown":case"keyup":_T(h,n,c)}var A;if(yE)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jc?BL(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(FL&&n.locale!=="ko"&&(jc||_!=="onCompositionStart"?_==="onCompositionEnd"&&jc&&(A=$L()):($o=c,pE="value"in $o?$o.value:$o.textContent,jc=!0)),S=cb(u,_),0<S.length&&(_=new mT(_,t,null,n,c),h.push({event:_,listeners:S}),A?_.data=A:(A=zL(n),A!==null&&(_.data=A)))),(A=t8?n8(t,n):r8(t,n))&&(u=cb(u,"onBeforeInput"),0<u.length&&(c=new mT("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}JL(h,e)})}function jp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Tp(t,n),a!=null&&r.unshift(jp(t,a,i)),a=Tp(t,e),a!=null&&r.push(jp(t,a,i))),t=t.return}return r}function mc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function CT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Tp(n,a),l!=null&&s.unshift(jp(n,l,o))):i||(l=Tp(n,a),l!=null&&s.push(jp(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var y8=/\r\n?/g,v8=/\u0000|\uFFFD/g;function PT(t){return(typeof t=="string"?t:""+t).replace(y8,`
`).replace(v8,"")}function Ey(t,e,n){if(e=PT(e),PT(t)!==e&&n)throw Error(be(425))}function hb(){}var mS=null,gS=null;function yS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,b8=typeof clearTimeout=="function"?clearTimeout:void 0,TT=typeof Promise=="function"?Promise:void 0,x8=typeof queueMicrotask=="function"?queueMicrotask:typeof TT<"u"?function(t){return TT.resolve(null).then(t).catch(w8)}:vS;function w8(t){setTimeout(function(){throw t})}function $w(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mp(e)}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vd=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Vd,Dp="__reactProps$"+Vd,Fs="__reactContainer$"+Vd,bS="__reactEvents$"+Vd,S8="__reactListeners$"+Vd,k8="__reactHandles$"+Vd;function Ml(t){var e=t[Ra];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fs]||n[Ra]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=OT(t);t!==null;){if(n=t[Ra])return n;t=OT(t)}return e}t=n,n=t.parentNode}return null}function Kg(t){return t=t[Ra]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function sx(t){return t[Dp]||null}var xS=[],Bc=-1;function sl(t){return{current:t}}function Ct(t){0>Bc||(t.current=xS[Bc],xS[Bc]=null,Bc--)}function wt(t,e){Bc++,xS[Bc]=t.current,t.current=e}var el={},Qn=sl(el),kr=sl(!1),Bu=el;function dd(t,e){var n=t.type.contextTypes;if(!n)return el;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function db(){Ct(kr),Ct(Qn)}function IT(t,e,n){if(Qn.current!==el)throw Error(be(168));wt(Qn,e),wt(kr,n)}function tj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,o6(t)||"Unknown",i));return Ft({},n,r)}function fb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||el,Bu=Qn.current,wt(Qn,t),wt(kr,kr.current),!0}function MT(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=tj(t,e,Bu),r.__reactInternalMemoizedMergedChildContext=t,Ct(kr),Ct(Qn),wt(Qn,t)):Ct(kr),wt(kr,n)}var es=null,ox=!1,Fw=!1;function nj(t){es===null?es=[t]:es.push(t)}function _8(t){ox=!0,nj(t)}function ol(){if(!Fw&&es!==null){Fw=!0;var t=0,e=ht;try{var n=es;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,ox=!1}catch(i){throw es!==null&&(es=es.slice(t+1)),CL(cE,ol),i}finally{ht=e,Fw=!1}}return null}var zc=[],Uc=0,pb=null,mb=0,fi=[],pi=0,zu=null,Es=1,Cs="";function bl(t,e){zc[Uc++]=mb,zc[Uc++]=pb,pb=t,mb=e}function rj(t,e,n){fi[pi++]=Es,fi[pi++]=Cs,fi[pi++]=zu,zu=t;var r=Es;t=Cs;var i=32-aa(r)-1;r&=~(1<<i),n+=1;var a=32-aa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Es=1<<32-aa(e)+i|n<<i|r,Cs=a+t}else Es=1<<a|n<<i|r,Cs=t}function bE(t){t.return!==null&&(bl(t,1),rj(t,1,0))}function xE(t){for(;t===pb;)pb=zc[--Uc],zc[Uc]=null,mb=zc[--Uc],zc[Uc]=null;for(;t===zu;)zu=fi[--pi],fi[pi]=null,Cs=fi[--pi],fi[pi]=null,Es=fi[--pi],fi[pi]=null}var Yr=null,Xr=null,Ot=!1,ea=null;function ij(t,e){var n=vi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yr=t,Xr=Vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zu!==null?{id:Es,overflow:Cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yr=t,Xr=null,!0):!1;default:return!1}}function wS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function SS(t){if(Ot){var e=Xr;if(e){var n=e;if(!NT(t,e)){if(wS(t))throw Error(be(418));e=Vo(n.nextSibling);var r=Yr;e&&NT(t,e)?ij(r,n):(t.flags=t.flags&-4097|2,Ot=!1,Yr=t)}}else{if(wS(t))throw Error(be(418));t.flags=t.flags&-4097|2,Ot=!1,Yr=t}}}function RT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yr=t}function Cy(t){if(t!==Yr)return!1;if(!Ot)return RT(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yS(t.type,t.memoizedProps)),e&&(e=Xr)){if(wS(t))throw aj(),Error(be(418));for(;e;)ij(t,e),e=Vo(e.nextSibling)}if(RT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xr=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Yr?Vo(t.stateNode.nextSibling):null;return!0}function aj(){for(var t=Xr;t;)t=Vo(t.nextSibling)}function fd(){Xr=Yr=null,Ot=!1}function wE(t){ea===null?ea=[t]:ea.push(t)}var A8=Xs.ReactCurrentBatchConfig;function yf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Py(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LT(t){var e=t._init;return e(t._payload)}function sj(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Ko(y,b),y.index=0,y.sibling=null,y}function a(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,x,k){return b===null||b.tag!==6?(b=Gw(x,y.mode,k),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,k){var w=x.type;return w===Lc?c(y,b,x.props.children,k,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===no&&LT(w)===b.type)?(k=i(b,x.props),k.ref=yf(y,b,x),k.return=y,k):(k=vv(x.type,x.key,x.props,null,y.mode,k),k.ref=yf(y,b,x),k.return=y,k)}function u(y,b,x,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=qw(x,y.mode,k),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function c(y,b,x,k,w){return b===null||b.tag!==7?(b=ju(x,y.mode,k,w),b.return=y,b):(b=i(b,x),b.return=y,b)}function h(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Gw(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yy:return x=vv(b.type,b.key,b.props,null,y.mode,x),x.ref=yf(y,null,b),x.return=y,x;case Rc:return b=qw(b,y.mode,x),b.return=y,b;case no:var k=b._init;return h(y,k(b._payload),x)}if(Bf(b)||df(b))return b=ju(b,y.mode,x,null),b.return=y,b;Py(y,b)}return null}function d(y,b,x,k){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(y,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:return x.key===w?l(y,b,x,k):null;case Rc:return x.key===w?u(y,b,x,k):null;case no:return w=x._init,d(y,b,w(x._payload),k)}if(Bf(x)||df(x))return w!==null?null:c(y,b,x,k,null);Py(y,x)}return null}function f(y,b,x,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(x)||null,o(b,y,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yy:return y=y.get(k.key===null?x:k.key)||null,l(b,y,k,w);case Rc:return y=y.get(k.key===null?x:k.key)||null,u(b,y,k,w);case no:var S=k._init;return f(y,b,x,S(k._payload),w)}if(Bf(k)||df(k))return y=y.get(x)||null,c(b,y,k,w,null);Py(b,k)}return null}function g(y,b,x,k){for(var w=null,S=null,A=b,_=b=0,E=null;A!==null&&_<x.length;_++){A.index>_?(E=A,A=null):E=A.sibling;var O=d(y,A,x[_],k);if(O===null){A===null&&(A=E);break}t&&A&&O.alternate===null&&e(y,A),b=a(O,b,_),S===null?w=O:S.sibling=O,S=O,A=E}if(_===x.length)return n(y,A),Ot&&bl(y,_),w;if(A===null){for(;_<x.length;_++)A=h(y,x[_],k),A!==null&&(b=a(A,b,_),S===null?w=A:S.sibling=A,S=A);return Ot&&bl(y,_),w}for(A=r(y,A);_<x.length;_++)E=f(A,y,_,x[_],k),E!==null&&(t&&E.alternate!==null&&A.delete(E.key===null?_:E.key),b=a(E,b,_),S===null?w=E:S.sibling=E,S=E);return t&&A.forEach(function(R){return e(y,R)}),Ot&&bl(y,_),w}function p(y,b,x,k){var w=df(x);if(typeof w!="function")throw Error(be(150));if(x=w.call(x),x==null)throw Error(be(151));for(var S=w=null,A=b,_=b=0,E=null,O=x.next();A!==null&&!O.done;_++,O=x.next()){A.index>_?(E=A,A=null):E=A.sibling;var R=d(y,A,O.value,k);if(R===null){A===null&&(A=E);break}t&&A&&R.alternate===null&&e(y,A),b=a(R,b,_),S===null?w=R:S.sibling=R,S=R,A=E}if(O.done)return n(y,A),Ot&&bl(y,_),w;if(A===null){for(;!O.done;_++,O=x.next())O=h(y,O.value,k),O!==null&&(b=a(O,b,_),S===null?w=O:S.sibling=O,S=O);return Ot&&bl(y,_),w}for(A=r(y,A);!O.done;_++,O=x.next())O=f(A,y,_,O.value,k),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?_:O.key),b=a(O,b,_),S===null?w=O:S.sibling=O,S=O);return t&&A.forEach(function(P){return e(y,P)}),Ot&&bl(y,_),w}function v(y,b,x,k){if(typeof x=="object"&&x!==null&&x.type===Lc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yy:e:{for(var w=x.key,S=b;S!==null;){if(S.key===w){if(w=x.type,w===Lc){if(S.tag===7){n(y,S.sibling),b=i(S,x.props.children),b.return=y,y=b;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===no&&LT(w)===S.type){n(y,S.sibling),b=i(S,x.props),b.ref=yf(y,S,x),b.return=y,y=b;break e}n(y,S);break}else e(y,S);S=S.sibling}x.type===Lc?(b=ju(x.props.children,y.mode,k,x.key),b.return=y,y=b):(k=vv(x.type,x.key,x.props,null,y.mode,k),k.ref=yf(y,b,x),k.return=y,y=k)}return s(y);case Rc:e:{for(S=x.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=qw(x,y.mode,k),b.return=y,y=b}return s(y);case no:return S=x._init,v(y,b,S(x._payload),k)}if(Bf(x))return g(y,b,x,k);if(df(x))return p(y,b,x,k);Py(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,x),b.return=y,y=b):(n(y,b),b=Gw(x,y.mode,k),b.return=y,y=b),s(y)):n(y,b)}return v}var pd=sj(!0),oj=sj(!1),gb=sl(null),yb=null,Hc=null,SE=null;function kE(){SE=Hc=yb=null}function _E(t){var e=gb.current;Ct(gb),t._currentValue=e}function kS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function th(t,e){yb=t,SE=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xr=!0),t.firstContext=null)}function _i(t){var e=t._currentValue;if(SE!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(yb===null)throw Error(be(308));Hc=t,yb.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var Nl=null;function AE(t){Nl===null?Nl=[t]:Nl.push(t)}function lj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,AE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ro=!1;function EE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bs(t,n)}return i=r.interleaved,i===null?(e.next=e,AE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bs(t,n)}function dv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}function jT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vb(t,e,n,r){var i=t.updateQueue;ro=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,f=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(d=e,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Ft({},h,d);break e;case 2:ro=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Hu|=s,t.lanes=s,t.memoizedState=h}}function DT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Yg={},$a=sl(Yg),$p=sl(Yg),Fp=sl(Yg);function Rl(t){if(t===Yg)throw Error(be(174));return t}function CE(t,e){switch(wt(Fp,e),wt($p,t),wt($a,Yg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rS(e,t)}Ct($a),wt($a,e)}function md(){Ct($a),Ct($p),Ct(Fp)}function cj(t){Rl(Fp.current);var e=Rl($a.current),n=rS(e,t.type);e!==n&&(wt($p,t),wt($a,n))}function PE(t){$p.current===t&&(Ct($a),Ct($p))}var Dt=sl(0);function bb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bw=[];function TE(){for(var t=0;t<Bw.length;t++)Bw[t]._workInProgressVersionPrimary=null;Bw.length=0}var fv=Xs.ReactCurrentDispatcher,zw=Xs.ReactCurrentBatchConfig,Uu=0,$t=null,hn=null,An=null,xb=!1,dp=!1,Bp=0,E8=0;function $n(){throw Error(be(321))}function OE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oa(t[n],e[n]))return!1;return!0}function IE(t,e,n,r,i,a){if(Uu=a,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fv.current=t===null||t.memoizedState===null?O8:I8,t=n(r,i),dp){a=0;do{if(dp=!1,Bp=0,25<=a)throw Error(be(301));a+=1,An=hn=null,e.updateQueue=null,fv.current=M8,t=n(r,i)}while(dp)}if(fv.current=wb,e=hn!==null&&hn.next!==null,Uu=0,An=hn=$t=null,xb=!1,e)throw Error(be(300));return t}function ME(){var t=Bp!==0;return Bp=0,t}function pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?$t.memoizedState=An=t:An=An.next=t,An}function Ai(){if(hn===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=An===null?$t.memoizedState:An.next;if(e!==null)An=e,hn=t;else{if(t===null)throw Error(be(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},An===null?$t.memoizedState=An=t:An=An.next=t}return An}function zp(t,e){return typeof e=="function"?e(t):e}function Uw(t){var e=Ai(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=hn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Uu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,$t.lanes|=c,Hu|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,oa(r,e.memoizedState)||(xr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,$t.lanes|=a,Hu|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hw(t){var e=Ai(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);oa(a,e.memoizedState)||(xr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function hj(){}function dj(t,e){var n=$t,r=Ai(),i=e(),a=!oa(r.memoizedState,i);if(a&&(r.memoizedState=i,xr=!0),r=r.queue,NE(mj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,Up(9,pj.bind(null,n,r,i,e),void 0,null),En===null)throw Error(be(349));Uu&30||fj(n,e,i)}return i}function fj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pj(t,e,n,r){e.value=n,e.getSnapshot=r,gj(e)&&yj(t)}function mj(t,e,n){return n(function(){gj(e)&&yj(t)})}function gj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oa(t,n)}catch{return!0}}function yj(t){var e=Bs(t,1);e!==null&&sa(e,t,1,-1)}function $T(t){var e=pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:t},e.queue=t,t=t.dispatch=T8.bind(null,$t,t),[e.memoizedState,t]}function Up(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vj(){return Ai().memoizedState}function pv(t,e,n,r){var i=pa();$t.flags|=t,i.memoizedState=Up(1|e,n,void 0,r===void 0?null:r)}function lx(t,e,n,r){var i=Ai();r=r===void 0?null:r;var a=void 0;if(hn!==null){var s=hn.memoizedState;if(a=s.destroy,r!==null&&OE(r,s.deps)){i.memoizedState=Up(e,n,a,r);return}}$t.flags|=t,i.memoizedState=Up(1|e,n,a,r)}function FT(t,e){return pv(8390656,8,t,e)}function NE(t,e){return lx(2048,8,t,e)}function bj(t,e){return lx(4,2,t,e)}function xj(t,e){return lx(4,4,t,e)}function wj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sj(t,e,n){return n=n!=null?n.concat([t]):null,lx(4,4,wj.bind(null,e,t),n)}function RE(){}function kj(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _j(t,e){var n=Ai();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Aj(t,e,n){return Uu&21?(oa(n,e)||(n=OL(),$t.lanes|=n,Hu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=n)}function C8(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=zw.transition;zw.transition={};try{t(!1),e()}finally{ht=n,zw.transition=r}}function Ej(){return Ai().memoizedState}function P8(t,e,n){var r=Xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cj(t))Pj(e,n);else if(n=lj(t,e,n,r),n!==null){var i=sr();sa(n,t,r,i),Tj(n,e,r)}}function T8(t,e,n){var r=Xo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cj(t))Pj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,oa(o,s)){var l=e.interleaved;l===null?(i.next=i,AE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lj(t,e,i,r),n!==null&&(i=sr(),sa(n,t,r,i),Tj(n,e,r))}}function Cj(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function Pj(t,e){dp=xb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hE(t,n)}}var wb={readContext:_i,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},O8={readContext:_i,useCallback:function(t,e){return pa().memoizedState=[t,e===void 0?null:e],t},useContext:_i,useEffect:FT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pv(4194308,4,wj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pv(4194308,4,t,e)},useInsertionEffect:function(t,e){return pv(4,2,t,e)},useMemo:function(t,e){var n=pa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P8.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=pa();return t={current:t},e.memoizedState=t},useState:$T,useDebugValue:RE,useDeferredValue:function(t){return pa().memoizedState=t},useTransition:function(){var t=$T(!1),e=t[0];return t=C8.bind(null,t[1]),pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=pa();if(Ot){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),En===null)throw Error(be(349));Uu&30||fj(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,FT(mj.bind(null,r,a,t),[t]),r.flags|=2048,Up(9,pj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=pa(),e=En.identifierPrefix;if(Ot){var n=Cs,r=Es;n=(r&~(1<<32-aa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I8={readContext:_i,useCallback:kj,useContext:_i,useEffect:NE,useImperativeHandle:Sj,useInsertionEffect:bj,useLayoutEffect:xj,useMemo:_j,useReducer:Uw,useRef:vj,useState:function(){return Uw(zp)},useDebugValue:RE,useDeferredValue:function(t){var e=Ai();return Aj(e,hn.memoizedState,t)},useTransition:function(){var t=Uw(zp)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:hj,useSyncExternalStore:dj,useId:Ej,unstable_isNewReconciler:!1},M8={readContext:_i,useCallback:kj,useContext:_i,useEffect:NE,useImperativeHandle:Sj,useInsertionEffect:bj,useLayoutEffect:xj,useMemo:_j,useReducer:Hw,useRef:vj,useState:function(){return Hw(zp)},useDebugValue:RE,useDeferredValue:function(t){var e=Ai();return hn===null?e.memoizedState=t:Aj(e,hn.memoizedState,t)},useTransition:function(){var t=Hw(zp)[0],e=Ai().memoizedState;return[t,e]},useMutableSource:hj,useSyncExternalStore:dj,useId:Ej,unstable_isNewReconciler:!1};function Li(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _S(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ux={isMounted:function(t){return(t=t._reactInternals)?rc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Xo(t),a=Is(r,i);a.payload=e,n!=null&&(a.callback=n),e=Go(t,a,i),e!==null&&(sa(e,t,i,r),dv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Xo(t),a=Is(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Go(t,a,i),e!==null&&(sa(e,t,i,r),dv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sr(),r=Xo(t),i=Is(n,r);i.tag=2,e!=null&&(i.callback=e),e=Go(t,i,r),e!==null&&(sa(e,t,r,n),dv(e,t,r))}};function BT(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Rp(n,r)||!Rp(i,a):!0}function Oj(t,e,n){var r=!1,i=el,a=e.contextType;return typeof a=="object"&&a!==null?a=_i(a):(i=_r(e)?Bu:Qn.current,r=e.contextTypes,a=(r=r!=null)?dd(t,i):el),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function zT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ux.enqueueReplaceState(e,e.state,null)}function AS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},EE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_i(a):(a=_r(e)?Bu:Qn.current,i.context=dd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(_S(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),vb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gd(t,e){try{var n="",r=e;do n+=s6(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ww(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ES(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N8=typeof WeakMap=="function"?WeakMap:Map;function Ij(t,e,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kb||(kb=!0,jS=r),ES(t,e)},n}function Mj(t,e,n){n=Is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ES(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ES(t,e),typeof r!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function UT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q8.bind(null,t,e,n),e.then(t,t))}function HT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Is(-1,1),e.tag=2,Go(n,e,1))),n.lanes|=1),t)}var R8=Xs.ReactCurrentOwner,xr=!1;function rr(t,e,n,r){e.child=t===null?oj(e,null,n,r):pd(e,t.child,n,r)}function VT(t,e,n,r,i){n=n.render;var a=e.ref;return th(e,i),r=IE(t,e,n,r,a,i),n=ME(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Ot&&n&&bE(e),e.flags|=1,rr(t,e,r,i),e.child)}function GT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!UE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Nj(t,e,a,r,i)):(t=vv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Rp,n(s,r)&&t.ref===e.ref)return zs(t,e,i)}return e.flags|=1,t=Ko(a,r),t.ref=e.ref,t.return=e,e.child=t}function Nj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Rp(a,r)&&t.ref===e.ref)if(xr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(xr=!0);else return e.lanes=t.lanes,zs(t,e,i)}return CS(t,e,n,r,i)}function Rj(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Vc,Hr),Hr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(Vc,Hr),Hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,wt(Vc,Hr),Hr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,wt(Vc,Hr),Hr|=r;return rr(t,e,i,n),e.child}function Lj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function CS(t,e,n,r,i){var a=_r(n)?Bu:Qn.current;return a=dd(e,a),th(e,i),n=IE(t,e,n,r,a,i),r=ME(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zs(t,e,i)):(Ot&&r&&bE(e),e.flags|=1,rr(t,e,n,i),e.child)}function qT(t,e,n,r,i){if(_r(n)){var a=!0;fb(e)}else a=!1;if(th(e,i),e.stateNode===null)mv(t,e),Oj(e,n,r),AS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=_i(u):(u=_r(n)?Bu:Qn.current,u=dd(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&zT(e,s,r,u),ro=!1;var d=e.memoizedState;s.state=d,vb(e,r,s,i),l=e.memoizedState,o!==r||d!==l||kr.current||ro?(typeof c=="function"&&(_S(e,n,c,r),l=e.memoizedState),(o=ro||BT(e,n,o,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,uj(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Li(e.type,o),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_i(l):(l=_r(n)?Bu:Qn.current,l=dd(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||d!==l)&&zT(e,s,r,l),ro=!1,d=e.memoizedState,s.state=d,vb(e,r,s,i);var g=e.memoizedState;o!==h||d!==g||kr.current||ro?(typeof f=="function"&&(_S(e,n,f,r),g=e.memoizedState),(u=ro||BT(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return PS(t,e,n,r,a,i)}function PS(t,e,n,r,i,a){Lj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&MT(e,n,!1),zs(t,e,a);r=e.stateNode,R8.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=pd(e,t.child,null,a),e.child=pd(e,null,o,a)):rr(t,e,o,a),e.memoizedState=r.state,i&&MT(e,n,!0),e.child}function jj(t){var e=t.stateNode;e.pendingContext?IT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IT(t,e.context,!1),CE(t,e.containerInfo)}function XT(t,e,n,r,i){return fd(),wE(i),e.flags|=256,rr(t,e,n,r),e.child}var TS={dehydrated:null,treeContext:null,retryLane:0};function OS(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dj(t,e,n){var r=e.pendingProps,i=Dt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wt(Dt,i&1),t===null)return SS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=dx(s,r,0,null),t=ju(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=OS(n),e.memoizedState=TS,t):LE(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return L8(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ko(o,a):(a=ju(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?OS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=TS,r}return a=t.child,t=a.sibling,r=Ko(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function LE(t,e){return e=dx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ty(t,e,n,r){return r!==null&&wE(r),pd(e,t.child,null,n),t=LE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L8(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Ww(Error(be(422))),Ty(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=dx({mode:"visible",children:r.children},i,0,null),a=ju(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&pd(e,t.child,null,s),e.child.memoizedState=OS(s),e.memoizedState=TS,a);if(!(e.mode&1))return Ty(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(be(419)),r=Ww(a,r,void 0),Ty(t,e,s,r)}if(o=(s&t.childLanes)!==0,xr||o){if(r=En,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Bs(t,i),sa(r,t,i,-1))}return zE(),r=Ww(Error(be(421))),Ty(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X8.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Xr=Vo(i.nextSibling),Yr=e,Ot=!0,ea=null,t!==null&&(fi[pi++]=Es,fi[pi++]=Cs,fi[pi++]=zu,Es=t.id,Cs=t.overflow,zu=e),e=LE(e,r.children),e.flags|=4096,e)}function KT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kS(t.return,e,n)}function Vw(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $j(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(rr(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&KT(t,n,e);else if(t.tag===19)KT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vw(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vw(e,!0,n,null,a);break;case"together":Vw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function j8(t,e,n){switch(e.tag){case 3:jj(e),fd();break;case 5:cj(e);break;case 1:_r(e.type)&&fb(e);break;case 4:CE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wt(gb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?Dj(t,e,n):(wt(Dt,Dt.current&1),t=zs(t,e,n),t!==null?t.sibling:null);wt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $j(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,Rj(t,e,n)}return zs(t,e,n)}var Fj,IS,Bj,zj;Fj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};IS=function(){};Bj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rl($a.current);var a=null;switch(n){case"input":i=J1(t,i),r=J1(t,r),a=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),a=[];break;case"textarea":i=nS(t,i),r=nS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hb)}iS(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&kt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};zj=function(t,e,n,r){n!==r&&(e.flags|=4)};function vf(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function D8(t,e,n){var r=e.pendingProps;switch(xE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(e),null;case 1:return _r(e.type)&&db(),Fn(e),null;case 3:return r=e.stateNode,md(),Ct(kr),Ct(Qn),TE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(FS(ea),ea=null))),IS(t,e),Fn(e),null;case 5:PE(e);var i=Rl(Fp.current);if(n=e.type,t!==null&&e.stateNode!=null)Bj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return Fn(e),null}if(t=Rl($a.current),Cy(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ra]=e,r[Dp]=a,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Uf.length;i++)kt(Uf[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":iT(r,a),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},kt("invalid",r);break;case"textarea":sT(r,a),kt("invalid",r)}iS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ey(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ey(r.textContent,o,t),i=["children",""+o]):Cp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&kt("scroll",r)}switch(n){case"input":vy(r),aT(r,a,!0);break;case"textarea":vy(r),oT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=hb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ra]=e,t[Dp]=r,Fj(t,e,!1,!1),e.stateNode=t;e:{switch(s=aS(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uf.length;i++)kt(Uf[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":iT(t,r),i=J1(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),kt("invalid",t);break;case"textarea":sT(t,r),i=nS(t,r),kt("invalid",t);break;default:i=r}iS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?vL(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gL(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pp(t,l):typeof l=="number"&&Pp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&kt("scroll",t):l!=null&&aE(t,a,l,s))}switch(n){case"input":vy(t),aT(t,r,!1);break;case"textarea":vy(t),oT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Zc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Zc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fn(e),null;case 6:if(t&&e.stateNode!=null)zj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=Rl(Fp.current),Rl($a.current),Cy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ra]=e,(a=r.nodeValue!==n)&&(t=Yr,t!==null))switch(t.tag){case 3:Ey(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ey(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ra]=e,e.stateNode=r}return Fn(e),null;case 13:if(Ct(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Xr!==null&&e.mode&1&&!(e.flags&128))aj(),fd(),e.flags|=98560,a=!1;else if(a=Cy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(be(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(be(317));a[Ra]=e}else fd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fn(e),a=!1}else ea!==null&&(FS(ea),ea=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?pn===0&&(pn=3):zE())),e.updateQueue!==null&&(e.flags|=4),Fn(e),null);case 4:return md(),IS(t,e),t===null&&Lp(e.stateNode.containerInfo),Fn(e),null;case 10:return _E(e.type._context),Fn(e),null;case 17:return _r(e.type)&&db(),Fn(e),null;case 19:if(Ct(Dt),a=e.memoizedState,a===null)return Fn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)vf(a,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bb(t),s!==null){for(e.flags|=128,vf(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wt(Dt,Dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gt()>yd&&(e.flags|=128,r=!0,vf(a,!1),e.lanes=4194304)}else{if(!r)if(t=bb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ot)return Fn(e),null}else 2*Gt()-a.renderingStartTime>yd&&n!==1073741824&&(e.flags|=128,r=!0,vf(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gt(),e.sibling=null,n=Dt.current,wt(Dt,r?n&1|2:n&1),e):(Fn(e),null);case 22:case 23:return BE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hr&1073741824&&(Fn(e),e.subtreeFlags&6&&(e.flags|=8192)):Fn(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function $8(t,e){switch(xE(e),e.tag){case 1:return _r(e.type)&&db(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return md(),Ct(kr),Ct(Qn),TE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PE(e),null;case 13:if(Ct(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));fd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(Dt),null;case 4:return md(),null;case 10:return _E(e.type._context),null;case 22:case 23:return BE(),null;case 24:return null;default:return null}}var Oy=!1,qn=!1,F8=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Wc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function MS(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var YT=!1;function B8(t,e){if(mS=lb,t=GL(),vE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(o=s),d===a&&++c===r&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gS={focusedElem:t,selectionRange:n},lb=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Li(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(k){Ut(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=YT,YT=!1,g}function fp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&MS(e,n,a)}i=i.next}while(i!==r)}}function cx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function NS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Uj(t){var e=t.alternate;e!==null&&(t.alternate=null,Uj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ra],delete e[Dp],delete e[bS],delete e[S8],delete e[k8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hj(t){return t.tag===5||t.tag===3||t.tag===4}function ZT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function RS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hb));else if(r!==4&&(t=t.child,t!==null))for(RS(t,e,n),t=t.sibling;t!==null;)RS(t,e,n),t=t.sibling}function LS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LS(t,e,n),t=t.sibling;t!==null;)LS(t,e,n),t=t.sibling}var Nn=null,Yi=!1;function Qs(t,e,n){for(n=n.child;n!==null;)Wj(t,e,n),n=n.sibling}function Wj(t,e,n){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(nx,n)}catch{}switch(n.tag){case 5:qn||Wc(n,e);case 6:var r=Nn,i=Yi;Nn=null,Qs(t,e,n),Nn=r,Yi=i,Nn!==null&&(Yi?(t=Nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&(Yi?(t=Nn,n=n.stateNode,t.nodeType===8?$w(t.parentNode,n):t.nodeType===1&&$w(t,n),Mp(t)):$w(Nn,n.stateNode));break;case 4:r=Nn,i=Yi,Nn=n.stateNode.containerInfo,Yi=!0,Qs(t,e,n),Nn=r,Yi=i;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&MS(n,e,s),i=i.next}while(i!==r)}Qs(t,e,n);break;case 1:if(!qn&&(Wc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ut(n,e,o)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,Qs(t,e,n),qn=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function QT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F8),e.forEach(function(r){var i=K8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Nn=o.stateNode,Yi=!1;break e;case 3:Nn=o.stateNode.containerInfo,Yi=!0;break e;case 4:Nn=o.stateNode.containerInfo,Yi=!0;break e}o=o.return}if(Nn===null)throw Error(be(160));Wj(a,s,i),Nn=null,Yi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vj(e,t),e=e.sibling}function Vj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),da(t),r&4){try{fp(3,t,t.return),cx(3,t)}catch(p){Ut(t,t.return,p)}try{fp(5,t,t.return)}catch(p){Ut(t,t.return,p)}}break;case 1:Mi(e,t),da(t),r&512&&n!==null&&Wc(n,n.return);break;case 5:if(Mi(e,t),da(t),r&512&&n!==null&&Wc(n,n.return),t.flags&32){var i=t.stateNode;try{Pp(i,"")}catch(p){Ut(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&fL(i,a),aS(o,s);var u=aS(o,a);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?vL(i,h):c==="dangerouslySetInnerHTML"?gL(i,h):c==="children"?Pp(i,h):aE(i,c,h,u)}switch(o){case"input":eS(i,a);break;case"textarea":pL(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Zc(i,!!a.multiple,f,!1):d!==!!a.multiple&&(a.defaultValue!=null?Zc(i,!!a.multiple,a.defaultValue,!0):Zc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Dp]=a}catch(p){Ut(t,t.return,p)}}break;case 6:if(Mi(e,t),da(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){Ut(t,t.return,p)}}break;case 3:if(Mi(e,t),da(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mp(e.containerInfo)}catch(p){Ut(t,t.return,p)}break;case 4:Mi(e,t),da(t);break;case 13:Mi(e,t),da(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($E=Gt())),r&4&&QT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qn=(u=qn)||c,Mi(e,t),qn=u):Mi(e,t),da(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ce=t,c=t.child;c!==null;){for(h=Ce=c;Ce!==null;){switch(d=Ce,f=d.child,d.tag){case 0:case 11:case 14:case 15:fp(4,d,d.return);break;case 1:Wc(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Ut(r,n,p)}}break;case 5:Wc(d,d.return);break;case 22:if(d.memoizedState!==null){eO(h);continue}}f!==null?(f.return=d,Ce=f):eO(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yL("display",s))}catch(p){Ut(t,t.return,p)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Ut(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mi(e,t),da(t),r&4&&QT(t);break;case 21:break;default:Mi(e,t),da(t)}}function da(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hj(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pp(i,""),r.flags&=-33);var a=ZT(t);LS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=ZT(t);RS(t,o,s);break;default:throw Error(be(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z8(t,e,n){Ce=t,Gj(t)}function Gj(t,e,n){for(var r=(t.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Oy;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||qn;o=Oy;var u=qn;if(Oy=s,(qn=l)&&!u)for(Ce=i;Ce!==null;)s=Ce,l=s.child,s.tag===22&&s.memoizedState!==null?tO(i):l!==null?(l.return=s,Ce=l):tO(i);for(;a!==null;)Ce=a,Gj(a),a=a.sibling;Ce=i,Oy=o,qn=u}JT(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):JT(t)}}function JT(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||cx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&DT(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}DT(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Mp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}qn||e.flags&512&&NS(e)}catch(d){Ut(e,e.return,d)}}if(e===t){Ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function eO(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ce=n;break}Ce=e.return}}function tO(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cx(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var a=e.return;try{NS(e)}catch(l){Ut(e,a,l)}break;case 5:var s=e.return;try{NS(e)}catch(l){Ut(e,s,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){Ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ce=o;break}Ce=e.return}}var U8=Math.ceil,Sb=Xs.ReactCurrentDispatcher,jE=Xs.ReactCurrentOwner,xi=Xs.ReactCurrentBatchConfig,et=0,En=null,tn=null,Ln=0,Hr=0,Vc=sl(0),pn=0,Hp=null,Hu=0,hx=0,DE=0,pp=null,br=null,$E=0,yd=1/0,Za=null,kb=!1,jS=null,qo=null,Iy=!1,Fo=null,_b=0,mp=0,DS=null,gv=-1,yv=0;function sr(){return et&6?Gt():gv!==-1?gv:gv=Gt()}function Xo(t){return t.mode&1?et&2&&Ln!==0?Ln&-Ln:A8.transition!==null?(yv===0&&(yv=OL()),yv):(t=ht,t!==0||(t=window.event,t=t===void 0?16:DL(t.type)),t):1}function sa(t,e,n,r){if(50<mp)throw mp=0,DS=null,Error(be(185));qg(t,n,r),(!(et&2)||t!==En)&&(t===En&&(!(et&2)&&(hx|=n),pn===4&&oo(t,Ln)),Ar(t,r),n===1&&et===0&&!(e.mode&1)&&(yd=Gt()+500,ox&&ol()))}function Ar(t,e){var n=t.callbackNode;A6(t,e);var r=ob(t,t===En?Ln:0);if(r===0)n!==null&&cT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cT(n),e===1)t.tag===0?_8(nO.bind(null,t)):nj(nO.bind(null,t)),x8(function(){!(et&6)&&ol()}),n=null;else{switch(IL(r)){case 1:n=cE;break;case 4:n=PL;break;case 16:n=sb;break;case 536870912:n=TL;break;default:n=sb}n=eD(n,qj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qj(t,e){if(gv=-1,yv=0,et&6)throw Error(be(327));var n=t.callbackNode;if(nh()&&t.callbackNode!==n)return null;var r=ob(t,t===En?Ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ab(t,r);else{e=r;var i=et;et|=2;var a=Kj();(En!==t||Ln!==e)&&(Za=null,yd=Gt()+500,Lu(t,e));do try{V8();break}catch(o){Xj(t,o)}while(!0);kE(),Sb.current=a,et=i,tn!==null?e=0:(En=null,Ln=0,e=pn)}if(e!==0){if(e===2&&(i=cS(t),i!==0&&(r=i,e=$S(t,i))),e===1)throw n=Hp,Lu(t,0),oo(t,r),Ar(t,Gt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!H8(i)&&(e=Ab(t,r),e===2&&(a=cS(t),a!==0&&(r=a,e=$S(t,a))),e===1))throw n=Hp,Lu(t,0),oo(t,r),Ar(t,Gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:xl(t,br,Za);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=$E+500-Gt(),10<e)){if(ob(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vS(xl.bind(null,t,br,Za),e);break}xl(t,br,Za);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-aa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U8(r/1960))-r,10<r){t.timeoutHandle=vS(xl.bind(null,t,br,Za),r);break}xl(t,br,Za);break;case 5:xl(t,br,Za);break;default:throw Error(be(329))}}}return Ar(t,Gt()),t.callbackNode===n?qj.bind(null,t):null}function $S(t,e){var n=pp;return t.current.memoizedState.isDehydrated&&(Lu(t,e).flags|=256),t=Ab(t,e),t!==2&&(e=br,br=n,e!==null&&FS(e)),t}function FS(t){br===null?br=t:br.push.apply(br,t)}function H8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!oa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~DE,e&=~hx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-aa(e),r=1<<n;t[n]=-1,e&=~r}}function nO(t){if(et&6)throw Error(be(327));nh();var e=ob(t,0);if(!(e&1))return Ar(t,Gt()),null;var n=Ab(t,e);if(t.tag!==0&&n===2){var r=cS(t);r!==0&&(e=r,n=$S(t,r))}if(n===1)throw n=Hp,Lu(t,0),oo(t,e),Ar(t,Gt()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xl(t,br,Za),Ar(t,Gt()),null}function FE(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(yd=Gt()+500,ox&&ol())}}function Wu(t){Fo!==null&&Fo.tag===0&&!(et&6)&&nh();var e=et;et|=1;var n=xi.transition,r=ht;try{if(xi.transition=null,ht=1,t)return t()}finally{ht=r,xi.transition=n,et=e,!(et&6)&&ol()}}function BE(){Hr=Vc.current,Ct(Vc)}function Lu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b8(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(xE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&db();break;case 3:md(),Ct(kr),Ct(Qn),TE();break;case 5:PE(r);break;case 4:md();break;case 13:Ct(Dt);break;case 19:Ct(Dt);break;case 10:_E(r.type._context);break;case 22:case 23:BE()}n=n.return}if(En=t,tn=t=Ko(t.current,null),Ln=Hr=e,pn=0,Hp=null,DE=hx=Hu=0,br=pp=null,Nl!==null){for(e=0;e<Nl.length;e++)if(n=Nl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Nl=null}return t}function Xj(t,e){do{var n=tn;try{if(kE(),fv.current=wb,xb){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xb=!1}if(Uu=0,An=hn=$t=null,dp=!1,Bp=0,jE.current=null,n===null||n.return===null){pn=1,Hp=e,tn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Ln,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=HT(s);if(f!==null){f.flags&=-257,WT(f,s,o,a,e),f.mode&1&&UT(a,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){UT(a,u,e),zE();break e}l=Error(be(426))}}else if(Ot&&o.mode&1){var v=HT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WT(v,s,o,a,e),wE(gd(l,o));break e}}a=l=gd(l,o),pn!==4&&(pn=2),pp===null?pp=[a]:pp.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=Ij(a,l,e);jT(a,y);break e;case 1:o=l;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qo===null||!qo.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=Mj(a,o,e);jT(a,k);break e}}a=a.return}while(a!==null)}Zj(n)}catch(w){e=w,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function Kj(){var t=Sb.current;return Sb.current=wb,t===null?wb:t}function zE(){(pn===0||pn===3||pn===2)&&(pn=4),En===null||!(Hu&268435455)&&!(hx&268435455)||oo(En,Ln)}function Ab(t,e){var n=et;et|=2;var r=Kj();(En!==t||Ln!==e)&&(Za=null,Lu(t,e));do try{W8();break}catch(i){Xj(t,i)}while(!0);if(kE(),et=n,Sb.current=r,tn!==null)throw Error(be(261));return En=null,Ln=0,pn}function W8(){for(;tn!==null;)Yj(tn)}function V8(){for(;tn!==null&&!g6();)Yj(tn)}function Yj(t){var e=Jj(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,e===null?Zj(t):tn=e,jE.current=null}function Zj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$8(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,tn=null;return}}else if(n=D8(n,e,Hr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);pn===0&&(pn=5)}function xl(t,e,n){var r=ht,i=xi.transition;try{xi.transition=null,ht=1,G8(t,e,n,r)}finally{xi.transition=i,ht=r}return null}function G8(t,e,n,r){do nh();while(Fo!==null);if(et&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(E6(t,a),t===En&&(tn=En=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iy||(Iy=!0,eD(sb,function(){return nh(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xi.transition,xi.transition=null;var s=ht;ht=1;var o=et;et|=4,jE.current=null,B8(t,n),Vj(n,t),d8(gS),lb=!!mS,gS=mS=null,t.current=n,z8(n),y6(),et=o,ht=s,xi.transition=a}else t.current=n;if(Iy&&(Iy=!1,Fo=t,_b=i),a=t.pendingLanes,a===0&&(qo=null),x6(n.stateNode),Ar(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kb)throw kb=!1,t=jS,jS=null,t;return _b&1&&t.tag!==0&&nh(),a=t.pendingLanes,a&1?t===DS?mp++:(mp=0,DS=t):mp=0,ol(),null}function nh(){if(Fo!==null){var t=IL(_b),e=xi.transition,n=ht;try{if(xi.transition=null,ht=16>t?16:t,Fo===null)var r=!1;else{if(t=Fo,Fo=null,_b=0,et&6)throw Error(be(331));var i=et;for(et|=4,Ce=t.current;Ce!==null;){var a=Ce,s=a.child;if(Ce.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ce=u;Ce!==null;){var c=Ce;switch(c.tag){case 0:case 11:case 15:fp(8,c,a)}var h=c.child;if(h!==null)h.return=c,Ce=h;else for(;Ce!==null;){c=Ce;var d=c.sibling,f=c.return;if(Uj(c),c===u){Ce=null;break}if(d!==null){d.return=f,Ce=d;break}Ce=f}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ce=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ce=s;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fp(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ce=y;break e}Ce=a.return}}var b=t.current;for(Ce=b;Ce!==null;){s=Ce;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ce=x;else e:for(s=b;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:cx(9,o)}}catch(w){Ut(o,o.return,w)}if(o===s){Ce=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Ce=k;break e}Ce=o.return}}if(et=i,ol(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(nx,t)}catch{}r=!0}return r}finally{ht=n,xi.transition=e}}return!1}function rO(t,e,n){e=gd(n,e),e=Ij(t,e,1),t=Go(t,e,1),e=sr(),t!==null&&(qg(t,1,e),Ar(t,e))}function Ut(t,e,n){if(t.tag===3)rO(t,t,n);else for(;e!==null;){if(e.tag===3){rO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qo===null||!qo.has(r))){t=gd(n,t),t=Mj(e,t,1),e=Go(e,t,1),t=sr(),e!==null&&(qg(e,1,t),Ar(e,t));break}}e=e.return}}function q8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sr(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(Ln&n)===n&&(pn===4||pn===3&&(Ln&130023424)===Ln&&500>Gt()-$E?Lu(t,0):DE|=n),Ar(t,e)}function Qj(t,e){e===0&&(t.mode&1?(e=wy,wy<<=1,!(wy&130023424)&&(wy=4194304)):e=1);var n=sr();t=Bs(t,e),t!==null&&(qg(t,e,n),Ar(t,n))}function X8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qj(t,n)}function K8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),Qj(t,n)}var Jj;Jj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kr.current)xr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xr=!1,j8(t,e,n);xr=!!(t.flags&131072)}else xr=!1,Ot&&e.flags&1048576&&rj(e,mb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mv(t,e),t=e.pendingProps;var i=dd(e,Qn.current);th(e,n),i=IE(null,e,r,t,i,n);var a=ME();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(a=!0,fb(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EE(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,AS(e,r,t,n),e=PS(null,e,r,!0,a,n)):(e.tag=0,Ot&&a&&bE(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z8(r),t=Li(r,t),i){case 0:e=CS(null,e,r,t,n);break e;case 1:e=qT(null,e,r,t,n);break e;case 11:e=VT(null,e,r,t,n);break e;case 14:e=GT(null,e,r,Li(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),CS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),qT(t,e,r,i,n);case 3:e:{if(jj(e),t===null)throw Error(be(387));r=e.pendingProps,a=e.memoizedState,i=a.element,uj(t,e),vb(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=gd(Error(be(423)),e),e=XT(t,e,r,n,i);break e}else if(r!==i){i=gd(Error(be(424)),e),e=XT(t,e,r,n,i);break e}else for(Xr=Vo(e.stateNode.containerInfo.firstChild),Yr=e,Ot=!0,ea=null,n=oj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fd(),r===i){e=zs(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return cj(e),t===null&&SS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,yS(r,i)?s=null:a!==null&&yS(r,a)&&(e.flags|=32),Lj(t,e),rr(t,e,s,n),e.child;case 6:return t===null&&SS(e),null;case 13:return Dj(t,e,n);case 4:return CE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pd(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),VT(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,wt(gb,r._currentValue),r._currentValue=s,a!==null)if(oa(a.value,s)){if(a.children===i.children&&!kr.current){e=zs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Is(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),kS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(be(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),kS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,th(e,n),i=_i(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=Li(r,e.pendingProps),i=Li(r.type,i),GT(t,e,r,i,n);case 15:return Nj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),mv(t,e),e.tag=1,_r(r)?(t=!0,fb(e)):t=!1,th(e,n),Oj(e,r,i),AS(e,r,i,n),PS(null,e,r,!0,t,n);case 19:return $j(t,e,n);case 22:return Rj(t,e,n)}throw Error(be(156,e.tag))};function eD(t,e){return CL(t,e)}function Y8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(t,e,n,r){return new Y8(t,e,n,r)}function UE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z8(t){if(typeof t=="function")return UE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===oE)return 11;if(t===lE)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=vi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")UE(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Lc:return ju(n.children,i,a,e);case sE:s=8,i|=8;break;case K1:return t=vi(12,n,e,i|2),t.elementType=K1,t.lanes=a,t;case Y1:return t=vi(13,n,e,i),t.elementType=Y1,t.lanes=a,t;case Z1:return t=vi(19,n,e,i),t.elementType=Z1,t.lanes=a,t;case cL:return dx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lL:s=10;break e;case uL:s=9;break e;case oE:s=11;break e;case lE:s=14;break e;case no:s=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=vi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ju(t,e,n,r){return t=vi(7,t,r,e),t.lanes=n,t}function dx(t,e,n,r){return t=vi(22,t,r,e),t.elementType=cL,t.lanes=n,t.stateNode={isHidden:!1},t}function Gw(t,e,n){return t=vi(6,t,null,e),t.lanes=n,t}function qw(t,e,n){return e=vi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cw(0),this.expirationTimes=Cw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HE(t,e,n,r,i,a,s,o,l){return t=new Q8(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=vi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},EE(a),t}function J8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tD(t){if(!t)return el;t=t._reactInternals;e:{if(rc(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(_r(n))return tj(t,n,e)}return e}function nD(t,e,n,r,i,a,s,o,l){return t=HE(n,r,!0,t,i,a,s,o,l),t.context=tD(null),n=t.current,r=sr(),i=Xo(n),a=Is(r,i),a.callback=e??null,Go(n,a,i),t.current.lanes=i,qg(t,i,r),Ar(t,r),t}function fx(t,e,n,r){var i=e.current,a=sr(),s=Xo(i);return n=tD(n),e.context===null?e.context=n:e.pendingContext=n,e=Is(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Go(i,e,s),t!==null&&(sa(t,i,s,a),dv(t,i,s)),s}function Eb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WE(t,e){iO(t,e),(t=t.alternate)&&iO(t,e)}function eU(){return null}var rD=typeof reportError=="function"?reportError:function(t){console.error(t)};function VE(t){this._internalRoot=t}px.prototype.render=VE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));fx(t,e,null,null)};px.prototype.unmount=VE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wu(function(){fx(null,t,null,null)}),e[Fs]=null}};function px(t){this._internalRoot=t}px.prototype.unstable_scheduleHydration=function(t){if(t){var e=RL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<so.length&&e!==0&&e<so[n].priority;n++);so.splice(n,0,t),n===0&&jL(t)}};function GE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aO(){}function tU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Eb(s);a.call(u)}}var s=nD(e,r,t,0,null,!1,!1,"",aO);return t._reactRootContainer=s,t[Fs]=s.current,Lp(t.nodeType===8?t.parentNode:t),Wu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Eb(l);o.call(u)}}var l=HE(t,0,!1,null,null,!1,!1,"",aO);return t._reactRootContainer=l,t[Fs]=l.current,Lp(t.nodeType===8?t.parentNode:t),Wu(function(){fx(e,l,n,r)}),l}function gx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Eb(s);o.call(l)}}fx(e,s,t,i)}else s=tU(n,e,t,i,r);return Eb(s)}ML=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zf(e.pendingLanes);n!==0&&(hE(e,n|1),Ar(e,Gt()),!(et&6)&&(yd=Gt()+500,ol()))}break;case 13:Wu(function(){var r=Bs(t,1);if(r!==null){var i=sr();sa(r,t,1,i)}}),WE(t,1)}};dE=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=sr();sa(e,t,134217728,n)}WE(t,134217728)}};NL=function(t){if(t.tag===13){var e=Xo(t),n=Bs(t,e);if(n!==null){var r=sr();sa(n,t,e,r)}WE(t,e)}};RL=function(){return ht};LL=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};oS=function(t,e,n){switch(e){case"input":if(eS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sx(r);if(!i)throw Error(be(90));dL(r),eS(r,i)}}}break;case"textarea":pL(t,n);break;case"select":e=n.value,e!=null&&Zc(t,!!n.multiple,e,!1)}};wL=FE;SL=Wu;var nU={usingClientEntryPoint:!1,Events:[Kg,Fc,sx,bL,xL,FE]},bf={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rU={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AL(t),t===null?null:t.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||eU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var My=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!My.isDisabled&&My.supportsFiber)try{nx=My.inject(rU),Da=My}catch{}}ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nU;ei.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GE(e))throw Error(be(200));return J8(t,e,null,n)};ei.createRoot=function(t,e){if(!GE(t))throw Error(be(299));var n=!1,r="",i=rD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HE(t,1,!1,null,null,n,!1,r,i),t[Fs]=e.current,Lp(t.nodeType===8?t.parentNode:t),new VE(e)};ei.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=AL(e),t=t===null?null:t.stateNode,t};ei.flushSync=function(t){return Wu(t)};ei.hydrate=function(t,e,n){if(!mx(e))throw Error(be(200));return gx(null,t,e,!0,n)};ei.hydrateRoot=function(t,e,n){if(!GE(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=rD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=nD(e,null,t,1,n??null,i,!1,a,s),t[Fs]=e.current,Lp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new px(e)};ei.render=function(t,e,n){if(!mx(e))throw Error(be(200));return gx(null,t,e,!1,n)};ei.unmountComponentAtNode=function(t){if(!mx(t))throw Error(be(40));return t._reactRootContainer?(Wu(function(){gx(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};ei.unstable_batchedUpdates=FE;ei.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mx(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return gx(t,e,n,!1,r)};ei.version="18.3.1-next-f1338f8080-20240426";function iD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iD)}catch(t){console.error(t)}}iD(),iL.exports=ei;var iU=iL.exports,aD,sO=iU;aD=sO.createRoot,sO.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}var Bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bo||(Bo={}));const oO="popstate";function aU(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return BS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cb(i)}return oU(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sU(){return Math.random().toString(36).substr(2,8)}function lO(t,e){return{usr:t.state,key:t.key,idx:e}}function BS(t,e,n,r){return n===void 0&&(n=null),Wp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gd(e):e,{state:n,key:e&&e.key||r||sU()})}function Cb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Bo.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Wp({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){o=Bo.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:o,location:p.location,delta:y})}function d(v,y){o=Bo.Push;let b=BS(p.location,v,y);u=c()+1;let x=lO(b,u),k=p.createHref(b);try{s.pushState(x,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(k)}a&&l&&l({action:o,location:p.location,delta:1})}function f(v,y){o=Bo.Replace;let b=BS(p.location,v,y);u=c();let x=lO(b,u),k=p.createHref(b);s.replaceState(x,"",k),a&&l&&l({action:o,location:p.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Cb(v);return b=b.replace(/ $/,"%20"),Xt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oO,h),l=v,()=>{i.removeEventListener(oO,h),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(v){return s.go(v)}};return p}var uO;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uO||(uO={}));function lU(t,e,n){return n===void 0&&(n="/"),uU(t,e,n)}function uU(t,e,n,r){let i=typeof e=="string"?Gd(e):e,a=XE(i.pathname||"/",n);if(a==null)return null;let s=sD(t);cU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SU(a);o=bU(s[l],u)}return o}function sD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Yo([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sD(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:yU(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of oD(a.path))i(a,s,l)}),e}function oD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=oD(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function cU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hU=/^:[\w-]+$/,dU=3,fU=2,pU=1,mU=10,gU=-2,cO=t=>t==="*";function yU(t,e){let n=t.split("/"),r=n.length;return n.some(cO)&&(r+=gU),e&&(r+=fU),n.filter(i=>!cO(i)).reduce((i,a)=>i+(hU.test(a)?dU:a===""?pU:mU),r)}function vU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bU(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",h=xU({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Yo([a,h.pathname]),pathnameBase:CU(Yo([a,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(a=Yo([a,h.pathnameBase]))}return s}function xU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let p=o[h]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=o[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function wU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function XE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const kU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_U=t=>kU.test(t);function AU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gd(t):t,a;if(n)if(_U(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),qE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=hO(n.substring(1),"/"):a=hO(n,e)}else a=e;return{pathname:a,search:PU(r),hash:TU(i)}}function hO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KE(t,e){let n=EU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function YE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gd(t):(i=Wp({},t),Xt(!i.pathname||!i.pathname.includes("?"),Xw("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),Xw("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),Xw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=AU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),CU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lD=["post","put","patch","delete"];new Set(lD);const IU=["get",...lD];new Set(IU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}const ZE=N.createContext(null),MU=N.createContext(null),ll=N.createContext(null),yx=N.createContext(null),Ha=N.createContext({outlet:null,matches:[],isDataRoute:!1}),uD=N.createContext(null);function NU(t,e){let{relative:n}=e===void 0?{}:e;qd()||Xt(!1);let{basename:r,navigator:i}=N.useContext(ll),{hash:a,pathname:s,search:o}=hD(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Yo([r,s])),i.createHref({pathname:l,search:o,hash:a})}function qd(){return N.useContext(yx)!=null}function ic(){return qd()||Xt(!1),N.useContext(yx).location}function cD(t){N.useContext(ll).static||N.useLayoutEffect(t)}function Xd(){let{isDataRoute:t}=N.useContext(Ha);return t?XU():RU()}function RU(){qd()||Xt(!1);let t=N.useContext(ZE),{basename:e,future:n,navigator:r}=N.useContext(ll),{matches:i}=N.useContext(Ha),{pathname:a}=ic(),s=JSON.stringify(KE(i,n.v7_relativeSplatPath)),o=N.useRef(!1);return cD(()=>{o.current=!0}),N.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=YE(u,JSON.parse(s),a,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yo([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,a,t])}const LU=N.createContext(null);function jU(t){let e=N.useContext(Ha).outlet;return e&&N.createElement(LU.Provider,{value:t},e)}function QE(){let{matches:t}=N.useContext(Ha),e=t[t.length-1];return e?e.params:{}}function hD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(ll),{matches:i}=N.useContext(Ha),{pathname:a}=ic(),s=JSON.stringify(KE(i,r.v7_relativeSplatPath));return N.useMemo(()=>YE(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function DU(t,e){return $U(t,e)}function $U(t,e,n,r){qd()||Xt(!1);let{navigator:i}=N.useContext(ll),{matches:a}=N.useContext(Ha),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ic(),c;if(e){var h;let v=typeof e=="string"?Gd(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Xt(!1),c=v}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=lU(t,{pathname:f}),p=HU(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Yo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Yo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&p?N.createElement(yx.Provider,{value:{location:Vp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bo.Pop}},p):p}function FU(){let t=qU(),e=OU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const BU=N.createElement(FU,null);class zU extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Ha.Provider,{value:this.props.routeContext},N.createElement(uD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UU(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(ZE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ha.Provider,{value:e},r)}function HU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||Xt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let f,g=!1,p=null,v=null;n&&(f=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||BU,l&&(u<0&&d===0?(KU("route-fallback"),g=!0,v=null):u===d&&(g=!0,v=h.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,d+1)),b=()=>{let x;return f?x=p:g?x=v:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,N.createElement(UU,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?N.createElement(zU,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var dD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dD||{}),fD=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fD||{});function WU(t){let e=N.useContext(ZE);return e||Xt(!1),e}function VU(t){let e=N.useContext(MU);return e||Xt(!1),e}function GU(t){let e=N.useContext(Ha);return e||Xt(!1),e}function pD(t){let e=GU(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function qU(){var t;let e=N.useContext(uD),n=VU(),r=pD();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XU(){let{router:t}=WU(dD.UseNavigateStable),e=pD(fD.UseNavigateStable),n=N.useRef(!1);return cD(()=>{n.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vp({fromRouteId:e},a)))},[t,e])}const dO={};function KU(t,e,n){dO[t]||(dO[t]=!0)}function YU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function JE(t){let{to:e,replace:n,state:r,relative:i}=t;qd()||Xt(!1);let{future:a,static:s}=N.useContext(ll),{matches:o}=N.useContext(Ha),{pathname:l}=ic(),u=Xd(),c=YE(e,KE(o,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return N.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function ZU(t){return jU(t.context)}function wl(t){Xt(!1)}function QU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bo.Pop,navigator:a,static:s=!1,future:o}=t;qd()&&Xt(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:s,future:Vp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Gd(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,p=N.useMemo(()=>{let v=XE(c,l);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:g},navigationType:i}},[l,c,h,d,f,g,i]);return p==null?null:N.createElement(ll.Provider,{value:u},N.createElement(yx.Provider,{children:n,value:p}))}function JU(t){let{children:e,location:n}=t;return DU(zS(e),n)}new Promise(()=>{});function zS(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let a=[...e,i];if(r.type===N.Fragment){n.push.apply(n,zS(r.props.children,a));return}r.type!==wl&&Xt(!1),!r.props.index||!r.props.children||Xt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=zS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}function eH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nH(t,e){return t.button===0&&(!e||e==="_self")&&!tH(t)}function HS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function rH(t,e){let n=HS(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const iH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aH="6";try{window.__reactRouterVersion=aH}catch{}const sH="startTransition",fO=q4[sH];function oH(t){let{basename:e,children:n,future:r,window:i}=t,a=N.useRef();a.current==null&&(a.current=aU({window:i,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=N.useCallback(h=>{u&&fO?fO(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.useEffect(()=>YU(r),[r]),N.createElement(QU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const lH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pb=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=eH(e,iH),{basename:f}=N.useContext(ll),g,p=!1;if(typeof u=="string"&&uH.test(u)&&(g=u,lH))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),w=XE(k.pathname,f);k.origin===x.origin&&w!=null?u=w+k.search+k.hash:p=!0}catch{}let v=NU(u,{relative:i}),y=cH(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function b(x){r&&r(x),x.defaultPrevented||y(x)}return N.createElement("a",US({},d,{href:g||v,onClick:p||a?r:b,ref:n,target:l}))});var pO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pO||(pO={}));var mO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mO||(mO={}));function cH(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Xd(),u=ic(),c=hD(t,{relative:s});return N.useCallback(h=>{if(nH(h,n)){h.preventDefault();let d=r!==void 0?r:Cb(u)===Cb(c);l(t,{replace:d,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,r,i,n,t,a,s,o])}function hH(t){let e=N.useRef(HS(t)),n=N.useRef(!1),r=ic(),i=N.useMemo(()=>rH(r.search,n.current?null:e.current),[r.search]),a=Xd(),s=N.useCallback((o,l)=>{const u=HS(typeof o=="function"?o(i):o);n.current=!0,a("?"+u,l)},[a,i]);return[i,s]}const dH="studyhub-db",fH=2;let Ny=null;function Zg(){return Ny||(Ny=new Promise((t,e)=>{const n=indexedDB.open(dH,fH);n.onerror=()=>e(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{const r=n.result;if(r.objectStoreNames.contains("workspace")){if(r.objectStoreNames.contains("workspace")){const i=n.transaction.objectStore("workspace");i.indexNames.contains("workspaceId")||i.createIndex("workspaceId","workspaceId",{unique:!1})}}else{const i=r.createObjectStore("workspace",{keyPath:"id"});i.createIndex("kind","kind",{unique:!1}),i.createIndex("folderId","folderId",{unique:!1}),i.createIndex("parentId","parentId",{unique:!1}),i.createIndex("workspaceId","workspaceId",{unique:!1})}r.objectStoreNames.contains("tabs")||r.createObjectStore("tabs",{keyPath:"id"}),r.objectStoreNames.contains("study")||r.createObjectStore("study",{keyPath:"id"}),r.objectStoreNames.contains("csvPrefs")||r.createObjectStore("csvPrefs",{keyPath:"fileId"})}}),Ny)}async function ul(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readonly").objectStore(t).get(e);s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async function eC(t){const e=await Zg();return new Promise((n,r)=>{const a=e.transaction(t,"readonly").objectStore(t).getAll();a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)})}async function pH(t,e,n){const r=await Zg();return new Promise((i,a)=>{const u=r.transaction(t,"readonly").objectStore(t).index(e).getAll(n);u.onsuccess=()=>i(u.result),u.onerror=()=>a(u.error)})}async function ca(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).put(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async function Vu(t,e){const n=await Zg();return new Promise((r,i)=>{const s=n.transaction(t,"readwrite").objectStore(t).delete(e);s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}const tC="studyapp_";function ni(t){return typeof window>"u"?null:localStorage.getItem(tC+t)}function Pi(t,e){typeof window>"u"||localStorage.setItem(tC+t,e)}function Gp(t){typeof window>"u"||localStorage.removeItem(tC+t)}const mH=["light","dark","sepia"];function gH(){const t=ni("theme");return t==="light"||t==="dark"||t==="sepia"?t:"light"}function yH(t){Pi("theme",t)}function vH(){return ni("compact")==="true"}function bH(t){Pi("compact",t?"true":"false")}function xH(){return ni("sidebar_collapsed")==="true"}function wH(t){Pi("sidebar_collapsed",t?"true":"false")}function Du(){try{const t=ni("media_links");return t?JSON.parse(t):{}}catch{return{}}}function qp(t){Pi("media_links",JSON.stringify(t))}const mD="workspace_expanded";function SH(){try{const t=ni(mD);return t?JSON.parse(t):{}}catch{return{}}}function kH(t){Pi(mD,JSON.stringify(t))}const gD="spotify_tokens";function yD(){try{const t=ni(gD);return t?JSON.parse(t):null}catch{return null}}function _H(){Gp(gD)}const nC="media_spotify_youtube";function gO(){return ni(nC)}function AH(t){Pi(nC,t)}function EH(){Gp(nC)}const vD="spotify_youtube_cache";function bD(){try{const t=ni(vD);return t?JSON.parse(t):{}}catch{return{}}}function CH(t,e){const n=bD();n[t]=e,Pi(vD,JSON.stringify(n))}const WS="user_avatar";function VS(){return ni(WS)}function xD(t){t==null?Gp(WS):Pi(WS,t)}const wD="workspace_list",SD="active_workspace_id";function Hf(){try{const t=ni(wD);return t?JSON.parse(t):[]}catch{return[]}}function bv(t){Pi(wD,JSON.stringify(t))}function Kw(){return ni(SD)}function xv(t){Pi(SD,t)}const kD=N.createContext(null);function PH({children:t}){const[e,n]=N.useState(()=>gH()),[r,i]=N.useState(()=>vH()),[a,s]=N.useState(()=>xH());N.useEffect(()=>{document.documentElement.classList.remove("theme-light","theme-dark","theme-sepia"),document.documentElement.classList.add(`theme-${e}`),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),N.useEffect(()=>{r?document.documentElement.classList.add("compact"):document.documentElement.classList.remove("compact")},[r]);const o=N.useCallback(c=>{n(c),yH(c)},[]),l=N.useCallback(c=>{i(c),bH(c)},[]),u=N.useCallback(c=>{s(c),wH(c)},[]);return T.jsx(kD.Provider,{value:{theme:e,setTheme:o,compact:r,setCompact:l,sidebarCollapsed:a,setSidebarCollapsed:u},children:t})}function _D(){const t=N.useContext(kD);if(!t)throw new Error("useSettings must be used within SettingsProvider");return t}const TH={success:"bg-green-600 text-white dark:bg-green-700",info:"bg-blue-600 text-white dark:bg-blue-700",error:"bg-red-600 text-white dark:bg-red-700"};function OH({id:t,message:e,variant:n="info",duration:r=4e3,onClose:i}){return N.useEffect(()=>{if(r<=0)return;const a=setTimeout(()=>i(t),r);return()=>clearTimeout(a)},[t,r,i]),T.jsxs("div",{className:`flex items-center justify-between gap-3 rounded-lg px-4 py-3 shadow-lg ${TH[n]}`,role:"status",children:[T.jsx("span",{className:"text-sm font-medium",children:e}),T.jsx("button",{type:"button",className:"rounded p-1 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close",onClick:()=>i(t),children:""})]})}const AD=N.createContext(null);let IH=0;function MH(){return`toast-${++IH}`}function NH({children:t}){const[e,n]=N.useState([]),r=N.useCallback(a=>{n(s=>s.filter(o=>o.id!==a))},[]),i=N.useCallback((a,s="info",o=4e3)=>{const l=MH();n(u=>[...u,{id:l,message:a,variant:s,duration:o}])},[]);return T.jsxs(AD.Provider,{value:{showToast:i},children:[t,T.jsx("div",{className:"fixed right-4 top-4 z-50 flex max-w-sm flex-col gap-2","aria-live":"polite",children:e.map(a=>T.jsx(OH,{id:a.id,message:a.message,variant:a.variant,duration:a.duration,onClose:r},a.id))})]})}function ED(){const t=N.useContext(AD);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const RH={query:"",setQuery:()=>{}},CD=N.createContext(RH);function LH({children:t}){const[e,n]=N.useState("");return T.jsx(CD.Provider,{value:{query:e,setQuery:n},children:t})}function PD(){return N.useContext(CD)}const jH="studyhub-db",DH="studyapp_";async function $H(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n!=null&&n.startsWith(DH)&&t.push(n)}return t.forEach(e=>localStorage.removeItem(e)),new Promise((e,n)=>{const r=indexedDB.deleteDatabase(jH);r.onsuccess=()=>e(),r.onerror=()=>n(r.error),r.onblocked=()=>e()})}class FH extends N.Component{constructor(n){super(n);Ne(this,"handleGoToWorkspace",()=>{window.location.href="/app/workspace"});Ne(this,"handleReload",()=>{window.location.reload()});Ne(this,"handleClearData",async()=>{await $H(),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?T.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-slate-100 p-6 dark:bg-slate-900",children:[T.jsx("h1",{className:"text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Something went wrong."}),T.jsx("p",{className:"text-center text-slate-600 dark:text-slate-400",children:"An unexpected error occurred. You can go to the workspace, reload the app, or clear local data and start over."}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[T.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white hover:bg-blue-700",onClick:this.handleGoToWorkspace,children:"Go to Workspace"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 bg-white px-4 py-2 font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",onClick:this.handleReload,children:"Reload App"}),T.jsx("button",{type:"button",className:"rounded-lg border border-red-300 bg-white px-4 py-2 font-medium text-red-700 hover:bg-red-50 dark:border-red-700 dark:bg-slate-800 dark:text-red-300 dark:hover:bg-red-900/20",onClick:this.handleClearData,children:"Clear Local Data"})]})]}):this.props.children}}function TD(){return ni("logged_in")==="true"}function BH(t){Pi("logged_in","true")}function OD(){return ni("user_name")}function zH(t){Pi("user_name",t)}function UH(){Gp("logged_in"),Gp("user_name"),xD(null)}const HH=[{id:"workspace",title:"Workspace",description:"Organise files and folders. Import documents and open them in tabs.",icon:""},{id:"study",title:"Study Modes",description:"Pomodoro timer, custom countdown, and flashcards to study effectively.",icon:""},{id:"media",title:"Media Player Hub",description:"Embed Spotify and YouTube. Keep your last link per provider.",icon:""},{id:"csv",title:"CSV Visualizer",description:"Open CSV files, view as table, and build bar or line charts from your data.",icon:""},{id:"settings",title:"Settings",description:"Theme, compact mode, and sidebar preferences that persist across sessions.",icon:""}];function WH(){const t=Xd(),e=TD();N.useEffect(()=>{e&&t("/app",{replace:!0})},[e,t]);const n=()=>{BH(),t("/app")};return T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:T.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-16 sm:py-24",children:[T.jsxs("section",{className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold tracking-tight text-slate-800 dark:text-slate-100 sm:text-5xl",children:"Study Hub"}),T.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-400",children:"Organise, study, and focus in one place. Files, timers, flashcards, and music  all in your browser."}),T.jsxs("div",{className:"mt-8",children:[T.jsx("button",{type:"button",onClick:n,className:"rounded-xl bg-blue-600 px-6 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",children:"Get Started"}),T.jsx("button",{type:"button",onClick:n,className:"ml-4 rounded-xl border border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Login"})]})]}),T.jsxs("section",{className:"mt-20",children:[T.jsx("h2",{className:"text-center text-2xl font-semibold text-slate-800 dark:text-slate-100",children:"Everything you need to study"}),T.jsx("div",{className:"mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:HH.map(r=>T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("span",{className:"text-2xl","aria-hidden":!0,children:r.icon}),T.jsx("h3",{className:"mt-3 font-semibold text-slate-800 dark:text-slate-100",children:r.title}),T.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:r.description})]},r.id))})]})]})})}const ID=N.createContext(null);function VH({children:t}){const[e,n]=N.useState(!1);return T.jsx(ID.Provider,{value:{mobileMenuOpen:e,setMobileMenuOpen:n},children:t})}function MD(){return N.useContext(ID)??{mobileMenuOpen:!1,setMobileMenuOpen:()=>{}}}const GH={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 disabled:opacity-50",secondary:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 disabled:opacity-50",ghost:"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"},qH={sm:"rounded px-2 py-1 text-xs",md:"rounded-lg px-4 py-2 text-sm",lg:"rounded-xl px-6 py-3 text-base"};function dn({variant:t="secondary",size:e="md",className:n="",disabled:r,type:i="button",...a}){return T.jsx("button",{type:i,disabled:r,className:`font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${GH[t]} ${qH[e]} ${n}`,...a})}function XH({open:t,onClose:e}){const[n,r]=N.useState(""),[i,a]=N.useState(null),s=N.useRef(null);N.useEffect(()=>{t&&(r(OD()??""),a(VS()))},[t]);const o=()=>{const c=n.trim();c&&zH(c),xD(i),e(!0)},l=c=>{var f;const h=(f=c.target.files)==null?void 0:f[0];if(!h||!h.type.startsWith("image/"))return;const d=new FileReader;d.onload=()=>{const g=d.result;a(g)},d.readAsDataURL(h),c.target.value=""},u=()=>{a(null)};return t?T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"profile-modal-title",children:[T.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:()=>e()}),T.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h2",{id:"profile-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Profile"}),T.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display name"}),T.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",placeholder:"Your name"}),T.jsx("label",{className:"mt-4 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Profile picture"}),T.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[T.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-600 dark:bg-slate-700",children:i?T.jsx("img",{src:i,alt:"",className:"h-full w-full object-cover"}):T.jsx("div",{className:"flex h-full w-full items-center justify-center text-2xl text-slate-400",children:n.trim()?n.trim().charAt(0).toUpperCase():"?"})}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.jsx("input",{ref:s,type:"file",accept:"image/*",className:"hidden",onChange:l}),T.jsx(dn,{variant:"secondary",size:"sm",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:"Upload"}),i&&T.jsx(dn,{variant:"ghost",size:"sm",onClick:u,children:"Remove"})]})]}),T.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[T.jsx(dn,{variant:"secondary",onClick:()=>e(),children:"Cancel"}),T.jsx(dn,{variant:"primary",onClick:o,children:"Save"})]})]})]}):null}function KH(){const t=Xd(),e=OD(),{query:n,setQuery:r}=PD(),{setMobileMenuOpen:i}=MD(),[a,s]=N.useState(!1),[o,l]=N.useState(!1),[u,c]=N.useState(()=>VS()),h=N.useRef(null);N.useEffect(()=>{function f(g){h.current&&!h.current.contains(g.target)&&s(!1)}if(a)return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[a]);const d=()=>{UH(),t("/")};return T.jsxs("header",{className:"flex h-14 items-center justify-between border-b border-slate-200 bg-white px-4 dark:border-slate-700 dark:bg-slate-900",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{type:"button",className:"md:hidden rounded p-2 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(!0),"aria-label":"Open menu",children:T.jsx("span",{className:"text-xl",children:""})}),T.jsx(Pb,{to:"/app/workspace",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Study Hub"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("input",{type:"search",placeholder:"Search workspace...",value:n,onChange:f=>r(f.target.value),className:"rounded-lg border border-slate-300 bg-slate-50 px-3 py-1.5 text-sm dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Search workspace"}),T.jsxs("div",{className:"relative",ref:h,children:[T.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800","aria-haspopup":"true","aria-expanded":a,"aria-label":"User menu",onClick:f=>{f.stopPropagation(),s(g=>!g)},children:[u?T.jsx("img",{src:u,alt:"",className:"h-8 w-8 rounded-full object-cover"}):T.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-sm font-medium text-white",children:(e||"U").charAt(0).toUpperCase()}),T.jsx("span",{className:"hidden text-sm text-slate-700 dark:text-slate-300 sm:inline",children:e||"User"})]}),a&&T.jsxs("div",{className:"absolute right-0 top-full mt-1 min-w-[140px] rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{s(!1),l(!0)},children:"Profile"}),T.jsx(Pb,{to:"/app/settings",className:"block px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>s(!1),children:"Settings"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:d,children:"Logout"})]}),T.jsx(XH,{open:o,onClose:f=>{l(!1),f&&c(VS())}})]})]})]})}const YH=[{id:"workspace",label:"Workspace"},{id:"study",label:"Study Modes"},{id:"media",label:"Media Player Hub"},{id:"csv",label:"CSV Visualizer"},{id:"settings",label:"Settings"}],la="workspace";async function GS(t){return await pH(la,"workspaceId",t)}async function ZH(){return eC(la)}async function yO(t){return ul(la,t)}async function vO(t){await ca(la,t)}async function xf(t){await ca(la,t)}async function QH(t,e){const n=await ul(la,t);(n==null?void 0:n.kind)==="file"&&await ca(la,{...n,content:e})}async function JH(t,e){const n=await ul(la,t);if(!n||n.kind!=="file")return;const r={...n,folderId:e,updatedAt:Date.now()};return await ca(la,r),r}async function eW(t){await Vu(la,t)}async function tW(t){const e=await GS(t);for(const n of e)await Vu(la,n.id)}function wf(){return crypto.randomUUID()}const rC="tabs";function iC(t){return`tabs_${t}`}async function nW(t){const e=iC(t);return await ul(rC,e)??{id:e,openTabIds:[],activeTabId:null}}async function ND(t,e){const n=iC(t);await ca(rC,{...e,id:n})}async function rW(t){await Vu(rC,iC(t))}const iW="workspace",bO="tabs",Ry="default";async function aW(){if(Hf().length>0)return;const e=Date.now();bv([{id:Ry,name:"Default",createdAt:e,updatedAt:e}]),xv(Ry);const r=await ZH();for(const a of r){const s=a;(s.workspaceId==null||s.workspaceId===void 0)&&await ca(iW,{...a,workspaceId:Ry})}const i=await ul(bO,"tabs");i&&Array.isArray(i.openTabIds)&&(await ND(Ry,{openTabIds:i.openTabIds,activeTabId:i.activeTabId??null}),await Vu(bO,"tabs"))}const RD=N.createContext(null);function sW({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState("default"),[a,s]=N.useState(!1);N.useEffect(()=>{aW().then(()=>{n(Hf()),i(Kw()??"default"),s(!0)})},[]);const o=N.useCallback(d=>{i(d),xv(d)},[]),l=N.useCallback(d=>{const f=crypto.randomUUID(),g=Date.now(),p={id:f,name:d||"New workspace",createdAt:g,updatedAt:g};return n(v=>[...v,p]),bv([...Hf(),p]),i(f),xv(f),f},[]),u=N.useCallback((d,f)=>{const g=Hf().map(p=>p.id===d?{...p,name:f||p.name,updatedAt:Date.now()}:p);n(g),bv(g)},[]),c=N.useCallback(async d=>{const f=Hf();if(f.length<=1)return;await tW(d),await rW(d);const g=f.filter(p=>p.id!==d);if(bv(g),n(g),Kw()===d){const p=g[0];i(p.id),xv(p.id)}},[]),h={workspaceList:e,activeWorkspaceId:a?r:Kw()??"default",setActiveWorkspace:o,createWorkspace:l,renameWorkspace:u,deleteWorkspace:c};return T.jsx(RD.Provider,{value:h,children:t})}function aC(){const t=N.useContext(RD);if(!t)throw new Error("useActiveWorkspace must be used within WorkspaceProvider");return t}function qS({open:t,title:e,label:n,defaultValue:r="",submitLabel:i="Save",cancelLabel:a="Cancel",onSubmit:s,onCancel:o}){const[l,u]=N.useState(r);if(N.useEffect(()=>{t&&u(r)},[t,r]),!t)return null;const c=()=>{const h=l.trim();h&&s(h),o()};return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"input-modal-title",children:[T.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:o}),T.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h2",{id:"input-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),T.jsx("label",{htmlFor:"input-modal-field",className:"mt-3 block text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),T.jsx("input",{id:"input-modal-field",type:"text",value:l,onChange:h=>u(h.target.value),onKeyDown:h=>{h.key==="Enter"&&c(),h.key==="Escape"&&o()},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0}),T.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[T.jsx(dn,{variant:"secondary",onClick:o,children:a}),T.jsx(dn,{variant:"primary",onClick:c,disabled:!l.trim(),children:i})]})]})]})}function sC({open:t,title:e,message:n,confirmLabel:r,cancelLabel:i="Cancel",variant:a="primary",onConfirm:s,onCancel:o}){return t?T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:[T.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:o}),T.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h2",{id:"confirm-modal-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),T.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:n}),T.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[T.jsx(dn,{variant:"secondary",onClick:o,children:i}),T.jsx(dn,{variant:a,onClick:()=>s(),children:r})]})]})]}):null}const oW={workspace:"",study:"",media:"",csv:"",settings:""};function lW(){var C;const{section:t}=QE(),e=t??"workspace",{sidebarCollapsed:n,setSidebarCollapsed:r}=_D(),{mobileMenuOpen:i,setMobileMenuOpen:a}=MD(),{workspaceList:s,activeWorkspaceId:o,setActiveWorkspace:l,createWorkspace:u,renameWorkspace:c,deleteWorkspace:h}=aC(),[d,f]=N.useState(!1),[g,p]=N.useState(!1),[v,y]=N.useState(!1),[b,x]=N.useState(null),[k,w]=N.useState(!1),[S,A]=N.useState(null),_=N.useRef(null),E=()=>a(!1),O=s.find(F=>F.id===o),R=(O==null?void 0:O.name)??"Workspace",P=s.length>1;N.useEffect(()=>{function F(q){_.current&&!_.current.contains(q.target)&&f(!1)}if(d)return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[d]);const L=T.jsx("nav",{className:"flex flex-col gap-0.5 p-2","aria-label":"Main navigation",children:YH.map(({id:F,label:q})=>T.jsxs(Pb,{to:`/app/${F}`,title:n?q:void 0,className:`flex items-center gap-2 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${e===F?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-200":"text-slate-700 hover:bg-slate-200 dark:text-slate-300 dark:hover:bg-slate-700"} ${n?"justify-center px-2":""}`,onClick:E,children:[T.jsx("span",{"aria-hidden":!0,children:oW[F]}),!n&&T.jsx("span",{children:q})]},F))});return T.jsxs(T.Fragment,{children:[i&&T.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden","aria-hidden":!0,onClick:E}),T.jsxs("aside",{className:`flex flex-col border-r border-slate-200 bg-slate-50 transition-[width] dark:border-slate-700 dark:bg-slate-800/50
          ${n?"w-14":"w-56"}
          md:relative
          fixed inset-y-0 left-0 z-50 mt-14 md:mt-0
          ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[T.jsxs("div",{className:"flex items-center justify-between p-2",children:[T.jsx("button",{type:"button",className:"rounded p-2 hover:bg-slate-200 dark:hover:bg-slate-700",onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",title:n?"Expand sidebar":"Collapse sidebar",children:n?"":""}),T.jsx("button",{type:"button",className:"rounded p-2 hover:bg-slate-200 dark:hover:bg-slate-700 md:hidden",onClick:E,"aria-label":"Close menu",children:""})]}),!n&&T.jsxs("div",{className:"relative px-2 pb-2",ref:_,children:[T.jsxs("button",{type:"button",className:"flex w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm font-medium text-slate-800 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",onClick:()=>f(F=>!F),"aria-haspopup":"true","aria-expanded":d,children:[T.jsx("span",{className:"truncate",children:R}),T.jsx("span",{className:"text-slate-400",children:""})]}),d&&T.jsxs("div",{className:"absolute left-2 right-2 top-full z-10 mt-1 max-h-64 overflow-auto rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{f(!1),p(!0)},children:"Create workspace"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{f(!1),x(o),y(!0)},children:"Rename workspace"}),P&&T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",onClick:()=>{f(!1),A(o),w(!0)},children:"Delete workspace"}),T.jsx("div",{className:"my-1 border-t border-slate-200 dark:border-slate-600"}),s.map(F=>T.jsx("button",{type:"button",className:`block w-full truncate px-3 py-2 text-left text-sm ${F.id===o?"bg-blue-50 font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-200":"text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"}`,onClick:()=>{l(F.id),f(!1)},children:F.name},F.id))]})]}),L,T.jsx(qS,{open:g,title:"Create workspace",label:"Workspace name",defaultValue:"",submitLabel:"Create",onSubmit:F=>{u(F),p(!1)},onCancel:()=>p(!1)}),T.jsx(qS,{open:v,title:"Rename workspace",label:"Workspace name",defaultValue:b?((C=s.find(F=>F.id===b))==null?void 0:C.name)??"":"",submitLabel:"Save",onSubmit:F=>{b&&c(b,F),y(!1),x(null)},onCancel:()=>{y(!1),x(null)}}),T.jsx(sC,{open:k,title:"Delete workspace",message:"Delete this workspace and all its files? This cannot be undone.",confirmLabel:"Delete",variant:"danger",onConfirm:async()=>{S&&await h(S),w(!1),A(null)},onCancel:()=>{w(!1),A(null)}})]})]})}const uW=["workspace","study","media","csv","settings"];function cW(){const{section:t}=QE();if(!TD())return T.jsx(JE,{to:"/",replace:!0});const e=(t??"workspace").toLowerCase(),n=uW.includes(e)?e:"workspace";return T.jsx(sW,{children:T.jsx(VH,{children:T.jsxs("div",{className:"flex h-screen flex-col bg-slate-100 dark:bg-slate-900",children:[T.jsx(KH,{}),T.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[T.jsx(lW,{}),T.jsx("main",{className:"flex-1 overflow-auto p-4 min-w-0","aria-label":"Main content",children:T.jsx(ZU,{context:{section:n}})})]})]})})})}function hW(){return T.jsx(JE,{to:"/app/workspace",replace:!0})}function oC(){const{activeWorkspaceId:t}=aC(),[e,n]=N.useState([]),[r,i]=N.useState(!0),a=N.useCallback(async()=>{i(!0);const v=await GS(t);n(v),i(!1)},[t]);N.useEffect(()=>{a()},[a]);const s=N.useCallback(async(v,y)=>{const b={id:wf(),kind:"folder",workspaceId:t,name:y||"New folder",parentId:v,createdAt:Date.now()};return await vO(b),await a(),b.id},[a,t]),o=N.useCallback(async(v,y,b,x)=>{const k={id:wf(),kind:"file",workspaceId:t,folderId:v,name:y,fileType:b,content:x,createdAt:Date.now()};return await xf(k),await a(),k.id},[a,t]),l=N.useCallback(async(v,y,b,x)=>{const k=Date.now(),w={id:wf(),kind:"file",workspaceId:t,folderId:v,name:y,fileType:"docx",content:b,createdAt:k,size:x,updatedAt:k};return await xf(w),await a(),w.id},[a,t]),u=N.useCallback(async(v,y,b,x)=>{const k=Date.now(),w={id:wf(),kind:"file",workspaceId:t,folderId:v,name:y,fileType:"pdf",content:b,createdAt:k,size:x,updatedAt:k};return await xf(w),await a(),w.id},[a,t]),c=N.useCallback(async(v,y)=>{const b=y.name&&y.artists?`${y.name}  ${y.artists}`:y.name||"Spotify track",x={id:wf(),kind:"file",workspaceId:t,folderId:v,name:b,fileType:"spotify",content:JSON.stringify(y),createdAt:Date.now()};return await xf(x),await a(),x.id},[a,t]),h=N.useCallback(async(v,y)=>{const b=await yO(v);b&&(b.kind==="folder"?await vO({...b,name:y}):await xf({...b,name:y}),await a())},[a]),d=N.useCallback(async v=>{const y=await yO(v);if(!y)return[];const b=new Set;if(y.kind==="folder"){const x=await GS(t),k=w=>{b.add(w),x.filter(S=>S.kind==="folder"?S.parentId===w:S.folderId===w).forEach(S=>{S.kind==="folder"?k(S.id):b.add(S.id)})};k(v)}else b.add(v);for(const x of b)await eW(x);return await a(),Array.from(b)},[a,t]),f=N.useCallback(v=>e.find(y=>y.id===v),[e]),g=N.useCallback(async(v,y)=>{await QH(v,y),await a()},[a]),p=N.useCallback(async(v,y)=>{const b=await JH(v,y);return b&&await a(),!!b},[a]);return{items:e,loading:r,load:a,createFolder:s,addFile:o,addDocxFile:l,addPdfFile:u,addSpotifyTrackFile:c,renameItem:h,deleteItem:d,getItem:f,updateFileContent:g,moveFile:p}}function dW(){const{activeWorkspaceId:t}=aC(),[e,n]=N.useState([]),[r,i]=N.useState(null),[a,s]=N.useState(!1);N.useEffect(()=>{s(!1),nW(t).then(h=>{n(h.openTabIds),i(h.activeTabId),s(!0)})},[t]),N.useEffect(()=>{a&&ND(t,{openTabIds:e,activeTabId:r}).catch(()=>{})},[a,t,e,r]);const o=N.useCallback(h=>{n(d=>d.includes(h)?d:[...d,h]),i(h)},[]),l=N.useCallback(h=>{n(d=>{const f=d.filter(g=>g!==h);return i(g=>{if(g!==h)return g;const p=d.indexOf(h);return f[p]??f[f.length-1]??null}),f})},[]),u=N.useCallback(h=>{const d=new Set(h);n(f=>{const g=f.filter(p=>!d.has(p));return i(p=>!p||!d.has(p)?p:g[0]??null),g})},[]),c=N.useCallback(h=>{i(h)},[]);return{openTabIds:e,activeTabId:r,openTab:o,closeTab:l,closeTabs:u,setActiveTab:c}}const fW=5*1024*1024,pW=5*1024*1024;function wv(t){return t.kind==="folder"}function Gc(t){return t.kind==="file"}const Yw="application/x-workspace-file-id";function mW(t,e){const n=t.filter(a=>a.kind==="folder"&&a.parentId===e),r=t.filter(a=>a.kind==="file"&&a.folderId===e),i=a=>a.updatedAt??a.createdAt;return[...n.sort((a,s)=>a.name.localeCompare(s.name)),...r.sort((a,s)=>i(a)-i(s))]}function xO({item:t,depth:e,onOpenFile:n,onRename:r,onDelete:i,onRequestDelete:a,onOpenFolder:s,onToggleExpand:o,selectedFolderId:l,isExpanded:u,isDragging:c,onDragStart:h,onDragEnd:d,isDropTarget:f,onDragOver:g,onDragLeave:p,onDrop:v}){const[y,b]=N.useState(!1),[x,k]=N.useState(t.name),w=N.useRef(null),S=wv(t),A=S&&t.id===l,_=()=>{const L=x.trim();L&&r(t.id,L),b(!1)};N.useEffect(()=>{var L;y&&((L=w.current)==null||L.focus())},[y]),N.useEffect(()=>{k(t.name)},[t.name]);const E=L=>{L.key==="Enter"&&_(),L.key==="Escape"&&(k(t.name),b(!1))},O=()=>{a?a(t):S?i(t.id,!0):i(t.id,!1)},R=()=>{c||(S?s(t.id):n(t.id))},P=T.jsx("div",{className:`flex items-center gap-1 rounded px-2 py-1.5 text-sm ${f?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""} ${A?"bg-blue-100 dark:bg-blue-900/40":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,style:{paddingLeft:`${e*12+8}px`},onDragOver:S?g:void 0,onDragLeave:S?p:void 0,onDrop:S?v:void 0,children:y?T.jsx("input",{ref:w,type:"text",value:x,onChange:L=>k(L.target.value),onBlur:_,onKeyDown:E,className:"min-w-0 flex-1 rounded border border-slate-300 bg-white px-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",autoFocus:!0,"aria-label":"Rename"}):T.jsxs(T.Fragment,{children:[S&&T.jsx("button",{type:"button",className:"flex shrink-0 items-center justify-center rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:L=>{L.stopPropagation(),o(t.id)},"aria-label":u?"Collapse":"Expand",children:T.jsx("span",{className:"inline-block transition-transform",style:{transform:u?"rotate(90deg)":"rotate(0deg)"},"aria-hidden":!0,children:""})}),T.jsxs("button",{type:"button",className:"min-w-0 flex-1 truncate text-left",onClick:R,children:[T.jsx("span",{className:"mr-1","aria-hidden":!0,children:S?"":""}),t.name]}),T.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100",children:[T.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:L=>{L.stopPropagation(),b(!0)},"aria-label":"Rename",children:""}),T.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-red-200 dark:hover:bg-red-900/50",onClick:L=>{L.stopPropagation(),O()},"aria-label":"Delete",children:""})]})]})});return S?T.jsx("div",{className:"group",children:P}):T.jsx("div",{className:"group cursor-grab active:cursor-grabbing",draggable:!0,onDragStart:h,onDragEnd:d,children:P})}function gW({items:t,selectedFolderId:e,expandedFolders:n,onToggleExpand:r,onSelectFolder:i,onOpenFile:a,onCreateFolder:s,onImportFiles:o,onRename:l,onDelete:u,moveFile:c,getItem:h,onMoveFeedback:d,isDragging:f,setDragging:g}){const[p,v]=N.useState(null),[y,b]=N.useState(null),x=p==="root",k=(P,L)=>{P.dataTransfer.setData(Yw,L),P.dataTransfer.effectAllowed="move",g(!0)},w=()=>{g(!1),v(null)},S=(P,L)=>{P.preventDefault(),P.dataTransfer.dropEffect="move",v(L)},A=async(P,L)=>{P.preventDefault();const C=P.dataTransfer.getData(Yw);if(v(null),g(!1),!C)return;const F=h(C);if(!F||F.kind!=="file"||F.folderId===L)return;if(await c(C,L)){const B=h(L);d(`Moved to ${(B==null?void 0:B.kind)==="folder"?B.name:"Workspace"}`),n[L]===!1&&r(L)}},_=P=>{P.preventDefault(),P.dataTransfer.dropEffect="move",v("root")},E=async P=>{P.preventDefault();const L=P.dataTransfer.getData(Yw);if(v(null),g(!1),!L)return;const C=h(L);if(!C||C.kind!=="file"||C.folderId===null)return;await c(L,null)&&d("Moved to Workspace")},O=()=>{v(null)};function R(P,L){return mW(t,P).map(F=>{if(F.kind==="folder"){const q=n[F.id]!==!1,B=q?R(F.id,L+1):null,W=p===F.id;return T.jsxs("div",{children:[T.jsx(xO,{item:F,depth:L,onOpenFile:a,onRename:l,onDelete:u,onRequestDelete:b,onOpenFolder:i,onToggleExpand:r,selectedFolderId:e,isExpanded:q,isDragging:f,isDropTarget:W,onDragOver:G=>S(G,F.id),onDragLeave:()=>v(null),onDrop:G=>A(G,F.id)}),B]},F.id)}return T.jsx(xO,{item:F,depth:L,onOpenFile:a,onRename:l,onDelete:u,onRequestDelete:b,onOpenFolder:i,onToggleExpand:r,selectedFolderId:e,isDragging:f,onDragStart:q=>k(q,F.id),onDragEnd:w},F.id)})}return T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[T.jsx(dn,{variant:"secondary",size:"md",onClick:()=>s(e),children:"New folder"}),T.jsx(dn,{variant:"secondary",size:"md",onClick:()=>o(e),children:"Import file(s)"})]}),T.jsxs("div",{className:"min-h-0 flex-1 overflow-auto p-1",children:[T.jsx("div",{className:`mb-2 rounded px-2 py-1.5 text-sm ${x?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":""}`,onDragOver:_,onDragLeave:O,onDrop:E,children:T.jsx("button",{type:"button",className:"w-full rounded px-2 py-1.5 text-left hover:bg-slate-200 dark:hover:bg-slate-700",onClick:()=>i(null),children:"Workspace"})}),R(null,0)]}),T.jsx(sC,{open:y!==null,title:y&&wv(y)?"Delete folder":"Delete file",message:y?wv(y)?`Delete folder "${y.name}" and all its contents? This cannot be undone.`:`Delete file "${y.name}"? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:()=>{y&&(u(y.id,wv(y)),b(null))},onCancel:()=>b(null)})]})}function yW(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const vW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xW={};function wO(t,e){return(xW.jsx?bW:vW).test(t)}const wW=/[ \t\n\f\r]/g;function SW(t){return typeof t=="object"?t.type==="text"?SO(t.value):!1:SO(t)}function SO(t){return t.replace(wW,"")===""}class Qg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Qg.prototype.normal={};Qg.prototype.property={};Qg.prototype.space=void 0;function LD(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Qg(n,r,e)}function XS(t){return t.toLowerCase()}class Cr{constructor(e,n){this.attribute=n,this.property=e}}Cr.prototype.attribute="";Cr.prototype.booleanish=!1;Cr.prototype.boolean=!1;Cr.prototype.commaOrSpaceSeparated=!1;Cr.prototype.commaSeparated=!1;Cr.prototype.defined=!1;Cr.prototype.mustUseProperty=!1;Cr.prototype.number=!1;Cr.prototype.overloadedBoolean=!1;Cr.prototype.property="";Cr.prototype.spaceSeparated=!1;Cr.prototype.space=void 0;let kW=0;const $e=ac(),Qt=ac(),KS=ac(),xe=ac(),bt=ac(),rh=ac(),Ir=ac();function ac(){return 2**++kW}const YS=Object.freeze(Object.defineProperty({__proto__:null,boolean:$e,booleanish:Qt,commaOrSpaceSeparated:Ir,commaSeparated:rh,number:xe,overloadedBoolean:KS,spaceSeparated:bt},Symbol.toStringTag,{value:"Module"})),Zw=Object.keys(YS);class lC extends Cr{constructor(e,n,r,i){let a=-1;if(super(e,n),kO(this,"space",i),typeof r=="number")for(;++a<Zw.length;){const s=Zw[a];kO(this,Zw[a],(r&YS[s])===YS[s])}}}lC.prototype.defined=!0;function kO(t,e,n){n&&(t[e]=n)}function Kd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new lC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[XS(r)]=r,n[XS(a.attribute)]=r}return new Qg(e,n,t.space)}const jD=Kd({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:bt,ariaCurrent:null,ariaDescribedBy:bt,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:bt,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:bt,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bt,ariaLevel:xe,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:bt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:bt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Qt,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function DD(t,e){return e in t?t[e]:e}function $D(t,e){return DD(t,e.toLowerCase())}const _W=Kd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rh,acceptCharset:bt,accessKey:bt,action:null,allow:null,allowFullScreen:$e,allowPaymentRequest:$e,allowUserMedia:$e,alt:null,as:null,async:$e,autoCapitalize:null,autoComplete:bt,autoFocus:$e,autoPlay:$e,blocking:bt,capture:null,charSet:null,checked:$e,cite:null,className:bt,cols:xe,colSpan:null,content:null,contentEditable:Qt,controls:$e,controlsList:bt,coords:xe|rh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$e,defer:$e,dir:null,dirName:null,disabled:$e,download:KS,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$e,formTarget:null,headers:bt,height:xe,hidden:KS,high:xe,href:null,hrefLang:null,htmlFor:bt,httpEquiv:bt,id:null,imageSizes:null,imageSrcSet:null,inert:$e,inputMode:null,integrity:null,is:null,isMap:$e,itemId:null,itemProp:bt,itemRef:bt,itemScope:$e,itemType:bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$e,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:$e,muted:$e,name:null,nonce:null,noModule:$e,noValidate:$e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$e,optimum:xe,pattern:null,ping:bt,placeholder:null,playsInline:$e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$e,referrerPolicy:null,rel:bt,required:$e,reversed:$e,rows:xe,rowSpan:xe,sandbox:bt,scope:null,scoped:$e,seamless:$e,selected:$e,shadowRootClonable:$e,shadowRootDelegatesFocus:$e,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:$e,useMap:null,value:Qt,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$e,declare:$e,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:$e,noHref:$e,noShade:$e,noWrap:$e,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$e,disableRemotePlayback:$e,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:$D}),AW=Kd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ir,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rh,g2:rh,glyphName:rh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:Ir,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ir,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ir,rev:Ir,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ir,requiredFeatures:Ir,requiredFonts:Ir,requiredFormats:Ir,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:Ir,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ir,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ir,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DD}),FD=Kd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),BD=Kd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$D}),zD=Kd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),EW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CW=/[A-Z]/g,_O=/-[a-z]/g,PW=/^data[-\w.:]+$/i;function TW(t,e){const n=XS(e);let r=e,i=Cr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PW.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(_O,IW);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!_O.test(a)){let s=a.replace(CW,OW);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=lC}return new i(r,e)}function OW(t){return"-"+t.toLowerCase()}function IW(t){return t.charAt(1).toUpperCase()}const MW=LD([jD,_W,FD,BD,zD],"html"),uC=LD([jD,AW,FD,BD,zD],"svg");function NW(t){return t.join(" ").trim()}var cC={},AO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,RW=/\n/g,LW=/^\s*/,jW=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,DW=/^:\s*/,$W=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,FW=/^[;\s]*/,BW=/^\s+|\s+$/g,zW=`
`,EO="/",CO="*",Tl="",UW="comment",HW="declaration";function WW(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var p=g.match(RW);p&&(n+=p.length);var v=g.lastIndexOf(zW);r=~v?g.length-v:r+g.length}function a(){var g={line:n,column:r};return function(p){return p.position=new s(g),u(),p}}function s(g){this.start=g,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(g){var p=new Error(e.source+":"+n+":"+r+": "+g);if(p.reason=g,p.filename=e.source,p.line=n,p.column=r,p.source=t,!e.silent)throw p}function l(g){var p=g.exec(t);if(p){var v=p[0];return i(v),t=t.slice(v.length),p}}function u(){l(LW)}function c(g){var p;for(g=g||[];p=h();)p!==!1&&g.push(p);return g}function h(){var g=a();if(!(EO!=t.charAt(0)||CO!=t.charAt(1))){for(var p=2;Tl!=t.charAt(p)&&(CO!=t.charAt(p)||EO!=t.charAt(p+1));)++p;if(p+=2,Tl===t.charAt(p-1))return o("End of comment missing");var v=t.slice(2,p-2);return r+=2,i(v),t=t.slice(p),r+=2,g({type:UW,comment:v})}}function d(){var g=a(),p=l(jW);if(p){if(h(),!l(DW))return o("property missing ':'");var v=l($W),y=g({type:HW,property:PO(p[0].replace(AO,Tl)),value:v?PO(v[0].replace(AO,Tl)):Tl});return l(FW),y}}function f(){var g=[];c(g);for(var p;p=d();)p!==!1&&(g.push(p),c(g));return g}return u(),f()}function PO(t){return t?t.replace(BW,Tl):Tl}var VW=WW,GW=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cC,"__esModule",{value:!0});cC.default=XW;const qW=GW(VW);function XW(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,qW.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.camelCase=void 0;var KW=/^--[a-zA-Z0-9_-]+$/,YW=/-([a-z])/g,ZW=/^[^-]+$/,QW=/^-(webkit|moz|ms|o|khtml)-/,JW=/^-(ms)-/,eV=function(t){return!t||ZW.test(t)||KW.test(t)},tV=function(t,e){return e.toUpperCase()},TO=function(t,e){return"".concat(e,"-")},nV=function(t,e){return e===void 0&&(e={}),eV(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(JW,TO):t=t.replace(QW,TO),t.replace(YW,tV))};vx.camelCase=nV;var rV=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},iV=rV(cC),aV=vx;function ZS(t,e){var n={};return!t||typeof t!="string"||(0,iV.default)(t,function(r,i){r&&i&&(n[(0,aV.camelCase)(r,e)]=i)}),n}ZS.default=ZS;var sV=ZS;const oV=nt(sV),UD=HD("end"),hC=HD("start");function HD(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lV(t){const e=hC(t),n=UD(t);if(e&&n)return{start:e,end:n}}function gp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?OO(t.position):"start"in t||"end"in t?OO(t):"line"in t||"column"in t?QS(t):""}function QS(t){return IO(t&&t.line)+":"+IO(t&&t.column)}function OO(t){return QS(t&&t.start)+"-"+QS(t&&t.end)}function IO(t){return t&&typeof t=="number"?t:1}class Jn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=gp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Jn.prototype.file="";Jn.prototype.name="";Jn.prototype.reason="";Jn.prototype.message="";Jn.prototype.stack="";Jn.prototype.column=void 0;Jn.prototype.line=void 0;Jn.prototype.ancestors=void 0;Jn.prototype.cause=void 0;Jn.prototype.fatal=void 0;Jn.prototype.place=void 0;Jn.prototype.ruleId=void 0;Jn.prototype.source=void 0;const dC={}.hasOwnProperty,uV=new Map,cV=/[A-Z]/g,hV=new Set(["table","tbody","thead","tfoot","tr"]),dV=new Set(["td","th"]),WD="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wV(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=xV(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?uC:MW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=VD(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function VD(t,e,n){if(e.type==="element")return pV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mV(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return yV(t,e,n);if(e.type==="mdxjsEsm")return gV(t,e);if(e.type==="root")return vV(t,e,n);if(e.type==="text")return bV(t,e)}function pV(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=uC,t.schema=i),t.ancestors.push(e);const a=qD(t,e.tagName,!1),s=SV(t,e);let o=pC(t,e);return hV.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!SW(l):!0})),GD(t,s,a,e),fC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function mV(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Xp(t,e.position)}function gV(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Xp(t,e.position)}function yV(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=uC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:qD(t,e.name,!0),s=kV(t,e),o=pC(t,e);return GD(t,s,a,e),fC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function vV(t,e,n){const r={};return fC(r,pC(t,e)),t.create(e,t.Fragment,r,n)}function bV(t,e){return e.value}function GD(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function fC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function xV(t,e,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:e;return o?u(a,s,o):u(a,s)}}function wV(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=hC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function SV(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&dC.call(e.properties,i)){const a=_V(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&dV.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kV(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Xp(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else Xp(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function pC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:uV;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=VD(t,a,s);o!==void 0&&n.push(o)}return n}function _V(t,e,n){const r=TW(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?yW(n):NW(n)),r.property==="style"){let i=typeof n=="object"?n:AV(t,String(n));return t.stylePropertyNameCase==="css"&&(i=EV(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?EW[r.property]||r.property:r.attribute,n]}}function AV(t,e){try{return oV(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Jn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=WD+"#cannot-parse-style-attribute",i}}function qD(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=wO(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=wO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return dC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Xp(t)}function Xp(t,e){const n=new Jn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=WD+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EV(t){const e={};let n;for(n in t)dC.call(t,n)&&(e[CV(n)]=t[n]);return e}function CV(t){let e=t.replace(cV,PV);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function PV(t){return"-"+t.toLowerCase()}const Qw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TV={};function OV(t,e){const n=TV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return XD(t,r,i)}function XD(t,e,n){if(IV(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return MO(t.children,e,n)}return Array.isArray(t)?MO(t,e,n):""}function MO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=XD(t[i],e,n);return r.join("")}function IV(t){return!!(t&&typeof t=="object")}const NO=document.createElement("i");function mC(t){const e="&"+t+";";NO.innerHTML=e;const n=NO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function za(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function mi(t,e){return t.length>0?(za(t,t.length,0,e),t):e}const RO={}.hasOwnProperty;function MV(t){const e={};let n=-1;for(;++n<t.length;)NV(e,t[n]);return e}function NV(t,e){let n;for(n in e){const i=(RO.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){RO.call(i,s)||(i[s]=[]);const o=a[s];RV(i[s],Array.isArray(o)?o:o?[o]:[])}}}function RV(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);za(t,0,0,r)}function KD(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ih(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const La=cl(/[A-Za-z]/),Kr=cl(/[\dA-Za-z]/),LV=cl(/[#-'*+\--9=?A-Z^-~]/);function JS(t){return t!==null&&(t<32||t===127)}const ek=cl(/\d/),jV=cl(/[\dA-Fa-f]/),DV=cl(/[!-/:-@[-`{-~]/);function Re(t){return t!==null&&t<-2}function Er(t){return t!==null&&(t<0||t===32)}function it(t){return t===-2||t===-1||t===32}const $V=cl(new RegExp("\\p{P}|\\p{S}","u")),FV=cl(/\s/);function cl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Kr(t.charCodeAt(n+1))&&Kr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function St(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return it(l)?(t.enter(n),o(l)):e(l)}function o(l){return it(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const BV={tokenize:zV};function zV(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),St(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Re(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const UV={tokenize:HV},LO={tokenize:WV};function HV(t){const e=this,n=[];let r=0,i,a,s;return o;function o(x){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const k=e.events.length;let w=k,S;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){S=e.events[w][1].end;break}y(r);let A=k;for(;A<e.events.length;)e.events[A][1].end={...S},A++;return za(e.events,w+1,0,e.events.slice(k)),e.events.length=A,u(x)}return o(x)}function u(x){if(r===n.length){if(!i)return d(x);if(i.currentConstruct&&i.currentConstruct.concrete)return g(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(LO,c,h)(x)}function c(x){return i&&b(),y(r),d(x)}function h(x){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,g(x)}function d(x){return e.containerState={},t.attempt(LO,f,g)(x)}function f(x){return r++,n.push([e.currentConstruct,e.containerState]),d(x)}function g(x){if(x===null){i&&b(),y(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),p(x)}function p(x){if(x===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(x);return}return Re(x)?(t.consume(x),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(x),p)}function v(x,k){const w=e.sliceStream(x);if(k&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),e.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const A=e.events.length;let _=A,E,O;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){if(E){O=e.events[_][1].end;break}E=!0}for(y(r),S=A;S<e.events.length;)e.events[S][1].end={...O},S++;za(e.events,_+1,0,e.events.slice(A)),e.events.length=S}}function y(x){let k=n.length;for(;k-- >x;){const w=n[k];e.containerState=w[1],w[0].exit.call(e,t)}n.length=x}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function WV(t,e,n){return St(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jO(t){if(t===null||Er(t)||FV(t))return 1;if($V(t))return 2}function gC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const tk={name:"attention",resolveAll:VV,tokenize:GV};function VV(t,e){let n=-1,r,i,a,s,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},d={...t[n][1].start};DO(h,-l),DO(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:d},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=mi(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=mi(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=mi(u,gC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=mi(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=mi(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,za(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function GV(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jO(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),c=jO(l),h=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?h:h&&(i||!d)),u._close=!!(a===42?d:d&&(c||!h)),e(l)}}function DO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qV={name:"autolink",tokenize:XV};function XV(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(f){return La(f)?(t.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||Kr(f)?(r=1,o(f)):u(f)}function o(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||Kr(f))&&r++<32?(t.consume(f),o):(r=0,u(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||JS(f)?n(f):(t.consume(f),l)}function u(f){return f===64?(t.consume(f),c):LV(f)?(t.consume(f),u):n(f)}function c(f){return Kr(f)?h(f):n(f)}function h(f){return f===46?(t.consume(f),r=0,c):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):d(f)}function d(f){if((f===45||Kr(f))&&r++<63){const g=f===45?d:h;return t.consume(f),g}return n(f)}}const bx={partial:!0,tokenize:KV};function KV(t,e,n){return r;function r(a){return it(a)?St(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?e(a):n(a)}}const YD={continuation:{tokenize:ZV},exit:QV,name:"blockQuote",tokenize:YV};function YV(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return it(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function ZV(t,e,n){const r=this;return i;function i(s){return it(s)?St(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(YD,e,n)(s)}}function QV(t){t.exit("blockQuote")}const ZD={name:"characterEscape",tokenize:JV};function JV(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return DV(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const QD={name:"characterReference",tokenize:eG};function eG(t,e,n){const r=this;let i=0,a,s;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=Kr,c(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=jV,c):(t.enter("characterReferenceValue"),a=7,s=ek,c(h))}function c(h){if(h===59&&i){const d=t.exit("characterReferenceValue");return s===Kr&&!mC(r.sliceSerialize(d))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<a?(t.consume(h),c):n(h)}}const $O={partial:!0,tokenize:nG},FO={concrete:!0,name:"codeFenced",tokenize:tG};function tG(t,e,n){const r=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(S){return u(S)}function u(S){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===o?(s++,t.consume(S),c):s<3?n(S):(t.exit("codeFencedFenceSequence"),it(S)?St(t,h,"whitespace")(S):h(S))}function h(S){return S===null||Re(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check($O,p,k)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||Re(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):it(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),St(t,f,"whitespace")(S)):S===96&&S===o?n(S):(t.consume(S),d)}function f(S){return S===null||Re(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||Re(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===o?n(S):(t.consume(S),g)}function p(S){return t.attempt(i,k,v)(S)}function v(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),y}function y(S){return a>0&&it(S)?St(t,b,"linePrefix",a+1)(S):b(S)}function b(S){return S===null||Re(S)?t.check($O,p,k)(S):(t.enter("codeFlowValue"),x(S))}function x(S){return S===null||Re(S)?(t.exit("codeFlowValue"),b(S)):(t.consume(S),x)}function k(S){return t.exit("codeFenced"),e(S)}function w(S,A,_){let E=0;return O;function O(F){return S.enter("lineEnding"),S.consume(F),S.exit("lineEnding"),R}function R(F){return S.enter("codeFencedFence"),it(F)?St(S,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):P(F)}function P(F){return F===o?(S.enter("codeFencedFenceSequence"),L(F)):_(F)}function L(F){return F===o?(E++,S.consume(F),L):E>=s?(S.exit("codeFencedFenceSequence"),it(F)?St(S,C,"whitespace")(F):C(F)):_(F)}function C(F){return F===null||Re(F)?(S.exit("codeFencedFence"),A(F)):_(F)}}}function nG(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Jw={name:"codeIndented",tokenize:iG},rG={partial:!0,tokenize:aG};function iG(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),St(t,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Re(u)?t.attempt(rG,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Re(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function aG(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Re(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):St(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Re(s)?i(s):n(s)}}const sG={name:"codeText",previous:lG,resolve:oG,tokenize:uG};function oG(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function lG(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uG(t,e,n){let r=0,i,a;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),r++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(a=t.enter("codeTextSequence"),i=0,c(h)):Re(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Re(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function c(h){return h===96?(t.consume(h),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(a.type="codeTextData",u(h))}}class cG{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Sf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Sf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Sf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Sf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Sf(this.left,n.reverse())}}}function Sf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function JD(t){const e={};let n=-1,r,i,a,s,o,l,u;const c=new cG(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,hG(c,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return za(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function hG(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,h,d=-1,f=n,g=0,p=0;const v=[p];for(;f;){for(;t.get(++i)[1]!==f;);a.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(p=d+1,v.push(p),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),d=v.length;d--;){const y=o.slice(v[d],v[d+1]),b=a.pop();l.push([b,b+y.length-1]),t.splice(b,2,y)}for(l.reverse(),d=-1;++d<l.length;)u[g+l[d][0]]=g+l[d][1],g+=l[d][1]-l[d][0]-1;return u}const dG={resolve:pG,tokenize:mG},fG={partial:!0,tokenize:gG};function pG(t){return JD(t),t}function mG(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Re(o)?t.check(fG,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function gG(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),St(t,a,"linePrefix")}function a(s){if(s===null||Re(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function e$(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(y){return y===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(y),t.exit(a),d):y===null||y===32||y===41||JS(y)?n(y):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function d(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(o),d(y)):y===null||y===60||Re(y)?n(y):(t.consume(y),y===92?g:f)}function g(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function p(y){return!c&&(y===null||y===41||Er(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(y)):c<u&&y===40?(t.consume(y),c++,p):y===41?(t.consume(y),c--,p):y===null||y===32||y===40||JS(y)?n(y):(t.consume(y),y===92?v:p)}function v(y){return y===40||y===41||y===92?(t.consume(y),p):p(y)}}function t$(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(a),c}function c(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(a),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):Re(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||Re(f)||o++>999?(t.exit("chunkString"),c(f)):(t.consume(f),l||(l=!it(f)),f===92?d:h)}function d(f){return f===91||f===92||f===93?(t.consume(f),o++,h):h(f)}}function n$(t,e,n,r,i,a){let s;return o;function o(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),s=d===40?41:d,l):n(d)}function l(d){return d===s?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(a),u(d))}function u(d){return d===s?(t.exit(a),l(s)):d===null?n(d):Re(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),St(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||Re(d)?(t.exit("chunkString"),u(d)):(t.consume(d),d===92?h:c)}function h(d){return d===s||d===92?(t.consume(d),c):c(d)}}function yp(t,e){let n;return r;function r(i){return Re(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):it(i)?St(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const yG={name:"definition",tokenize:bG},vG={partial:!0,tokenize:xG};function bG(t,e,n){const r=this;let i;return a;function a(f){return t.enter("definition"),s(f)}function s(f){return t$.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=ih(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return Er(f)?yp(t,u)(f):u(f)}function u(f){return e$(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return t.attempt(vG,h,h)(f)}function h(f){return it(f)?St(t,d,"whitespace")(f):d(f)}function d(f){return f===null||Re(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function xG(t,e,n){return r;function r(o){return Er(o)?yp(t,i)(o):n(o)}function i(o){return n$(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return it(o)?St(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Re(o)?e(o):n(o)}}const wG={name:"hardBreakEscape",tokenize:SG};function SG(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Re(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const kG={name:"headingAtx",resolve:_G,tokenize:AG};function _G(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},za(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function AG(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),a(c)}function a(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||Er(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Re(c)?(t.exit("atxHeading"),e(c)):it(c)?St(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Er(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const EG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],BO=["pre","script","style","textarea"],CG={concrete:!0,name:"htmlFlow",resolveTo:OG,tokenize:IG},PG={partial:!0,tokenize:NG},TG={partial:!0,tokenize:MG};function OG(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function IG(t,e,n){const r=this;let i,a,s,o,l;return u;function u(j){return c(j)}function c(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),h}function h(j){return j===33?(t.consume(j),d):j===47?(t.consume(j),a=!0,p):j===63?(t.consume(j),i=3,r.interrupt?e:M):La(j)?(t.consume(j),s=String.fromCharCode(j),v):n(j)}function d(j){return j===45?(t.consume(j),i=2,f):j===91?(t.consume(j),i=5,o=0,g):La(j)?(t.consume(j),i=4,r.interrupt?e:M):n(j)}function f(j){return j===45?(t.consume(j),r.interrupt?e:M):n(j)}function g(j){const Q="CDATA[";return j===Q.charCodeAt(o++)?(t.consume(j),o===Q.length?r.interrupt?e:P:g):n(j)}function p(j){return La(j)?(t.consume(j),s=String.fromCharCode(j),v):n(j)}function v(j){if(j===null||j===47||j===62||Er(j)){const Q=j===47,ae=s.toLowerCase();return!Q&&!a&&BO.includes(ae)?(i=1,r.interrupt?e(j):P(j)):EG.includes(s.toLowerCase())?(i=6,Q?(t.consume(j),y):r.interrupt?e(j):P(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):a?b(j):x(j))}return j===45||Kr(j)?(t.consume(j),s+=String.fromCharCode(j),v):n(j)}function y(j){return j===62?(t.consume(j),r.interrupt?e:P):n(j)}function b(j){return it(j)?(t.consume(j),b):O(j)}function x(j){return j===47?(t.consume(j),O):j===58||j===95||La(j)?(t.consume(j),k):it(j)?(t.consume(j),x):O(j)}function k(j){return j===45||j===46||j===58||j===95||Kr(j)?(t.consume(j),k):w(j)}function w(j){return j===61?(t.consume(j),S):it(j)?(t.consume(j),w):x(j)}function S(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),l=j,A):it(j)?(t.consume(j),S):_(j)}function A(j){return j===l?(t.consume(j),l=null,E):j===null||Re(j)?n(j):(t.consume(j),A)}function _(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Er(j)?w(j):(t.consume(j),_)}function E(j){return j===47||j===62||it(j)?x(j):n(j)}function O(j){return j===62?(t.consume(j),R):n(j)}function R(j){return j===null||Re(j)?P(j):it(j)?(t.consume(j),R):n(j)}function P(j){return j===45&&i===2?(t.consume(j),q):j===60&&i===1?(t.consume(j),B):j===62&&i===4?(t.consume(j),V):j===63&&i===3?(t.consume(j),M):j===93&&i===5?(t.consume(j),G):Re(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(PG,U,L)(j)):j===null||Re(j)?(t.exit("htmlFlowData"),L(j)):(t.consume(j),P)}function L(j){return t.check(TG,C,U)(j)}function C(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),F}function F(j){return j===null||Re(j)?L(j):(t.enter("htmlFlowData"),P(j))}function q(j){return j===45?(t.consume(j),M):P(j)}function B(j){return j===47?(t.consume(j),s="",W):P(j)}function W(j){if(j===62){const Q=s.toLowerCase();return BO.includes(Q)?(t.consume(j),V):P(j)}return La(j)&&s.length<8?(t.consume(j),s+=String.fromCharCode(j),W):P(j)}function G(j){return j===93?(t.consume(j),M):P(j)}function M(j){return j===62?(t.consume(j),V):j===45&&i===2?(t.consume(j),M):P(j)}function V(j){return j===null||Re(j)?(t.exit("htmlFlowData"),U(j)):(t.consume(j),V)}function U(j){return t.exit("htmlFlow"),e(j)}}function MG(t,e,n){const r=this;return i;function i(s){return Re(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function NG(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(bx,e,n)}}const RG={name:"htmlText",tokenize:LG};function LG(t,e,n){const r=this;let i,a,s;return o;function o(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),l}function l(M){return M===33?(t.consume(M),u):M===47?(t.consume(M),w):M===63?(t.consume(M),x):La(M)?(t.consume(M),_):n(M)}function u(M){return M===45?(t.consume(M),c):M===91?(t.consume(M),a=0,g):La(M)?(t.consume(M),b):n(M)}function c(M){return M===45?(t.consume(M),f):n(M)}function h(M){return M===null?n(M):M===45?(t.consume(M),d):Re(M)?(s=h,B(M)):(t.consume(M),h)}function d(M){return M===45?(t.consume(M),f):h(M)}function f(M){return M===62?q(M):M===45?d(M):h(M)}function g(M){const V="CDATA[";return M===V.charCodeAt(a++)?(t.consume(M),a===V.length?p:g):n(M)}function p(M){return M===null?n(M):M===93?(t.consume(M),v):Re(M)?(s=p,B(M)):(t.consume(M),p)}function v(M){return M===93?(t.consume(M),y):p(M)}function y(M){return M===62?q(M):M===93?(t.consume(M),y):p(M)}function b(M){return M===null||M===62?q(M):Re(M)?(s=b,B(M)):(t.consume(M),b)}function x(M){return M===null?n(M):M===63?(t.consume(M),k):Re(M)?(s=x,B(M)):(t.consume(M),x)}function k(M){return M===62?q(M):x(M)}function w(M){return La(M)?(t.consume(M),S):n(M)}function S(M){return M===45||Kr(M)?(t.consume(M),S):A(M)}function A(M){return Re(M)?(s=A,B(M)):it(M)?(t.consume(M),A):q(M)}function _(M){return M===45||Kr(M)?(t.consume(M),_):M===47||M===62||Er(M)?E(M):n(M)}function E(M){return M===47?(t.consume(M),q):M===58||M===95||La(M)?(t.consume(M),O):Re(M)?(s=E,B(M)):it(M)?(t.consume(M),E):q(M)}function O(M){return M===45||M===46||M===58||M===95||Kr(M)?(t.consume(M),O):R(M)}function R(M){return M===61?(t.consume(M),P):Re(M)?(s=R,B(M)):it(M)?(t.consume(M),R):E(M)}function P(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),i=M,L):Re(M)?(s=P,B(M)):it(M)?(t.consume(M),P):(t.consume(M),C)}function L(M){return M===i?(t.consume(M),i=void 0,F):M===null?n(M):Re(M)?(s=L,B(M)):(t.consume(M),L)}function C(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Er(M)?E(M):(t.consume(M),C)}function F(M){return M===47||M===62||Er(M)?E(M):n(M)}function q(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):n(M)}function B(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),W}function W(M){return it(M)?St(t,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):G(M)}function G(M){return t.enter("htmlTextData"),s(M)}}const yC={name:"labelEnd",resolveAll:FG,resolveTo:BG,tokenize:zG},jG={tokenize:UG},DG={tokenize:HG},$G={tokenize:WG};function FG(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&za(t,0,t.length,n),t}function BG(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=mi(o,t.slice(a+1,a+r+3)),o=mi(o,[["enter",c,e]]),o=mi(o,gC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=mi(o,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),o=mi(o,t.slice(s+1)),o=mi(o,[["exit",l,e]]),za(t,a,t.length,o),t}function zG(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(d){return a?a._inactive?h(d):(s=r.parser.defined.includes(ih(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),l):n(d)}function l(d){return d===40?t.attempt(jG,c,s?c:h)(d):d===91?t.attempt(DG,c,s?u:h)(d):s?c(d):h(d)}function u(d){return t.attempt($G,c,h)(d)}function c(d){return e(d)}function h(d){return a._balanced=!0,n(d)}}function UG(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Er(h)?yp(t,a)(h):a(h)}function a(h){return h===41?c(h):e$(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return Er(h)?yp(t,l)(h):c(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?n$(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Er(h)?yp(t,c)(h):c(h)}function c(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function HG(t,e,n){const r=this;return i;function i(o){return t$.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ih(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function WG(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const VG={name:"labelStartImage",resolveAll:yC.resolveAll,tokenize:GG};function GG(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const qG={name:"labelStartLink",resolveAll:yC.resolveAll,tokenize:XG};function XG(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const e1={name:"lineEnding",tokenize:KG};function KG(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),St(t,e,"linePrefix")}}const Sv={name:"thematicBreak",tokenize:YG};function YG(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Re(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),it(u)?St(t,o,"whitespace")(u):o(u))}}const fr={continuation:{tokenize:e7},exit:n7,name:"list",tokenize:JG},ZG={partial:!0,tokenize:r7},QG={partial:!0,tokenize:t7};function JG(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(f){const g=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:ek(f)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Sv,n,u)(f):u(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return ek(f)&&++s<10?(t.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),u(f)):n(f)}function u(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(bx,r.interrupt?n:c,t.attempt(ZG,d,h))}function c(f){return r.containerState.initialBlankLine=!0,a++,d(f)}function h(f){return it(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),d):n(f)}function d(f){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function e7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(bx,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!it(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(QG,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(t,t.attempt(fr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function t7(t,e,n){const r=this;return St(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function n7(t){t.exit(this.containerState.type)}function r7(t,e,n){const r=this;return St(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!it(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const zO={name:"setextUnderline",resolveTo:i7,tokenize:a7};function i7(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function a7(t,e,n){const r=this;let i;return a;function a(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),it(u)?St(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Re(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const s7={tokenize:o7};function o7(t){const e=this,n=t.attempt(bx,r,t.attempt(this.parser.constructs.flowInitial,i,St(t,t.attempt(this.parser.constructs.flow,i,t.attempt(dG,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const l7={resolveAll:i$()},u7=r$("string"),c7=r$("text");function r$(t){return{resolveAll:i$(t==="text"?h7:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let d=-1;if(h)for(;++d<h.length;){const f=h[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function i$(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function h7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const d7={42:fr,43:fr,45:fr,48:fr,49:fr,50:fr,51:fr,52:fr,53:fr,54:fr,55:fr,56:fr,57:fr,62:YD},f7={91:yG},p7={[-2]:Jw,[-1]:Jw,32:Jw},m7={35:kG,42:Sv,45:[zO,Sv],60:CG,61:zO,95:Sv,96:FO,126:FO},g7={38:QD,92:ZD},y7={[-5]:e1,[-4]:e1,[-3]:e1,33:VG,38:QD,42:tk,60:[qV,RG],91:qG,92:[wG,ZD],93:yC,95:tk,96:sG},v7={null:[tk,l7]},b7={null:[42,95]},x7={null:[]},w7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b7,contentInitial:f7,disable:x7,document:d7,flow:m7,flowInitial:p7,insideSpan:v7,string:g7,text:y7},Symbol.toStringTag,{value:"Module"}));function S7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(w),check:A(S),consume:b,enter:x,exit:k,interrupt:A(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:g,parser:t,previous:null,sliceSerialize:d,sliceStream:f,write:h};let c=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function h(R){return s=mi(s,R),v(),s[s.length-1]!==null?[]:(_(e,0),u.events=gC(a,u.events,u),u.events)}function d(R,P){return _7(f(R),P)}function f(R){return k7(s,R)}function g(){const{_bufferIndex:R,_index:P,line:L,column:C,offset:F}=r;return{_bufferIndex:R,_index:P,line:L,column:C,offset:F}}function p(R){i[R.line]=R.column,O()}function v(){let R;for(;r._index<s.length;){const P=s[r._index];if(typeof P=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<P.length;)y(P.charCodeAt(r._bufferIndex));else y(P)}}function y(R){c=c(R)}function b(R){Re(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,O()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function x(R,P){const L=P||{};return L.type=R,L.start=g(),u.events.push(["enter",L,u]),o.push(L),L}function k(R){const P=o.pop();return P.end=g(),u.events.push(["exit",P,u]),P}function w(R,P){_(R,P.from)}function S(R,P){P.restore()}function A(R,P){return L;function L(C,F,q){let B,W,G,M;return Array.isArray(C)?U(C):"tokenize"in C?U([C]):V(C);function V(me){return pe;function pe(ue){const re=ue!==null&&me[ue],de=ue!==null&&me.null,fe=[...Array.isArray(re)?re:re?[re]:[],...Array.isArray(de)?de:de?[de]:[]];return U(fe)(ue)}}function U(me){return B=me,W=0,me.length===0?q:j(me[W])}function j(me){return pe;function pe(ue){return M=E(),G=me,me.partial||(u.currentConstruct=me),me.name&&u.parser.constructs.disable.null.includes(me.name)?ae():me.tokenize.call(P?Object.assign(Object.create(u),P):u,l,Q,ae)(ue)}}function Q(me){return R(G,M),F}function ae(me){return M.restore(),++W<B.length?j(B[W]):q}}}function _(R,P){R.resolveAll&&!a.includes(R)&&a.push(R),R.resolve&&za(u.events,P,u.events.length-P,R.resolve(u.events.slice(P),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function E(){const R=g(),P=u.previous,L=u.currentConstruct,C=u.events.length,F=Array.from(o);return{from:C,restore:q};function q(){r=R,u.previous=P,u.currentConstruct=L,u.events.length=C,o=F,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function k7(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function _7(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function A7(t){const r={constructs:MV([w7,...(t||{}).extensions||[]]),content:i(BV),defined:[],document:i(UV),flow:i(s7),lazy:{},string:i(u7),text:i(c7)};return r;function i(a){return s;function s(o){return S7(r,a,o)}}}function E7(t){for(;!JD(t););return t}const UO=/[\0\t\n\r]/g;function C7(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,h,d,f;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,e="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(UO.lastIndex=h,u=UO.exec(a),d=u&&u.index!==void 0?u.index:a.length,f=a.charCodeAt(d),!u){e=a.slice(h);break}if(f===10&&h===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<d&&(l.push(a.slice(h,d)),t+=d-h),f){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=d+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const P7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function T7(t){return t.replace(P7,O7)}function O7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return KD(n.slice(a?2:1),a?16:10)}return mC(n)||t}const a$={}.hasOwnProperty;function I7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),M7(n)(E7(A7(n).document().write(C7()(t,e,!0))))}function M7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Y),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(ee),blockQuote:a(de),characterEscape:E,characterReference:E,codeFenced:a(fe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(fe,s),codeText:a(ie,s),codeTextData:E,data:E,codeFlowValue:E,definition:a(Se),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(I),hardBreakEscape:a(K),hardBreakTrailing:a(K),htmlFlow:a(X,s),htmlFlowData:E,htmlText:a(X,s),htmlTextData:E,image:a(H),label:s,link:a(Y),listItem:a(ce),listItemValue:d,listOrdered:a(se,h),listUnordered:a(se),paragraph:a(te),reference:j,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ee),strong:a(ye),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:re,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:me,characterReference:pe,codeFenced:l(v),codeFencedFence:p,codeFencedFenceInfo:f,codeFencedFenceMeta:g,codeFlowValue:O,codeIndented:l(y),codeText:l(F),codeTextData:O,data:O,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(L),htmlFlowData:O,htmlText:l(C),htmlTextData:O,image:l(B),label:G,labelText:W,lineEnding:R,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:M,resourceTitleString:V,resource:U,setextHeading:l(_),setextHeadingLineSequence:A,setextHeadingText:S,strong:l(),thematicBreak:l()}};s$(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let le={type:"root",children:[]};const ve={stack:[le],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:c,data:n},Oe=[];let Be=-1;for(;++Be<J.length;)if(J[Be][1].type==="listOrdered"||J[Be][1].type==="listUnordered")if(J[Be][0]==="enter")Oe.push(Be);else{const ot=Oe.pop();Be=i(J,ot,Be)}for(Be=-1;++Be<J.length;){const ot=e[J[Be][0]];a$.call(ot,J[Be][1].type)&&ot[J[Be][1].type].call(Object.assign({sliceSerialize:J[Be][2].sliceSerialize},ve),J[Be][1])}if(ve.tokenStack.length>0){const ot=ve.tokenStack[ve.tokenStack.length-1];(ot[1]||HO).call(ve,void 0,ot[0])}for(le.position={start:Js(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:Js(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<e.transforms.length;)le=e.transforms[Be](le)||le;return le}function i(J,le,ve){let Oe=le-1,Be=-1,ot=!1,Pt,Ve,Tr,Va;for(;++Oe<=ve;){const Mt=J[Oe];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?Be++:Be--,Va=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&(Pt&&!Va&&!Be&&!Tr&&(Tr=Oe),Va=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Va=void 0}if(!Be&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||Be===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if(Pt){let Ga=Oe;for(Ve=void 0;Ga--;){const Ii=J[Ga];if(Ii[1].type==="lineEnding"||Ii[1].type==="lineEndingBlank"){if(Ii[0]==="exit")continue;Ve&&(J[Ve][1].type="lineEndingBlank",ot=!0),Ii[1].type="lineEnding",Ve=Ga}else if(!(Ii[1].type==="linePrefix"||Ii[1].type==="blockQuotePrefix"||Ii[1].type==="blockQuotePrefixWhitespace"||Ii[1].type==="blockQuoteMarker"||Ii[1].type==="listItemIndent"))break}Tr&&(!Ve||Tr<Ve)&&(Pt._spread=!0),Pt.end=Object.assign({},Ve?J[Ve][1].start:Mt[1].end),J.splice(Ve||Oe,0,["exit",Pt,Mt[2]]),Oe++,ve++}if(Mt[1].type==="listItemPrefix"){const Ga={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};Pt=Ga,J.splice(Oe,0,["enter",Ga,Mt[2]]),Oe++,ve++,Tr=void 0,Va=!0}}}return J[le][1]._spread=ot,ve}function a(J,le){return ve;function ve(Oe){o.call(this,J(Oe),Oe),le&&le.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(J,le,ve){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([le,ve||void 0]),J.position={start:Js(le.start),end:void 0}}function l(J){return le;function le(ve){J&&J.call(this,ve),u.call(this,ve)}}function u(J,le){const ve=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==J.type&&(le?le.call(this,J,Oe[0]):(Oe[1]||HO).call(this,J,Oe[0]));else throw new Error("Cannot close `"+J.type+"` ("+gp({start:J.start,end:J.end})+"): its not open");ve.position.end=Js(J.end)}function c(){return OV(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(J){if(this.data.expectingFirstListItemValue){const le=this.stack[this.stack.length-2];le.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function f(){const J=this.resume(),le=this.stack[this.stack.length-1];le.lang=J}function g(){const J=this.resume(),le=this.stack[this.stack.length-1];le.meta=J}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const J=this.resume(),le=this.stack[this.stack.length-1];le.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const J=this.resume(),le=this.stack[this.stack.length-1];le.value=J.replace(/(\r?\n|\r)$/g,"")}function b(J){const le=this.resume(),ve=this.stack[this.stack.length-1];ve.label=le,ve.identifier=ih(this.sliceSerialize(J)).toLowerCase()}function x(){const J=this.resume(),le=this.stack[this.stack.length-1];le.title=J}function k(){const J=this.resume(),le=this.stack[this.stack.length-1];le.url=J}function w(J){const le=this.stack[this.stack.length-1];if(!le.depth){const ve=this.sliceSerialize(J).length;le.depth=ve}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function A(J){const le=this.stack[this.stack.length-1];le.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function E(J){const ve=this.stack[this.stack.length-1].children;let Oe=ve[ve.length-1];(!Oe||Oe.type!=="text")&&(Oe=we(),Oe.position={start:Js(J.start),end:void 0},ve.push(Oe)),this.stack.push(Oe)}function O(J){const le=this.stack.pop();le.value+=this.sliceSerialize(J),le.position.end=Js(J.end)}function R(J){const le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=le.children[le.children.length-1];ve.position.end=Js(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(le.type)&&(E.call(this,J),O.call(this,J))}function P(){this.data.atHardBreak=!0}function L(){const J=this.resume(),le=this.stack[this.stack.length-1];le.value=J}function C(){const J=this.resume(),le=this.stack[this.stack.length-1];le.value=J}function F(){const J=this.resume(),le=this.stack[this.stack.length-1];le.value=J}function q(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=le,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function B(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const le=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=le,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function W(J){const le=this.sliceSerialize(J),ve=this.stack[this.stack.length-2];ve.label=T7(le),ve.identifier=ih(le).toLowerCase()}function G(){const J=this.stack[this.stack.length-1],le=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Oe=J.children;ve.children=Oe}else ve.alt=le}function M(){const J=this.resume(),le=this.stack[this.stack.length-1];le.url=J}function V(){const J=this.resume(),le=this.stack[this.stack.length-1];le.title=J}function U(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Q(J){const le=this.resume(),ve=this.stack[this.stack.length-1];ve.label=le,ve.identifier=ih(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function ae(J){this.data.characterReferenceType=J.type}function me(J){const le=this.sliceSerialize(J),ve=this.data.characterReferenceType;let Oe;ve?(Oe=KD(le,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=mC(le);const Be=this.stack[this.stack.length-1];Be.value+=Oe}function pe(J){const le=this.stack.pop();le.position.end=Js(J.end)}function ue(J){O.call(this,J);const le=this.stack[this.stack.length-1];le.url=this.sliceSerialize(J)}function re(J){O.call(this,J);const le=this.stack[this.stack.length-1];le.url="mailto:"+this.sliceSerialize(J)}function de(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function I(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function K(){return{type:"break"}}function X(){return{type:"html",value:""}}function H(){return{type:"image",title:null,url:"",alt:null}}function Y(){return{type:"link",title:null,url:"",children:[]}}function se(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function ce(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function te(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function we(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function Js(t){return{line:t.line,column:t.column,offset:t.offset}}function s$(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?s$(t,r):N7(t,r)}}function N7(t,e){let n;for(n in e)if(a$.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function HO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gp({start:e.start,end:e.end})+") is still open")}function R7(t){const e=this;e.parser=n;function n(r){return I7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function L7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function j7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function D7(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function $7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function F7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function B7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Yd(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function z7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function U7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function o$(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function H7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return o$(t,e);const i={src:Yd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function W7(t,e){const n={src:Yd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function V7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function G7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return o$(t,e);const i={href:Yd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function q7(t,e){const n={href:Yd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function X7(t,e,n){const r=t.all(e),i=n?K7(n):l$(e),a={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function K7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=l$(n[r])}return e}function l$(t){const e=t.spread;return e??t.children.length>1}function Y7(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Z7(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q7(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function J7(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e9(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=hC(e.children[1]),l=UD(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function t9(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const h=e.children[l],d={},f=s?s[l]:void 0;f&&(d.align=f);let g={type:"element",tagName:a,properties:d,children:[]};h&&(g.children=t.all(h),t.patch(h,g),g=t.applyData(h,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function n9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WO=9,VO=32;function r9(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(GO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(GO(e.slice(i),i>0,!1)),a.join("")}function GO(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===WO||a===VO;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===WO||a===VO;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function i9(t,e){const n={type:"text",value:r9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function a9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const s9={blockquote:L7,break:j7,code:D7,delete:$7,emphasis:F7,footnoteReference:B7,heading:z7,html:U7,imageReference:H7,image:W7,inlineCode:V7,linkReference:G7,link:q7,listItem:X7,list:Y7,paragraph:Z7,root:Q7,strong:J7,table:e9,tableCell:n9,tableRow:t9,text:i9,thematicBreak:a9,toml:Ly,yaml:Ly,definition:Ly,footnoteDefinition:Ly};function Ly(){}const u$=-1,xx=0,vp=1,Tb=2,vC=3,bC=4,xC=5,wC=6,c$=7,h$=8,qO=typeof self=="object"?self:globalThis,o9=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case xx:case u$:return n(s,i);case vp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Tb:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case vC:return n(new Date(s),i);case bC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case xC:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case wC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case c$:{const{name:o,message:l}=s;return n(new qO[o](l),i)}case h$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new qO[a](s),i)};return r},XO=t=>o9(new Map,t)(0),gc="",{toString:l9}={},{keys:u9}=Object,kf=t=>{const e=typeof t;if(e!=="object"||!t)return[xx,e];const n=l9.call(t).slice(8,-1);switch(n){case"Array":return[vp,gc];case"Object":return[Tb,gc];case"Date":return[vC,gc];case"RegExp":return[bC,gc];case"Map":return[xC,gc];case"Set":return[wC,gc];case"DataView":return[vp,n]}return n.includes("Array")?[vp,n]:n.includes("Error")?[c$,n]:[Tb,n]},jy=([t,e])=>t===xx&&(e==="function"||e==="symbol"),c9=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=kf(s);switch(o){case xx:{let c=s;switch(l){case"bigint":o=h$,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([u$],s)}return i([o,c],s)}case vp:{if(l){let d=s;return l==="DataView"?d=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(s)),i([l,[...d]],s)}const c=[],h=i([o,c],s);for(const d of s)c.push(a(d));return h}case Tb:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const c=[],h=i([o,c],s);for(const d of u9(s))(t||!jy(kf(s[d])))&&c.push([a(d),a(s[d])]);return h}case vC:return i([o,s.toISOString()],s);case bC:{const{source:c,flags:h}=s;return i([o,{source:c,flags:h}],s)}case xC:{const c=[],h=i([o,c],s);for(const[d,f]of s)(t||!(jy(kf(d))||jy(kf(f))))&&c.push([a(d),a(f)]);return h}case wC:{const c=[],h=i([o,c],s);for(const d of s)(t||!jy(kf(d)))&&c.push(a(d));return h}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},KO=(t,{json:e,lossy:n}={})=>{const r=[];return c9(!(e||n),!!e,new Map,r)(t),r},Ob=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?XO(KO(t,e)):structuredClone(t):(t,e)=>XO(KO(t,e));function h9(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function d9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function f9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||h9,r=t.options.footnoteBackLabel||d9,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),h=String(u.identifier).toUpperCase(),d=Yd(h.toLowerCase());let f=0;const g=[],p=t.footnoteCounts.get(h);for(;p!==void 0&&++f<=p;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,f);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=c[c.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else c.push(...g);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:t.wrap(c,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ob(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const d$=function(t){if(t==null)return y9;if(typeof t=="function")return wx(t);if(typeof t=="object")return Array.isArray(t)?p9(t):m9(t);if(typeof t=="string")return g9(t);throw new Error("Expected function, string, or object as test")};function p9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=d$(t[n]);return wx(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function m9(t){const e=t;return wx(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function g9(t){return wx(e);function e(n){return n&&n.type===t}}function wx(t){return e;function e(n,r,i){return!!(v9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function y9(){return!0}function v9(t){return t!==null&&typeof t=="object"&&"type"in t}const f$=[],b9=!0,YO=!1,x9="skip";function w9(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=d$(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=f$,g,p,v;if((!e||a(l,u,c[c.length-1]||void 0))&&(f=S9(n(l,c)),f[0]===YO))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==x9)for(p=(r?y.children.length:-1)+s,v=c.concat(y);p>-1&&p<y.children.length;){const b=y.children[p];if(g=o(b,p,v)(),g[0]===YO)return g;p=typeof g[1]=="number"?g[1]:p+s}}return f}}}function S9(t){return Array.isArray(t)?t:typeof t=="number"?[b9,t]:t==null?f$:[t]}function p$(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),w9(t,a,o,i);function o(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return s(l,h,c)}}const nk={}.hasOwnProperty,k9={};function _9(t,e){const n=e||k9,r=new Map,i=new Map,a=new Map,s={...s9,...n.handlers},o={all:u,applyData:E9,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:A9,wrap:P9};return p$(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();h.has(d)||h.set(d,c)}}),o;function l(c,h){const d=c.type,f=o.handlers[d];if(nk.call(o.handlers,d)&&f)return f(o,c,h);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in c){const{children:p,...v}=c,y=Ob(v);return y.children=o.all(c),y}return Ob(c)}return(o.options.unknownHandler||C9)(o,c,h)}function u(c){const h=[];if("children"in c){const d=c.children;let f=-1;for(;++f<d.length;){const g=o.one(d[f],c);if(g){if(f&&d[f-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=ZO(g.value)),!Array.isArray(g)&&g.type==="element")){const p=g.children[0];p&&p.type==="text"&&(p.value=ZO(p.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function A9(t,e){t.position&&(e.position=lV(t))}function E9(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ob(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function C9(t,e){const n=e.data||{},r="value"in e&&!(nk.call(n,"hProperties")||nk.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function P9(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ZO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function QO(t,e){const n=_9(t,e),r=n.one(t,void 0),i=f9(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function T9(t,e){return t&&"run"in t?async function(n,r){const i=QO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return QO(n,{file:r,...t||e})}}function JO(t){if(t)throw t}var kv=Object.prototype.hasOwnProperty,m$=Object.prototype.toString,e2=Object.defineProperty,t2=Object.getOwnPropertyDescriptor,n2=function(e){return typeof Array.isArray=="function"?Array.isArray(e):m$.call(e)==="[object Array]"},r2=function(e){if(!e||m$.call(e)!=="[object Object]")return!1;var n=kv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&kv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||kv.call(e,i)},i2=function(e,n){e2&&n.name==="__proto__"?e2(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},a2=function(e,n){if(n==="__proto__")if(kv.call(e,n)){if(t2)return t2(e,n).value}else return;return e[n]},O9=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=a2(o,n),i=a2(e,n),o!==i&&(c&&i&&(r2(i)||(a=n2(i)))?(a?(a=!1,s=r&&n2(r)?r:[]):s=r&&r2(r)?r:{},i2(o,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&i2(o,{name:n,newValue:i}));return o};const t1=nt(O9);function rk(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I9(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=t[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?M9(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function M9(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const ma={basename:N9,dirname:R9,extname:L9,join:j9,sep:"/"};function N9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Jg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function R9(t){if(Jg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function L9(t){Jg(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function j9(...t){let e=-1,n;for(;++e<t.length;)Jg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":D9(n)}function D9(t){Jg(t);const e=t.codePointAt(0)===47;let n=$9(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $9(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Jg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const F9={cwd:B9};function B9(){return"/"}function ik(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function z9(t){if(typeof t=="string")t=new URL(t);else if(!ik(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return U9(t)}function U9(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const n1=["history","path","basename","stem","extname","dirname"];class g${constructor(e){let n;e?ik(e)?n={path:e}:typeof e=="string"||H9(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":F9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<n1.length;){const a=n1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)n1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ma.basename(this.path):void 0}set basename(e){i1(e,"basename"),r1(e,"basename"),this.path=ma.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ma.dirname(this.path):void 0}set dirname(e){s2(this.basename,"dirname"),this.path=ma.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ma.extname(this.path):void 0}set extname(e){if(r1(e,"extname"),s2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ma.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ik(e)&&(e=z9(e)),i1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ma.basename(this.path,this.extname):void 0}set stem(e){i1(e,"stem"),r1(e,"stem"),this.path=ma.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Jn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function r1(t,e){if(t&&t.includes(ma.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ma.sep+"`")}function i1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function s2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function H9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const W9=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},V9={}.hasOwnProperty;class SC extends W9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I9()}copy(){const e=new SC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(t1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(o1("data",this.frozen),this.namespace[e]=n,this):V9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(o1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Dy(e),r=this.parser||this.Parser;return a1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),a1("process",this.parser||this.Parser),s1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Dy(e),l=r.parse(o);r.run(l,o,function(c,h,d){if(c||!h||!d)return u(c);const f=h,g=r.stringify(f,d);X9(g)?d.value=g:d.result=g,u(c,d)});function u(c,h){c||!h?s(c):a?a(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),a1("processSync",this.parser||this.Parser),s1("processSync",this.compiler||this.Compiler),this.process(e,i),l2("processSync","process",n),r;function i(a,s){n=!0,JO(a),r=s}}run(e,n,r){o2(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Dy(n);i.run(e,l,u);function u(c,h,d){const f=h||e;c?o(c):s?s(f):r(void 0,f,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),l2("runSync","run",r),i;function a(s,o){JO(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=Dy(n),i=this.compiler||this.Compiler;return s1("stringify",i),o2(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(o1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=t1(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===u){d=h;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[f,...g]=c;const p=r[d][1];rk(p)&&rk(f)&&(f=t1(!0,p,f)),r[d]=[u,f,...g]}}}}const G9=new SC().freeze();function a1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function s1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function o1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function o2(t){if(!rk(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function l2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Dy(t){return q9(t)?t:new g$(t)}function q9(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function X9(t){return typeof t=="string"||K9(t)}function K9(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Y9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u2=[],c2={allowDangerousHtml:!0},Z9=/^(https?|ircs?|mailto|xmpp)$/i,Q9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J9(t){const e=eq(t),n=tq(t);return nq(e.runSync(e.parse(n),n),t)}function eq(t){const e=t.rehypePlugins||u2,n=t.remarkPlugins||u2,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...c2}:c2;return G9().use(R7).use(n).use(T9,r).use(e)}function tq(t){const e=t.children||"",n=new g$;return typeof e=="string"&&(n.value=e),n}function nq(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||rq;for(const c of Q9)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Y9+c.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),p$(t,u),fV(t,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function u(c,h,d){if(c.type==="raw"&&d&&typeof h=="number")return s?d.children.splice(h,1):d.children[h]={type:"text",value:c.value},h;if(c.type==="element"){let f;for(f in Qw)if(Object.hasOwn(Qw,f)&&Object.hasOwn(c.properties,f)){const g=c.properties[f],p=Qw[f];(p===null||p.includes(c.tagName))&&(c.properties[f]=l(String(g||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(c,h,d)),f&&d&&typeof h=="number")return o&&c.children?d.children.splice(h,1,...c.children):d.children.splice(h,1),h}}}function rq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Z9.test(t.slice(0,e))?t:""}const iq=500;function aq({content:t,fileType:e,fileName:n,onSave:r}){const[i,a]=N.useState(t),[s,o]=N.useState(!1),l=N.useRef(null);N.useEffect(()=>{a(t)},[t]);const u=N.useCallback(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{r(i),l.current=null},iq)},[i,r]);N.useEffect(()=>{if(i!==t)return u(),()=>{l.current&&clearTimeout(l.current)}},[i,t,u]);const c=()=>{l.current&&(clearTimeout(l.current),l.current=null,r(i))},h=n.toLowerCase().endsWith(".md");return e==="csv"?T.jsxs("div",{className:"flex h-full flex-col",children:[T.jsx("p",{className:"mb-2 text-xs text-slate-500",children:"Edit CSV here. Use the CSV Visualizer section to view table and charts."}),T.jsx("div",{className:"min-h-0 flex-1",children:T.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:i,onChange:d=>a(d.target.value),onBlur:c,spellCheck:"false","aria-label":"CSV content"})})]}):T.jsxs("div",{className:"flex h-full flex-col",children:[h&&T.jsxs("div",{className:"mb-2 flex gap-2",children:[T.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${s?"bg-slate-200 dark:bg-slate-700":"bg-blue-100 dark:bg-blue-900/50"}`,onClick:()=>o(!1),children:"Edit"}),T.jsx("button",{type:"button",className:`rounded px-3 py-1.5 text-sm font-medium ${s?"bg-blue-100 dark:bg-blue-900/50":"bg-slate-200 dark:bg-slate-700"}`,onClick:()=>o(!0),children:"Preview"})]}),T.jsx("div",{className:"min-h-0 flex-1",children:s&&h?T.jsx("div",{className:"prose prose-slate max-w-none rounded border border-slate-200 bg-white p-4 dark:prose-invert dark:border-slate-700 dark:bg-slate-800",children:T.jsx(J9,{children:i})}):T.jsx("textarea",{className:"h-full w-full resize-none rounded border border-slate-200 bg-white p-4 font-mono text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200",value:i,onChange:d=>a(d.target.value),onBlur:c,spellCheck:"false","aria-label":"Document content"})})]})}function $y(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var y$={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var h=typeof $y=="function"&&$y;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(g){var p=r[u][1][g];return s(p||g)},f,f.exports,n,r,i,a)}return i[u].exports}for(var o=typeof $y=="function"&&$y,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,d,f,g,p,v=[],y=0,b=l.length,x=b,k=a.getTypeOf(l)!=="string";y<l.length;)x=b-y,h=k?(u=l[y++],c=y<b?l[y++]:0,y<b?l[y++]:0):(u=l.charCodeAt(y++),c=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),d=u>>2,f=(3&u)<<4|c>>4,g=1<x?(15&c)<<2|h>>6:64,p=2<x?63&h:64,v.push(o.charAt(d)+o.charAt(f)+o.charAt(g)+o.charAt(p));return v.join("")},i.decode=function(l){var u,c,h,d,f,g,p=0,v=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|x):new Array(0|x);p<l.length;)u=o.indexOf(l.charAt(p++))<<2|(d=o.indexOf(l.charAt(p++)))>>4,c=(15&d)<<4|(f=o.indexOf(l.charAt(p++)))>>2,h=(3&f)<<6|(g=o.indexOf(l.charAt(p++))),b[v++]=u,f!==64&&(b[v++]=c),g!==64&&(b[v++]=h);return b}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,d,f,g){this.compressedSize=c,this.uncompressedSize=h,this.crc32=d,this.compression=f,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,d){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,h,d){var f=s,g=d+h;u^=-1;for(var p=d;p<g;p++)u=u>>>8^f[255&(u^c[p])];return-1^u}(0|l,o,o.length,0):function(u,c,h,d){var f=s,g=d+h;u^=-1;for(var p=d;p<g;p++)u=u>>>8^f[255&(u^c.charCodeAt(p))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(h,d){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(d){h.push({data:d,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(f,g){var p,v="";for(p=0;p<g;p++)v+=String.fromCharCode(255&f),f>>>=8;return v}function s(f,g,p,v,y,b){var x,k,w=f.file,S=f.compression,A=b!==u.utf8encode,_=o.transformTo("string",b(w.name)),E=o.transformTo("string",u.utf8encode(w.name)),O=w.comment,R=o.transformTo("string",b(O)),P=o.transformTo("string",u.utf8encode(O)),L=E.length!==w.name.length,C=P.length!==O.length,F="",q="",B="",W=w.dir,G=w.date,M={crc32:0,compressedSize:0,uncompressedSize:0};g&&!p||(M.crc32=f.crc32,M.compressedSize=f.compressedSize,M.uncompressedSize=f.uncompressedSize);var V=0;g&&(V|=8),A||!L&&!C||(V|=2048);var U=0,j=0;W&&(U|=16),y==="UNIX"?(j=798,U|=function(ae,me){var pe=ae;return ae||(pe=me?16893:33204),(65535&pe)<<16}(w.unixPermissions,W)):(j=20,U|=function(ae){return 63&(ae||0)}(w.dosPermissions)),x=G.getUTCHours(),x<<=6,x|=G.getUTCMinutes(),x<<=5,x|=G.getUTCSeconds()/2,k=G.getUTCFullYear()-1980,k<<=4,k|=G.getUTCMonth()+1,k<<=5,k|=G.getUTCDate(),L&&(q=a(1,1)+a(c(_),4)+E,F+="up"+a(q.length,2)+q),C&&(B=a(1,1)+a(c(R),4)+P,F+="uc"+a(B.length,2)+B);var Q="";return Q+=`
\0`,Q+=a(V,2),Q+=S.magic,Q+=a(x,2),Q+=a(k,2),Q+=a(M.crc32,4),Q+=a(M.compressedSize,4),Q+=a(M.uncompressedSize,4),Q+=a(_.length,2),Q+=a(F.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Q+_+F,dirRecord:h.CENTRAL_FILE_HEADER+a(j,2)+Q+a(R.length,2)+"\0\0\0\0"+a(U,4)+a(v,4)+_+F+R}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function d(f,g,p,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=p,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(f){var g=f.meta.percent||0,p=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(g+100*(p-v-1))/p:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var p=s(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,p=s(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),g)this.push({data:function(v){return h.DATA_DESCRIPTOR+a(v.crc32,4)+a(v.compressedSize,4)+a(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var p=this.bytesWritten-f,v=function(y,b,x,k,w){var S=o.transformTo("string",w(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(b,4)+a(x,4)+a(S.length,2)+S}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(p){g.processChunk(p)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(p){g.error(p)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<g.length;p++)try{g[p].error(f)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(d,f){h++;var g=function(b,x){var k=b||x,w=a[k];if(!w)throw new Error(k+" is not a valid compression method !");return w}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},v=f.dir,y=f.date;f._compressWorker(g,p).withStreamInfo("file",{name:d,dir:v,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(d){return new s.Promise(function(f,g){var p=d.decompressed.getContentWorker().pipe(new u);p.on("error",function(v){g(v)}).on("end",function(){p.streamInfo.crc32!==d.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(d,f){var g=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(p){var v=new l(f);return v.load(p),v}).then(function(p){var v=[s.Promise.resolve(p)],y=p.files;if(f.checkCRC32)for(var b=0;b<y.length;b++)v.push(h(y[b]));return s.Promise.all(v)}).then(function(p){for(var v=p.shift(),y=v.files,b=0;b<y.length;b++){var x=y[b],k=x.fileNameStr,w=a.resolve(x.fileNameStr);g.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(g.file(w).unsafeOriginalName=k)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(h,d){c.push(h)||c._helper.pause(),u&&u(d)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(w,S,A){var _,E=o.getTypeOf(S),O=o.extend(A||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=y(w)),O.createFolders&&(_=v(w))&&b.call(this,_,!0);var R=E==="string"&&O.binary===!1&&O.base64===!1;A&&A.binary!==void 0||(O.binary=!R),(S instanceof h&&S.uncompressedSize===0||O.dir||!S||S.length===0)&&(O.base64=!1,O.binary=!0,S="",O.compression="STORE",E="string");var P=null;P=S instanceof h||S instanceof l?S:g.isNode&&g.isStream(S)?new p(w,S):o.prepareContent(w,S,O.binary,O.optimizedBinaryString,O.base64);var L=new d(w,P,O);this.files[w]=L}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),d=n("./zipObject"),f=n("./generate"),g=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),v=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},y=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,S){return S=S!==void 0?S:c.createFolders,w=y(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,A,_;for(S in this.files)_=this.files[S],(A=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(A,_)},filter:function(w){var S=[];return this.forEach(function(A,_){w(A,_)&&S.push(_)}),S},file:function(w,S,A){if(arguments.length!==1)return w=this.root+w,a.call(this,w,S,A),this;if(x(w)){var _=w;return this.filter(function(O,R){return!R.dir&&_.test(O)})}var E=this.files[this.root+w];return E&&!E.dir?E:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(E,O){return O.dir&&w.test(E)});var S=this.root+w,A=b.call(this,S),_=this.clone();return _.root=A.name,_},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var A=this.filter(function(E,O){return O.name.slice(0,w.length)===w}),_=0;_<A.length;_++)delete this.files[A[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,A={};try{if((A=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var _=A.comment||this.comment||"";S=f.generateWorker(this,A,_)}catch(E){(S=new l("error")).error(E)}return new u(S,A.type||"string",A.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===h)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&h===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var d=a.getTypeOf(h);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new u(h):s.uint8array?new c(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(g,p){return new c.Promise(function(v,y){var b=[],x=g._internalType,k=g._outputType,w=g._mimeType;g.on("data",function(S,A){b.push(S),p&&p(A)}).on("error",function(S){b=[],y(S)}).on("end",function(){try{var S=function(A,_,E){switch(A){case"blob":return a.newBlob(a.transformTo("arraybuffer",_),E);case"base64":return l.encode(_);default:return a.transformTo(A,_)}}(k,function(A,_){var E,O=0,R=null,P=0;for(E=0;E<_.length;E++)P+=_[E].length;switch(A){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(R=new Uint8Array(P),E=0;E<_.length;E++)R.set(_[E],O),O+=_[E].length;return R;case"nodebuffer":return Buffer.concat(_);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,b),w);v(S)}catch(A){y(A)}b=[]}).resume()})}function f(g,p,v){var y=p;switch(p){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=p,this._mimeType=v,a.checkSupport(y),this._worker=g.pipe(new s(y)),g.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}f.prototype={accumulate:function(g){return d(this,g)},on:function(g,p){var v=this;return g==="data"?this._worker.on(g,function(y){p.call(v,y.data,y.meta)}):this._worker.on(g,function(){a.delay(p,arguments,v)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(g){var p,v,y,b,x,k=g.length,w=0;for(b=0;b<k;b++)(64512&(v=g.charCodeAt(b)))==55296&&b+1<k&&(64512&(y=g.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),b++),w+=v<128?1:v<2048?2:v<65536?3:4;for(p=s.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(v=g.charCodeAt(b)))==55296&&b+1<k&&(64512&(y=g.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),b++),v<128?p[x++]=v:(v<2048?p[x++]=192|v>>>6:(v<65536?p[x++]=224|v>>>12:(p[x++]=240|v>>>18,p[x++]=128|v>>>12&63),p[x++]=128|v>>>6&63),p[x++]=128|63&v);return p}(f)},i.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(g){var p,v,y,b,x=g.length,k=new Array(2*x);for(p=v=0;p<x;)if((y=g[p++])<128)k[v++]=y;else if(4<(b=u[y]))k[v++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<x;)y=y<<6|63&g[p++],b--;1<b?k[v++]=65533:y<65536?k[v++]=y:(y-=65536,k[v++]=55296|y>>10&1023,k[v++]=56320|1023&y)}return k.length!==v&&(k.subarray?k=k.subarray(0,v):k.length=v),a.applyFromCharCode(k)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(h,l),h.prototype.processChunk=function(f){var g=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=g;(g=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),g.set(p,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=function(b,x){var k;for((x=x||b.length)>b.length&&(x=b.length),k=x-1;0<=k&&(192&b[k])==128;)k--;return k<0||k===0?x:k+u[b[k]]>x?k:x}(g),y=g;v!==g.length&&(s.uint8array?(y=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(y=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:i.utf8decode(y),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(d,l),d.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,v){for(var y=0;y<p.length;++y)v[y]=255&p.charCodeAt(y);return v}n("setimmediate"),i.newBlob=function(p,v){i.checkSupport("blob");try{return new Blob([p],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(p),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,v,y){var b=[],x=0,k=p.length;if(k<=y)return String.fromCharCode.apply(null,p);for(;x<k;)v==="array"||v==="nodebuffer"?b.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+y,k)))):b.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+y,k)))),x+=y;return b.join("")},stringifyByChar:function(p){for(var v="",y=0;y<p.length;y++)v+=String.fromCharCode(p[y]);return v},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function d(p){var v=65536,y=i.getTypeOf(p),b=!0;if(y==="uint8array"?b=h.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<v;)try{return h.stringifyByChunk(p,y,v)}catch{v=Math.floor(v/2)}return h.stringifyByChar(p)}function f(p,v){for(var y=0;y<p.length;y++)v[y]=p[y];return v}i.applyFromCharCode=d;var g={};g.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return g.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,o.allocBuffer(p.length))}},g.array={string:d,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},g.arraybuffer={string:function(p){return d(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},g.uint8array={string:d,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return o.newBufferFrom(p)}},g.nodebuffer={string:d,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return g.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,v){if(v=v||"",!p)return v;i.checkSupport(p);var y=i.getTypeOf(v);return g[y][p](v)},i.resolve=function(p){for(var v=p.split("/"),y=[],b=0;b<v.length;b++){var x=v[b];x==="."||x===""&&b!==0&&b!==v.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var v,y,b="";for(y=0;y<(p||"").length;y++)b+="\\x"+((v=p.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return b},i.delay=function(p,v,y){setImmediate(function(){p.apply(y||null,v||[])})},i.inherits=function(p,v){function y(){}y.prototype=v.prototype,p.prototype=new y},i.extend=function(){var p,v,y={};for(p=0;p<arguments.length;p++)for(v in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],v)&&y[v]===void 0&&(y[v]=arguments[p][v]);return y},i.prepareContent=function(p,v,y,b,x){return l.Promise.resolve(v).then(function(k){return a.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,S){var A=new FileReader;A.onload=function(_){w(_.target.result)},A.onerror=function(_){S(_.target.error)},A.readAsArrayBuffer(k)}):k}).then(function(k){var w=i.getTypeOf(k);return w?(w==="arraybuffer"?k=i.transformTo("uint8array",k):w==="string"&&(x?k=s.decode(k):y&&b!==!0&&(k=function(S){return c(S,a.uint8array?new Uint8Array(S.length):new Array(S.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(h)+")")}},isSignature:function(h,d){var f=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===d;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",f=s.transformTo(d,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,d,f,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[h]={id:h,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,d;for(h=0;h<this.files.length;h++)d=this.files[h],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var d=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=d-f;if(0<g)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function d(f,g){this.options=f,this.loadOptions=g}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(v){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===v)return c[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,p,v,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)g=f.readInt(2),p=f.readInt(2),v=f.readData(p),this.extraFields[g]={id:g,length:p,value:v};f.setIndex(y)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var p=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=a(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=a(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(g,p,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=p,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(g){var p=null,v="string";try{if(!g)throw new Error("No output type specified.");var y=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),p=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(p=p.pipe(new l.Utf8EncodeWorker)),!b&&y&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(x){(p=new c("error")).error(x)}return new s(p,v,"")},async:function(g,p){return this.internalStream(g).accumulate(p)},nodeStream:function(g,p){return this.internalStream(g||"nodebuffer").toNodejsStream(p)},_compressWorker:function(g,p){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(v,g,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)a.prototype[h[f]]=d;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(g),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){g(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(g,0)};else{var d=new a.MessageChannel;d.port1.onmessage=g,s=function(){d.port2.postMessage(0)}}var f=[];function g(){var p,v;o=!0;for(var y=f.length;y;){for(v=f,f=[],p=-1;++p<y;)v[p]();y=f.length}o=!1}r.exports=function(p){f.push(p)!==1||o||s()}}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==s&&p(this,y)}function d(y,b,x){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(y,b,x){a(function(){var k;try{k=b(x)}catch(w){return o.reject(y,w)}k===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,k)})}function g(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function p(y,b){var x=!1;function k(A){x||(x=!0,o.reject(y,A))}function w(A){x||(x=!0,o.resolve(y,A))}var S=v(function(){b(w,k)});S.status==="error"&&k(S.value)}function v(y,b){var x={};try{x.value=y(b),x.status="success"}catch(k){x.status="error",x.value=k}return x}(r.exports=h).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(y()).then(function(){return x})},function(x){return b.resolve(y()).then(function(){throw x})})},h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,b){if(typeof y!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==c?f(x,this.state===u?y:b,this.outcome):this.queue.push(new d(x,y,b)),x},d.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},d.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},d.prototype.callRejected=function(y){o.reject(this.promise,y)},d.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},o.resolve=function(y,b){var x=v(g,b);if(x.status==="error")return o.reject(y,x.value);var k=x.value;if(k)p(y,k);else{y.state=u,y.outcome=b;for(var w=-1,S=y.queue.length;++w<S;)y.queue[w].callFulfilled(b)}return y},o.reject=function(y,b){y.state=l,y.outcome=b;for(var x=-1,k=y.queue.length;++x<k;)y.queue[x].callRejected(b);return y},h.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},h.reject=function(y){var b=new this(s);return o.reject(b,y)},h.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,k=!1;if(!x)return this.resolve([]);for(var w=new Array(x),S=0,A=-1,_=new this(s);++A<x;)E(y[A],A);return _;function E(O,R){b.resolve(O).then(function(P){w[R]=P,++S!==x||k||(k=!0,o.resolve(_,w))},function(P){k||(k=!0,o.reject(_,P))})}},h.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,k=!1;if(!x)return this.resolve([]);for(var w=-1,S=new this(s);++w<x;)A=y[w],b.resolve(A).then(function(_){k||(k=!0,o.resolve(S,_))},function(_){k||(k=!0,o.reject(S,_))});var A;return S}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,d=-1,f=0,g=8;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==h)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var k;if(k=typeof b.dictionary=="string"?o.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,k))!==h)throw new Error(l[x]);this._dict_set=!0}}function v(y,b){var x=new p(b);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(y,b){var x,k,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;k=b===~~b?b:b===!0?4:0,typeof y=="string"?w.input=o.string2buf(y):c.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(S),w.next_out=0,w.avail_out=S),(x=a.deflate(w,k))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return k===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):k!==2||(this.onEnd(h),!(w.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=p,i.deflate=v,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,v(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,v(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),d=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||p&&p.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function g(p,v){var y=new f(v);if(y.push(p,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(p,v){var y,b,x,k,w,S,A=this.strm,_=this.options.chunkSize,E=this.options.dictionary,O=!1;if(this.ended)return!1;b=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?A.input=o.binstring2buf(p):d.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(_),A.next_out=0,A.avail_out=_),(y=a.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&E&&(S=typeof E=="string"?o.string2buf(E):d.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,y=a.inflateSetDictionary(this.strm,S)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&y!==l.Z_STREAM_END&&(A.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(A.output,A.next_out),k=A.next_out-x,w=o.buf2string(A.output,x),A.next_out=k,A.avail_out=_-k,k&&s.arraySet(A.output,A.output,x,k,0),this.onData(w)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(O=!0)}while((0<A.avail_in||A.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=g,i.inflateRaw=function(p,v){return(v=v||{}).raw=!0,g(p,v)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,h,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),d);else for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){var u,c,h,d,f,g;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(g=new Uint8Array(h),u=d=0,c=l.length;u<c;u++)f=l[u],g.set(f,d),d+=f.length;return g}},o={arraySet:function(l,u,c,h,d){for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,d){if(d<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,d));for(var f="",g=0;g<d;g++)f+=String.fromCharCode(h[g]);return f}l[254]=l[254]=1,i.string2buf=function(h){var d,f,g,p,v,y=h.length,b=0;for(p=0;p<y;p++)(64512&(f=h.charCodeAt(p)))==55296&&p+1<y&&(64512&(g=h.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),p++),b+=f<128?1:f<2048?2:f<65536?3:4;for(d=new a.Buf8(b),p=v=0;v<b;p++)(64512&(f=h.charCodeAt(p)))==55296&&p+1<y&&(64512&(g=h.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),p++),f<128?d[v++]=f:(f<2048?d[v++]=192|f>>>6:(f<65536?d[v++]=224|f>>>12:(d[v++]=240|f>>>18,d[v++]=128|f>>>12&63),d[v++]=128|f>>>6&63),d[v++]=128|63&f);return d},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var d=new a.Buf8(h.length),f=0,g=d.length;f<g;f++)d[f]=h.charCodeAt(f);return d},i.buf2string=function(h,d){var f,g,p,v,y=d||h.length,b=new Array(2*y);for(f=g=0;f<y;)if((p=h[f++])<128)b[g++]=p;else if(4<(v=l[p]))b[g++]=65533,f+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&f<y;)p=p<<6|63&h[f++],v--;1<v?b[g++]=65533:p<65536?b[g++]=p:(p-=65536,b[g++]=55296|p>>10&1023,b[g++]=56320|1023&p)}return c(b,g)},i.utf8border=function(h,d){var f;for((d=d||h.length)>h.length&&(d=h.length),f=d-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?d:f+l[h[f]]>d?f:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var c=a,h=u+l;s^=-1;for(var d=u;d<h;d++)s=s>>>8^c[255&(s^o[d])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,d=4,f=0,g=-2,p=-1,v=4,y=2,b=8,x=9,k=286,w=30,S=19,A=2*k+1,_=15,E=3,O=258,R=O+E+1,P=42,L=113,C=1,F=2,q=3,B=4;function W(I,ee){return I.msg=c[ee],ee}function G(I){return(I<<1)-(4<I?9:0)}function M(I){for(var ee=I.length;0<=--ee;)I[ee]=0}function V(I){var ee=I.state,K=ee.pending;K>I.avail_out&&(K=I.avail_out),K!==0&&(s.arraySet(I.output,ee.pending_buf,ee.pending_out,K,I.next_out),I.next_out+=K,ee.pending_out+=K,I.total_out+=K,I.avail_out-=K,ee.pending-=K,ee.pending===0&&(ee.pending_out=0))}function U(I,ee){o._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ee),I.block_start=I.strstart,V(I.strm)}function j(I,ee){I.pending_buf[I.pending++]=ee}function Q(I,ee){I.pending_buf[I.pending++]=ee>>>8&255,I.pending_buf[I.pending++]=255&ee}function ae(I,ee){var K,X,H=I.max_chain_length,Y=I.strstart,se=I.prev_length,ce=I.nice_match,te=I.strstart>I.w_size-R?I.strstart-(I.w_size-R):0,ye=I.window,we=I.w_mask,ge=I.prev,J=I.strstart+O,le=ye[Y+se-1],ve=ye[Y+se];I.prev_length>=I.good_match&&(H>>=2),ce>I.lookahead&&(ce=I.lookahead);do if(ye[(K=ee)+se]===ve&&ye[K+se-1]===le&&ye[K]===ye[Y]&&ye[++K]===ye[Y+1]){Y+=2,K++;do;while(ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&Y<J);if(X=O-(J-Y),Y=J-O,se<X){if(I.match_start=ee,ce<=(se=X))break;le=ye[Y+se-1],ve=ye[Y+se]}}while((ee=ge[ee&we])>te&&--H!=0);return se<=I.lookahead?se:I.lookahead}function me(I){var ee,K,X,H,Y,se,ce,te,ye,we,ge=I.w_size;do{if(H=I.window_size-I.lookahead-I.strstart,I.strstart>=ge+(ge-R)){for(s.arraySet(I.window,I.window,ge,ge,0),I.match_start-=ge,I.strstart-=ge,I.block_start-=ge,ee=K=I.hash_size;X=I.head[--ee],I.head[ee]=ge<=X?X-ge:0,--K;);for(ee=K=ge;X=I.prev[--ee],I.prev[ee]=ge<=X?X-ge:0,--K;);H+=ge}if(I.strm.avail_in===0)break;if(se=I.strm,ce=I.window,te=I.strstart+I.lookahead,ye=H,we=void 0,we=se.avail_in,ye<we&&(we=ye),K=we===0?0:(se.avail_in-=we,s.arraySet(ce,se.input,se.next_in,we,te),se.state.wrap===1?se.adler=l(se.adler,ce,we,te):se.state.wrap===2&&(se.adler=u(se.adler,ce,we,te)),se.next_in+=we,se.total_in+=we,we),I.lookahead+=K,I.lookahead+I.insert>=E)for(Y=I.strstart-I.insert,I.ins_h=I.window[Y],I.ins_h=(I.ins_h<<I.hash_shift^I.window[Y+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[Y+E-1])&I.hash_mask,I.prev[Y&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=Y,Y++,I.insert--,!(I.lookahead+I.insert<E)););}while(I.lookahead<R&&I.strm.avail_in!==0)}function pe(I,ee){for(var K,X;;){if(I.lookahead<R){if(me(I),I.lookahead<R&&ee===h)return C;if(I.lookahead===0)break}if(K=0,I.lookahead>=E&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+E-1])&I.hash_mask,K=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),K!==0&&I.strstart-K<=I.w_size-R&&(I.match_length=ae(I,K)),I.match_length>=E)if(X=o._tr_tally(I,I.strstart-I.match_start,I.match_length-E),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=E){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+E-1])&I.hash_mask,K=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else X=o._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(X&&(U(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<E-1?I.strstart:E-1,ee===d?(U(I,!0),I.strm.avail_out===0?q:B):I.last_lit&&(U(I,!1),I.strm.avail_out===0)?C:F}function ue(I,ee){for(var K,X,H;;){if(I.lookahead<R){if(me(I),I.lookahead<R&&ee===h)return C;if(I.lookahead===0)break}if(K=0,I.lookahead>=E&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+E-1])&I.hash_mask,K=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=E-1,K!==0&&I.prev_length<I.max_lazy_match&&I.strstart-K<=I.w_size-R&&(I.match_length=ae(I,K),I.match_length<=5&&(I.strategy===1||I.match_length===E&&4096<I.strstart-I.match_start)&&(I.match_length=E-1)),I.prev_length>=E&&I.match_length<=I.prev_length){for(H=I.strstart+I.lookahead-E,X=o._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-E),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=H&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+E-1])&I.hash_mask,K=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=E-1,I.strstart++,X&&(U(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((X=o._tr_tally(I,0,I.window[I.strstart-1]))&&U(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(X=o._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<E-1?I.strstart:E-1,ee===d?(U(I,!0),I.strm.avail_out===0?q:B):I.last_lit&&(U(I,!1),I.strm.avail_out===0)?C:F}function re(I,ee,K,X,H){this.good_length=I,this.max_lazy=ee,this.nice_length=K,this.max_chain=X,this.func=H}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*S+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(_+1),this.heap=new s.Buf16(2*k+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(I){var ee;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=y,(ee=I.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?P:L,I.adler=ee.wrap===2?0:1,ee.last_flush=h,o._tr_init(ee),f):W(I,g)}function ie(I){var ee=fe(I);return ee===f&&function(K){K.window_size=2*K.w_size,M(K.head),K.max_lazy_match=a[K.level].max_lazy,K.good_match=a[K.level].good_length,K.nice_match=a[K.level].nice_length,K.max_chain_length=a[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=E-1,K.match_available=0,K.ins_h=0}(I.state),ee}function Se(I,ee,K,X,H,Y){if(!I)return g;var se=1;if(ee===p&&(ee=6),X<0?(se=0,X=-X):15<X&&(se=2,X-=16),H<1||x<H||K!==b||X<8||15<X||ee<0||9<ee||Y<0||v<Y)return W(I,g);X===8&&(X=9);var ce=new de;return(I.state=ce).strm=I,ce.wrap=se,ce.gzhead=null,ce.w_bits=X,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=H+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+E-1)/E),ce.window=new s.Buf8(2*ce.w_size),ce.head=new s.Buf16(ce.hash_size),ce.prev=new s.Buf16(ce.w_size),ce.lit_bufsize=1<<H+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new s.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ee,ce.strategy=Y,ce.method=K,ie(I)}a=[new re(0,0,0,0,function(I,ee){var K=65535;for(K>I.pending_buf_size-5&&(K=I.pending_buf_size-5);;){if(I.lookahead<=1){if(me(I),I.lookahead===0&&ee===h)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var X=I.block_start+K;if((I.strstart===0||I.strstart>=X)&&(I.lookahead=I.strstart-X,I.strstart=X,U(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-R&&(U(I,!1),I.strm.avail_out===0))return C}return I.insert=0,ee===d?(U(I,!0),I.strm.avail_out===0?q:B):(I.strstart>I.block_start&&(U(I,!1),I.strm.avail_out),C)}),new re(4,4,8,4,pe),new re(4,5,16,8,pe),new re(4,6,32,32,pe),new re(4,4,16,16,ue),new re(8,16,32,32,ue),new re(8,16,128,128,ue),new re(8,32,128,256,ue),new re(32,128,258,1024,ue),new re(32,258,258,4096,ue)],i.deflateInit=function(I,ee){return Se(I,ee,b,15,8,0)},i.deflateInit2=Se,i.deflateReset=ie,i.deflateResetKeep=fe,i.deflateSetHeader=function(I,ee){return I&&I.state?I.state.wrap!==2?g:(I.state.gzhead=ee,f):g},i.deflate=function(I,ee){var K,X,H,Y;if(!I||!I.state||5<ee||ee<0)return I?W(I,g):g;if(X=I.state,!I.output||!I.input&&I.avail_in!==0||X.status===666&&ee!==d)return W(I,I.avail_out===0?-5:g);if(X.strm=I,K=X.last_flush,X.last_flush=ee,X.status===P)if(X.wrap===2)I.adler=0,j(X,31),j(X,139),j(X,8),X.gzhead?(j(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),j(X,255&X.gzhead.time),j(X,X.gzhead.time>>8&255),j(X,X.gzhead.time>>16&255),j(X,X.gzhead.time>>24&255),j(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),j(X,255&X.gzhead.os),X.gzhead.extra&&X.gzhead.extra.length&&(j(X,255&X.gzhead.extra.length),j(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(I.adler=u(I.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=69):(j(X,0),j(X,0),j(X,0),j(X,0),j(X,0),j(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),j(X,3),X.status=L);else{var se=b+(X.w_bits-8<<4)<<8;se|=(2<=X.strategy||X.level<2?0:X.level<6?1:X.level===6?2:3)<<6,X.strstart!==0&&(se|=32),se+=31-se%31,X.status=L,Q(X,se),X.strstart!==0&&(Q(X,I.adler>>>16),Q(X,65535&I.adler)),I.adler=1}if(X.status===69)if(X.gzhead.extra){for(H=X.pending;X.gzindex<(65535&X.gzhead.extra.length)&&(X.pending!==X.pending_buf_size||(X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),V(I),H=X.pending,X.pending!==X.pending_buf_size));)j(X,255&X.gzhead.extra[X.gzindex]),X.gzindex++;X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=73)}else X.status=73;if(X.status===73)if(X.gzhead.name){H=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),V(I),H=X.pending,X.pending===X.pending_buf_size)){Y=1;break}Y=X.gzindex<X.gzhead.name.length?255&X.gzhead.name.charCodeAt(X.gzindex++):0,j(X,Y)}while(Y!==0);X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),Y===0&&(X.gzindex=0,X.status=91)}else X.status=91;if(X.status===91)if(X.gzhead.comment){H=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),V(I),H=X.pending,X.pending===X.pending_buf_size)){Y=1;break}Y=X.gzindex<X.gzhead.comment.length?255&X.gzhead.comment.charCodeAt(X.gzindex++):0,j(X,Y)}while(Y!==0);X.gzhead.hcrc&&X.pending>H&&(I.adler=u(I.adler,X.pending_buf,X.pending-H,H)),Y===0&&(X.status=103)}else X.status=103;if(X.status===103&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&V(I),X.pending+2<=X.pending_buf_size&&(j(X,255&I.adler),j(X,I.adler>>8&255),I.adler=0,X.status=L)):X.status=L),X.pending!==0){if(V(I),I.avail_out===0)return X.last_flush=-1,f}else if(I.avail_in===0&&G(ee)<=G(K)&&ee!==d)return W(I,-5);if(X.status===666&&I.avail_in!==0)return W(I,-5);if(I.avail_in!==0||X.lookahead!==0||ee!==h&&X.status!==666){var ce=X.strategy===2?function(te,ye){for(var we;;){if(te.lookahead===0&&(me(te),te.lookahead===0)){if(ye===h)return C;break}if(te.match_length=0,we=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,we&&(U(te,!1),te.strm.avail_out===0))return C}return te.insert=0,ye===d?(U(te,!0),te.strm.avail_out===0?q:B):te.last_lit&&(U(te,!1),te.strm.avail_out===0)?C:F}(X,ee):X.strategy===3?function(te,ye){for(var we,ge,J,le,ve=te.window;;){if(te.lookahead<=O){if(me(te),te.lookahead<=O&&ye===h)return C;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=E&&0<te.strstart&&(ge=ve[J=te.strstart-1])===ve[++J]&&ge===ve[++J]&&ge===ve[++J]){le=te.strstart+O;do;while(ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&ge===ve[++J]&&J<le);te.match_length=O-(le-J),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=E?(we=o._tr_tally(te,1,te.match_length-E),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(we=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),we&&(U(te,!1),te.strm.avail_out===0))return C}return te.insert=0,ye===d?(U(te,!0),te.strm.avail_out===0?q:B):te.last_lit&&(U(te,!1),te.strm.avail_out===0)?C:F}(X,ee):a[X.level].func(X,ee);if(ce!==q&&ce!==B||(X.status=666),ce===C||ce===q)return I.avail_out===0&&(X.last_flush=-1),f;if(ce===F&&(ee===1?o._tr_align(X):ee!==5&&(o._tr_stored_block(X,0,0,!1),ee===3&&(M(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),V(I),I.avail_out===0))return X.last_flush=-1,f}return ee!==d?f:X.wrap<=0?1:(X.wrap===2?(j(X,255&I.adler),j(X,I.adler>>8&255),j(X,I.adler>>16&255),j(X,I.adler>>24&255),j(X,255&I.total_in),j(X,I.total_in>>8&255),j(X,I.total_in>>16&255),j(X,I.total_in>>24&255)):(Q(X,I.adler>>>16),Q(X,65535&I.adler)),V(I),0<X.wrap&&(X.wrap=-X.wrap),X.pending!==0?f:1)},i.deflateEnd=function(I){var ee;return I&&I.state?(ee=I.state.status)!==P&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==L&&ee!==666?W(I,g):(I.state=null,ee===L?W(I,-3):f):g},i.deflateSetDictionary=function(I,ee){var K,X,H,Y,se,ce,te,ye,we=ee.length;if(!I||!I.state||(Y=(K=I.state).wrap)===2||Y===1&&K.status!==P||K.lookahead)return g;for(Y===1&&(I.adler=l(I.adler,ee,we,0)),K.wrap=0,we>=K.w_size&&(Y===0&&(M(K.head),K.strstart=0,K.block_start=0,K.insert=0),ye=new s.Buf8(K.w_size),s.arraySet(ye,ee,we-K.w_size,K.w_size,0),ee=ye,we=K.w_size),se=I.avail_in,ce=I.next_in,te=I.input,I.avail_in=we,I.next_in=0,I.input=ee,me(K);K.lookahead>=E;){for(X=K.strstart,H=K.lookahead-(E-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[X+E-1])&K.hash_mask,K.prev[X&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=X,X++,--H;);K.strstart=X,K.lookahead=E-1,me(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=E-1,K.match_available=0,I.next_in=ce,I.input=te,I.avail_in=se,K.wrap=Y,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,u,c,h,d,f,g,p,v,y,b,x,k,w,S,A,_,E,O,R,P,L,C,F;o=a.state,l=a.next_in,C=a.input,u=l+(a.avail_in-5),c=a.next_out,F=a.output,h=c-(s-a.avail_out),d=c+(a.avail_out-257),f=o.dmax,g=o.wsize,p=o.whave,v=o.wnext,y=o.window,b=o.hold,x=o.bits,k=o.lencode,w=o.distcode,S=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;e:do{x<15&&(b+=C[l++]<<x,x+=8,b+=C[l++]<<x,x+=8),_=k[b&S];t:for(;;){if(b>>>=E=_>>>24,x-=E,(E=_>>>16&255)===0)F[c++]=65535&_;else{if(!(16&E)){if(!(64&E)){_=k[(65535&_)+(b&(1<<E)-1)];continue t}if(32&E){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}O=65535&_,(E&=15)&&(x<E&&(b+=C[l++]<<x,x+=8),O+=b&(1<<E)-1,b>>>=E,x-=E),x<15&&(b+=C[l++]<<x,x+=8,b+=C[l++]<<x,x+=8),_=w[b&A];n:for(;;){if(b>>>=E=_>>>24,x-=E,!(16&(E=_>>>16&255))){if(!(64&E)){_=w[(65535&_)+(b&(1<<E)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(R=65535&_,x<(E&=15)&&(b+=C[l++]<<x,(x+=8)<E&&(b+=C[l++]<<x,x+=8)),f<(R+=b&(1<<E)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=E,x-=E,(E=c-h)<R){if(p<(E=R-E)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(L=y,(P=0)===v){if(P+=g-E,E<O){for(O-=E;F[c++]=y[P++],--E;);P=c-R,L=F}}else if(v<E){if(P+=g+v-E,(E-=v)<O){for(O-=E;F[c++]=y[P++],--E;);if(P=0,v<O){for(O-=E=v;F[c++]=y[P++],--E;);P=c-R,L=F}}}else if(P+=v-E,E<O){for(O-=E;F[c++]=y[P++],--E;);P=c-R,L=F}for(;2<O;)F[c++]=L[P++],F[c++]=L[P++],F[c++]=L[P++],O-=3;O&&(F[c++]=L[P++],1<O&&(F[c++]=L[P++]))}else{for(P=c-R;F[c++]=F[P++],F[c++]=F[P++],F[c++]=F[P++],2<(O-=3););O&&(F[c++]=F[P++],1<O&&(F[c++]=F[P++]))}break}}break}}while(l<u&&c<d);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<d?d-c+257:257-(c-d),o.hold=b,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,d=0,f=-2,g=1,p=852,v=592;function y(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(P){var L;return P&&P.state?(L=P.state,P.total_in=P.total_out=L.total=0,P.msg="",L.wrap&&(P.adler=1&L.wrap),L.mode=g,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(p),L.distcode=L.distdyn=new a.Buf32(v),L.sane=1,L.back=-1,d):f}function k(P){var L;return P&&P.state?((L=P.state).wsize=0,L.whave=0,L.wnext=0,x(P)):f}function w(P,L){var C,F;return P&&P.state?(F=P.state,L<0?(C=0,L=-L):(C=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?f:(F.window!==null&&F.wbits!==L&&(F.window=null),F.wrap=C,F.wbits=L,k(P))):f}function S(P,L){var C,F;return P?(F=new b,(P.state=F).window=null,(C=w(P,L))!==d&&(P.state=null),C):f}var A,_,E=!0;function O(P){if(E){var L;for(A=new a.Buf32(512),_=new a.Buf32(32),L=0;L<144;)P.lens[L++]=8;for(;L<256;)P.lens[L++]=9;for(;L<280;)P.lens[L++]=7;for(;L<288;)P.lens[L++]=8;for(u(c,P.lens,0,288,A,0,P.work,{bits:9}),L=0;L<32;)P.lens[L++]=5;u(h,P.lens,0,32,_,0,P.work,{bits:5}),E=!1}P.lencode=A,P.lenbits=9,P.distcode=_,P.distbits=5}function R(P,L,C,F){var q,B=P.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new a.Buf8(B.wsize)),F>=B.wsize?(a.arraySet(B.window,L,C-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(F<(q=B.wsize-B.wnext)&&(q=F),a.arraySet(B.window,L,C-F,q,B.wnext),(F-=q)?(a.arraySet(B.window,L,C-F,F,0),B.wnext=F,B.whave=B.wsize):(B.wnext+=q,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=q))),0}i.inflateReset=k,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(P){return S(P,15)},i.inflateInit2=S,i.inflate=function(P,L){var C,F,q,B,W,G,M,V,U,j,Q,ae,me,pe,ue,re,de,fe,ie,Se,I,ee,K,X,H=0,Y=new a.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return f;(C=P.state).mode===12&&(C.mode=13),W=P.next_out,q=P.output,M=P.avail_out,B=P.next_in,F=P.input,G=P.avail_in,V=C.hold,U=C.bits,j=G,Q=M,ee=d;e:for(;;)switch(C.mode){case g:if(C.wrap===0){C.mode=13;break}for(;U<16;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(2&C.wrap&&V===35615){Y[C.check=0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0),U=V=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&V)<<8)+(V>>8))%31){P.msg="incorrect header check",C.mode=30;break}if((15&V)!=8){P.msg="unknown compression method",C.mode=30;break}if(U-=4,I=8+(15&(V>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){P.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,P.adler=C.check=1,C.mode=512&V?10:12,U=V=0;break;case 2:for(;U<16;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(C.flags=V,(255&C.flags)!=8){P.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){P.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=V>>8&1),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),U=V=0,C.mode=3;case 3:for(;U<32;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.head&&(C.head.time=V),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,Y[2]=V>>>16&255,Y[3]=V>>>24&255,C.check=o(C.check,Y,4,0)),U=V=0,C.mode=4;case 4:for(;U<16;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.head&&(C.head.xflags=255&V,C.head.os=V>>8),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),U=V=0,C.mode=5;case 5:if(1024&C.flags){for(;U<16;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.length=V,C.head&&(C.head.extra_len=V),512&C.flags&&(Y[0]=255&V,Y[1]=V>>>8&255,C.check=o(C.check,Y,2,0)),U=V=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(G<(ae=C.length)&&(ae=G),ae&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),a.arraySet(C.head.extra,F,B,ae,I)),512&C.flags&&(C.check=o(C.check,F,ae,B)),G-=ae,B+=ae,C.length-=ae),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(G===0)break e;for(ae=0;I=F[B+ae++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ae<G;);if(512&C.flags&&(C.check=o(C.check,F,ae,B)),G-=ae,B+=ae,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(G===0)break e;for(ae=0;I=F[B+ae++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ae<G;);if(512&C.flags&&(C.check=o(C.check,F,ae,B)),G-=ae,B+=ae,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;U<16;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(V!==(65535&C.check)){P.msg="header crc mismatch",C.mode=30;break}U=V=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),P.adler=C.check=0,C.mode=12;break;case 10:for(;U<32;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}P.adler=C.check=y(V),U=V=0,C.mode=11;case 11:if(C.havedict===0)return P.next_out=W,P.avail_out=M,P.next_in=B,P.avail_in=G,C.hold=V,C.bits=U,2;P.adler=C.check=1,C.mode=12;case 12:if(L===5||L===6)break e;case 13:if(C.last){V>>>=7&U,U-=7&U,C.mode=27;break}for(;U<3;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}switch(C.last=1&V,U-=1,3&(V>>>=1)){case 0:C.mode=14;break;case 1:if(O(C),C.mode=20,L!==6)break;V>>>=2,U-=2;break e;case 2:C.mode=17;break;case 3:P.msg="invalid block type",C.mode=30}V>>>=2,U-=2;break;case 14:for(V>>>=7&U,U-=7&U;U<32;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if((65535&V)!=(V>>>16^65535)){P.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&V,U=V=0,C.mode=15,L===6)break e;case 15:C.mode=16;case 16:if(ae=C.length){if(G<ae&&(ae=G),M<ae&&(ae=M),ae===0)break e;a.arraySet(q,F,B,ae,W),G-=ae,B+=ae,M-=ae,W+=ae,C.length-=ae;break}C.mode=12;break;case 17:for(;U<14;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(C.nlen=257+(31&V),V>>>=5,U-=5,C.ndist=1+(31&V),V>>>=5,U-=5,C.ncode=4+(15&V),V>>>=4,U-=4,286<C.nlen||30<C.ndist){P.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;U<3;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.lens[se[C.have++]]=7&V,V>>>=3,U-=3}for(;C.have<19;)C.lens[se[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,K={bits:C.lenbits},ee=u(0,C.lens,0,19,C.lencode,0,C.work,K),C.lenbits=K.bits,ee){P.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;re=(H=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,de=65535&H,!((ue=H>>>24)<=U);){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(de<16)V>>>=ue,U-=ue,C.lens[C.have++]=de;else{if(de===16){for(X=ue+2;U<X;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(V>>>=ue,U-=ue,C.have===0){P.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ae=3+(3&V),V>>>=2,U-=2}else if(de===17){for(X=ue+3;U<X;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}U-=ue,I=0,ae=3+(7&(V>>>=ue)),V>>>=3,U-=3}else{for(X=ue+7;U<X;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}U-=ue,I=0,ae=11+(127&(V>>>=ue)),V>>>=7,U-=7}if(C.have+ae>C.nlen+C.ndist){P.msg="invalid bit length repeat",C.mode=30;break}for(;ae--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){P.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,K={bits:C.lenbits},ee=u(c,C.lens,0,C.nlen,C.lencode,0,C.work,K),C.lenbits=K.bits,ee){P.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,K={bits:C.distbits},ee=u(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,K),C.distbits=K.bits,ee){P.msg="invalid distances set",C.mode=30;break}if(C.mode=20,L===6)break e;case 20:C.mode=21;case 21:if(6<=G&&258<=M){P.next_out=W,P.avail_out=M,P.next_in=B,P.avail_in=G,C.hold=V,C.bits=U,l(P,Q),W=P.next_out,q=P.output,M=P.avail_out,B=P.next_in,F=P.input,G=P.avail_in,V=C.hold,U=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;re=(H=C.lencode[V&(1<<C.lenbits)-1])>>>16&255,de=65535&H,!((ue=H>>>24)<=U);){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(re&&!(240&re)){for(fe=ue,ie=re,Se=de;re=(H=C.lencode[Se+((V&(1<<fe+ie)-1)>>fe)])>>>16&255,de=65535&H,!(fe+(ue=H>>>24)<=U);){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}V>>>=fe,U-=fe,C.back+=fe}if(V>>>=ue,U-=ue,C.back+=ue,C.length=de,re===0){C.mode=26;break}if(32&re){C.back=-1,C.mode=12;break}if(64&re){P.msg="invalid literal/length code",C.mode=30;break}C.extra=15&re,C.mode=22;case 22:if(C.extra){for(X=C.extra;U<X;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.length+=V&(1<<C.extra)-1,V>>>=C.extra,U-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;re=(H=C.distcode[V&(1<<C.distbits)-1])>>>16&255,de=65535&H,!((ue=H>>>24)<=U);){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(!(240&re)){for(fe=ue,ie=re,Se=de;re=(H=C.distcode[Se+((V&(1<<fe+ie)-1)>>fe)])>>>16&255,de=65535&H,!(fe+(ue=H>>>24)<=U);){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}V>>>=fe,U-=fe,C.back+=fe}if(V>>>=ue,U-=ue,C.back+=ue,64&re){P.msg="invalid distance code",C.mode=30;break}C.offset=de,C.extra=15&re,C.mode=24;case 24:if(C.extra){for(X=C.extra;U<X;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}C.offset+=V&(1<<C.extra)-1,V>>>=C.extra,U-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){P.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(M===0)break e;if(ae=Q-M,C.offset>ae){if((ae=C.offset-ae)>C.whave&&C.sane){P.msg="invalid distance too far back",C.mode=30;break}me=ae>C.wnext?(ae-=C.wnext,C.wsize-ae):C.wnext-ae,ae>C.length&&(ae=C.length),pe=C.window}else pe=q,me=W-C.offset,ae=C.length;for(M<ae&&(ae=M),M-=ae,C.length-=ae;q[W++]=pe[me++],--ae;);C.length===0&&(C.mode=21);break;case 26:if(M===0)break e;q[W++]=C.length,M--,C.mode=21;break;case 27:if(C.wrap){for(;U<32;){if(G===0)break e;G--,V|=F[B++]<<U,U+=8}if(Q-=M,P.total_out+=Q,C.total+=Q,Q&&(P.adler=C.check=C.flags?o(C.check,q,Q,W-Q):s(C.check,q,Q,W-Q)),Q=M,(C.flags?V:y(V))!==C.check){P.msg="incorrect data check",C.mode=30;break}U=V=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;U<32;){if(G===0)break e;G--,V+=F[B++]<<U,U+=8}if(V!==(4294967295&C.total)){P.msg="incorrect length check",C.mode=30;break}U=V=0}C.mode=29;case 29:ee=1;break e;case 30:ee=-3;break e;case 31:return-4;case 32:default:return f}return P.next_out=W,P.avail_out=M,P.next_in=B,P.avail_in=G,C.hold=V,C.bits=U,(C.wsize||Q!==P.avail_out&&C.mode<30&&(C.mode<27||L!==4))&&R(P,P.output,P.next_out,Q-P.avail_out)?(C.mode=31,-4):(j-=P.avail_in,Q-=P.avail_out,P.total_in+=j,P.total_out+=Q,C.total+=Q,C.wrap&&Q&&(P.adler=C.check=C.flags?o(C.check,q,Q,P.next_out-Q):s(C.check,q,Q,P.next_out-Q)),P.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(j==0&&Q===0||L===4)&&ee===d&&(ee=-5),ee)},i.inflateEnd=function(P){if(!P||!P.state)return f;var L=P.state;return L.window&&(L.window=null),P.state=null,d},i.inflateGetHeader=function(P,L){var C;return P&&P.state&&2&(C=P.state).wrap?((C.head=L).done=!1,d):f},i.inflateSetDictionary=function(P,L){var C,F=L.length;return P&&P.state?(C=P.state).wrap!==0&&C.mode!==11?f:C.mode===11&&s(1,L,F,0)!==C.check?-3:R(P,L,F,F)?(C.mode=31,-4):(C.havedict=1,d):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,d,f,g,p,v,y){var b,x,k,w,S,A,_,E,O,R=y.bits,P=0,L=0,C=0,F=0,q=0,B=0,W=0,G=0,M=0,V=0,U=null,j=0,Q=new a.Buf16(16),ae=new a.Buf16(16),me=null,pe=0;for(P=0;P<=15;P++)Q[P]=0;for(L=0;L<f;L++)Q[h[d+L]]++;for(q=R,F=15;1<=F&&Q[F]===0;F--);if(F<q&&(q=F),F===0)return g[p++]=20971520,g[p++]=20971520,y.bits=1,0;for(C=1;C<F&&Q[C]===0;C++);for(q<C&&(q=C),P=G=1;P<=15;P++)if(G<<=1,(G-=Q[P])<0)return-1;if(0<G&&(c===0||F!==1))return-1;for(ae[1]=0,P=1;P<15;P++)ae[P+1]=ae[P]+Q[P];for(L=0;L<f;L++)h[d+L]!==0&&(v[ae[h[d+L]]++]=L);if(A=c===0?(U=me=v,19):c===1?(U=s,j-=257,me=o,pe-=257,256):(U=l,me=u,-1),P=C,S=p,W=L=V=0,k=-1,w=(M=1<<(B=q))-1,c===1&&852<M||c===2&&592<M)return 1;for(;;){for(_=P-W,O=v[L]<A?(E=0,v[L]):v[L]>A?(E=me[pe+v[L]],U[j+v[L]]):(E=96,0),b=1<<P-W,C=x=1<<B;g[S+(V>>W)+(x-=b)]=_<<24|E<<16|O|0,x!==0;);for(b=1<<P-1;V&b;)b>>=1;if(b!==0?(V&=b-1,V+=b):V=0,L++,--Q[P]==0){if(P===F)break;P=h[d+v[L]]}if(q<P&&(V&w)!==k){for(W===0&&(W=q),S+=C,G=1<<(B=P-W);B+W<F&&!((G-=Q[B+W])<=0);)B++,G<<=1;if(M+=1<<B,c===1&&852<M||c===2&&592<M)return 1;g[k=V&w]=q<<24|B<<16|S-p|0}}return V!==0&&(g[S+V]=P-W<<24|64<<16|0),y.bits=q,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(H){for(var Y=H.length;0<=--Y;)H[Y]=0}var u=0,c=29,h=256,d=h+1+c,f=30,g=19,p=2*d+1,v=15,y=16,b=7,x=256,k=16,w=17,S=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(d+2));l(R);var P=new Array(2*f);l(P);var L=new Array(512);l(L);var C=new Array(256);l(C);var F=new Array(c);l(F);var q,B,W,G=new Array(f);function M(H,Y,se,ce,te){this.static_tree=H,this.extra_bits=Y,this.extra_base=se,this.elems=ce,this.max_length=te,this.has_stree=H&&H.length}function V(H,Y){this.dyn_tree=H,this.max_code=0,this.stat_desc=Y}function U(H){return H<256?L[H]:L[256+(H>>>7)]}function j(H,Y){H.pending_buf[H.pending++]=255&Y,H.pending_buf[H.pending++]=Y>>>8&255}function Q(H,Y,se){H.bi_valid>y-se?(H.bi_buf|=Y<<H.bi_valid&65535,j(H,H.bi_buf),H.bi_buf=Y>>y-H.bi_valid,H.bi_valid+=se-y):(H.bi_buf|=Y<<H.bi_valid&65535,H.bi_valid+=se)}function ae(H,Y,se){Q(H,se[2*Y],se[2*Y+1])}function me(H,Y){for(var se=0;se|=1&H,H>>>=1,se<<=1,0<--Y;);return se>>>1}function pe(H,Y,se){var ce,te,ye=new Array(v+1),we=0;for(ce=1;ce<=v;ce++)ye[ce]=we=we+se[ce-1]<<1;for(te=0;te<=Y;te++){var ge=H[2*te+1];ge!==0&&(H[2*te]=me(ye[ge]++,ge))}}function ue(H){var Y;for(Y=0;Y<d;Y++)H.dyn_ltree[2*Y]=0;for(Y=0;Y<f;Y++)H.dyn_dtree[2*Y]=0;for(Y=0;Y<g;Y++)H.bl_tree[2*Y]=0;H.dyn_ltree[2*x]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function re(H){8<H.bi_valid?j(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function de(H,Y,se,ce){var te=2*Y,ye=2*se;return H[te]<H[ye]||H[te]===H[ye]&&ce[Y]<=ce[se]}function fe(H,Y,se){for(var ce=H.heap[se],te=se<<1;te<=H.heap_len&&(te<H.heap_len&&de(Y,H.heap[te+1],H.heap[te],H.depth)&&te++,!de(Y,ce,H.heap[te],H.depth));)H.heap[se]=H.heap[te],se=te,te<<=1;H.heap[se]=ce}function ie(H,Y,se){var ce,te,ye,we,ge=0;if(H.last_lit!==0)for(;ce=H.pending_buf[H.d_buf+2*ge]<<8|H.pending_buf[H.d_buf+2*ge+1],te=H.pending_buf[H.l_buf+ge],ge++,ce===0?ae(H,te,Y):(ae(H,(ye=C[te])+h+1,Y),(we=A[ye])!==0&&Q(H,te-=F[ye],we),ae(H,ye=U(--ce),se),(we=_[ye])!==0&&Q(H,ce-=G[ye],we)),ge<H.last_lit;);ae(H,x,Y)}function Se(H,Y){var se,ce,te,ye=Y.dyn_tree,we=Y.stat_desc.static_tree,ge=Y.stat_desc.has_stree,J=Y.stat_desc.elems,le=-1;for(H.heap_len=0,H.heap_max=p,se=0;se<J;se++)ye[2*se]!==0?(H.heap[++H.heap_len]=le=se,H.depth[se]=0):ye[2*se+1]=0;for(;H.heap_len<2;)ye[2*(te=H.heap[++H.heap_len]=le<2?++le:0)]=1,H.depth[te]=0,H.opt_len--,ge&&(H.static_len-=we[2*te+1]);for(Y.max_code=le,se=H.heap_len>>1;1<=se;se--)fe(H,ye,se);for(te=J;se=H.heap[1],H.heap[1]=H.heap[H.heap_len--],fe(H,ye,1),ce=H.heap[1],H.heap[--H.heap_max]=se,H.heap[--H.heap_max]=ce,ye[2*te]=ye[2*se]+ye[2*ce],H.depth[te]=(H.depth[se]>=H.depth[ce]?H.depth[se]:H.depth[ce])+1,ye[2*se+1]=ye[2*ce+1]=te,H.heap[1]=te++,fe(H,ye,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],function(ve,Oe){var Be,ot,Pt,Ve,Tr,Va,Mt=Oe.dyn_tree,Ga=Oe.max_code,Ii=Oe.stat_desc.static_tree,C4=Oe.stat_desc.has_stree,P4=Oe.stat_desc.extra_bits,YP=Oe.stat_desc.extra_base,hf=Oe.stat_desc.max_length,my=0;for(Ve=0;Ve<=v;Ve++)ve.bl_count[Ve]=0;for(Mt[2*ve.heap[ve.heap_max]+1]=0,Be=ve.heap_max+1;Be<p;Be++)hf<(Ve=Mt[2*Mt[2*(ot=ve.heap[Be])+1]+1]+1)&&(Ve=hf,my++),Mt[2*ot+1]=Ve,Ga<ot||(ve.bl_count[Ve]++,Tr=0,YP<=ot&&(Tr=P4[ot-YP]),Va=Mt[2*ot],ve.opt_len+=Va*(Ve+Tr),C4&&(ve.static_len+=Va*(Ii[2*ot+1]+Tr)));if(my!==0){do{for(Ve=hf-1;ve.bl_count[Ve]===0;)Ve--;ve.bl_count[Ve]--,ve.bl_count[Ve+1]+=2,ve.bl_count[hf]--,my-=2}while(0<my);for(Ve=hf;Ve!==0;Ve--)for(ot=ve.bl_count[Ve];ot!==0;)Ga<(Pt=ve.heap[--Be])||(Mt[2*Pt+1]!==Ve&&(ve.opt_len+=(Ve-Mt[2*Pt+1])*Mt[2*Pt],Mt[2*Pt+1]=Ve),ot--)}}(H,Y),pe(ye,le,H.bl_count)}function I(H,Y,se){var ce,te,ye=-1,we=Y[1],ge=0,J=7,le=4;for(we===0&&(J=138,le=3),Y[2*(se+1)+1]=65535,ce=0;ce<=se;ce++)te=we,we=Y[2*(ce+1)+1],++ge<J&&te===we||(ge<le?H.bl_tree[2*te]+=ge:te!==0?(te!==ye&&H.bl_tree[2*te]++,H.bl_tree[2*k]++):ge<=10?H.bl_tree[2*w]++:H.bl_tree[2*S]++,ye=te,le=(ge=0)===we?(J=138,3):te===we?(J=6,3):(J=7,4))}function ee(H,Y,se){var ce,te,ye=-1,we=Y[1],ge=0,J=7,le=4;for(we===0&&(J=138,le=3),ce=0;ce<=se;ce++)if(te=we,we=Y[2*(ce+1)+1],!(++ge<J&&te===we)){if(ge<le)for(;ae(H,te,H.bl_tree),--ge!=0;);else te!==0?(te!==ye&&(ae(H,te,H.bl_tree),ge--),ae(H,k,H.bl_tree),Q(H,ge-3,2)):ge<=10?(ae(H,w,H.bl_tree),Q(H,ge-3,3)):(ae(H,S,H.bl_tree),Q(H,ge-11,7));ye=te,le=(ge=0)===we?(J=138,3):te===we?(J=6,3):(J=7,4)}}l(G);var K=!1;function X(H,Y,se,ce){Q(H,(u<<1)+(ce?1:0),3),function(te,ye,we,ge){re(te),j(te,we),j(te,~we),a.arraySet(te.pending_buf,te.window,ye,we,te.pending),te.pending+=we}(H,Y,se)}i._tr_init=function(H){K||(function(){var Y,se,ce,te,ye,we=new Array(v+1);for(te=ce=0;te<c-1;te++)for(F[te]=ce,Y=0;Y<1<<A[te];Y++)C[ce++]=te;for(C[ce-1]=te,te=ye=0;te<16;te++)for(G[te]=ye,Y=0;Y<1<<_[te];Y++)L[ye++]=te;for(ye>>=7;te<f;te++)for(G[te]=ye<<7,Y=0;Y<1<<_[te]-7;Y++)L[256+ye++]=te;for(se=0;se<=v;se++)we[se]=0;for(Y=0;Y<=143;)R[2*Y+1]=8,Y++,we[8]++;for(;Y<=255;)R[2*Y+1]=9,Y++,we[9]++;for(;Y<=279;)R[2*Y+1]=7,Y++,we[7]++;for(;Y<=287;)R[2*Y+1]=8,Y++,we[8]++;for(pe(R,d+1,we),Y=0;Y<f;Y++)P[2*Y+1]=5,P[2*Y]=me(Y,5);q=new M(R,A,h+1,d,v),B=new M(P,_,0,f,v),W=new M(new Array(0),E,0,g,b)}(),K=!0),H.l_desc=new V(H.dyn_ltree,q),H.d_desc=new V(H.dyn_dtree,B),H.bl_desc=new V(H.bl_tree,W),H.bi_buf=0,H.bi_valid=0,ue(H)},i._tr_stored_block=X,i._tr_flush_block=function(H,Y,se,ce){var te,ye,we=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=function(ge){var J,le=4093624447;for(J=0;J<=31;J++,le>>>=1)if(1&le&&ge.dyn_ltree[2*J]!==0)return s;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return o;for(J=32;J<h;J++)if(ge.dyn_ltree[2*J]!==0)return o;return s}(H)),Se(H,H.l_desc),Se(H,H.d_desc),we=function(ge){var J;for(I(ge,ge.dyn_ltree,ge.l_desc.max_code),I(ge,ge.dyn_dtree,ge.d_desc.max_code),Se(ge,ge.bl_desc),J=g-1;3<=J&&ge.bl_tree[2*O[J]+1]===0;J--);return ge.opt_len+=3*(J+1)+5+5+4,J}(H),te=H.opt_len+3+7>>>3,(ye=H.static_len+3+7>>>3)<=te&&(te=ye)):te=ye=se+5,se+4<=te&&Y!==-1?X(H,Y,se,ce):H.strategy===4||ye===te?(Q(H,2+(ce?1:0),3),ie(H,R,P)):(Q(H,4+(ce?1:0),3),function(ge,J,le,ve){var Oe;for(Q(ge,J-257,5),Q(ge,le-1,5),Q(ge,ve-4,4),Oe=0;Oe<ve;Oe++)Q(ge,ge.bl_tree[2*O[Oe]+1],3);ee(ge,ge.dyn_ltree,J-1),ee(ge,ge.dyn_dtree,le-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,we+1),ie(H,H.dyn_ltree,H.dyn_dtree)),ue(H),ce&&re(H)},i._tr_tally=function(H,Y,se){return H.pending_buf[H.d_buf+2*H.last_lit]=Y>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&Y,H.pending_buf[H.l_buf+H.last_lit]=255&se,H.last_lit++,Y===0?H.dyn_ltree[2*se]++:(H.matches++,Y--,H.dyn_ltree[2*(C[se]+h+1)]++,H.dyn_dtree[2*U(Y)]++),H.last_lit===H.lit_bufsize-1},i._tr_align=function(H){Q(H,2,3),ae(H,x,R),function(Y){Y.bi_valid===16?(j(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(H)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,h,d=1,f={},g=!1,p=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){b(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,w=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=w,k}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(k){s.postMessage(h+k,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(k){b(k.data)},function(k){c.port2.postMessage(k)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(k){var w=p.createElement("script");w.onreadystatechange=function(){b(k),w.onreadystatechange=null,u.removeChild(w),w=null},u.appendChild(w)}):function(k){setTimeout(b,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var A={callback:k,args:w};return f[d]=A,l(d),d++},v.clearImmediate=y}function y(k){delete f[k]}function b(k){if(g)setTimeout(b,0,k);else{var w=f[k];if(w){g=!0;try{(function(S){var A=S.callback,_=S.args;switch(_.length){case 0:A();break;case 1:A(_[0]);break;case 2:A(_[0],_[1]);break;case 3:A(_[0],_[1],_[2]);break;default:A.apply(o,_)}})(w)}finally{y(k),g=!1}}}}function x(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(h)===0&&b(+k.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(y$);var sq=y$.exports;const oq=nt(sq);/*
 * @license
 * docx-preview <https://github.com/VolodymyrBaydalka/docxjs>
 * Released under Apache License 2.0  <https://github.com/VolodymyrBaydalka/docxjs/blob/master/LICENSE>
 * Copyright Volodymyr Baydalka
 */var Vt;(function(t){t.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",t.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",t.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",t.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",t.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",t.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",t.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",t.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",t.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",t.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",t.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",t.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",t.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",t.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",t.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",t.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties",t.Comments="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",t.CommentsExtended="http://schemas.microsoft.com/office/2011/relationships/commentsExtended",t.AltChunk="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"})(Vt||(Vt={}));function lq(t,e){return e.elements(t).map(n=>({id:e.attr(n,"Id"),type:e.attr(n,"Type"),target:e.attr(n,"Target"),targetMode:e.attr(n,"TargetMode")}))}function uq(t){return t==null?void 0:t.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()}function ak(t){return/^[^"'].*\s.*[^"']$/.test(t)?`'${t}'`:t}function _v(t){let e=t.lastIndexOf("/")+1,n=e==0?"":t.substring(0,e),r=e==0?t:t.substring(e);return[n,r]}function l1(t,e){try{const n="http://docx/";return new URL(t,n+e).toString().substring(n.length)}catch{return`${e}${t}`}}function io(t,e){return t.reduce((n,r)=>(n[e(r)]=r,n),{})}function cq(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(),r.readAsDataURL(t)})}function u1(t){return t&&typeof t=="object"&&!Array.isArray(t)}function hq(t){return typeof t=="string"||t instanceof String}function Ib(t,...e){if(!e.length)return t;const n=e.shift();if(u1(t)&&u1(n))for(const r in n)if(u1(n[r])){const i=t[r]??(t[r]={});Ib(i,n[r])}else t[r]=n[r];return Ib(t,...e)}function _f(t){return Array.isArray(t)?t:[t]}function dq(t,e,n){return e>t?e:n<t?n:t}const v$={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},en={Dxa:{mul:.05,unit:"pt"},Emu:{mul:1/12700,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt",min:.25,max:12},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"}};function b$(t,e=en.Dxa){if(t==null||/.+(p[xt]|[%])$/.test(t))return t;var n=parseInt(t)*e.mul;return e.min&&e.max&&(n=dq(n,e.min,e.max)),`${n.toFixed(2)}${e.unit}`}function fq(t,e=!1){switch(t){case"1":return!0;case"0":return!1;case"on":return!0;case"off":return!1;case"true":return!0;case"false":return!1;default:return e}}function x$(t,e,n){if(t.namespaceURI!=v$.wordml)return!1;switch(t.localName){case"color":e.color=n.attr(t,"val");break;case"sz":e.fontSize=n.lengthAttr(t,"val",en.FontSize);break;default:return!1}return!0}function pq(t,e=!1){e&&(t=t.replace(/<[?].*[?]>/,"")),t=gq(t);const n=new DOMParser().parseFromString(t,"application/xml"),r=mq(n);if(r)throw new Error(r);return n}function mq(t){var e;return(e=t.getElementsByTagName("parsererror")[0])==null?void 0:e.textContent}function gq(t){return t.charCodeAt(0)===65279?t.substring(1):t}function yq(t){return new XMLSerializer().serializeToString(t)}class w${elements(e,n=null){const r=[];for(let i=0,a=e.childNodes.length;i<a;i++){let s=e.childNodes.item(i);s.nodeType==Node.ELEMENT_NODE&&(n==null||s.localName==n)&&r.push(s)}return r}element(e,n){for(let r=0,i=e.childNodes.length;r<i;r++){let a=e.childNodes.item(r);if(a.nodeType==1&&a.localName==n)return a}return null}elementAttr(e,n,r){var i=this.element(e,n);return i?this.attr(i,r):void 0}attrs(e){return Array.from(e.attributes)}attr(e,n){for(let r=0,i=e.attributes.length;r<i;r++){let a=e.attributes.item(r);if(a.localName==n)return a.value}return null}intAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i):r}hexAttr(e,n,r=null){var i=this.attr(e,n);return i?parseInt(i,16):r}floatAttr(e,n,r=null){var i=this.attr(e,n);return i?parseFloat(i):r}boolAttr(e,n,r=null){return fq(this.attr(e,n),r)}lengthAttr(e,n,r=en.Dxa){return b$(this.attr(e,n),r)}}const Z=new w$;class ri{constructor(e,n){this._package=e,this.path=n}async load(){this.rels=await this._package.loadRelationships(this.path);const e=await this._package.load(this.path),n=this._package.parseXmlDocument(e);this._package.options.keepOrigin&&(this._xmlDocument=n),this.parseXml(n.firstElementChild)}save(){this._package.update(this.path,yq(this._xmlDocument))}parseXml(e){}}const vq={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function bq(t,e){return e.elements(t).map(n=>xq(n,e))}function xq(t,e){let n={name:e.attr(t,"name"),embedFontRefs:[]};for(let r of e.elements(t))switch(r.localName){case"family":n.family=e.attr(r,"val");break;case"altName":n.altName=e.attr(r,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":n.embedFontRefs.push(wq(r,e));break}return n}function wq(t,e){return{id:e.attr(t,"id"),key:e.attr(t,"fontKey"),type:vq[t.localName]}}class Sq extends ri{parseXml(e){this.fonts=bq(e,this._package.xmlParser)}}class kC{constructor(e,n){this._zip=e,this.options=n,this.xmlParser=new w$}get(e){const n=kq(e);return this._zip.files[n]??this._zip.files[n.replace(/\//g,"\\")]}update(e,n){this._zip.file(e,n)}static async load(e,n){const r=await oq.loadAsync(e);return new kC(r,n)}save(e="blob"){return this._zip.generateAsync({type:e})}load(e,n="string"){var r;return((r=this.get(e))==null?void 0:r.async(n))??Promise.resolve(null)}async loadRelationships(e=null){let n="_rels/.rels";if(e!=null){const[i,a]=_v(e);n=`${i}_rels/${a}.rels`}const r=await this.load(n);return r?lq(this.parseXmlDocument(r).firstElementChild,this.xmlParser):null}parseXmlDocument(e){return pq(e,this.options.trimXmlDeclaration)}}function kq(t){return t.startsWith("/")?t.substr(1):t}class _q extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.body=this._documentParser.parseDocumentFile(e)}}function Fy(t,e){return{type:e.attr(t,"val"),color:e.attr(t,"color"),size:e.lengthAttr(t,"sz",en.Border),offset:e.lengthAttr(t,"space",en.Point),frame:e.boolAttr(t,"frame"),shadow:e.boolAttr(t,"shadow")}}function Aq(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"left":n.left=Fy(r,e);break;case"top":n.top=Fy(r,e);break;case"right":n.right=Fy(r,e);break;case"bottom":n.bottom=Fy(r,e);break}return n}var h2;(function(t){t.Continuous="continuous",t.NextPage="nextPage",t.NextColumn="nextColumn",t.EvenPage="evenPage",t.OddPage="oddPage"})(h2||(h2={}));function S$(t,e=Z){var n={};for(let r of e.elements(t))switch(r.localName){case"pgSz":n.pageSize={width:e.lengthAttr(r,"w"),height:e.lengthAttr(r,"h"),orientation:e.attr(r,"orient")};break;case"type":n.type=e.attr(r,"val");break;case"pgMar":n.pageMargins={left:e.lengthAttr(r,"left"),right:e.lengthAttr(r,"right"),top:e.lengthAttr(r,"top"),bottom:e.lengthAttr(r,"bottom"),header:e.lengthAttr(r,"header"),footer:e.lengthAttr(r,"footer"),gutter:e.lengthAttr(r,"gutter")};break;case"cols":n.columns=Eq(r,e);break;case"headerReference":(n.headerRefs??(n.headerRefs=[])).push(d2(r,e));break;case"footerReference":(n.footerRefs??(n.footerRefs=[])).push(d2(r,e));break;case"titlePg":n.titlePage=e.boolAttr(r,"val",!0);break;case"pgBorders":n.pageBorders=Aq(r,e);break;case"pgNumType":n.pageNumber=Cq(r,e);break}return n}function Eq(t,e){return{numberOfColumns:e.intAttr(t,"num"),space:e.lengthAttr(t,"space"),separator:e.boolAttr(t,"sep"),equalWidth:e.boolAttr(t,"equalWidth",!0),columns:e.elements(t,"col").map(n=>({width:e.lengthAttr(n,"w"),space:e.lengthAttr(n,"space")}))}}function Cq(t,e){return{chapSep:e.attr(t,"chapSep"),chapStyle:e.attr(t,"chapStyle"),format:e.attr(t,"fmt"),start:e.intAttr(t,"start")}}function d2(t,e){return{id:e.attr(t,"id"),type:e.attr(t,"type")}}function Pq(t,e){return{before:e.lengthAttr(t,"before"),after:e.lengthAttr(t,"after"),line:e.intAttr(t,"line"),lineRule:e.attr(t,"lineRule")}}function _C(t,e){let n={};for(let r of e.elements(t))Tq(r,n,e);return n}function Tq(t,e,n){return!!x$(t,e,n)}function k$(t,e){let n={};for(let r of e.elements(t))_$(r,n,e);return n}function _$(t,e,n){if(t.namespaceURI!=v$.wordml)return!1;if(x$(t,e,n))return!0;switch(t.localName){case"tabs":e.tabs=Oq(t,n);break;case"sectPr":e.sectionProps=S$(t,n);break;case"numPr":e.numbering=Iq(t,n);break;case"spacing":return e.lineSpacing=Pq(t,n),!1;case"textAlignment":return e.textAlignment=n.attr(t,"val"),!1;case"keepLines":e.keepLines=n.boolAttr(t,"val",!0);break;case"keepNext":e.keepNext=n.boolAttr(t,"val",!0);break;case"pageBreakBefore":e.pageBreakBefore=n.boolAttr(t,"val",!0);break;case"outlineLvl":e.outlineLevel=n.intAttr(t,"val");break;case"pStyle":e.styleName=n.attr(t,"val");break;case"rPr":e.runProps=_C(t,n);break;default:return!1}return!0}function Oq(t,e){return e.elements(t,"tab").map(n=>({position:e.lengthAttr(n,"pos"),leader:e.attr(n,"leader"),style:e.attr(n,"val")}))}function Iq(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"numId":n.id=e.attr(r,"val");break;case"ilvl":n.level=e.intAttr(r,"val");break}return n}function Mq(t,e){let n={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let r of e.elements(t))switch(r.localName){case"num":n.numberings.push(Nq(r,e));break;case"abstractNum":n.abstractNumberings.push(Rq(r,e));break;case"numPicBullet":n.bulletPictures.push(jq(r,e));break}return n}function Nq(t,e){let n={id:e.attr(t,"numId"),overrides:[]};for(let r of e.elements(t))switch(r.localName){case"abstractNumId":n.abstractId=e.attr(r,"val");break;case"lvlOverride":n.overrides.push(Lq(r,e));break}return n}function Rq(t,e){let n={id:e.attr(t,"abstractNumId"),levels:[]};for(let r of e.elements(t))switch(r.localName){case"name":n.name=e.attr(r,"val");break;case"multiLevelType":n.multiLevelType=e.attr(r,"val");break;case"numStyleLink":n.numberingStyleLink=e.attr(r,"val");break;case"styleLink":n.styleLink=e.attr(r,"val");break;case"lvl":n.levels.push(A$(r,e));break}return n}function A$(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"start":n.start=e.attr(r,"val");break;case"lvlRestart":n.restart=e.intAttr(r,"val");break;case"numFmt":n.format=e.attr(r,"val");break;case"lvlText":n.text=e.attr(r,"val");break;case"lvlJc":n.justification=e.attr(r,"val");break;case"lvlPicBulletId":n.bulletPictureId=e.attr(r,"val");break;case"pStyle":n.paragraphStyle=e.attr(r,"val");break;case"pPr":n.paragraphProps=k$(r,e);break;case"rPr":n.runProps=_C(r,e);break}return n}function Lq(t,e){let n={level:e.intAttr(t,"ilvl")};for(let r of e.elements(t))switch(r.localName){case"startOverride":n.start=e.intAttr(r,"val");break;case"lvl":n.numberingLevel=A$(r,e);break}return n}function jq(t,e){var n=e.element(t,"pict"),r=n&&e.element(n,"shape"),i=r&&e.element(r,"imagedata");return i?{id:e.attr(t,"numPicBulletId"),referenceId:e.attr(i,"id"),style:e.attr(r,"style")}:null}class Dq extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){Object.assign(this,Mq(e,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(e)}}class $q extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.styles=this._documentParser.parseStylesFile(e)}}var oe;(function(t){t.Document="document",t.Paragraph="paragraph",t.Run="run",t.Break="break",t.NoBreakHyphen="noBreakHyphen",t.Table="table",t.Row="row",t.Cell="cell",t.Hyperlink="hyperlink",t.SmartTag="smartTag",t.Drawing="drawing",t.Image="image",t.Text="text",t.Tab="tab",t.Symbol="symbol",t.BookmarkStart="bookmarkStart",t.BookmarkEnd="bookmarkEnd",t.Footer="footer",t.Header="header",t.FootnoteReference="footnoteReference",t.EndnoteReference="endnoteReference",t.Footnote="footnote",t.Endnote="endnote",t.SimpleField="simpleField",t.ComplexField="complexField",t.Instruction="instruction",t.VmlPicture="vmlPicture",t.MmlMath="mmlMath",t.MmlMathParagraph="mmlMathParagraph",t.MmlFraction="mmlFraction",t.MmlFunction="mmlFunction",t.MmlFunctionName="mmlFunctionName",t.MmlNumerator="mmlNumerator",t.MmlDenominator="mmlDenominator",t.MmlRadical="mmlRadical",t.MmlBase="mmlBase",t.MmlDegree="mmlDegree",t.MmlSuperscript="mmlSuperscript",t.MmlSubscript="mmlSubscript",t.MmlPreSubSuper="mmlPreSubSuper",t.MmlSubArgument="mmlSubArgument",t.MmlSuperArgument="mmlSuperArgument",t.MmlNary="mmlNary",t.MmlDelimiter="mmlDelimiter",t.MmlRun="mmlRun",t.MmlEquationArray="mmlEquationArray",t.MmlLimit="mmlLimit",t.MmlLimitLower="mmlLimitLower",t.MmlMatrix="mmlMatrix",t.MmlMatrixRow="mmlMatrixRow",t.MmlBox="mmlBox",t.MmlBar="mmlBar",t.MmlGroupChar="mmlGroupChar",t.VmlElement="vmlElement",t.Inserted="inserted",t.Deleted="deleted",t.DeletedText="deletedText",t.Comment="comment",t.CommentReference="commentReference",t.CommentRangeStart="commentRangeStart",t.CommentRangeEnd="commentRangeEnd",t.AltChunk="altChunk"})(oe||(oe={}));class sc{constructor(){this.children=[],this.cssStyle={}}}class Fq extends sc{constructor(){super(...arguments),this.type=oe.Header}}class Bq extends sc{constructor(){super(...arguments),this.type=oe.Footer}}class E$ extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(e)}}class zq extends E${createRootElement(){return new Fq}}class Uq extends E${createRootElement(){return new Bq}}function Hq(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"Template":n.template=r.textContent;break;case"Pages":n.pages=Af(r.textContent);break;case"Words":n.words=Af(r.textContent);break;case"Characters":n.characters=Af(r.textContent);break;case"Application":n.application=r.textContent;break;case"Lines":n.lines=Af(r.textContent);break;case"Paragraphs":n.paragraphs=Af(r.textContent);break;case"Company":n.company=r.textContent;break;case"AppVersion":n.appVersion=r.textContent;break}return n}function Af(t){if(!(typeof t>"u"))return parseInt(t)}class Wq extends ri{parseXml(e){this.props=Hq(e,this._package.xmlParser)}}function Vq(t,e){const n={};for(let r of e.elements(t))switch(r.localName){case"title":n.title=r.textContent;break;case"description":n.description=r.textContent;break;case"subject":n.subject=r.textContent;break;case"creator":n.creator=r.textContent;break;case"keywords":n.keywords=r.textContent;break;case"language":n.language=r.textContent;break;case"lastModifiedBy":n.lastModifiedBy=r.textContent;break;case"revision":r.textContent&&(n.revision=parseInt(r.textContent));break}return n}class Gq extends ri{parseXml(e){this.props=Vq(e,this._package.xmlParser)}}class qq{}function Xq(t,e){var n=new qq,r=e.element(t,"themeElements");for(let i of e.elements(r))switch(i.localName){case"clrScheme":n.colorScheme=Kq(i,e);break;case"fontScheme":n.fontScheme=Yq(i,e);break}return n}function Kq(t,e){var n={name:e.attr(t,"name"),colors:{}};for(let a of e.elements(t)){var r=e.element(a,"srgbClr"),i=e.element(a,"sysClr");r?n.colors[a.localName]=e.attr(r,"val"):i&&(n.colors[a.localName]=e.attr(i,"lastClr"))}return n}function Yq(t,e){var n={name:e.attr(t,"name")};for(let r of e.elements(t))switch(r.localName){case"majorFont":n.majorFont=f2(r,e);break;case"minorFont":n.minorFont=f2(r,e);break}return n}function f2(t,e){return{latinTypeface:e.elementAttr(t,"latin","typeface"),eaTypeface:e.elementAttr(t,"ea","typeface"),csTypeface:e.elementAttr(t,"cs","typeface")}}class Zq extends ri{constructor(e,n){super(e,n)}parseXml(e){this.theme=Xq(e,this._package.xmlParser)}}class C${}class Qq extends C${constructor(){super(...arguments),this.type=oe.Footnote}}class Jq extends C${constructor(){super(...arguments),this.type=oe.Endnote}}class P$ extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}}class eX extends P${constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"footnote",Qq)}}class tX extends P${constructor(e,n,r){super(e,n,r)}parseXml(e){this.notes=this._documentParser.parseNotes(e,"endnote",Jq)}}function nX(t,e){var n={};for(let r of e.elements(t))switch(r.localName){case"defaultTabStop":n.defaultTabStop=e.lengthAttr(r,"val");break;case"footnotePr":n.footnoteProps=p2(r,e);break;case"endnotePr":n.endnoteProps=p2(r,e);break;case"autoHyphenation":n.autoHyphenation=e.boolAttr(r,"val");break}return n}function p2(t,e){var n={defaultNoteIds:[]};for(let r of e.elements(t))switch(r.localName){case"numFmt":n.nummeringFormat=e.attr(r,"val");break;case"footnote":case"endnote":n.defaultNoteIds.push(e.attr(r,"id"));break}return n}class rX extends ri{constructor(e,n){super(e,n)}parseXml(e){this.settings=nX(e,this._package.xmlParser)}}function iX(t,e){return e.elements(t,"property").map(n=>{const r=n.firstChild;return{formatId:e.attr(n,"fmtid"),name:e.attr(n,"name"),type:r.nodeName,value:r.textContent}})}class aX extends ri{parseXml(e){this.props=iX(e,this._package.xmlParser)}}class sX extends ri{constructor(e,n,r){super(e,n),this._documentParser=r}parseXml(e){this.comments=this._documentParser.parseComments(e),this.commentMap=io(this.comments,n=>n.id)}}class oX extends ri{constructor(e,n){super(e,n),this.comments=[]}parseXml(e){const n=this._package.xmlParser;for(let r of n.elements(e,"commentEx"))this.comments.push({paraId:n.attr(r,"paraId"),paraIdParent:n.attr(r,"paraIdParent"),done:n.boolAttr(r,"done")});this.commentMap=io(this.comments,r=>r.paraId)}}const lX=[{type:Vt.OfficeDocument,target:"word/document.xml"},{type:Vt.ExtendedProperties,target:"docProps/app.xml"},{type:Vt.CoreProperties,target:"docProps/core.xml"},{type:Vt.CustomProperties,target:"docProps/custom.xml"}];class AC{constructor(){this.parts=[],this.partsMap={}}static async load(e,n,r){var i=new AC;return i._options=r,i._parser=n,i._package=await kC.load(e,r),i.rels=await i._package.loadRelationships(),await Promise.all(lX.map(a=>{const s=i.rels.find(o=>o.type===a.type)??a;return i.loadRelationshipPart(s.target,s.type)})),i}save(e="blob"){return this._package.save(e)}async loadRelationshipPart(e,n){var i;if(this.partsMap[e])return this.partsMap[e];if(!this._package.get(e))return null;let r=null;switch(n){case Vt.OfficeDocument:this.documentPart=r=new _q(this._package,e,this._parser);break;case Vt.FontTable:this.fontTablePart=r=new Sq(this._package,e);break;case Vt.Numbering:this.numberingPart=r=new Dq(this._package,e,this._parser);break;case Vt.Styles:this.stylesPart=r=new $q(this._package,e,this._parser);break;case Vt.Theme:this.themePart=r=new Zq(this._package,e);break;case Vt.Footnotes:this.footnotesPart=r=new eX(this._package,e,this._parser);break;case Vt.Endnotes:this.endnotesPart=r=new tX(this._package,e,this._parser);break;case Vt.Footer:r=new Uq(this._package,e,this._parser);break;case Vt.Header:r=new zq(this._package,e,this._parser);break;case Vt.CoreProperties:this.corePropsPart=r=new Gq(this._package,e);break;case Vt.ExtendedProperties:this.extendedPropsPart=r=new Wq(this._package,e);break;case Vt.CustomProperties:r=new aX(this._package,e);break;case Vt.Settings:this.settingsPart=r=new rX(this._package,e);break;case Vt.Comments:this.commentsPart=r=new sX(this._package,e,this._parser);break;case Vt.CommentsExtended:this.commentsExtendedPart=r=new oX(this._package,e);break}if(r==null)return Promise.resolve(null);if(this.partsMap[e]=r,this.parts.push(r),await r.load(),((i=r.rels)==null?void 0:i.length)>0){const[a]=_v(r.path);await Promise.all(r.rels.map(s=>this.loadRelationshipPart(l1(s.target,a),s.type)))}return r}async loadDocumentImage(e,n){const r=await this.loadResource(n??this.documentPart,e,"blob");return this.blobToURL(r)}async loadNumberingImage(e){const n=await this.loadResource(this.numberingPart,e,"blob");return this.blobToURL(n)}async loadFont(e,n){const r=await this.loadResource(this.fontTablePart,e,"uint8array");return r&&this.blobToURL(new Blob([uX(r,n)]))}async loadAltChunk(e,n){return await this.loadResource(n??this.documentPart,e,"string")}blobToURL(e){return e?this._options.useBase64URL?cq(e):URL.createObjectURL(e):null}findPartByRelId(e,n=null){var r=(n.rels??this.rels).find(a=>a.id==e);const i=n?_v(n.path)[0]:"";return r?this.partsMap[l1(r.target,i)]:null}getPathById(e,n){const r=e.rels.find(a=>a.id==n),[i]=_v(e.path);return r?l1(r.target,i):null}loadResource(e,n,r){const i=this.getPathById(e,n);return i?this._package.load(i,r):Promise.resolve(null)}}function uX(t,e){const r=e.replace(/{|}|-/g,""),i=new Array(16);for(let a=0;a<16;a++)i[16-a-1]=parseInt(r.substring(a*2,a*2+2),16);for(let a=0;a<32;a++)t[a]=t[a]^i[a%16];return t}function cX(t,e){return{type:oe.BookmarkStart,id:e.attr(t,"id"),name:e.attr(t,"name"),colFirst:e.intAttr(t,"colFirst"),colLast:e.intAttr(t,"colLast")}}function hX(t,e){return{type:oe.BookmarkEnd,id:e.attr(t,"id")}}class dX extends sc{constructor(){super(...arguments),this.type=oe.VmlElement,this.attrs={}}}function T$(t,e){var n=new dX;switch(t.localName){case"rect":n.tagName="rect",Object.assign(n.attrs,{width:"100%",height:"100%"});break;case"oval":n.tagName="ellipse",Object.assign(n.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":n.tagName="line";break;case"shape":n.tagName="g";break;case"textbox":n.tagName="foreignObject",Object.assign(n.attrs,{width:"100%",height:"100%"});break;default:return null}for(const r of Z.attrs(t))switch(r.localName){case"style":n.cssStyleText=r.value;break;case"fillcolor":n.attrs.fill=r.value;break;case"from":const[i,a]=m2(r.value);Object.assign(n.attrs,{x1:i,y1:a});break;case"to":const[s,o]=m2(r.value);Object.assign(n.attrs,{x2:s,y2:o});break}for(const r of Z.elements(t))switch(r.localName){case"stroke":Object.assign(n.attrs,fX(r));break;case"fill":Object.assign(n.attrs,pX());break;case"imagedata":n.tagName="image",Object.assign(n.attrs,{width:"100%",height:"100%"}),n.imageHref={id:Z.attr(r,"id"),title:Z.attr(r,"title")};break;case"txbxContent":n.children.push(...e.parseBodyElements(r));break;default:const i=T$(r,e);i&&n.children.push(i);break}return n}function fX(t){return{stroke:Z.attr(t,"color"),"stroke-width":Z.lengthAttr(t,"weight",en.Emu)??"1px"}}function pX(t){return{}}function m2(t){return t.split(",")}class mX extends sc{constructor(){super(...arguments),this.type=oe.Comment}}class gX extends sc{constructor(e){super(),this.id=e,this.type=oe.CommentReference}}class yX extends sc{constructor(e){super(),this.id=e,this.type=oe.CommentRangeStart}}class vX extends sc{constructor(e){super(),this.id=e,this.type=oe.CommentRangeEnd}}var Av={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const bX=[],g2={oMath:oe.MmlMath,oMathPara:oe.MmlMathParagraph,f:oe.MmlFraction,func:oe.MmlFunction,fName:oe.MmlFunctionName,num:oe.MmlNumerator,den:oe.MmlDenominator,rad:oe.MmlRadical,deg:oe.MmlDegree,e:oe.MmlBase,sSup:oe.MmlSuperscript,sSub:oe.MmlSubscript,sPre:oe.MmlPreSubSuper,sup:oe.MmlSuperArgument,sub:oe.MmlSubArgument,d:oe.MmlDelimiter,nary:oe.MmlNary,eqArr:oe.MmlEquationArray,lim:oe.MmlLimit,limLow:oe.MmlLimitLower,m:oe.MmlMatrix,mr:oe.MmlMatrixRow,box:oe.MmlBox,bar:oe.MmlBar,groupChr:oe.MmlGroupChar};class xX{constructor(e){this.options={ignoreWidth:!1,debug:!1,...e}}parseNotes(e,n,r){var i=[];for(let a of Z.elements(e,n)){const s=new r;s.id=Z.attr(a,"id"),s.noteType=Z.attr(a,"type"),s.children=this.parseBodyElements(a),i.push(s)}return i}parseComments(e){var n=[];for(let r of Z.elements(e,"comment")){const i=new mX;i.id=Z.attr(r,"id"),i.author=Z.attr(r,"author"),i.initials=Z.attr(r,"initials"),i.date=Z.attr(r,"date"),i.children=this.parseBodyElements(r),n.push(i)}return n}parseDocumentFile(e){var n=Z.element(e,"body"),r=Z.element(e,"background"),i=Z.element(n,"sectPr");return{type:oe.Document,children:this.parseBodyElements(n),props:i?S$(i,Z):{},cssStyle:r?this.parseBackground(r):{}}}parseBackground(e){var n={},r=Ac.colorAttr(e,"color");return r&&(n["background-color"]=r),n}parseBodyElements(e){var n=[];for(const r of Z.elements(e))switch(r.localName){case"p":n.push(this.parseParagraph(r));break;case"altChunk":n.push(this.parseAltChunk(r));break;case"tbl":n.push(this.parseTable(r));break;case"sdt":n.push(...this.parseSdt(r,i=>this.parseBodyElements(i)));break}return n}parseStylesFile(e){var n=[];for(const r of Z.elements(e))switch(r.localName){case"style":n.push(this.parseStyle(r));break;case"docDefaults":n.push(this.parseDefaultStyles(r));break}return n}parseDefaultStyles(e){var n={id:null,name:null,target:null,basedOn:null,styles:[]};for(const a of Z.elements(e))switch(a.localName){case"rPrDefault":var r=Z.element(a,"rPr");r&&n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})});break;case"pPrDefault":var i=Z.element(a,"pPr");i&&n.styles.push({target:"p",values:this.parseDefaultProperties(i,{})});break}return n}parseStyle(e){var n={id:Z.attr(e,"styleId"),isDefault:Z.boolAttr(e,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(Z.attr(e,"type")){case"paragraph":n.target="p";break;case"table":n.target="table";break;case"character":n.target="span";break}for(const r of Z.elements(e))switch(r.localName){case"basedOn":n.basedOn=Z.attr(r,"val");break;case"name":n.name=Z.attr(r,"val");break;case"link":n.linked=Z.attr(r,"val");break;case"next":n.next=Z.attr(r,"val");break;case"aliases":n.aliases=Z.attr(r,"val").split(",");break;case"pPr":n.styles.push({target:"p",values:this.parseDefaultProperties(r,{})}),n.paragraphProps=k$(r,Z);break;case"rPr":n.styles.push({target:"span",values:this.parseDefaultProperties(r,{})}),n.runProps=_C(r,Z);break;case"tblPr":case"tcPr":n.styles.push({target:"td",values:this.parseDefaultProperties(r,{})});break;case"tblStylePr":for(let i of this.parseTableStyle(r))n.styles.push(i);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${r.localName}`)}return n}parseTableStyle(e){var n=[],r=Z.attr(e,"type"),i="",a="";switch(r){case"firstRow":a=".first-row",i="tr.first-row td";break;case"lastRow":a=".last-row",i="tr.last-row td";break;case"firstCol":a=".first-col",i="td.first-col";break;case"lastCol":a=".last-col",i="td.last-col";break;case"band1Vert":a=":not(.no-vband)",i="td.odd-col";break;case"band2Vert":a=":not(.no-vband)",i="td.even-col";break;case"band1Horz":a=":not(.no-hband)",i="tr.odd-row";break;case"band2Horz":a=":not(.no-hband)",i="tr.even-row";break;default:return[]}for(const s of Z.elements(e))switch(s.localName){case"pPr":n.push({target:`${i} p`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"rPr":n.push({target:`${i} span`,mod:a,values:this.parseDefaultProperties(s,{})});break;case"tblPr":case"tcPr":n.push({target:i,mod:a,values:this.parseDefaultProperties(s,{})});break}return n}parseNumberingFile(e){var n=[],r={},i=[];for(const o of Z.elements(e))switch(o.localName){case"abstractNum":this.parseAbstractNumbering(o,i).forEach(l=>n.push(l));break;case"numPicBullet":i.push(this.parseNumberingPicBullet(o));break;case"num":var a=Z.attr(o,"numId"),s=Z.elementAttr(o,"abstractNumId","val");r[s]=a;break}return n.forEach(o=>o.id=r[o.id]),n}parseNumberingPicBullet(e){var n=Z.element(e,"pict"),r=n&&Z.element(n,"shape"),i=r&&Z.element(r,"imagedata");return i?{id:Z.intAttr(e,"numPicBulletId"),src:Z.attr(i,"id"),style:Z.attr(r,"style")}:null}parseAbstractNumbering(e,n){var r=[],i=Z.attr(e,"abstractNumId");for(const a of Z.elements(e))switch(a.localName){case"lvl":r.push(this.parseNumberingLevel(i,a,n));break}return r}parseNumberingLevel(e,n,r){var i={id:e,level:Z.intAttr(n,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};for(const s of Z.elements(n))switch(s.localName){case"start":i.start=Z.intAttr(s,"val");break;case"pPr":this.parseDefaultProperties(s,i.pStyle);break;case"rPr":this.parseDefaultProperties(s,i.rStyle);break;case"lvlPicBulletId":var a=Z.intAttr(s,"val");i.bullet=r.find(o=>(o==null?void 0:o.id)==a);break;case"lvlText":i.levelText=Z.attr(s,"val");break;case"pStyle":i.pStyleName=Z.attr(s,"val");break;case"numFmt":i.format=Z.attr(s,"val");break;case"suff":i.suff=Z.attr(s,"val");break}return i}parseSdt(e,n){const r=Z.element(e,"sdtContent");return r?n(r):[]}parseInserted(e,n){var r;return{type:oe.Inserted,children:((r=n(e))==null?void 0:r.children)??[]}}parseDeleted(e,n){var r;return{type:oe.Deleted,children:((r=n(e))==null?void 0:r.children)??[]}}parseAltChunk(e){return{type:oe.AltChunk,children:[],id:Z.attr(e,"id")}}parseParagraph(e){var n={type:oe.Paragraph,children:[]};for(let r of Z.elements(e))switch(r.localName){case"pPr":this.parseParagraphProperties(r,n);break;case"r":n.children.push(this.parseRun(r,n));break;case"hyperlink":n.children.push(this.parseHyperlink(r,n));break;case"smartTag":n.children.push(this.parseSmartTag(r,n));break;case"bookmarkStart":n.children.push(cX(r,Z));break;case"bookmarkEnd":n.children.push(hX(r,Z));break;case"commentRangeStart":n.children.push(new yX(Z.attr(r,"id")));break;case"commentRangeEnd":n.children.push(new vX(Z.attr(r,"id")));break;case"oMath":case"oMathPara":n.children.push(this.parseMathElement(r));break;case"sdt":n.children.push(...this.parseSdt(r,i=>this.parseParagraph(i).children));break;case"ins":n.children.push(this.parseInserted(r,i=>this.parseParagraph(i)));break;case"del":n.children.push(this.parseDeleted(r,i=>this.parseParagraph(i)));break}return n}parseParagraphProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{if(_$(r,n,Z))return!0;switch(r.localName){case"pStyle":n.styleName=Z.attr(r,"val");break;case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;case"framePr":this.parseFrame(r,n);break;case"rPr":break;default:return!1}return!0})}parseFrame(e,n){var r=Z.attr(e,"dropCap");r=="drop"&&(n.cssStyle.float="left")}parseHyperlink(e,n){var r={type:oe.Hyperlink,parent:n,children:[]};r.anchor=Z.attr(e,"anchor"),r.id=Z.attr(e,"id");for(const i of Z.elements(e))switch(i.localName){case"r":r.children.push(this.parseRun(i,r));break}return r}parseSmartTag(e,n){var r={type:oe.SmartTag,parent:n,children:[]},i=Z.attr(e,"uri"),a=Z.attr(e,"element");i&&(r.uri=i),a&&(r.element=a);for(const s of Z.elements(e))switch(s.localName){case"r":r.children.push(this.parseRun(s,r));break}return r}parseRun(e,n){var r={type:oe.Run,parent:n,children:[]};for(let i of Z.elements(e))switch(i=this.checkAlternateContent(i),i.localName){case"t":r.children.push({type:oe.Text,text:i.textContent});break;case"delText":r.children.push({type:oe.DeletedText,text:i.textContent});break;case"commentReference":r.children.push(new gX(Z.attr(i,"id")));break;case"fldSimple":r.children.push({type:oe.SimpleField,instruction:Z.attr(i,"instr"),lock:Z.boolAttr(i,"lock",!1),dirty:Z.boolAttr(i,"dirty",!1)});break;case"instrText":r.fieldRun=!0,r.children.push({type:oe.Instruction,text:i.textContent});break;case"fldChar":r.fieldRun=!0,r.children.push({type:oe.ComplexField,charType:Z.attr(i,"fldCharType"),lock:Z.boolAttr(i,"lock",!1),dirty:Z.boolAttr(i,"dirty",!1)});break;case"noBreakHyphen":r.children.push({type:oe.NoBreakHyphen});break;case"br":r.children.push({type:oe.Break,break:Z.attr(i,"type")||"textWrapping"});break;case"lastRenderedPageBreak":r.children.push({type:oe.Break,break:"lastRenderedPageBreak"});break;case"sym":r.children.push({type:oe.Symbol,font:ak(Z.attr(i,"font")),char:Z.attr(i,"char")});break;case"tab":r.children.push({type:oe.Tab});break;case"footnoteReference":r.children.push({type:oe.FootnoteReference,id:Z.attr(i,"id")});break;case"endnoteReference":r.children.push({type:oe.EndnoteReference,id:Z.attr(i,"id")});break;case"drawing":let a=this.parseDrawing(i);a&&(r.children=[a]);break;case"pict":r.children.push(this.parseVmlPicture(i));break;case"rPr":this.parseRunProperties(i,r);break}return r}parseMathElement(e){const n=`${e.localName}Pr`,r={type:g2[e.localName],children:[]};for(const a of Z.elements(e))if(g2[a.localName])r.children.push(this.parseMathElement(a));else if(a.localName=="r"){var i=this.parseRun(a);i.type=oe.MmlRun,r.children.push(i)}else a.localName==n&&(r.props=this.parseMathProperies(a));return r}parseMathProperies(e){const n={};for(const r of Z.elements(e))switch(r.localName){case"chr":n.char=Z.attr(r,"val");break;case"vertJc":n.verticalJustification=Z.attr(r,"val");break;case"pos":n.position=Z.attr(r,"val");break;case"degHide":n.hideDegree=Z.boolAttr(r,"val");break;case"begChr":n.beginChar=Z.attr(r,"val");break;case"endChr":n.endChar=Z.attr(r,"val");break}return n}parseRunProperties(e,n){this.parseDefaultProperties(e,n.cssStyle={},null,r=>{switch(r.localName){case"rStyle":n.styleName=Z.attr(r,"val");break;case"vertAlign":n.verticalAlign=gt.valueOfVertAlign(r,!0);break;default:return!1}return!0})}parseVmlPicture(e){const n={type:oe.VmlPicture,children:[]};for(const r of Z.elements(e)){const i=T$(r,this);i&&n.children.push(i)}return n}checkAlternateContent(e){var a;if(e.localName!="AlternateContent")return e;var n=Z.element(e,"Choice");if(n){var r=Z.attr(n,"Requires"),i=e.lookupNamespaceURI(r);if(bX.includes(i))return n.firstElementChild}return(a=Z.element(e,"Fallback"))==null?void 0:a.firstElementChild}parseDrawing(e){for(var n of Z.elements(e))switch(n.localName){case"inline":case"anchor":return this.parseDrawingWrapper(n)}}parseDrawingWrapper(e){var n={type:oe.Drawing,children:[],cssStyle:{}},r=e.localName=="anchor";let i=null,a=Z.boolAttr(e,"simplePos");Z.boolAttr(e,"behindDoc");let s={relative:"page",align:"left",offset:"0"},o={relative:"page",align:"top",offset:"0"};for(var l of Z.elements(e))switch(l.localName){case"simplePos":a&&(s.offset=Z.lengthAttr(l,"x",en.Emu),o.offset=Z.lengthAttr(l,"y",en.Emu));break;case"extent":n.cssStyle.width=Z.lengthAttr(l,"cx",en.Emu),n.cssStyle.height=Z.lengthAttr(l,"cy",en.Emu);break;case"positionH":case"positionV":if(!a){let d=l.localName=="positionH"?s:o;var u=Z.element(l,"align"),c=Z.element(l,"posOffset");d.relative=Z.attr(l,"relativeFrom")??d.relative,u&&(d.align=u.textContent),c&&(d.offset=b$(c.textContent,en.Emu))}break;case"wrapTopAndBottom":i="wrapTopAndBottom";break;case"wrapNone":i="wrapNone";break;case"graphic":var h=this.parseGraphic(l);h&&n.children.push(h);break}return i=="wrapTopAndBottom"?(n.cssStyle.display="block",s.align&&(n.cssStyle["text-align"]=s.align,n.cssStyle.width="100%")):i=="wrapNone"?(n.cssStyle.display="block",n.cssStyle.position="relative",n.cssStyle.width="0px",n.cssStyle.height="0px",s.offset&&(n.cssStyle.left=s.offset),o.offset&&(n.cssStyle.top=o.offset)):r&&(s.align=="left"||s.align=="right")&&(n.cssStyle.float=s.align),n}parseGraphic(e){var n=Z.element(e,"graphicData");for(let r of Z.elements(n))switch(r.localName){case"pic":return this.parsePicture(r)}return null}parsePicture(e){var n={type:oe.Image,src:"",cssStyle:{}},r=Z.element(e,"blipFill"),i=Z.element(r,"blip"),a=Z.element(r,"srcRect");n.src=Z.attr(i,"embed"),a&&(n.srcRect=[Z.intAttr(a,"l",0)/1e5,Z.intAttr(a,"t",0)/1e5,Z.intAttr(a,"r",0)/1e5,Z.intAttr(a,"b",0)/1e5]);var s=Z.element(e,"spPr"),o=Z.element(s,"xfrm");if(n.cssStyle.position="relative",o){n.rotation=Z.intAttr(o,"rot",0)/6e4;for(var l of Z.elements(o))switch(l.localName){case"ext":n.cssStyle.width=Z.lengthAttr(l,"cx",en.Emu),n.cssStyle.height=Z.lengthAttr(l,"cy",en.Emu);break;case"off":n.cssStyle.left=Z.lengthAttr(l,"x",en.Emu),n.cssStyle.top=Z.lengthAttr(l,"y",en.Emu);break}}return n}parseTable(e){var n={type:oe.Table,children:[]};for(const r of Z.elements(e))switch(r.localName){case"tr":n.children.push(this.parseTableRow(r));break;case"tblGrid":n.columns=this.parseTableColumns(r);break;case"tblPr":this.parseTableProperties(r,n);break}return n}parseTableColumns(e){var n=[];for(const r of Z.elements(e))switch(r.localName){case"gridCol":n.push({width:Z.lengthAttr(r,"w")});break}return n}parseTableProperties(e,n){switch(n.cssStyle={},n.cellStyle={},this.parseDefaultProperties(e,n.cssStyle,n.cellStyle,r=>{switch(r.localName){case"tblStyle":n.styleName=Z.attr(r,"val");break;case"tblLook":n.className=gt.classNameOftblLook(r);break;case"tblpPr":this.parseTablePosition(r,n);break;case"tblStyleColBandSize":n.colBandSize=Z.intAttr(r,"val");break;case"tblStyleRowBandSize":n.rowBandSize=Z.intAttr(r,"val");break;case"hidden":n.cssStyle.display="none";break;default:return!1}return!0}),n.cssStyle["text-align"]){case"center":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto",n.cssStyle["margin-right"]="auto";break;case"right":delete n.cssStyle["text-align"],n.cssStyle["margin-left"]="auto";break}}parseTablePosition(e,n){var r=Z.lengthAttr(e,"topFromText"),i=Z.lengthAttr(e,"bottomFromText"),a=Z.lengthAttr(e,"rightFromText"),s=Z.lengthAttr(e,"leftFromText");n.cssStyle.float="left",n.cssStyle["margin-bottom"]=gt.addSize(n.cssStyle["margin-bottom"],i),n.cssStyle["margin-left"]=gt.addSize(n.cssStyle["margin-left"],s),n.cssStyle["margin-right"]=gt.addSize(n.cssStyle["margin-right"],a),n.cssStyle["margin-top"]=gt.addSize(n.cssStyle["margin-top"],r)}parseTableRow(e){var n={type:oe.Row,children:[]};for(const r of Z.elements(e))switch(r.localName){case"tc":n.children.push(this.parseTableCell(r));break;case"trPr":case"tblPrEx":this.parseTableRowProperties(r,n);break}return n}parseTableRowProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;case"tblHeader":n.isHeader=Z.boolAttr(r,"val");break;case"gridBefore":n.gridBefore=Z.intAttr(r,"val");break;case"gridAfter":n.gridAfter=Z.intAttr(r,"val");break;default:return!1}return!0})}parseTableCell(e){var n={type:oe.Cell,children:[]};for(const r of Z.elements(e))switch(r.localName){case"tbl":n.children.push(this.parseTable(r));break;case"p":n.children.push(this.parseParagraph(r));break;case"tcPr":this.parseTableCellProperties(r,n);break}return n}parseTableCellProperties(e,n){n.cssStyle=this.parseDefaultProperties(e,{},null,r=>{switch(r.localName){case"gridSpan":n.span=Z.intAttr(r,"val",null);break;case"vMerge":n.verticalMerge=Z.attr(r,"val")??"continue";break;case"cnfStyle":n.className=gt.classNameOfCnfStyle(r);break;default:return!1}return!0}),this.parseTableCellVerticalText(e,n)}parseTableCellVerticalText(e,n){const r={btLr:{writingMode:"vertical-rl",transform:"rotate(180deg)"},lrTb:{writingMode:"vertical-lr",transform:"none"},tbRl:{writingMode:"vertical-rl",transform:"none"}};for(const i of Z.elements(e))if(i.localName==="textDirection"){const a=Z.attr(i,"val"),s=r[a]||{writingMode:"horizontal-tb"};n.cssStyle["writing-mode"]=s.writingMode,n.cssStyle.transform=s.transform}}parseDefaultProperties(e,n=null,r=null,i=null){n=n||{};for(const a of Z.elements(e))if(!(i!=null&&i(a)))switch(a.localName){case"jc":n["text-align"]=gt.valueOfJc(a);break;case"textAlignment":n["vertical-align"]=gt.valueOfTextAlignment(a);break;case"color":n.color=Ac.colorAttr(a,"val",null,Av.color);break;case"sz":n["font-size"]=n["min-height"]=Z.lengthAttr(a,"val",en.FontSize);break;case"shd":n["background-color"]=Ac.colorAttr(a,"fill",null,Av.shd);break;case"highlight":n["background-color"]=Ac.colorAttr(a,"val",null,Av.highlight);break;case"vertAlign":break;case"position":n.verticalAlign=Z.lengthAttr(a,"val",en.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":n.width=gt.valueOfSize(a,"w");break;case"trHeight":this.parseTrHeight(a,n);break;case"strike":n["text-decoration"]=Z.boolAttr(a,"val",!0)?"line-through":"none";break;case"b":n["font-weight"]=Z.boolAttr(a,"val",!0)?"bold":"normal";break;case"i":n["font-style"]=Z.boolAttr(a,"val",!0)?"italic":"normal";break;case"caps":n["text-transform"]=Z.boolAttr(a,"val",!0)?"uppercase":"none";break;case"smallCaps":n["font-variant"]=Z.boolAttr(a,"val",!0)?"small-caps":"none";break;case"u":this.parseUnderline(a,n);break;case"ind":case"tblInd":this.parseIndentation(a,n);break;case"rFonts":this.parseFont(a,n);break;case"tblBorders":this.parseBorderProperties(a,r||n);break;case"tblCellSpacing":n["border-spacing"]=gt.valueOfMargin(a),n["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(a,n);break;case"bdr":n.border=gt.valueOfBorder(a);break;case"tcBorders":this.parseBorderProperties(a,n);break;case"vanish":Z.boolAttr(a,"val",!0)&&(n.display="none");break;case"kern":break;case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(a,r||n);break;case"tblLayout":n["table-layout"]=gt.valueOfTblLayout(a);break;case"vAlign":n["vertical-align"]=gt.valueOfTextAlignment(a);break;case"spacing":e.localName=="pPr"&&this.parseSpacing(a,n);break;case"wordWrap":Z.boolAttr(a,"val")&&(n["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":n.hyphens=Z.boolAttr(a,"val",!0)?"none":"auto";break;case"lang":n.$lang=Z.attr(a,"val");break;case"rtl":case"bidi":Z.boolAttr(a,"val",!0)&&(n.direction="rtl");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${e.localName}.${a.localName}`);break}return n}parseUnderline(e,n){var r=Z.attr(e,"val");if(r!=null){switch(r){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":n["text-decoration"]="underline dashed";break;case"dotted":case"dottedHeavy":n["text-decoration"]="underline dotted";break;case"double":n["text-decoration"]="underline double";break;case"single":case"thick":n["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":n["text-decoration"]="underline wavy";break;case"words":n["text-decoration"]="underline";break;case"none":n["text-decoration"]="none";break}var i=Ac.colorAttr(e,"color");i&&(n["text-decoration-color"]=i)}}parseFont(e,n){var r=Z.attr(e,"ascii"),i=gt.themeValue(e,"asciiTheme"),a=Z.attr(e,"eastAsia"),s=[r,i,a].filter(o=>o).map(o=>ak(o));s.length>0&&(n["font-family"]=[...new Set(s)].join(", "))}parseIndentation(e,n){var r=Z.lengthAttr(e,"firstLine"),i=Z.lengthAttr(e,"hanging"),a=Z.lengthAttr(e,"left"),s=Z.lengthAttr(e,"start"),o=Z.lengthAttr(e,"right"),l=Z.lengthAttr(e,"end");r&&(n["text-indent"]=r),i&&(n["text-indent"]=`-${i}`),(a||s)&&(n["margin-inline-start"]=a||s),(o||l)&&(n["margin-inline-end"]=o||l)}parseSpacing(e,n){var r=Z.lengthAttr(e,"before"),i=Z.lengthAttr(e,"after"),a=Z.intAttr(e,"line",null),s=Z.attr(e,"lineRule");if(r&&(n["margin-top"]=r),i&&(n["margin-bottom"]=i),a!==null)switch(s){case"auto":n["line-height"]=`${(a/240).toFixed(2)}`;break;case"atLeast":n["line-height"]=`calc(100% + ${a/20}pt)`;break;default:n["line-height"]=n["min-height"]=`${a/20}pt`;break}}parseMarginProperties(e,n){for(const r of Z.elements(e))switch(r.localName){case"left":n["padding-left"]=gt.valueOfMargin(r);break;case"right":n["padding-right"]=gt.valueOfMargin(r);break;case"top":n["padding-top"]=gt.valueOfMargin(r);break;case"bottom":n["padding-bottom"]=gt.valueOfMargin(r);break}}parseTrHeight(e,n){switch(Z.attr(e,"hRule")){case"exact":n.height=Z.lengthAttr(e,"val");break;case"atLeast":default:n.height=Z.lengthAttr(e,"val");break}}parseBorderProperties(e,n){for(const r of Z.elements(e))switch(r.localName){case"start":case"left":n["border-left"]=gt.valueOfBorder(r);break;case"end":case"right":n["border-right"]=gt.valueOfBorder(r);break;case"top":n["border-top"]=gt.valueOfBorder(r);break;case"bottom":n["border-bottom"]=gt.valueOfBorder(r);break}}}const wX=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class Ac{static colorAttr(e,n,r=null,i="black"){var a=Z.attr(e,n);if(a)return a=="auto"?i:wX.includes(a)?a:`#${a}`;var s=Z.attr(e,"themeColor");return s?`var(--docx-${s}-color)`:r}}class gt{static themeValue(e,n){var r=Z.attr(e,n);return r?`var(--docx-${r}-font)`:null}static valueOfSize(e,n){var r=en.Dxa;switch(Z.attr(e,"type")){case"dxa":break;case"pct":r=en.Percent;break;case"auto":return"auto"}return Z.lengthAttr(e,n,r)}static valueOfMargin(e){return Z.lengthAttr(e,"w")}static valueOfBorder(e){var n=gt.parseBorderType(Z.attr(e,"val"));if(n=="none")return"none";var r=Ac.colorAttr(e,"color"),i=Z.lengthAttr(e,"sz",en.Border);return`${i} ${n} ${r=="auto"?Av.borderColor:r}`}static parseBorderType(e){switch(e){case"single":return"solid";case"dashDotStroked":return"solid";case"dashed":return"dashed";case"dashSmallGap":return"dashed";case"dotDash":return"dotted";case"dotDotDash":return"dotted";case"dotted":return"dotted";case"double":return"double";case"doubleWave":return"double";case"inset":return"inset";case"nil":return"none";case"none":return"none";case"outset":return"outset";case"thick":return"solid";case"thickThinLargeGap":return"solid";case"thickThinMediumGap":return"solid";case"thickThinSmallGap":return"solid";case"thinThickLargeGap":return"solid";case"thinThickMediumGap":return"solid";case"thinThickSmallGap":return"solid";case"thinThickThinLargeGap":return"solid";case"thinThickThinMediumGap":return"solid";case"thinThickThinSmallGap":return"solid";case"threeDEmboss":return"solid";case"threeDEngrave":return"solid";case"triple":return"double";case"wave":return"solid"}return"solid"}static valueOfTblLayout(e){var n=Z.attr(e,"val");return n=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(e){const n=Z.attr(e,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((i,a)=>n[a]=="1").join(" ")}static valueOfJc(e){var n=Z.attr(e,"val");switch(n){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return n}static valueOfVertAlign(e,n=!1){var r=Z.attr(e,"val");switch(r){case"subscript":return"sub";case"superscript":return n?"sup":"super"}return n?null:r}static valueOfTextAlignment(e){var n=Z.attr(e,"val");switch(n){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return n}static addSize(e,n){return e==null?n:n==null?e:`calc(${e} + ${n})`}static classNameOftblLook(e){const n=Z.hexAttr(e,"val",0);let r="";return(Z.boolAttr(e,"firstRow")||n&32)&&(r+=" first-row"),(Z.boolAttr(e,"lastRow")||n&64)&&(r+=" last-row"),(Z.boolAttr(e,"firstColumn")||n&128)&&(r+=" first-col"),(Z.boolAttr(e,"lastColumn")||n&256)&&(r+=" last-col"),(Z.boolAttr(e,"noHBand")||n&512)&&(r+=" no-hband"),(Z.boolAttr(e,"noVBand")||n&1024)&&(r+=" no-vband"),r.trim()}}const y2={pos:0,leader:"none",style:"left"},SX=50;function kX(t=document.body){const e=document.createElement("div");e.style.width="100pt",t.appendChild(e);const n=100/e.offsetWidth;return t.removeChild(e),n}function _X(t,e,n,r=72/96){const i=t.closest("p"),a=t.getBoundingClientRect(),s=i.getBoundingClientRect(),o=getComputedStyle(i),l=(e==null?void 0:e.length)>0?e.map(b=>({pos:v2(b.position),leader:b.leader,style:b.style})).sort((b,x)=>b.pos-x.pos):[y2],u=l[l.length-1],c=s.width*r,h=v2(n);let d=u.pos+h;if(d<c)for(;d<c&&l.length<SX;d+=h)l.push({...y2,pos:d});const f=parseFloat(o.marginLeft),g=s.left+f,p=(a.left-g)*r,v=l.find(b=>b.style!="clear"&&b.pos>p);if(v==null)return;let y=1;if(v.style=="right"||v.style=="center"){const b=Array.from(i.querySelectorAll(`.${t.className}`)),x=b.indexOf(t)+1,k=document.createRange();k.setStart(t,1),x<b.length?k.setEndBefore(b[x]):k.setEndAfter(i);const w=v.style=="center"?.5:1,S=k.getBoundingClientRect(),A=S.left+w*S.width-(s.left-f);y=v.pos-A*r}else y=v.pos-p;switch(t.innerHTML="&nbsp;",t.style.textDecoration="inherit",t.style.wordSpacing=`${y.toFixed(0)}pt`,v.leader){case"dot":case"middleDot":t.style.textDecoration="underline",t.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":t.style.textDecoration="underline";break}}function v2(t){return parseFloat(t)}const Ge={svg:"http://www.w3.org/2000/svg",mathML:"http://www.w3.org/1998/Math/MathML"};class AX{constructor(e){this.htmlDocument=e,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.commentMap={},this.tasks=[],this.postRenderTasks=[]}async render(e,n,r=null,i){var s;this.document=e,this.options=i,this.className=i.className,this.rootSelector=i.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,this.tasks=[],this.options.renderComments&&globalThis.Highlight&&(this.commentHighlight=new Highlight),r=r||n,b2(r),b2(n),r.appendChild(this.createComment("docxjs library predefined styles")),r.appendChild(this.renderDefaultStyle()),e.themePart&&(r.appendChild(this.createComment("docxjs document theme values")),this.renderTheme(e.themePart,r)),e.stylesPart!=null&&(this.styleMap=this.processStyles(e.stylesPart.styles),r.appendChild(this.createComment("docxjs document styles")),r.appendChild(this.renderStyles(e.stylesPart.styles))),e.numberingPart&&(this.prodessNumberings(e.numberingPart.domNumberings),r.appendChild(this.createComment("docxjs document numbering styles")),r.appendChild(this.renderNumbering(e.numberingPart.domNumberings,r))),e.footnotesPart&&(this.footnoteMap=io(e.footnotesPart.notes,o=>o.id)),e.endnotesPart&&(this.endnoteMap=io(e.endnotesPart.notes,o=>o.id)),e.settingsPart&&(this.defaultTabSize=(s=e.settingsPart.settings)==null?void 0:s.defaultTabStop),!i.ignoreFonts&&e.fontTablePart&&this.renderFontTable(e.fontTablePart,r);var a=this.renderSections(e.documentPart.body);this.options.inWrapper?n.appendChild(this.renderWrapper(a)):c1(n,a),this.commentHighlight&&i.renderComments&&CSS.highlights.set(`${this.className}-comments`,this.commentHighlight),this.postRenderTasks.forEach(o=>o()),await Promise.allSettled(this.tasks),this.refreshTabStops()}renderTheme(e,n){var o,l;const r={},i=(o=e.theme)==null?void 0:o.fontScheme;i&&(i.majorFont&&(r["--docx-majorHAnsi-font"]=i.majorFont.latinTypeface),i.minorFont&&(r["--docx-minorHAnsi-font"]=i.minorFont.latinTypeface));const a=(l=e.theme)==null?void 0:l.colorScheme;if(a)for(let[u,c]of Object.entries(a.colors))r[`--docx-${u}-color`]=`#${c}`;const s=this.styleToString(`.${this.className}`,r);n.appendChild(this.createStyleElement(s))}renderFontTable(e,n){for(let r of e.fonts)for(let i of r.embedFontRefs)this.tasks.push(this.document.loadFont(i.id,i.key).then(a=>{const s={"font-family":ak(r.name),src:`url(${a})`};(i.type=="bold"||i.type=="boldItalic")&&(s["font-weight"]="bold"),(i.type=="italic"||i.type=="boldItalic")&&(s["font-style"]="italic");const o=this.styleToString("@font-face",s);n.appendChild(this.createComment(`docxjs ${r.name} font`)),n.appendChild(this.createStyleElement(o))}))}processStyleName(e){return e?`${this.className}_${uq(e)}`:this.className}processStyles(e){const n=io(e.filter(i=>i.id!=null),i=>i.id);for(const i of e.filter(a=>a.basedOn)){var r=n[i.basedOn];if(r){i.paragraphProps=Ib(i.paragraphProps,r.paragraphProps),i.runProps=Ib(i.runProps,r.runProps);for(const a of r.styles){const s=i.styles.find(o=>o.target==a.target);s?this.copyStyleProperties(a.values,s.values):i.styles.push({...a,values:{...a.values}})}}else this.options.debug&&console.warn(`Can't find base style ${i.basedOn}`)}for(let i of e)i.cssName=this.processStyleName(i.id);return n}prodessNumberings(e){var n;for(let r of e.filter(i=>i.pStyleName)){const i=this.findStyle(r.pStyleName);(n=i==null?void 0:i.paragraphProps)!=null&&n.numbering&&(i.paragraphProps.numbering.level=r.level)}}processElement(e){if(e.children)for(var n of e.children)n.parent=e,n.type==oe.Table?this.processTable(n):this.processElement(n)}processTable(e){for(var n of e.children)for(var r of n.children)r.cssStyle=this.copyStyleProperties(e.cellStyle,r.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(r)}copyStyleProperties(e,n,r=null){if(!e)return n;n==null&&(n={}),r==null&&(r=Object.getOwnPropertyNames(e));for(var i of r)e.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=e[i]);return n}createPageElement(e,n){var r=this.createElement("section",{className:e});return n&&(n.pageMargins&&(r.style.paddingLeft=n.pageMargins.left,r.style.paddingRight=n.pageMargins.right,r.style.paddingTop=n.pageMargins.top,r.style.paddingBottom=n.pageMargins.bottom),n.pageSize&&(this.options.ignoreWidth||(r.style.width=n.pageSize.width),this.options.ignoreHeight||(r.style.minHeight=n.pageSize.height))),r}createSectionContent(e){var n=this.createElement("article");return e.columns&&e.columns.numberOfColumns&&(n.style.columnCount=`${e.columns.numberOfColumns}`,n.style.columnGap=e.columns.space,e.columns.separator&&(n.style.columnRule="1px solid black")),n}renderSections(e){const n=[];this.processElement(e);const r=this.splitBySection(e.children,e.props),i=this.groupByPageBreaks(r);let a=null;for(let o=0,l=i.length;o<l;o++){this.currentFootnoteIds=[];let c=i[o][0].sectProps;const h=this.createPageElement(this.className,c);this.renderStyleValues(e.cssStyle,h),this.options.renderHeaders&&this.renderHeaderFooter(c.headerRefs,c,n.length,a!=c,h);for(const d of i[o]){var s=this.createSectionContent(d.sectProps);this.renderElements(d.elements,s),h.appendChild(s),c=d.sectProps}this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,h),this.options.renderEndnotes&&o==l-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,h),this.options.renderFooters&&this.renderHeaderFooter(c.footerRefs,c,n.length,a!=c,h),n.push(h),a=c}return n}renderHeaderFooter(e,n,r,i,a){if(e){var s=(n.titlePage&&i?e.find(l=>l.type=="first"):null)??(r%2==1?e.find(l=>l.type=="even"):null)??e.find(l=>l.type=="default"),o=s&&this.document.findPartByRelId(s.id,this.document.documentPart);if(o){this.currentPart=o,this.usedHederFooterParts.includes(o.path)||(this.processElement(o.rootElement),this.usedHederFooterParts.push(o.path));const[l]=this.renderElements([o.rootElement],a);n!=null&&n.pageMargins&&(o.rootElement.type===oe.Header?(l.style.marginTop=`calc(${n.pageMargins.header} - ${n.pageMargins.top})`,l.style.minHeight=`calc(${n.pageMargins.top} - ${n.pageMargins.header})`):o.rootElement.type===oe.Footer&&(l.style.marginBottom=`calc(${n.pageMargins.footer} - ${n.pageMargins.bottom})`,l.style.minHeight=`calc(${n.pageMargins.bottom} - ${n.pageMargins.footer})`)),this.currentPart=null}}}isPageBreakElement(e){return e.type!=oe.Break?!1:e.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:e.break=="page"}isPageBreakSection(e,n){var r,i,a,s,o,l;return!e||!n?!1:((r=e.pageSize)==null?void 0:r.orientation)!=((i=n.pageSize)==null?void 0:i.orientation)||((a=e.pageSize)==null?void 0:a.width)!=((s=n.pageSize)==null?void 0:s.width)||((o=e.pageSize)==null?void 0:o.height)!=((l=n.pageSize)==null?void 0:l.height)}splitBySection(e,n){var h;var r={sectProps:null,elements:[],pageBreak:!1},i=[r];for(let d of e){if(d.type==oe.Paragraph){const f=this.findStyle(d.styleName);(h=f==null?void 0:f.paragraphProps)!=null&&h.pageBreakBefore&&(r.sectProps=a,r.pageBreak=!0,r={sectProps:null,elements:[],pageBreak:!1},i.push(r))}if(r.elements.push(d),d.type==oe.Paragraph){const f=d;var a=f.sectionProps,s=-1,o=-1;if(this.options.breakPages&&f.children&&(s=f.children.findIndex(g=>{var p;return o=((p=g.children)==null?void 0:p.findIndex(this.isPageBreakElement.bind(this)))??-1,o!=-1})),(a||s!=-1)&&(r.sectProps=a,r.pageBreak=s!=-1,r={sectProps:null,elements:[],pageBreak:!1},i.push(r)),s!=-1){let g=f.children[s],p=o<g.children.length-1;if(s<f.children.length-1||p){var l=d.children,u={...d,children:l.slice(s)};if(d.children=l.slice(0,s),r.elements.push(u),p){let v=g.children,y={...g,children:v.slice(0,o)};d.children.push(y),g.children=v.slice(o)}}}}}let c=null;for(let d=i.length-1;d>=0;d--)i[d].sectProps==null?i[d].sectProps=c??n:c=i[d].sectProps;return i}groupByPageBreaks(e){let n=[],r;const i=[n];for(let a of e)n.push(a),(this.options.ignoreLastRenderedPageBreak||a.pageBreak||this.isPageBreakSection(r,a.sectProps))&&i.push(n=[]),r=a.sectProps;return i.filter(a=>a.length>0)}renderWrapper(e){return this.createElement("div",{className:`${this.className}-wrapper`},e)}renderDefaultStyle(){var e=this.className,n=`
.${e}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${e}-wrapper>section.${e} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;this.options.hideWrapperOnPrint&&(n=`@media not print { ${n} }`);var r=`${n}
.${e} { color: black; hyphens: auto; text-underline-position: from-font; }
section.${e} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${e}>article { margin-bottom: auto; z-index: 1; }
section.${e}>footer { z-index: 1; }
.${e} table { border-collapse: collapse; }
.${e} table td, .${e} table th { vertical-align: top; }
.${e} p { margin: 0pt; min-height: 1em; }
.${e} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${e} a { color: inherit; text-decoration: inherit; }
.${e} svg { fill: transparent; }
`;return this.options.renderComments&&(r+=`
.${e}-comment-ref { cursor: default; }
.${e}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }
.${e}-comment-ref:hover~.${e}-comment-popover { display: block; }
.${e}-comment-author,.${e}-comment-date { font-size: 0.875rem; color: #888; }
`),this.createStyleElement(r)}renderNumbering(e,n){var r="",i=[];for(var a of e){var s=`p.${this.numberingClass(a.id,a.level)}`,o="none";if(a.bullet){let l=`--${this.className}-${a.bullet.src}`.toLowerCase();r+=this.styleToString(`${s}:before`,{content:"' '",display:"inline-block",background:`var(${l})`},a.bullet.style),this.tasks.push(this.document.loadNumberingImage(a.bullet.src).then(u=>{var c=`${this.rootSelector} { ${l}: url(${u}) }`;n.appendChild(this.createStyleElement(c))}))}else if(a.levelText){let l=this.numberingCounter(a.id,a.level);const u=l+" "+(a.start-1);a.level>0&&(r+=this.styleToString(`p.${this.numberingClass(a.id,a.level-1)}`,{"counter-set":u})),i.push(u),r+=this.styleToString(`${s}:before`,{content:this.levelTextToContent(a.levelText,a.suff,a.id,this.numFormatToCssValue(a.format)),"counter-increment":l,...a.rStyle})}else o=this.numFormatToCssValue(a.format);r+=this.styleToString(s,{display:"list-item","list-style-position":"inside","list-style-type":o,...a.pStyle})}return i.length>0&&(r+=this.styleToString(this.rootSelector,{"counter-reset":i.join(" ")})),this.createStyleElement(r)}renderStyles(e){var n="";const r=this.styleMap,i=io(e.filter(l=>l.isDefault),l=>l.target);for(const l of e){var a=l.styles;if(l.linked){var s=l.linked&&r[l.linked];s?a=a.concat(s.styles):this.options.debug&&console.warn(`Can't find linked style ${l.linked}`)}for(const u of a){var o=`${l.target??""}.${l.cssName}`;l.target!=u.target&&(o+=` ${u.target}`),i[l.target]==l&&(o=`.${this.className} ${l.target}, `+o),n+=this.styleToString(o,u.values)}}return this.createStyleElement(n)}renderNotes(e,n,r){var i=e.map(s=>n[s]).filter(s=>s);if(i.length>0){var a=this.createElement("ol",null,this.renderElements(i));r.appendChild(a)}}renderElement(e){switch(e.type){case oe.Paragraph:return this.renderParagraph(e);case oe.BookmarkStart:return this.renderBookmarkStart(e);case oe.BookmarkEnd:return null;case oe.Run:return this.renderRun(e);case oe.Table:return this.renderTable(e);case oe.Row:return this.renderTableRow(e);case oe.Cell:return this.renderTableCell(e);case oe.Hyperlink:return this.renderHyperlink(e);case oe.SmartTag:return this.renderSmartTag(e);case oe.Drawing:return this.renderDrawing(e);case oe.Image:return this.renderImage(e);case oe.Text:return this.renderText(e);case oe.Text:return this.renderText(e);case oe.DeletedText:return this.renderDeletedText(e);case oe.Tab:return this.renderTab(e);case oe.Symbol:return this.renderSymbol(e);case oe.Break:return this.renderBreak(e);case oe.Footer:return this.renderContainer(e,"footer");case oe.Header:return this.renderContainer(e,"header");case oe.Footnote:case oe.Endnote:return this.renderContainer(e,"li");case oe.FootnoteReference:return this.renderFootnoteReference(e);case oe.EndnoteReference:return this.renderEndnoteReference(e);case oe.NoBreakHyphen:return this.createElement("wbr");case oe.VmlPicture:return this.renderVmlPicture(e);case oe.VmlElement:return this.renderVmlElement(e);case oe.MmlMath:return this.renderContainerNS(e,Ge.mathML,"math",{xmlns:Ge.mathML});case oe.MmlMathParagraph:return this.renderContainer(e,"span");case oe.MmlFraction:return this.renderContainerNS(e,Ge.mathML,"mfrac");case oe.MmlBase:return this.renderContainerNS(e,Ge.mathML,e.parent.type==oe.MmlMatrixRow?"mtd":"mrow");case oe.MmlNumerator:case oe.MmlDenominator:case oe.MmlFunction:case oe.MmlLimit:case oe.MmlBox:return this.renderContainerNS(e,Ge.mathML,"mrow");case oe.MmlGroupChar:return this.renderMmlGroupChar(e);case oe.MmlLimitLower:return this.renderContainerNS(e,Ge.mathML,"munder");case oe.MmlMatrix:return this.renderContainerNS(e,Ge.mathML,"mtable");case oe.MmlMatrixRow:return this.renderContainerNS(e,Ge.mathML,"mtr");case oe.MmlRadical:return this.renderMmlRadical(e);case oe.MmlSuperscript:return this.renderContainerNS(e,Ge.mathML,"msup");case oe.MmlSubscript:return this.renderContainerNS(e,Ge.mathML,"msub");case oe.MmlDegree:case oe.MmlSuperArgument:case oe.MmlSubArgument:return this.renderContainerNS(e,Ge.mathML,"mn");case oe.MmlFunctionName:return this.renderContainerNS(e,Ge.mathML,"ms");case oe.MmlDelimiter:return this.renderMmlDelimiter(e);case oe.MmlRun:return this.renderMmlRun(e);case oe.MmlNary:return this.renderMmlNary(e);case oe.MmlPreSubSuper:return this.renderMmlPreSubSuper(e);case oe.MmlBar:return this.renderMmlBar(e);case oe.MmlEquationArray:return this.renderMllList(e);case oe.Inserted:return this.renderInserted(e);case oe.Deleted:return this.renderDeleted(e);case oe.CommentRangeStart:return this.renderCommentRangeStart(e);case oe.CommentRangeEnd:return this.renderCommentRangeEnd(e);case oe.CommentReference:return this.renderCommentReference(e);case oe.AltChunk:return this.renderAltChunk(e)}return null}renderElements(e,n){if(e==null)return null;var r=e.flatMap(i=>this.renderElement(i)).filter(i=>i!=null);return n&&c1(n,r),r}renderContainer(e,n,r){return this.createElement(n,r,this.renderElements(e.children))}renderContainerNS(e,n,r,i){return this.createElementNS(n,r,i,this.renderElements(e.children))}renderParagraph(e){var a,s;var n=this.renderContainer(e,"p");const r=this.findStyle(e.styleName);e.tabs??(e.tabs=(a=r==null?void 0:r.paragraphProps)==null?void 0:a.tabs),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),this.renderCommonProperties(n.style,e);const i=e.numbering??((s=r==null?void 0:r.paragraphProps)==null?void 0:s.numbering);return i&&n.classList.add(this.numberingClass(i.id,i.level)),n}renderRunProperties(e,n){this.renderCommonProperties(e,n)}renderCommonProperties(e,n){n!=null&&(n.color&&(e.color=n.color),n.fontSize&&(e["font-size"]=n.fontSize))}renderHyperlink(e){var n=this.renderContainer(e,"a");this.renderStyleValues(e.cssStyle,n);let r="";if(e.id){const i=this.document.documentPart.rels.find(a=>a.id==e.id&&a.targetMode==="External");r=(i==null?void 0:i.target)??r}return e.anchor&&(r+=`#${e.anchor}`),n.href=r,n}renderSmartTag(e){return this.renderContainer(e,"span")}renderCommentRangeStart(e){var i;if(!this.options.renderComments)return null;const n=new Range;(i=this.commentHighlight)==null||i.add(n);const r=this.createComment(`start of comment #${e.id}`);return this.later(()=>n.setStart(r,0)),this.commentMap[e.id]=n,r}renderCommentRangeEnd(e){if(!this.options.renderComments)return null;const n=this.commentMap[e.id],r=this.createComment(`end of comment #${e.id}`);return this.later(()=>n==null?void 0:n.setEnd(r,0)),r}renderCommentReference(e){var s;if(!this.options.renderComments)return null;var n=(s=this.document.commentsPart)==null?void 0:s.commentMap[e.id];if(!n)return null;const r=new DocumentFragment,i=this.createElement("span",{className:`${this.className}-comment-ref`},[""]),a=this.createElement("div",{className:`${this.className}-comment-popover`});return this.renderCommentContent(n,a),r.appendChild(this.createComment(`comment #${n.id} by ${n.author} on ${n.date}`)),r.appendChild(i),r.appendChild(a),r}renderAltChunk(e){if(!this.options.renderAltChunks)return null;var n=this.createElement("iframe");return this.tasks.push(this.document.loadAltChunk(e.id,this.currentPart).then(r=>{n.srcdoc=r})),n}renderCommentContent(e,n){n.appendChild(this.createElement("div",{className:`${this.className}-comment-author`},[e.author])),n.appendChild(this.createElement("div",{className:`${this.className}-comment-date`},[new Date(e.date).toLocaleString()])),this.renderElements(e.children,n)}renderDrawing(e){var n=this.renderContainer(e,"div");return n.style.display="inline-block",n.style.position="relative",n.style.textIndent="0px",this.renderStyleValues(e.cssStyle,n),n}renderImage(e){var l;let n=this.createElement("img"),r=(l=e.cssStyle)==null?void 0:l.transform;if(this.renderStyleValues(e.cssStyle,n),e.srcRect&&e.srcRect.some(u=>u!=0)){var[i,a,s,o]=e.srcRect;r=`scale(${1/(1-i-s)}, ${1/(1-a-o)})`,n.style["clip-path"]=`rect(${(100*a).toFixed(2)}% ${(100*(1-s)).toFixed(2)}% ${(100*(1-o)).toFixed(2)}% ${(100*i).toFixed(2)}%)`}return e.rotation&&(r=`rotate(${e.rotation}deg) ${r??""}`),n.style.transform=r==null?void 0:r.trim(),this.document&&this.tasks.push(this.document.loadDocumentImage(e.src,this.currentPart).then(u=>{n.src=u})),n}renderText(e){return this.htmlDocument.createTextNode(e.text)}renderDeletedText(e){return this.options.renderChanges?this.renderText(e):null}renderBreak(e){return e.break=="textWrapping"?this.createElement("br"):null}renderInserted(e){return this.options.renderChanges?this.renderContainer(e,"ins"):this.renderElements(e.children)}renderDeleted(e){return this.options.renderChanges?this.renderContainer(e,"del"):null}renderSymbol(e){var n=this.createElement("span");return n.style.fontFamily=e.font,n.innerHTML=`&#x${e.char};`,n}renderFootnoteReference(e){var n=this.createElement("sup");return this.currentFootnoteIds.push(e.id),n.textContent=`${this.currentFootnoteIds.length}`,n}renderEndnoteReference(e){var n=this.createElement("sup");return this.currentEndnoteIds.push(e.id),n.textContent=`${this.currentEndnoteIds.length}`,n}renderTab(e){var i;var n=this.createElement("span");if(n.innerHTML="&emsp;",this.options.experimental){n.className=this.tabStopClass();var r=(i=EX(e,oe.Paragraph))==null?void 0:i.tabs;this.currentTabs.push({stops:r,span:n})}return n}renderBookmarkStart(e){return this.createElement("span",{id:e.name})}renderRun(e){if(e.fieldRun)return null;const n=this.createElement("span");if(e.id&&(n.id=e.id),this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.verticalAlign){const r=this.createElement(e.verticalAlign);this.renderElements(e.children,r),n.appendChild(r)}else this.renderElements(e.children,n);return n}renderTable(e){let n=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},e.columns&&n.appendChild(this.renderTableColumns(e.columns)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),n}renderTableColumns(e){let n=this.createElement("colgroup");for(let r of e){let i=this.createElement("col");r.width&&(i.style.width=r.width),n.appendChild(i)}return n}renderTableRow(e){let n=this.createElement("tr");return this.currentCellPosition.col=0,e.gridBefore&&n.appendChild(this.renderTableCellPlaceholder(e.gridBefore)),this.renderClass(e,n),this.renderElements(e.children,n),this.renderStyleValues(e.cssStyle,n),e.gridAfter&&n.appendChild(this.renderTableCellPlaceholder(e.gridAfter)),this.currentCellPosition.row++,n}renderTableCellPlaceholder(e){const n=this.createElement("td",{colSpan:e});return n.style.border="none",n}renderTableCell(e){let n=this.renderContainer(e,"td");const r=this.currentCellPosition.col;return e.verticalMerge?e.verticalMerge=="restart"?(this.currentVerticalMerge[r]=n,n.rowSpan=1):this.currentVerticalMerge[r]&&(this.currentVerticalMerge[r].rowSpan+=1,n.style.display="none"):this.currentVerticalMerge[r]=null,this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),e.span&&(n.colSpan=e.span),this.currentCellPosition.col+=n.colSpan,n}renderVmlPicture(e){return this.renderContainer(e,"div")}renderVmlElement(e){var i,a;var n=this.createSvgElement("svg");n.setAttribute("style",e.cssStyleText);const r=this.renderVmlChildElement(e);return(i=e.imageHref)!=null&&i.id&&this.tasks.push((a=this.document)==null?void 0:a.loadDocumentImage(e.imageHref.id,this.currentPart).then(s=>r.setAttribute("href",s))),n.appendChild(r),requestAnimationFrame(()=>{const s=n.firstElementChild.getBBox();n.setAttribute("width",`${Math.ceil(s.x+s.width)}`),n.setAttribute("height",`${Math.ceil(s.y+s.height)}`)}),n}renderVmlChildElement(e){const n=this.createSvgElement(e.tagName);Object.entries(e.attrs).forEach(([r,i])=>n.setAttribute(r,i));for(let r of e.children)r.type==oe.VmlElement?n.appendChild(this.renderVmlChildElement(r)):n.appendChild(..._f(this.renderElement(r)));return n}renderMmlRadical(e){var i;const n=e.children.find(a=>a.type==oe.MmlBase);if((i=e.props)!=null&&i.hideDegree)return this.createElementNS(Ge.mathML,"msqrt",null,this.renderElements([n]));const r=e.children.find(a=>a.type==oe.MmlDegree);return this.createElementNS(Ge.mathML,"mroot",null,this.renderElements([n,r]))}renderMmlDelimiter(e){const n=[];return n.push(this.createElementNS(Ge.mathML,"mo",null,[e.props.beginChar??"("])),n.push(...this.renderElements(e.children)),n.push(this.createElementNS(Ge.mathML,"mo",null,[e.props.endChar??")"])),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlNary(e){var u;const n=[],r=io(e.children,c=>c.type),i=r[oe.MmlSuperArgument],a=r[oe.MmlSubArgument],s=i?this.createElementNS(Ge.mathML,"mo",null,_f(this.renderElement(i))):null,o=a?this.createElementNS(Ge.mathML,"mo",null,_f(this.renderElement(a))):null,l=this.createElementNS(Ge.mathML,"mo",null,[((u=e.props)==null?void 0:u.char)??""]);return s||o?n.push(this.createElementNS(Ge.mathML,"munderover",null,[l,o,s])):s?n.push(this.createElementNS(Ge.mathML,"mover",null,[l,s])):o?n.push(this.createElementNS(Ge.mathML,"munder",null,[l,o])):n.push(l),n.push(...this.renderElements(r[oe.MmlBase].children)),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlPreSubSuper(e){const n=[],r=io(e.children,u=>u.type),i=r[oe.MmlSuperArgument],a=r[oe.MmlSubArgument],s=i?this.createElementNS(Ge.mathML,"mo",null,_f(this.renderElement(i))):null,o=a?this.createElementNS(Ge.mathML,"mo",null,_f(this.renderElement(a))):null,l=this.createElementNS(Ge.mathML,"mo",null);return n.push(this.createElementNS(Ge.mathML,"msubsup",null,[l,o,s])),n.push(...this.renderElements(r[oe.MmlBase].children)),this.createElementNS(Ge.mathML,"mrow",null,n)}renderMmlGroupChar(e){const n=e.props.verticalJustification==="bot"?"mover":"munder",r=this.renderContainerNS(e,Ge.mathML,n);return e.props.char&&r.appendChild(this.createElementNS(Ge.mathML,"mo",null,[e.props.char])),r}renderMmlBar(e){const n=this.renderContainerNS(e,Ge.mathML,"mrow");switch(e.props.position){case"top":n.style.textDecoration="overline";break;case"bottom":n.style.textDecoration="underline";break}return n}renderMmlRun(e){const n=this.createElementNS(Ge.mathML,"ms",null,this.renderElements(e.children));return this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n),n}renderMllList(e){const n=this.createElementNS(Ge.mathML,"mtable");this.renderClass(e,n),this.renderStyleValues(e.cssStyle,n);for(let r of this.renderElements(e.children))n.appendChild(this.createElementNS(Ge.mathML,"mtr",null,[this.createElementNS(Ge.mathML,"mtd",null,[r])]));return n}renderStyleValues(e,n){for(let r in e)r.startsWith("$")?n.setAttribute(r.slice(1),e[r]):n.style[r]=e[r]}renderClass(e,n){e.className&&(n.className=e.className),e.styleName&&n.classList.add(this.processStyleName(e.styleName))}findStyle(e){var n;return e&&((n=this.styleMap)==null?void 0:n[e])}numberingClass(e,n){return`${this.className}-num-${e}-${n}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(e,n,r=null){let i=`${e} {\r
`;for(const a in n)a.startsWith("$")||(i+=`  ${a}: ${n[a]};\r
`);return r&&(i+=r),i+`}\r
`}numberingCounter(e,n){return`${this.className}-num-${e}-${n}`}levelTextToContent(e,n,r,i){const a={tab:"\\9",space:"\\a0"};var s=e.replace(/%\d*/g,o=>{let l=parseInt(o.substring(1),10)-1;return`"counter(${this.numberingCounter(r,l)}, ${i})"`});return`"${s}${a[n]??""}"`}numFormatToCssValue(e){var n={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"};return n[e]??e}refreshTabStops(){this.options.experimental&&setTimeout(()=>{const e=kX();for(let n of this.currentTabs)_X(n.span,n.stops,this.defaultTabSize,e)},500)}createElementNS(e,n,r,i){var a=e?this.htmlDocument.createElementNS(e,n):this.htmlDocument.createElement(n);return Object.assign(a,r),i&&c1(a,i),a}createElement(e,n,r){return this.createElementNS(void 0,e,n,r)}createSvgElement(e,n,r){return this.createElementNS(Ge.svg,e,n,r)}createStyleElement(e){return this.createElement("style",{innerHTML:e})}createComment(e){return this.htmlDocument.createComment(e)}later(e){this.postRenderTasks.push(e)}}function b2(t){t.innerHTML=""}function c1(t,e){e.forEach(n=>t.appendChild(hq(n)?document.createTextNode(n):n))}function EX(t,e){for(var n=t.parent;n!=null&&n.type!=e;)n=n.parent;return n}const O$={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,hideWrapperOnPrint:!1,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,renderChanges:!1,renderComments:!1,renderAltChunks:!0};function CX(t,e){const n={...O$,...e};return AC.load(t,new xX(n),n)}async function PX(t,e,n,r){const i={...O$,...r};return await new AX(window.document).render(t,e,n,i)}async function TX(t,e,n,r){const i=await CX(t,r);return await PX(i,e,n,r),i}function OX(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}const yc=[.8,1,1.25];function IX({fileName:t,contentBase64:e,fileId:n,size:r}){const i=N.useRef(null),a=N.useRef(null),s=N.useRef(null),[o,l]=N.useState(!0),[u,c]=N.useState(null),[h,d]=N.useState(1),[f,g]=N.useState(!1),[p,v]=N.useState(0),[y,b]=N.useState(0),x=f&&y>0&&p>0?y/p:h,k=N.useCallback(async()=>{var _;if(!(!i.current||!a.current||!e)){l(!0),c(null),i.current.innerHTML="",a.current.innerHTML="";try{const E=OX(e);if(await TX(E,i.current,a.current,{className:"docx",breakPages:!0,inWrapper:!0,ignoreLastRenderedPageBreak:!1}),l(!1),(_=i.current)!=null&&_.firstElementChild){const O=i.current.firstElementChild.offsetWidth;v(O)}}catch(E){l(!1),c(E instanceof Error?E.message:"Failed to render document")}}},[e]);N.useEffect(()=>{k()},[k]),N.useEffect(()=>{if(!s.current)return;const _=new ResizeObserver(E=>{const O=E[0];O&&b(O.contentRect.width)});return _.observe(s.current),()=>_.disconnect()},[]);const w=()=>{const _=atob(e),E=new Uint8Array(_.length);for(let L=0;L<_.length;L++)E[L]=_.charCodeAt(L);const O=new Blob([E],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),R=URL.createObjectURL(O),P=document.createElement("a");P.href=R,P.download=t,P.click(),URL.revokeObjectURL(R)},S=()=>{const _=yc.indexOf(h);_<yc.length-1&&d(yc[_+1]),g(!1)},A=()=>{const _=yc.indexOf(h);_>0&&d(yc[_-1]),g(!1)};return u?T.jsxs("div",{className:"flex h-full min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[T.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to render document."}),T.jsx("p",{className:"text-sm text-slate-500",children:u}),T.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:k,children:"Try again"})]}):T.jsxs("div",{className:"flex h-full flex-col",ref:s,children:[T.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:A,"aria-label":"Zoom out",children:""}),T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:S,"aria-label":"Zoom in",children:"+"}),yc.map(_=>T.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${h===_?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{d(_),g(!1)},children:[Math.round(_*100),"%"]},_)),T.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${f?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>g(_=>!_),children:"Fit to width"}),T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:w,children:"Download original"}),T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:()=>window.print(),children:"Print"}),T.jsx("span",{className:"ml-2 text-xs text-slate-500",children:"Best-effort DOCX rendering in browser."})]}),T.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-6 dark:bg-slate-600",style:{minHeight:400},children:[o&&T.jsx("div",{className:"flex items-center justify-center py-16",children:T.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Rendering document"})}),T.jsxs("div",{className:"mx-auto origin-top-left bg-white shadow-lg dark:bg-slate-900",style:{transform:`scale(${x})`,transformOrigin:"top left",minHeight:o?0:800},children:[T.jsx("div",{ref:a,className:"docx-styles"}),T.jsx("div",{ref:i,className:"docx-body"})]})]})]})}const MX="modulepreload",NX=function(t){return"/"+t},x2={},By=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=NX(l),l in x2)return;x2[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":MX,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var bp={};bp.d=(t,e)=>{for(var n in e)bp.o(e,n)&&!bp.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};bp.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var je=globalThis.pdfjsLib={};bp.d(je,{AbortException:()=>lc,AnnotationEditorLayer:()=>y_,AnnotationEditorParamsType:()=>Le,AnnotationEditorType:()=>Fe,AnnotationEditorUIManager:()=>qu,AnnotationLayer:()=>IY,AnnotationMode:()=>lo,ColorPicker:()=>Lb,DOMSVGFactory:()=>DC,DrawLayer:()=>w_,FeatureTest:()=>or,GlobalWorkerOptions:()=>As,ImageKind:()=>Ev,InvalidPDFException:()=>M$,MissingPDFException:()=>oc,OPS:()=>ji,OutputScale:()=>ck,PDFDataRangeTransport:()=>PF,PDFDateString:()=>OC,PDFWorker:()=>sh,PasswordResponses:()=>DX,PermissionFlag:()=>jX,PixelsPerInch:()=>tl,RenderingCancelledException:()=>PC,TextLayer:()=>$k,UnexpectedResponseException:()=>Ax,Util:()=>Te,VerbosityLevel:()=>Sx,XfaLayer:()=>OF,build:()=>hY,createValidAbsoluteUrl:()=>zX,fetchData:()=>Cx,getDocument:()=>nY,getFilenameFromUrl:()=>YX,getPdfFilenameFromUrl:()=>ZX,getXfaPageViewport:()=>QX,isDataScheme:()=>Px,isPdfFile:()=>TC,noContextMenu:()=>Ei,normalizeUnicode:()=>qX,setLayerDimensions:()=>Gu,shadow:()=>Ze,version:()=>cY});const Zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),I$=[1,0,0,1,0,0],sk=[.001,0,0,.001,0,0],RX=1e7,h1=1.35,Ur={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},lo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},LX="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},jX={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ev={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},sn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ef={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sx={ERRORS:0,WARNINGS:1,INFOS:5},ji={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},DX={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let kx=Sx.WARNINGS;function $X(t){Number.isInteger(t)&&(kx=t)}function FX(){return kx}function _x(t){kx>=Sx.INFOS&&console.log(`Info: ${t}`)}function He(t){kx>=Sx.WARNINGS&&console.log(`Warning: ${t}`)}function Et(t){throw new Error(t)}function fn(t,e){t||Et(e)}function BX(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zX(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=GX(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(BX(r))return r}catch{}return null}function Ze(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hl=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class ok extends hl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class lk extends hl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class M$ extends hl{constructor(e){super(e,"InvalidPDFException")}}class oc extends hl{constructor(e){super(e,"MissingPDFException")}}class Ax extends hl{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class UX extends hl{constructor(e){super(e,"FormatError")}}class lc extends hl{constructor(e){super(e,"AbortException")}}function N$(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Et("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Ex(t){typeof t!="string"&&Et("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function HX(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function EC(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function WX(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function VX(){try{return new Function(""),!0}catch{return!1}}class or{static get isLittleEndian(){return Ze(this,"isLittleEndian",WX())}static get isEvalSupported(){return Ze(this,"isEvalSupported",VX())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ze(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ze(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return Ze(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const d1=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var js,Cv,uk;class Te{static makeHexColor(e,n,r){return`#${d1[e]}${d1[n]}${d1[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,a=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,a]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),a=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],a=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],o=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-a*i))/2,u=o+l||1,c=o-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static bezierBoundingBox(e,n,r,i,a,s,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,o),Math.min(n,l),Math.max(e,o),Math.max(n,l)],$(this,js,uk).call(this,e,r,a,o,n,i,s,l,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),u),$(this,js,uk).call(this,e,r,a,o,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}js=new WeakSet,Cv=function(e,n,r,i,a,s,o,l,u,c){if(u<=0||u>=1)return;const h=1-u,d=u*u,f=d*u,g=h*(h*(h*e+3*u*n)+3*d*r)+f*i,p=h*(h*(h*a+3*u*s)+3*d*o)+f*l;c[0]=Math.min(c[0],g),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],g),c[3]=Math.max(c[3],p)},uk=function(e,n,r,i,a,s,o,l,u,c,h,d){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&$(this,js,Cv).call(this,e,n,r,i,a,s,o,l,-h/c,d);return}const f=c**2-4*h*u;if(f<0)return;const g=Math.sqrt(f),p=2*u;$(this,js,Cv).call(this,e,n,r,i,a,s,o,l,(-c+g)/p,d),$(this,js,Cv).call(this,e,n,r,i,a,s,o,l,(-c-g)/p,d)},z(Te,js);function GX(t){return decodeURIComponent(escape(t))}let f1=null,w2=null;function qX(t){return f1||(f1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,w2=new Map([["","t"]])),t.replaceAll(f1,(e,n,r)=>n?n.normalize("NFKC"):w2.get(r))}function XX(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return N$(t)}const CC="pdfjs_internal_id_",qa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function KX(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(N$(t))}const Ya="http://www.w3.org/2000/svg",Ol=class Ol{};Ne(Ol,"CSS",96),Ne(Ol,"PDF",72),Ne(Ol,"PDF_TO_CSS_UNITS",Ol.CSS/Ol.PDF);let tl=Ol;async function Cx(t,e="text"){if(Wf(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ey{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,h,d;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,h=0,d=1;break;case 90:u=0,c=1,h=1,d=0;break;case 270:u=0,c=-1,h=-1,d=0;break;case 0:u=1,c=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(h=-h,d=-d);let f,g,p,v;u===0?(f=Math.abs(l-e[1])*n+i,g=Math.abs(o-e[0])*n+a,p=(e[3]-e[1])*n,v=(e[2]-e[0])*n):(f=Math.abs(o-e[0])*n+i,g=Math.abs(l-e[1])*n+a,p=(e[2]-e[0])*n,v=(e[3]-e[1])*n),this.transform=[u*n,c*n,h*n,d*n,f-u*n*o-h*n*l,g-c*n*o-d*n*l],this.width=p,this.height=v}get rawDims(){const{viewBox:e}=this;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new ey({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){return Te.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Te.applyTransform([e[0],e[1]],this.transform),r=Te.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Te.applyInverseTransform([e,n],this.transform)}}class PC extends hl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Px(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function TC(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function YX(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function ZX(t,e="document.pdf"){if(typeof t!="string")return e;if(Px(t))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=r.exec(decodeURIComponent(a))[0]}catch{}return a||e}class S2{constructor(){Ne(this,"started",Object.create(null));Ne(this,"times",[])}time(e){e in this.started&&He(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||He(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Wf(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Ei(t){t.preventDefault()}function k2(t){console.log("Deprecated API usage: "+t)}var Im;class OC{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,Im)||D(this,Im,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=m(this,Im).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(s+=c,o+=h):u==="+"&&(s-=c,o-=h),new Date(Date.UTC(r,i,a,s,o,l))}}Im=new WeakMap,z(OC,Im);function QX(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new ey({viewBox:a,scale:e,rotation:n})}function IC(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(He(`Not a valid color format: "${t}"`),[0,0,0])}function JX(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,IC(r))}e.remove()}function jt(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function Xa(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function Gu(t,e,n=!1,r=!0){if(e instanceof ey){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=or.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${a}px`,c=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=h):(s.width=h,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}class ck{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var co,Fl,Di,Bl,Mm,Nm,$0,R$,lr,L$,j$,Pv,D$,dk;const Qa=class Qa{constructor(e){z(this,lr);z(this,co,null);z(this,Fl,null);z(this,Di);z(this,Bl,null);z(this,Mm,null);D(this,Di,e),m(Qa,Nm)||D(Qa,Nm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=D(this,co,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=m(this,Di)._uiManager._signal;e.addEventListener("contextmenu",Ei,{signal:n}),e.addEventListener("pointerdown",$(Qa,$0,R$),{signal:n});const r=D(this,Bl,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Di).toolbarPosition;if(i){const{style:a}=e,s=m(this,Di)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return $(this,lr,D$).call(this),e}get div(){return m(this,co)}hide(){var e;m(this,co).classList.add("hidden"),(e=m(this,Fl))==null||e.hideDropdown()}show(){var e;m(this,co).classList.remove("hidden"),(e=m(this,Mm))==null||e.shown()}async addAltText(e){const n=await e.render();$(this,lr,Pv).call(this,n),m(this,Bl).prepend(n,m(this,lr,dk)),D(this,Mm,e)}addColorPicker(e){D(this,Fl,e);const n=e.renderButton();$(this,lr,Pv).call(this,n),m(this,Bl).prepend(n,m(this,lr,dk))}remove(){var e;m(this,co).remove(),(e=m(this,Fl))==null||e.destroy(),D(this,Fl,null)}};co=new WeakMap,Fl=new WeakMap,Di=new WeakMap,Bl=new WeakMap,Mm=new WeakMap,Nm=new WeakMap,$0=new WeakSet,R$=function(e){e.stopPropagation()},lr=new WeakSet,L$=function(e){m(this,Di)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},j$=function(e){m(this,Di)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Pv=function(e){const n=m(this,Di)._uiManager._signal;e.addEventListener("focusin",$(this,lr,L$).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",$(this,lr,j$).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ei,{signal:n})},D$=function(){const{editorType:e,_uiManager:n}=m(this,Di),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(Qa,Nm)[e]),$(this,lr,Pv).call(this,r),r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),m(this,Bl).append(r)},dk=function(){const e=document.createElement("div");return e.className="divider",e},z(Qa,$0),z(Qa,Nm,null);let hk=Qa;var Rm,zl,Ul,rl,$$,F$,B$;class eK{constructor(e){z(this,rl);z(this,Rm,null);z(this,zl,null);z(this,Ul);D(this,Ul,e)}show(e,n,r){const[i,a]=$(this,rl,F$).call(this,n,r),{style:s}=m(this,zl)||D(this,zl,$(this,rl,$$).call(this));e.append(m(this,zl)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,zl).remove()}}Rm=new WeakMap,zl=new WeakMap,Ul=new WeakMap,rl=new WeakSet,$$=function(){const e=D(this,zl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ei,{signal:m(this,Ul)._signal});const n=D(this,Rm,document.createElement("div"));return n.className="buttons",e.append(n),$(this,rl,B$).call(this),e},F$=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},B$=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,Ul)._signal;e.addEventListener("contextmenu",Ei,{signal:r}),e.addEventListener("click",()=>{m(this,Ul).highlightSelection("floating_button")},{signal:r}),m(this,Rm).append(e)};function Mb(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function tK(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var F0;class nK{constructor(){z(this,F0,0)}get id(){return`${LX}${er(this,F0)._++}`}}F0=new WeakMap;var fh,Lm,Un,ph,Tv;const qP=class qP{constructor(){z(this,ph);z(this,fh,XX());z(this,Lm,0);z(this,Un,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return $(this,ph,Tv).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return $(this,ph,Tv).call(this,e,e)}async getFromBlob(e,n){const r=await n;return $(this,ph,Tv).call(this,e,r)}async getFromId(e){m(this,Un)||D(this,Un,new Map);const n=m(this,Un).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){m(this,Un)||D(this,Un,new Map);let r=m(this,Un).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,fh)}_${er(this,Lm)._++}`,refCounter:1,isSvg:!1},m(this,Un).set(e,r),m(this,Un).set(r.id,r),r}getSvgUrl(e){const n=m(this,Un).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;m(this,Un)||D(this,Un,new Map);const n=m(this,Un).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,fh)}_`)}};fh=new WeakMap,Lm=new WeakMap,Un=new WeakMap,ph=new WeakSet,Tv=async function(e,n){m(this,Un)||D(this,Un,new Map);let r=m(this,Un).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,fh)}_${er(this,Lm)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Cx(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=qP._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,c)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},s.onload=async()=>{const h=r.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,Un).set(e,r),r&&m(this,Un).set(r.id,r),r};let fk=qP;var bn,ho,jm,xn;class rK{constructor(e=128){z(this,bn,[]);z(this,ho,!1);z(this,jm);z(this,xn,-1);D(this,jm,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),m(this,ho))return;const l={cmd:e,undo:n,post:r,type:a};if(m(this,xn)===-1){m(this,bn).length>0&&(m(this,bn).length=0),D(this,xn,0),m(this,bn).push(l);return}if(s&&m(this,bn)[m(this,xn)].type===a){o&&(l.undo=m(this,bn)[m(this,xn)].undo),m(this,bn)[m(this,xn)]=l;return}const u=m(this,xn)+1;u===m(this,jm)?m(this,bn).splice(0,1):(D(this,xn,u),u<m(this,bn).length&&m(this,bn).splice(u)),m(this,bn).push(l)}undo(){if(m(this,xn)===-1)return;D(this,ho,!0);const{undo:e,post:n}=m(this,bn)[m(this,xn)];e(),n==null||n(),D(this,ho,!1),D(this,xn,m(this,xn)-1)}redo(){if(m(this,xn)<m(this,bn).length-1){D(this,xn,m(this,xn)+1),D(this,ho,!0);const{cmd:e,post:n}=m(this,bn)[m(this,xn)];e(),n==null||n(),D(this,ho,!1)}}hasSomethingToUndo(){return m(this,xn)!==-1}hasSomethingToRedo(){return m(this,xn)<m(this,bn).length-1}destroy(){D(this,bn,null)}}bn=new WeakMap,ho=new WeakMap,jm=new WeakMap,xn=new WeakMap;var B0,z$;class ty{constructor(e){z(this,B0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=or.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get($(this,B0,z$).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||(n.stopPropagation(),n.preventDefault()))}}B0=new WeakSet,z$=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const z0=class z0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return JX(e),Ze(this,"_colors",e)}convert(e){const n=IC(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return z0._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Te.makeHexColor(...n):e}};Ne(z0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let pk=z0;var mh,Rr,ln,Tn,gh,ts,yh,$i,fo,vh,Hl,ga,Fi,Wl,Dm,$m,bh,Fm,ya,po,xh,mo,va,U0,go,Bm,yo,Vl,zm,Um,wn,lt,ns,Gl,Hm,Wm,vo,ba,rs,Vm,li,Ae,Ov,mk,U$,H$,Iv,W$,V$,G$,gk,q$,yk,vk,X$,tr,eo,K$,Y$,bk,Z$,Vf,xk;const Yc=class Yc{constructor(e,n,r,i,a,s,o,l,u,c,h){z(this,Ae);z(this,mh,new AbortController);z(this,Rr,null);z(this,ln,new Map);z(this,Tn,new Map);z(this,gh,null);z(this,ts,null);z(this,yh,null);z(this,$i,new rK);z(this,fo,null);z(this,vh,0);z(this,Hl,new Set);z(this,ga,null);z(this,Fi,null);z(this,Wl,new Set);z(this,Dm,!1);z(this,$m,!1);z(this,bh,!1);z(this,Fm,null);z(this,ya,null);z(this,po,null);z(this,xh,null);z(this,mo,!1);z(this,va,null);z(this,U0,new nK);z(this,go,!1);z(this,Bm,!1);z(this,yo,null);z(this,Vl,null);z(this,zm,null);z(this,Um,null);z(this,wn,Fe.NONE);z(this,lt,new Set);z(this,ns,null);z(this,Gl,null);z(this,Hm,null);z(this,Wm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});z(this,vo,[0,0]);z(this,ba,null);z(this,rs,null);z(this,Vm,null);z(this,li,null);const d=this._signal=m(this,mh).signal;D(this,rs,e),D(this,Vm,n),D(this,gh,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:d}),$(this,Ae,W$).call(this),$(this,Ae,X$).call(this),$(this,Ae,gk).call(this),D(this,ts,a.annotationStorage),D(this,Fm,a.filterFactory),D(this,Gl,s),D(this,xh,o||null),D(this,Dm,l),D(this,$m,u),D(this,bh,c),D(this,Um,h||null),this.viewParameters={realScale:tl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Yc.prototype,n=s=>m(s,rs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new ty([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,rs).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,rs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i;(e=m(this,li))==null||e.resolve(),D(this,li,null),(n=m(this,mh))==null||n.abort(),D(this,mh,null),this._signal=null;for(const a of m(this,Tn).values())a.destroy();m(this,Tn).clear(),m(this,ln).clear(),m(this,Wl).clear(),D(this,Rr,null),m(this,lt).clear(),m(this,$i).destroy(),(r=m(this,gh))==null||r.destroy(),(i=m(this,va))==null||i.hide(),D(this,va,null),m(this,ya)&&(clearTimeout(m(this,ya)),D(this,ya,null)),m(this,ba)&&(clearTimeout(m(this,ba)),D(this,ba,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,Um)}get useNewAltTextFlow(){return m(this,$m)}get useNewAltTextWhenAddingImage(){return m(this,bh)}get hcmFilter(){return Ze(this,"hcmFilter",m(this,Gl)?m(this,Fm).addHCMFilter(m(this,Gl).foreground,m(this,Gl).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(m(this,rs)).direction)}get highlightColors(){return Ze(this,"highlightColors",m(this,xh)?new Map(m(this,xh).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){D(this,zm,e)}editAltText(e,n=!1){var r;(r=m(this,gh))==null||r.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":D(this,bh,n);break}}onPageChanging({pageNumber:e}){D(this,vh,e-1)}focusMainContainer(){m(this,rs).focus()}findParent(e,n){for(const r of m(this,Tn).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){m(this,Vm).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Wl).add(e)}removeShouldRescale(e){m(this,Wl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*tl.PDF_TO_CSS_UNITS;for(const n of m(this,Wl))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s}=n,o=n.toString(),u=$(this,Ae,Ov).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;n.empty();const h=$(this,Ae,mk).call(this,u),d=m(this,wn)===Fe.NONE,f=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),d&&this.showAllEditors("highlight",!0,!0)};if(d){this.switchToMode(Fe.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,ts)&&!m(this,ts).has(e.id)&&m(this,ts).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,mo)&&(D(this,mo,!1),$(this,Ae,Iv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of m(this,lt))if(n.div.contains(e)){D(this,Vl,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!m(this,Vl))return;const[e,n]=m(this,Vl);D(this,Vl,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){$(this,Ae,gk).call(this),$(this,Ae,yk).call(this)}removeEditListeners(){$(this,Ae,q$).call(this),$(this,Ae,vk).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of m(this,Fi))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of m(this,Fi))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Rr))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of m(this,lt)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of m(this,Fi))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){He(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;a.push(u)}const s=()=>{for(const l of a)$(this,Ae,bk).call(this,l);$(this,Ae,xk).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){He(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,wn)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&Yc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,mo)&&(D(this,mo,!1),$(this,Ae,Iv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?($(this,Ae,V$).call(this),$(this,Ae,yk).call(this),$(this,Ae,tr).call(this,{isEditing:m(this,wn)!==Fe.NONE,isEmpty:$(this,Ae,Vf).call(this),hasSomethingToUndo:m(this,$i).hasSomethingToUndo(),hasSomethingToRedo:m(this,$i).hasSomethingToRedo(),hasSelectedEditor:!1})):($(this,Ae,G$).call(this),$(this,Ae,vk).call(this),$(this,Ae,tr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Fi)){D(this,Fi,e);for(const n of m(this,Fi))$(this,Ae,eo).call(this,n.defaultPropertiesToUpdate)}}getId(){return m(this,U0).id}get currentLayer(){return m(this,Tn).get(m(this,vh))}getLayer(e){return m(this,Tn).get(e)}get currentPageIndex(){return m(this,vh)}addLayer(e){m(this,Tn).set(e.pageIndex,e),m(this,go)?e.enable():e.disable()}removeLayer(e){m(this,Tn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1){if(m(this,wn)!==e&&!(m(this,li)&&(await m(this,li).promise,!m(this,li)))){if(D(this,li,Promise.withResolvers()),D(this,wn,e),e===Fe.NONE){this.setEditingState(!1),$(this,Ae,Y$).call(this),m(this,li).resolve();return}this.setEditingState(!0),await $(this,Ae,K$).call(this),this.unselectAll();for(const i of m(this,Tn).values())i.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),m(this,li).resolve();return}for(const i of m(this,ln).values())i.annotationElementId===n?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,li).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,wn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(m(this,Fi)){switch(e){case Le.CREATE:this.currentLayer.addNewEditor();return;case Le.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,zm))==null||r.updateColor(n);break;case Le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Hm)||D(this,Hm,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of m(this,lt))i.updateParams(e,n);for(const i of m(this,Fi))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of m(this,ln).values())s.editorType===e&&s.show(n);(((a=m(this,Hm))==null?void 0:a.get(Le.HIGHLIGHT_SHOW_ALL))??!0)!==n&&$(this,Ae,eo).call(this,[[Le.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(m(this,Bm)!==e){D(this,Bm,e);for(const n of m(this,Tn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of m(this,ln).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return m(this,ln).get(e)}addEditor(e){m(this,ln).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(m(this,ya)&&clearTimeout(m(this,ya)),D(this,ya,setTimeout(()=>{this.focusMainContainer(),D(this,ya,null)},0))),m(this,ln).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,Hl).has(e.annotationElementId))&&((n=m(this,ts))==null||n.remove(e.id))}addDeletedAnnotationElement(e){m(this,Hl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Hl).has(e)}removeDeletedAnnotationElement(e){m(this,Hl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Rr)!==e&&(D(this,Rr,e),e&&$(this,Ae,eo).call(this,e.propertiesToUpdate))}updateUI(e){m(this,Ae,Z$)===e&&$(this,Ae,eo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,lt).has(e)){m(this,lt).delete(e),e.unselect(),$(this,Ae,tr).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,lt).add(e),e.select(),$(this,Ae,eo).call(this,e.propertiesToUpdate),$(this,Ae,tr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of m(this,lt))n!==e&&n.unselect();m(this,lt).clear(),m(this,lt).add(e),e.select(),$(this,Ae,eo).call(this,e.propertiesToUpdate),$(this,Ae,tr).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,lt).has(e)}get firstSelectedEditor(){return m(this,lt).values().next().value}unselect(e){e.unselect(),m(this,lt).delete(e),$(this,Ae,tr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,lt).size!==0}get isEnterHandled(){return m(this,lt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,$i).undo(),$(this,Ae,tr).call(this,{hasSomethingToUndo:m(this,$i).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:$(this,Ae,Vf).call(this)})}redo(){m(this,$i).redo(),$(this,Ae,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,$i).hasSomethingToRedo(),isEmpty:$(this,Ae,Vf).call(this)})}addCommands(e){m(this,$i).add(e),$(this,Ae,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:$(this,Ae,Vf).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,lt)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)$(this,Ae,bk).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Rr))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Rr)||this.hasSelection}selectAll(){for(const e of m(this,lt))e.commit();$(this,Ae,xk).call(this,m(this,ln).values())}unselectAll(){if(!(m(this,Rr)&&(m(this,Rr).commitOrRemove(),m(this,wn)!==Fe.NONE))&&this.hasSelection){for(const e of m(this,lt))e.unselect();m(this,lt).clear(),$(this,Ae,tr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,vo)[0]+=e,m(this,vo)[1]+=n;const[i,a]=m(this,vo),s=[...m(this,lt)],o=1e3;m(this,ba)&&clearTimeout(m(this,ba)),D(this,ba,setTimeout(()=>{D(this,ba,null),m(this,vo)[0]=m(this,vo)[1]=0,this.addCommands({cmd:()=>{for(const l of s)m(this,ln).has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)m(this,ln).has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,ga,new Map);for(const e of m(this,lt))m(this,ga).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,ga))return!1;this.disableUserSelect(!1);const e=m(this,ga);D(this,ga,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(m(this,ln).has(i.id)){const l=m(this,Tn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(m(this,ga))for(const r of m(this,ga).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,lt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Rr)===e}getActive(){return m(this,Rr)}getMode(){return m(this,wn)}get imageManager(){return Ze(this,"imageManager",new fk)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,c,h,d)=>({x:(c-i)/s,y:1-(u+h-r)/a,width:d/s,height:h/a});break;case"180":o=(u,c,h,d)=>({x:1-(u+h-r)/a,y:1-(c+d-i)/s,width:h/a,height:d/s});break;case"270":o=(u,c,h,d)=>({x:1-(c+d-i)/s,y:(u-r)/a,width:d/s,height:h/a});break;default:o=(u,c,h,d)=>({x:(u-r)/a,y:(c-i)/s,width:h/a,height:d/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const h=n.getRangeAt(u);if(!h.collapsed)for(const{x:d,y:f,width:g,height:p}of h.getClientRects())g===0||p===0||l.push(o(d,f,g,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(m(this,yh)||D(this,yh,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=m(this,yh))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=m(this,yh))==null?void 0:i.get(e.data.id);if(!n)return;const r=m(this,ts).getRawValue(n);r&&(m(this,wn)===Fe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};mh=new WeakMap,Rr=new WeakMap,ln=new WeakMap,Tn=new WeakMap,gh=new WeakMap,ts=new WeakMap,yh=new WeakMap,$i=new WeakMap,fo=new WeakMap,vh=new WeakMap,Hl=new WeakMap,ga=new WeakMap,Fi=new WeakMap,Wl=new WeakMap,Dm=new WeakMap,$m=new WeakMap,bh=new WeakMap,Fm=new WeakMap,ya=new WeakMap,po=new WeakMap,xh=new WeakMap,mo=new WeakMap,va=new WeakMap,U0=new WeakMap,go=new WeakMap,Bm=new WeakMap,yo=new WeakMap,Vl=new WeakMap,zm=new WeakMap,Um=new WeakMap,wn=new WeakMap,lt=new WeakMap,ns=new WeakMap,Gl=new WeakMap,Hm=new WeakMap,Wm=new WeakMap,vo=new WeakMap,ba=new WeakMap,rs=new WeakMap,Vm=new WeakMap,li=new WeakMap,Ae=new WeakSet,Ov=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},mk=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of m(this,Tn).values())if(r.hasTextLayer(e))return r;return null},U$=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=$(this,Ae,Ov).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,va)||D(this,va,new eK(this)),m(this,va).show(r,i,this.direction==="ltr"))},H$=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,ns)&&((a=m(this,va))==null||a.hide(),D(this,ns,null),$(this,Ae,tr).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===m(this,ns))return;const i=$(this,Ae,Ov).call(this,e).closest(".textLayer");if(!i){m(this,ns)&&((s=m(this,va))==null||s.hide(),D(this,ns,null),$(this,Ae,tr).call(this,{hasSelectedText:!1}));return}if((o=m(this,va))==null||o.hide(),D(this,ns,n),$(this,Ae,tr).call(this,{hasSelectedText:!0}),!(m(this,wn)!==Fe.HIGHLIGHT&&m(this,wn)!==Fe.NONE)&&(m(this,wn)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,mo,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,wn)===Fe.HIGHLIGHT?$(this,Ae,mk).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),h=d=>{d.type==="pointerup"&&d.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&$(this,Ae,Iv).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}},Iv=function(e=""){m(this,wn)===Fe.HIGHLIGHT?this.highlightSelection(e):m(this,Dm)&&$(this,Ae,U$).call(this)},W$=function(){document.addEventListener("selectionchange",$(this,Ae,H$).bind(this),{signal:this._signal})},V$=function(){if(m(this,po))return;D(this,po,new AbortController);const e=this.combinedSignal(m(this,po));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},G$=function(){var e;(e=m(this,po))==null||e.abort(),D(this,po,null)},gk=function(){if(m(this,yo))return;D(this,yo,new AbortController);const e=this.combinedSignal(m(this,yo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},q$=function(){var e;(e=m(this,yo))==null||e.abort(),D(this,yo,null)},yk=function(){if(m(this,fo))return;D(this,fo,new AbortController);const e=this.combinedSignal(m(this,fo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},vk=function(){var e;(e=m(this,fo))==null||e.abort(),D(this,fo,null)},X$=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},tr=function(e){Object.entries(e).some(([r,i])=>m(this,Wm)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,Wm),e)}),m(this,wn)===Fe.HIGHLIGHT&&e.hasSelectedEditor===!1&&$(this,Ae,eo).call(this,[[Le.HIGHLIGHT_FREE,!0]]))},eo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},K$=async function(){if(!m(this,go)){D(this,go,!0);const e=[];for(const n of m(this,Tn).values())e.push(n.enable());await Promise.all(e);for(const n of m(this,ln).values())n.enable()}},Y$=function(){if(this.unselectAll(),m(this,go)){D(this,go,!1);for(const e of m(this,Tn).values())e.disable();for(const e of m(this,ln).values())e.disable()}},bk=function(e){const n=m(this,Tn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Z$=function(){let e=null;for(e of m(this,lt));return e},Vf=function(){if(m(this,ln).size===0)return!0;if(m(this,ln).size===1)for(const e of m(this,ln).values())return e.isEmpty();return!1},xk=function(e){for(const n of m(this,lt))n.unselect();m(this,lt).clear();for(const n of e)n.isEmpty()||(m(this,lt).add(n),n.select());$(this,Ae,tr).call(this,{hasSelectedEditor:this.hasSelection})},Ne(Yc,"TRANSLATE_SMALL",1),Ne(Yc,"TRANSLATE_BIG",10);let qu=Yc;var Sn,xa,Bi,wh,wa,Lr,Sh,Sa,mr,is,ql,ka,bo,ia,Gf,Mv;const nr=class nr{constructor(e){z(this,ia);z(this,Sn,null);z(this,xa,!1);z(this,Bi,null);z(this,wh,null);z(this,wa,null);z(this,Lr,null);z(this,Sh,!1);z(this,Sa,null);z(this,mr,null);z(this,is,null);z(this,ql,null);z(this,ka,!1);D(this,mr,e),D(this,ka,e._uiManager.useNewAltTextFlow),m(nr,bo)||D(nr,bo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){nr._l10n??(nr._l10n=e)}async render(){const e=D(this,Bi,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=D(this,wh,document.createElement("span"));e.append(n),m(this,ka)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(nr,bo).missing),n.setAttribute("data-l10n-id",m(nr,bo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,mr)._uiManager._signal;e.addEventListener("contextmenu",Ei,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),m(this,mr)._uiManager.editAltText(m(this,mr)),m(this,ka)&&m(this,mr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,ia,Gf)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(D(this,Sh,!0),i(a))},{signal:r}),await $(this,ia,Mv).call(this),e}finish(){m(this,Bi)&&(m(this,Bi).focus({focusVisible:m(this,Sh)}),D(this,Sh,!1))}isEmpty(){return m(this,ka)?m(this,Sn)===null:!m(this,Sn)&&!m(this,xa)}hasData(){return m(this,ka)?m(this,Sn)!==null||!!m(this,is):this.isEmpty()}get guessedText(){return m(this,is)}async setGuessedText(e){m(this,Sn)===null&&(D(this,is,e),D(this,ql,await nr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),$(this,ia,Mv).call(this))}toggleAltTextBadge(e=!1){var n;if(!m(this,ka)||m(this,Sn)){(n=m(this,Sa))==null||n.remove(),D(this,Sa,null);return}if(!m(this,Sa)){const r=D(this,Sa,document.createElement("div"));r.className="noAltTextBadge",m(this,mr).div.append(r)}m(this,Sa).classList.toggle("hidden",!e)}serialize(e){let n=m(this,Sn);return!e&&m(this,is)===n&&(n=m(this,ql)),{altText:n,decorative:m(this,xa),guessedText:m(this,is),textWithDisclaimer:m(this,ql)}}get data(){return{altText:m(this,Sn),decorative:m(this,xa)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(D(this,is,r),D(this,ql,i)),!(m(this,Sn)===e&&m(this,xa)===n)&&(a||(D(this,Sn,e),D(this,xa,n)),$(this,ia,Mv).call(this))}toggle(e=!1){m(this,Bi)&&(!e&&m(this,Lr)&&(clearTimeout(m(this,Lr)),D(this,Lr,null)),m(this,Bi).disabled=!e)}shown(){m(this,mr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,ia,Gf)}})}destroy(){var e,n;(e=m(this,Bi))==null||e.remove(),D(this,Bi,null),D(this,wh,null),D(this,wa,null),(n=m(this,Sa))==null||n.remove(),D(this,Sa,null)}};Sn=new WeakMap,xa=new WeakMap,Bi=new WeakMap,wh=new WeakMap,wa=new WeakMap,Lr=new WeakMap,Sh=new WeakMap,Sa=new WeakMap,mr=new WeakMap,is=new WeakMap,ql=new WeakMap,ka=new WeakMap,bo=new WeakMap,ia=new WeakSet,Gf=function(){return m(this,Sn)&&"added"||m(this,Sn)===null&&this.guessedText&&"review"||"missing"},Mv=async function(){var i,a,s;const e=m(this,Bi);if(!e)return;if(m(this,ka)){if(e.classList.toggle("done",!!m(this,Sn)),e.setAttribute("data-l10n-id",m(nr,bo)[m(this,ia,Gf)]),(i=m(this,wh))==null||i.setAttribute("data-l10n-id",m(nr,bo)[`${m(this,ia,Gf)}-label`]),!m(this,Sn)){(a=m(this,wa))==null||a.remove();return}}else{if(!m(this,Sn)&&!m(this,xa)){e.classList.remove("done"),(s=m(this,wa))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=m(this,wa);if(!n){D(this,wa,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${m(this,mr).id}`;const o=100,l=m(this,mr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Lr)),D(this,Lr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{D(this,Lr,setTimeout(()=>{D(this,Lr,null),m(this,wa).classList.add("show"),m(this,mr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;m(this,Lr)&&(clearTimeout(m(this,Lr)),D(this,Lr,null)),(u=m(this,wa))==null||u.classList.remove("show")},{signal:l})}m(this,xa)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=m(this,Sn)),n.parentNode||e.append(n);const r=m(this,mr).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},z(nr,bo,null),Ne(nr,"_l10n",null);let Nb=nr;var Xl,zi,Rt,kh,Kl,On,Yl,xo,Gm,Zl,wo,qm,Ql,as,_a,_h,Ah,ui,Xm,H0,ze,wk,Km,Sk,kk,Q$,J$,_k,Ak,Ek,eF,Ck,tF,nF,rF,Pk,qf;const st=class st{constructor(e){z(this,ze);z(this,Xl,null);z(this,zi,null);z(this,Rt,null);z(this,kh,!1);z(this,Kl,!1);z(this,On,null);z(this,Yl,null);z(this,xo,null);z(this,Gm,"");z(this,Zl,!1);z(this,wo,null);z(this,qm,!1);z(this,Ql,!1);z(this,as,!1);z(this,_a,null);z(this,_h,0);z(this,Ah,0);z(this,ui,null);Ne(this,"_editToolbar",null);Ne(this,"_initialOptions",Object.create(null));Ne(this,"_initialData",null);Ne(this,"_isVisible",!0);Ne(this,"_uiManager",null);Ne(this,"_focusEventsAllowed",!0);z(this,Xm,!1);z(this,H0,st._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=st.prototype._resizeWithKeyboard,n=qu.TRANSLATE_SMALL,r=qu.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new ty([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],st.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new iK({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(st._l10n??(st._l10n=e),st._l10nResizer||(st._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),st._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);st._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,Xm)}set _isDraggable(e){var n;D(this,Xm,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,H0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):$(this,ze,qf).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Zl)?D(this,Zl,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){$(this,ze,wk).call(this,this.parentDimensions,e,n)}translateInPage(e,n){m(this,wo)||D(this,wo,[this.x,this.y]),$(this,ze,wk).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){m(this,wo)||D(this,wo,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,wo)&&(m(this,wo)[0]!==this.x||m(this,wo)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=st,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:a,width:s,height:o}=this;if(s*=n,o*=r,i*=n,a*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),a=Math.max(0,Math.min(r-o,a));break;case 90:i=Math.max(0,Math.min(n-o,i)),a=Math.min(r,Math.max(s,a));break;case 180:i=Math.min(n,Math.max(s,i)),a=Math.min(r,Math.max(o,a));break;case 270:i=Math.min(n,Math.max(o,i)),a=Math.max(0,Math.min(r-s,a));break}this.x=i/=n,this.y=a/=r;const[l,u]=this.getBaseTranslation();i+=l,a+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return $(r=st,Km,Sk).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return $(r=st,Km,Sk).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Kl)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),a=!m(this,Kl)&&n.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!m(this,Kl)&&!a&&(e.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Rt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,Ql)?this._editToolbar:(this._editToolbar=new hk(this),this.div.append(this._editToolbar.render()),m(this,Rt)&&await this._editToolbar.addAltText(m(this,Rt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Rt))==null||e.destroy())}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Rt)||(Nb.initialize(st._l10n),D(this,Rt,new Nb(this)),m(this,Xl)&&(m(this,Rt).data=m(this,Xl),D(this,Xl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Rt))==null?void 0:e.data}set altTextData(e){m(this,Rt)&&(m(this,Rt).data=e)}get guessedAltText(){var e;return(e=m(this,Rt))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=m(this,Rt))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=m(this,Rt))==null?void 0:n.serialize(e)}hasAltText(){return!!m(this,Rt)&&!m(this,Rt).isEmpty()}hasAltTextData(){var e;return((e=m(this,Rt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,kh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),$(this,ze,Ck).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Mb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=or.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(D(this,Zl,!0),this._isDraggable){$(this,ze,eF).call(this,e);return}$(this,ze,Ek).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,_a)&&clearTimeout(m(this,_a)),D(this,_a,setTimeout(()=>{var e;D(this,_a,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,c=n/i,h=this.x*a,d=this.y*s,f=this.width*a,g=this.height*s;switch(r){case 0:return[h+u+o,s-d-c-g+l,h+u+f+o,s-d-c+l];case 90:return[h+c+o,s-d+u+l,h+c+g+o,s-d+u+f+l];case 180:return[h-u-f+o,s-d+c+l,h-u+o,s-d+c+g+l];case 270:return[h-c-g+o,s-d-u-f+l,h-c+o,s-d-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,o,l];case 90:return[r,n-i,l,o];case 180:return[a,n-i,o,l];case 270:return[a,n-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){D(this,Ql,!0)}disableEditMode(){D(this,Ql,!1)}isInEditMode(){return m(this,Ql)}shouldGetKeyboardEvents(){return m(this,as)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){$(this,ze,Ck).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){Et("An editor must be serializable")}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,D(i,Xl,e.accessibilityData);const[a,s]=i.pageDimensions,[o,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=u/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,xo))==null||e.abort(),D(this,xo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,_a)&&(clearTimeout(m(this,_a)),D(this,_a,null)),$(this,ze,qf).call(this),this.removeEditToolbar(),m(this,ui)){for(const n of m(this,ui).values())clearTimeout(n);D(this,ui,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&($(this,ze,Q$).call(this),m(this,On).classList.remove("hidden"),Mb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),D(this,Yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=m(this,On).children;if(!m(this,zi)){D(this,zi,Array.from(n));const s=$(this,ze,tF).bind(this),o=$(this,ze,nF).bind(this),l=this._uiManager._signal;for(const u of m(this,zi)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",$(this,ze,rF).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",st._l10nResizer[c])}}const r=m(this,zi)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(m(this,zi).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)m(this,On).append(m(this,On).firstChild);else if(a>i)for(let o=0;o<a-i;o++)m(this,On).firstChild.before(m(this,On).lastChild);let s=0;for(const o of n){const u=m(this,zi)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",st._l10nResizer[u])}}$(this,ze,Pk).call(this,0),D(this,as,!0),m(this,On).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){m(this,as)&&$(this,ze,Ak).call(this,m(this,Gm),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){$(this,ze,qf).call(this),this.div.focus()}select(){var e,n,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=m(this,Rt))==null||r.toggleAltTextBadge(!1)}unselect(){var e,n,r,i,a;(e=m(this,On))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=m(this,Rt))==null||a.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,qm)}set isEditing(e){D(this,qm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){D(this,Kl,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){m(this,ui)||D(this,ui,new Map);const{action:r}=e;let i=m(this,ui).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ui).delete(r),m(this,ui).size===0&&D(this,ui,null)},st._telemetryTimeout),m(this,ui).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),D(this,kh,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,kh,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Xl=new WeakMap,zi=new WeakMap,Rt=new WeakMap,kh=new WeakMap,Kl=new WeakMap,On=new WeakMap,Yl=new WeakMap,xo=new WeakMap,Gm=new WeakMap,Zl=new WeakMap,wo=new WeakMap,qm=new WeakMap,Ql=new WeakMap,as=new WeakMap,_a=new WeakMap,_h=new WeakMap,Ah=new WeakMap,ui=new WeakMap,Xm=new WeakMap,H0=new WeakMap,ze=new WeakSet,wk=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},Km=new WeakSet,Sk=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},kk=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},Q$=function(){if(m(this,On))return;D(this,On,document.createElement("div")),m(this,On).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,On).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",$(this,ze,J$).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Ei,{signal:n}),i.tabIndex=-1}this.div.prepend(m(this,On))},J$=function(e,n){var g;n.preventDefault();const{isMac:r}=or.platform;if(n.button!==0||n.ctrlKey&&r)return;(g=m(this,Rt))==null||g.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",$(this,ze,Ak).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Ei,{signal:s});const o=this.x,l=this.y,u=this.width,c=this.height,h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=m(this,Rt))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=d,$(this,ze,_k).call(this,o,l,u,c)};window.addEventListener("pointerup",f,{signal:s}),window.addEventListener("blur",f,{signal:s})},_k=function(e,n,r,i){const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===n&&o===r&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*o,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},Ak=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,u=st.MIN_SIZE/r,c=st.MIN_SIZE/i,h=B=>Math.round(B*1e4)/1e4,d=$(this,ze,kk).call(this,this.rotation),f=(B,W)=>[d[0]*B+d[2]*W,d[1]*B+d[3]*W],g=$(this,ze,kk).call(this,360-this.rotation),p=(B,W)=>[g[0]*B+g[2]*W,g[1]*B+g[3]*W];let v,y,b=!1,x=!1;switch(e){case"topLeft":b=!0,v=(B,W)=>[0,0],y=(B,W)=>[B,W];break;case"topMiddle":v=(B,W)=>[B/2,0],y=(B,W)=>[B/2,W];break;case"topRight":b=!0,v=(B,W)=>[B,0],y=(B,W)=>[0,W];break;case"middleRight":x=!0,v=(B,W)=>[B,W/2],y=(B,W)=>[0,W/2];break;case"bottomRight":b=!0,v=(B,W)=>[B,W],y=(B,W)=>[0,0];break;case"bottomMiddle":v=(B,W)=>[B/2,W],y=(B,W)=>[B/2,0];break;case"bottomLeft":b=!0,v=(B,W)=>[0,W],y=(B,W)=>[B,0];break;case"middleLeft":x=!0,v=(B,W)=>[0,W/2],y=(B,W)=>[B,W/2];break}const k=v(o,l),w=y(o,l);let S=f(...w);const A=h(a+S[0]),_=h(s+S[1]);let E=1,O=1,[R,P]=this.screenToPageTranslation(n.movementX,n.movementY);if([R,P]=p(R/r,P/i),b){const B=Math.hypot(o,l);E=O=Math.max(Math.min(Math.hypot(w[0]-k[0]-R,w[1]-k[1]-P)/B,1/o,1/l),u/o,c/l)}else x?E=Math.max(u,Math.min(1,Math.abs(w[0]-k[0]-R)))/o:O=Math.max(c,Math.min(1,Math.abs(w[1]-k[1]-P)))/l;const L=h(o*E),C=h(l*O);S=f(...y(L,C));const F=A-S[0],q=_-S[1];this.width=L,this.height=C,this.x=F,this.y=q,this.setDims(r*L,i*C),this.fixAndSetPosition()},Ek=function(e){const{isMac:n}=or.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},eF=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(n){this.div.classList.add("moving"),D(this,_h,e.clientX),D(this,Ah,e.clientY);const s=o=>{const{clientX:l,clientY:u}=o,[c,h]=this.screenToPageTranslation(l-m(this,_h),u-m(this,Ah));D(this,_h,l),D(this,Ah,u),this._uiManager.dragSelectedEditors(c,h)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}const a=()=>{r.abort(),n&&this.div.classList.remove("moving"),D(this,Zl,!1),this._uiManager.endDragSession()||$(this,ze,Ek).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},Ck=function(){if(m(this,xo)||!this.div)return;D(this,xo,new AbortController);const e=this._uiManager.combinedSignal(m(this,xo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},tF=function(e){st._resizerKeyboardManager.exec(this,e)},nF=function(e){var n;m(this,as)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==m(this,On)&&$(this,ze,qf).call(this)},rF=function(e){D(this,Gm,m(this,as)?e:"")},Pk=function(e){if(m(this,zi))for(const n of m(this,zi))n.tabIndex=e},qf=function(){if(D(this,as,!1),$(this,ze,Pk).call(this,-1),m(this,Yl)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=m(this,Yl);$(this,ze,_k).call(this,e,n,r,i),D(this,Yl,null)}},z(st,Km),Ne(st,"_l10n",null),Ne(st,"_l10nResizer",null),Ne(st,"_borderLineWidth",-1),Ne(st,"_colorManager",new pk),Ne(st,"_zIndex",1),Ne(st,"_telemetryTimeout",1e3);let ct=st;class iK extends ct{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _2=3285377520,ii=4294901760,fa=65535;class iF{constructor(e){this.h1=e?e&4294967295:_2,this.h2=e?e&4294967295:_2}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let p=0,v=e.length;p<v;p++){const y=e.charCodeAt(p);y<=255?n[r++]=y:(n[r++]=y>>>8,n[r++]=y&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,l=0,u=this.h1,c=this.h2;const h=3432918353,d=461845907,f=h&fa,g=d&fa;for(let p=0;p<i;p++)p&1?(o=s[p],o=o*h&ii|o*f&fa,o=o<<15|o>>>17,o=o*d&ii|o*g&fa,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[p],l=l*h&ii|l*f&fa,l=l<<15|l>>>17,l=l*d&ii|l*g&fa,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&ii|o*f&fa,o=o<<15|o>>>17,o=o*d&ii|o*g&fa,i&1?u^=o:c^=o}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ii|e*36045&fa,n=n*4283543511&ii|((n<<16|e>>>16)*2950163797&ii)>>>16,e^=n>>>1,e=e*444984403&ii|e*60499&fa,n=n*3301882366&ii|((n<<16|e>>>16)*3120437893&ii)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const Tk=Object.freeze({map:null,hash:"",transfer:void 0});var Jl,eu,kn,W0,aF;class MC{constructor(){z(this,W0);z(this,Jl,!1);z(this,eu,null);z(this,kn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=m(this,kn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return m(this,kn).get(e)}remove(e){if(m(this,kn).delete(e),m(this,kn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of m(this,kn).values())if(n instanceof ct)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=m(this,kn).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,m(this,kn).set(e,n);i&&$(this,W0,aF).call(this),n instanceof ct&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return m(this,kn).has(e)}getAll(){return m(this,kn).size>0?EC(m(this,kn)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return m(this,kn).size}resetModified(){m(this,Jl)&&(D(this,Jl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new sF(this)}get serializable(){if(m(this,kn).size===0)return Tk;const e=new Map,n=new iF,r=[],i=Object.create(null);let a=!1;for(const[s,o]of m(this,kn)){const l=o instanceof ct?o.serialize(!1,i):o;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:Tk}get editorStats(){let e=null;const n=new Map;for(const r of m(this,kn).values()){if(!(r instanceof ct))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:a}=i;n.has(a)||n.set(a,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){D(this,eu,null)}get modifiedIds(){if(m(this,eu))return m(this,eu);const e=[];for(const n of m(this,kn).values())!(n instanceof ct)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return D(this,eu,{ids:new Set(e),hash:e.join(",")})}}Jl=new WeakMap,eu=new WeakMap,kn=new WeakMap,W0=new WeakSet,aF=function(){m(this,Jl)||(D(this,Jl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Ym;class sF extends MC{constructor(n){super();z(this,Ym);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);D(this,Ym,{map:s,hash:i,transfer:a})}get print(){Et("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,Ym)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}Ym=new WeakMap;var Eh;class aK{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){z(this,Eh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Eh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||m(this,Eh).has(e.loadedName))){if(fn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,s=new FontFace(r,i,a);this.addNativeFontFace(s);try{await s.load(),m(this,Eh).add(r),n==null||n(e)}catch{He(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw He(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Zn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(fn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(k,w){return k.charCodeAt(w)<<24|k.charCodeAt(w+1)<<16|k.charCodeAt(w+2)<<8|k.charCodeAt(w+3)&255}function i(k,w,S,A){const _=k.substring(0,w),E=k.substring(w+S);return _+A+E}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function c(k,w){if(++u>30){He("Load test font never loaded."),w();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(c.bind(null,k,w))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,h.length,h);const g=16,p=1482184792;let v=r(d,g);for(a=0,s=h.length-3;a<s;a+=4)v=v-p+r(h,a)|0;a<h.length&&(v=v-p+r(h+"XXX",a)|0),d=i(d,g,4,HX(v));const y=`url(data:font/opentype;base64,${btoa(d)});`,b=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(b);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const k of[e.loadedName,h]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=k,x.append(w)}this._document.body.append(x),c(h,()=>{x.remove(),n.complete()})}}Eh=new WeakMap;class sK{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${KX(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(a){He(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(a,s){};const i=[];for(let a=0,s=r.length;a<s;)switch(r[a++]){case qa.BEZIER_CURVE_TO:{const[o,l,u,c,h,d]=r.slice(a,a+6);i.push(f=>f.bezierCurveTo(o,l,u,c,h,d)),a+=6}break;case qa.MOVE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.moveTo(o,l)),a+=2}break;case qa.LINE_TO:{const[o,l]=r.slice(a,a+2);i.push(u=>u.lineTo(o,l)),a+=2}break;case qa.QUADRATIC_CURVE_TO:{const[o,l,u,c]=r.slice(a,a+4);i.push(h=>h.quadraticCurveTo(o,l,u,c)),a+=4}break;case qa.RESTORE:i.push(o=>o.restore());break;case qa.SAVE:i.push(o=>o.save());break;case qa.SCALE:fn(i.length===2,"Scale command is only valid at the third position.");break;case qa.TRANSFORM:{const[o,l,u,c,h,d]=r.slice(a,a+6);i.push(f=>f.transform(o,l,u,c,h,d)),a+=6}break;case qa.TRANSLATE:{const[o,l]=r.slice(a,a+2);i.push(u=>u.translate(o,l)),a+=2}break}return this.compiledGlyphs[n]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}var Zm;class oF{constructor({enableHWA:e=!1}){z(this,Zm,!1);D(this,Zm,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,Zm)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Et("Abstract method `_createCanvas` called.")}}Zm=new WeakMap;class oK extends oF{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class lF{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class uF extends lF{async _fetch(e){const n=await Cx(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Ex(n)}}class cF{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var tu,nu,Aa,ss,Hn,V0,ru,Ee,zn,Ec,Cc,Nv,Pc,hF,Ok,Tc,Xf,Kf,Ik,Yf;class lK extends cF{constructor({docId:n,ownerDocument:r=globalThis.document}){super();z(this,Ee);z(this,tu);z(this,nu);z(this,Aa);z(this,ss);z(this,Hn);z(this,V0);z(this,ru,0);D(this,ss,n),D(this,Hn,r)}addFilter(n){if(!n)return"none";let r=m(this,Ee,zn).get(n);if(r)return r;const[i,a,s]=$(this,Ee,Nv).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=m(this,Ee,zn).get(o),r)return m(this,Ee,zn).set(n,r),r;const l=`g_${m(this,ss)}_transfer_map_${er(this,ru)._++}`,u=$(this,Ee,Pc).call(this,l);m(this,Ee,zn).set(n,u),m(this,Ee,zn).set(o,u);const c=$(this,Ee,Tc).call(this,l);return $(this,Ee,Kf).call(this,i,a,s,c),u}addHCMFilter(n,r){var g;const i=`${n}-${r}`,a="base";let s=m(this,Ee,Ec).get(a);if((s==null?void 0:s.key)===i||(s?((g=s.filter)==null||g.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},m(this,Ee,Ec).set(a,s)),!n||!r))return s.url;const o=$(this,Ee,Yf).call(this,n);n=Te.makeHexColor(...o);const l=$(this,Ee,Yf).call(this,r);if(r=Te.makeHexColor(...l),m(this,Ee,Cc).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let p=0;p<=255;p++){const v=p/255;u[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=u.join(","),h=`g_${m(this,ss)}_hcm_filter`,d=s.filter=$(this,Ee,Tc).call(this,h);$(this,Ee,Kf).call(this,c,c,c,d),$(this,Ee,Ok).call(this,d);const f=(p,v)=>{const y=o[p]/255,b=l[p]/255,x=new Array(v+1);for(let k=0;k<=v;k++)x[k]=y+k/v*(b-y);return x.join(",")};return $(this,Ee,Kf).call(this,f(0,5),f(1,5),f(2,5),d),s.url=$(this,Ee,Pc).call(this,h),s.url}addAlphaFilter(n){let r=m(this,Ee,zn).get(n);if(r)return r;const[i]=$(this,Ee,Nv).call(this,[n]),a=`alpha_${i}`;if(r=m(this,Ee,zn).get(a),r)return m(this,Ee,zn).set(n,r),r;const s=`g_${m(this,ss)}_alpha_map_${er(this,ru)._++}`,o=$(this,Ee,Pc).call(this,s);m(this,Ee,zn).set(n,o),m(this,Ee,zn).set(a,o);const l=$(this,Ee,Tc).call(this,s);return $(this,Ee,Ik).call(this,i,l),o}addLuminosityFilter(n){let r=m(this,Ee,zn).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=$(this,Ee,Nv).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=m(this,Ee,zn).get(a),r)return m(this,Ee,zn).set(n,r),r;const s=`g_${m(this,ss)}_luminosity_map_${er(this,ru)._++}`,o=$(this,Ee,Pc).call(this,s);m(this,Ee,zn).set(n,o),m(this,Ee,zn).set(a,o);const l=$(this,Ee,Tc).call(this,s);return $(this,Ee,hF).call(this,l),n&&$(this,Ee,Ik).call(this,i,l),o}addHighlightHCMFilter(n,r,i,a,s){var b;const o=`${r}-${i}-${a}-${s}`;let l=m(this,Ee,Ec).get(n);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},m(this,Ee,Ec).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map($(this,Ee,Yf).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,g]=[a,s].map($(this,Ee,Yf).bind(this));d<h&&([h,d,f,g]=[d,h,g,f]),m(this,Ee,Cc).style.color="";const p=(x,k,w)=>{const S=new Array(256),A=(d-h)/w,_=x/255,E=(k-x)/(255*w);let O=0;for(let R=0;R<=w;R++){const P=Math.round(h+R*A),L=_+R*E;for(let C=O;C<=P;C++)S[C]=L;O=P+1}for(let R=O;R<256;R++)S[R]=S[O-1];return S.join(",")},v=`g_${m(this,ss)}_hcm_${n}_filter`,y=l.filter=$(this,Ee,Tc).call(this,v);return $(this,Ee,Ok).call(this,y),$(this,Ee,Kf).call(this,p(f[0],g[0],5),p(f[1],g[1],5),p(f[2],g[2],5),y),l.url=$(this,Ee,Pc).call(this,v),l.url}destroy(n=!1){n&&m(this,Ee,Ec).size!==0||(m(this,Aa)&&(m(this,Aa).parentNode.parentNode.remove(),D(this,Aa,null)),m(this,nu)&&(m(this,nu).clear(),D(this,nu,null)),D(this,ru,0))}}tu=new WeakMap,nu=new WeakMap,Aa=new WeakMap,ss=new WeakMap,Hn=new WeakMap,V0=new WeakMap,ru=new WeakMap,Ee=new WeakSet,zn=function(){return m(this,nu)||D(this,nu,new Map)},Ec=function(){return m(this,V0)||D(this,V0,new Map)},Cc=function(){if(!m(this,Aa)){const n=m(this,Hn).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,Hn).createElementNS(Ya,"svg");i.setAttribute("width",0),i.setAttribute("height",0),D(this,Aa,m(this,Hn).createElementNS(Ya,"defs")),n.append(i),i.append(m(this,Aa)),m(this,Hn).body.append(n)}return m(this,Aa)},Nv=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=u[d]/255;const h=c.join(",");return[h,h,h]}const[r,i,a]=n,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,o[u]=i[u]/255,l[u]=a[u]/255;return[s.join(","),o.join(","),l.join(",")]},Pc=function(n){if(m(this,tu)===void 0){D(this,tu,"");const r=m(this,Hn).URL;r!==m(this,Hn).baseURI&&(Px(r)?He('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,tu,r.split("#",1)[0]))}return`url(${m(this,tu)}#${n})`},hF=function(n){const r=m(this,Hn).createElementNS(Ya,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},Ok=function(n){const r=m(this,Hn).createElementNS(Ya,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Tc=function(n){const r=m(this,Hn).createElementNS(Ya,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),m(this,Ee,Cc).append(r),r},Xf=function(n,r,i){const a=m(this,Hn).createElementNS(Ya,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},Kf=function(n,r,i,a){const s=m(this,Hn).createElementNS(Ya,"feComponentTransfer");a.append(s),$(this,Ee,Xf).call(this,s,"feFuncR",n),$(this,Ee,Xf).call(this,s,"feFuncG",r),$(this,Ee,Xf).call(this,s,"feFuncB",i)},Ik=function(n,r){const i=m(this,Hn).createElementNS(Ya,"feComponentTransfer");r.append(i),$(this,Ee,Xf).call(this,i,"feFuncA",n)},Yf=function(n){return m(this,Ee,Cc).style.color=n,IC(getComputedStyle(m(this,Ee,Cc)).getPropertyValue("color"))};class dF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class fF extends dF{async _fetch(e){const n=await Cx(e,"arraybuffer");return new Uint8Array(n)}}if(Zn){var Mk=Promise.withResolvers(),xp=null;(async()=>{const e=await By(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await By(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await By(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await By(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:a,path2d:s}))})().then(e=>{xp=e,Mk.resolve()},e=>{He(`loadPackages: ${e}`),xp=new Map,Mk.resolve()})}class nl{static get promise(){return Mk.promise}static get(e){return xp==null?void 0:xp.get(e)}}async function pF(t){const n=await nl.get("fs").promises.readFile(t);return new Uint8Array(n)}class uK extends cF{}class cK extends oF{_createCanvas(e,n){return nl.get("canvas").createCanvas(e,n)}}class hK extends lF{async _fetch(e){return pF(e)}}class dK extends dF{async _fetch(e){return pF(e)}}const ir={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Nk(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class NC{getPattern(){Et("Abstract method `getPattern` called.")}}class fK extends NC{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===ir.STROKE||i===ir.FILL){const s=n.current.getClippedPathBoundingBox(i,jt(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",o,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Te.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),Nk(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else Nk(e,this._bbox),a=this._createGradient(e);return a}}function p1(t,e,n,r,i,a,s,o){const l=e.coords,u=e.colors,c=t.data,h=t.width*4;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=a,a=s,s=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=s,s=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=a,a=s,s=d);const f=(l[n]+e.offsetX)*e.scaleX,g=(l[n+1]+e.offsetY)*e.scaleY,p=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(g>=b)return;const x=u[a],k=u[a+1],w=u[a+2],S=u[s],A=u[s+1],_=u[s+2],E=u[o],O=u[o+1],R=u[o+2],P=Math.round(g),L=Math.round(b);let C,F,q,B,W,G,M,V;for(let U=P;U<=L;U++){if(U<v){const pe=U<g?0:(g-U)/(g-v);C=f-(f-p)*pe,F=x-(x-S)*pe,q=k-(k-A)*pe,B=w-(w-_)*pe}else{let pe;U>b?pe=1:v===b?pe=0:pe=(v-U)/(v-b),C=p-(p-y)*pe,F=S-(S-E)*pe,q=A-(A-O)*pe,B=_-(_-R)*pe}let j;U<g?j=0:U>b?j=1:j=(g-U)/(g-b),W=f-(f-y)*j,G=x-(x-E)*j,M=k-(k-O)*j,V=w-(w-R)*j;const Q=Math.round(Math.min(C,W)),ae=Math.round(Math.max(C,W));let me=h*U+Q*4;for(let pe=Q;pe<=ae;pe++)j=(C-pe)/(C-W),j<0?j=0:j>1&&(j=1),c[me++]=F-(F-G)*j|0,c[me++]=q-(q-M)*j|0,c[me++]=B-(B-V)*j|0,c[me++]=255}}function pK(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(a=0;a<l;a++){let c=a*o;for(let h=0;h<u;h++,c++)p1(t,n,r[c],r[c+1],r[c+o],i[c],i[c+1],i[c+o]),p1(t,n,r[c+o+1],r[c+1],r[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)p1(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class mK extends NC{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=u/h,g=c/d,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/g},v=h+2*2,y=d+2*2,b=r.getCanvas("mesh",v,y),x=b.context,k=x.createImageData(h,d);if(n){const S=k.data;for(let A=0,_=S.length;A<_;A+=4)S[A]=n[0],S[A+1]=n[1],S[A+2]=n[2],S[A+3]=255}for(const S of this._figures)pK(k,S,p);return x.putImageData(k,2,2),{canvas:b.canvas,offsetX:o-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}getPattern(e,n,r,i){Nk(e,this._bbox);let a;if(i===ir.SHADING)a=Te.singularValueDecompose2dScale(jt(e));else if(a=Te.singularValueDecompose2dScale(n.baseTransform),this.matrix){const o=Te.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===ir.SHADING?null:this._background,n.cachedCanvases);return i!==ir.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class gK extends NC{getPattern(){return"hotpink"}}function yK(t){switch(t[0]){case"RadialAxial":return new fK(t);case"Mesh":return new mK(t);case"Dummy":return new gK}throw new Error(`Unknown IR type: ${t[0]}`)}const A2={COLORED:1,UNCOLORED:2},G0=class G0{constructor(e,n,r,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:n,operatorList:r,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),_x("TilingType: "+a);const c=n[0],h=n[1],d=n[2],f=n[3],g=d-c,p=f-h,v=Te.singularValueDecompose2dScale(this.matrix),y=Te.singularValueDecompose2dScale(this.baseTransform),b=v[0]*y[0],x=v[1]*y[1];let k=g,w=p,S=!1,A=!1;const _=Math.ceil(l*b),E=Math.ceil(u*x),O=Math.ceil(g*b),R=Math.ceil(p*x);_>=O?k=l:S=!0,E>=R?w=u:A=!0;const P=this.getSizeAndScale(k,this.ctx.canvas.width,b),L=this.getSizeAndScale(w,this.ctx.canvas.height,x),C=e.cachedCanvases.getCanvas("pattern",P.size,L.size),F=C.context,q=o.createCanvasGraphics(F);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,i,s),F.translate(-P.scale*c,-L.scale*h),q.transform(P.scale,0,0,L.scale,0,0),F.save(),this.clipBbox(q,c,h,d,f),q.baseTransform=jt(q.ctx),q.executeOperatorList(r),q.endDrawing(),F.restore(),S||A){const B=C.canvas;S&&(k=l),A&&(w=u);const W=this.getSizeAndScale(k,this.ctx.canvas.width,b),G=this.getSizeAndScale(w,this.ctx.canvas.height,x),M=W.size,V=G.size,U=e.cachedCanvases.getCanvas("pattern-workaround",M,V),j=U.context,Q=S?Math.floor(g/l):0,ae=A?Math.floor(p/u):0;for(let me=0;me<=Q;me++)for(let pe=0;pe<=ae;pe++)j.drawImage(B,M*me,V*pe,M,V,0,0,M,V);return{canvas:U.canvas,scaleX:W.scale,scaleY:G.scale,offsetX:c,offsetY:h}}return{canvas:C.canvas,scaleX:P.scale,scaleY:L.scale,offsetX:c,offsetY:h}}getSizeAndScale(e,n,r){const i=Math.max(G0.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),e.current.updateRectMinMax(jt(e.ctx),[n,r,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case A2.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case A2.UNCOLORED:const o=Te.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new UX(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let a=r;i!==ir.SHADING&&(a=Te.transform(a,n.baseTransform),this.matrix&&(a=Te.transform(a,this.matrix)));const s=this.createPatternCanvas(n);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};Ne(G0,"MAX_PATTERN_SIZE",3e3);let Rk=G0;function vK({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=or.isLittleEndian?4278190080:255,[l,u]=s?[a,o]:[o,a],c=r>>3,h=r&7,d=t.length;n=new Uint32Array(n.buffer);let f=0;for(let g=0;g<i;g++){for(const v=e+c;e<v;e++){const y=e<d?t[e]:255;n[f++]=y&128?u:l,n[f++]=y&64?u:l,n[f++]=y&32?u:l,n[f++]=y&16?u:l,n[f++]=y&8?u:l,n[f++]=y&4?u:l,n[f++]=y&2?u:l,n[f++]=y&1?u:l}if(h===0)continue;const p=e<d?t[e++]:255;for(let v=0;v<h;v++)n[f++]=p&1<<7-v?u:l}return{srcPos:e,destPos:f}}const E2=16,C2=100,bK=15,P2=10,T2=1e3,vr=16;function xK(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,a,s,o,l){e.transform(r,i,a,s,o,l),this.__originalTransform(r,i,a,s,o,l)},t.setTransform=function(r,i,a,s,o,l){e.setTransform(r,i,a,s,o,l),this.__originalSetTransform(r,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class wK{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function zy(t,e,n,r,i,a,s,o,l,u){const[c,h,d,f,g,p]=jt(t);if(h===0&&d===0){const b=s*c+g,x=Math.round(b),k=o*f+p,w=Math.round(k),S=(s+l)*c+g,A=Math.abs(Math.round(S)-x)||1,_=(o+u)*f+p,E=Math.abs(Math.round(_)-w)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(f),x,w),t.drawImage(e,n,r,i,a,0,0,A,E),t.setTransform(c,h,d,f,g,p),[A,E]}if(c===0&&f===0){const b=o*d+g,x=Math.round(b),k=s*h+p,w=Math.round(k),S=(o+u)*d+g,A=Math.abs(Math.round(S)-x)||1,_=(s+l)*h+p,E=Math.abs(Math.round(_)-w)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,x,w),t.drawImage(e,n,r,i,a,0,0,E,A),t.setTransform(c,h,d,f,g,p),[E,A]}t.drawImage(e,n,r,i,a,s,o,l,u);const v=Math.hypot(c,h),y=Math.hypot(d,f);return[v*l,y*u]}function SK(t){const{width:e,height:n}=t;if(e>T2||n>T2)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(n+1)),o,l,u;const c=e+7&-8;let h=new Uint8Array(c*n),d=0;for(const y of t.data){let b=128;for(;b>0;)h[d++]=y&b?0:255,b>>=1}let f=0;for(d=0,h[d]!==0&&(s[0]=1,++f),l=1;l<e;l++)h[d]!==h[d+1]&&(s[l]=h[d]?2:1,++f),d++;for(h[d]!==0&&(s[l]=2,++f),o=1;o<n;o++){d=o*c,u=o*a,h[d-c]!==h[d]&&(s[u]=h[d]?1:8,++f);let y=(h[d]?4:0)+(h[d-c]?8:0);for(l=1;l<e;l++)y=(y>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0),i[y]&&(s[u+l]=i[y],++f),d++;if(h[d-c]!==h[d]&&(s[u+l]=h[d]?2:4,++f),f>r)return null}for(d=c*(n-1),u=o*a,h[d]!==0&&(s[u]=8,++f),l=1;l<e;l++)h[d]!==h[d+1]&&(s[u+l]=h[d]?4:8,++f),d++;if(h[d]!==0&&(s[u+l]=4,++f),f>r)return null;const g=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(o=0;f&&o<=n;o++){let y=o*a;const b=y+e;for(;y<b&&!s[y];)y++;if(y===b)continue;p.moveTo(y%a,o);const x=y;let k=s[y];do{const w=g[k];do y+=w;while(!s[y]);const S=s[y];S!==5&&S!==10?(k=S,s[y]=0):(k=S&51*k>>4,s[y]&=k>>2|k<<2),p.lineTo(y%a,y/a|0),s[y]||--f}while(x!==y);--o}return h=null,s=null,function(y){y.save(),y.scale(1/e,-1/n),y.translate(0,-n),y.fill(p),y.beginPath(),y.restore()}}class O2{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=I$,this.textMatrixScale=1,this.fontMatrix=sk,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Te.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Te.applyTransform(n,e),i=Te.applyTransform(n.slice(2),e),a=Te.applyTransform([n[0],n[3]],e),s=Te.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,n){Te.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,a,s,o,l,u,c){const h=Te.bezierBoundingBox(n,r,i,a,s,o,l,u,c);c||this.updateRectMinMax(e,h)}getPathBoundingBox(e=ir.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===ir.STROKE){n||Et("Stroke bounding box must include transform.");const i=Te.singularValueDecompose2dScale(n),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=a,r[1]-=s,r[2]+=a,r[3]+=s}return r}updateClipFromPath(){const e=Te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ir.FILL,n=null){return Te.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function I2(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%vr,a=(n-i)/vr,s=i===0?a:a+1,o=t.createImageData(r,vr);let l=0,u;const c=e.data,h=o.data;let d,f,g,p;if(e.kind===Ev.GRAYSCALE_1BPP){const v=c.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),b=y.length,x=r+7>>3,k=4294967295,w=or.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(g=d<a?vr:i,u=0,f=0;f<g;f++){const S=v-l;let A=0;const _=S>x?r:S*8-7,E=_&-8;let O=0,R=0;for(;A<E;A+=8)R=c[l++],y[u++]=R&128?k:w,y[u++]=R&64?k:w,y[u++]=R&32?k:w,y[u++]=R&16?k:w,y[u++]=R&8?k:w,y[u++]=R&4?k:w,y[u++]=R&2?k:w,y[u++]=R&1?k:w;for(;A<_;A++)O===0&&(R=c[l++],O=128),y[u++]=R&O?k:w,O>>=1}for(;u<b;)y[u++]=0;t.putImageData(o,0,d*vr)}}else if(e.kind===Ev.RGBA_32BPP){for(f=0,p=r*vr*4,d=0;d<a;d++)h.set(c.subarray(l,l+p)),l+=p,t.putImageData(o,0,f),f+=vr;d<s&&(p=r*i*4,h.set(c.subarray(l,l+p)),t.putImageData(o,0,f))}else if(e.kind===Ev.RGB_24BPP)for(g=vr,p=r*g,d=0;d<s;d++){for(d>=a&&(g=i,p=r*g),u=0,f=p;f--;)h[u++]=c[l++],h[u++]=c[l++],h[u++]=c[l++],h[u++]=255;t.putImageData(o,0,d*vr)}else throw new Error(`bad image kind: ${e.kind}`)}function M2(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%vr,a=(n-i)/vr,s=i===0?a:a+1,o=t.createImageData(r,vr);let l=0;const u=e.data,c=o.data;for(let h=0;h<s;h++){const d=h<a?vr:i;({srcPos:l}=vK({src:u,srcPos:l,dest:c,width:r,height:d,nonBlackColor:0})),t.putImageData(o,0,h*vr)}}function Cf(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Uy(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Zn){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function N2(t,e){if(e)return!0;const n=Te.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*tl.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const kK=["butt","round","square"],_K=["miter","round","bevel"],AK={},R2={};var il,Lk,jk;const XP=class XP{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,u){z(this,il);this.ctx=e,this.current=new O2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new wK(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...jt(this.compositeCtx))}this.ctx.save(),Uy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=jt(this.ctx)}executeOperatorList(e,n,r,i){const a=e.argsArray,s=e.fnArray;let o=n||0;const l=a.length;if(l===o)return o;const u=l-o>P2&&typeof r=="function",c=u?Date.now()+bK:0;let h=0;const d=this.commonObjs,f=this.objs;let g;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(g=s[o],g!==ji.dependency)this[g].apply(this,a[o]);else for(const p of a[o]){const v=p.startsWith("g_")?d:f;if(!v.has(p))return v.get(p,r),o}if(o++,o===l)return o;if(u&&++h>P2){if(Date.now()>c)return r(),o;h=0}}}endDrawing(){$(this,il,Lk).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),$(this,il,jk).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,u="prescale1",c,h;for(;a>2&&o>1||s>2&&l>1;){let d=o,f=l;a>2&&o>1&&(d=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/d),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),c=this.cachedCanvases.getCanvas(u,d,f),h=c.context,h.clearRect(0,0,d,f),h.drawImage(e,0,0,o,l,0,0,d,f),e=c.canvas,o=d,l=f,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=jt(n);let l,u,c,h;if((e.bitmap||e.data)&&e.count>1){const _=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(_),l||(l=new Map,this._cachedBitmapsMap.set(_,l));const E=l.get(u);if(E&&!s){const O=Math.round(Math.min(o[0],o[2])+o[4]),R=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:E,offsetX:O,offsetY:R}}c=E}c||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),M2(h.context,e));let d=Te.transform(o,[1/r,0,0,-1/i,0,0]);d=Te.transform(d,[1,0,0,1,0,-i]);const[f,g,p,v]=Te.getAxialAlignedBoundingBox([0,0,r,i],d),y=Math.round(p-f)||1,b=Math.round(v-g)||1,x=this.cachedCanvases.getCanvas("fillCanvas",y,b),k=x.context,w=f,S=g;k.translate(-w,-S),k.transform(...d),c||(c=this._scaleImage(h.canvas,Xa(k)),c=c.img,l&&s&&l.set(u,c)),k.imageSmoothingEnabled=N2(jt(k),e.interpolate),zy(k,c,0,0,c.width,c.height,0,0,r,i),k.globalCompositeOperation="source-in";const A=Te.transform(Xa(k),[1,0,0,1,-w,-S]);return k.fillStyle=s?a.getPattern(n,this,A,ir.FILL):a,k.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(w),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=kK[e]}setLineJoin(e){this.ctx.lineJoin=_K[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...jt(this.suspendedCtx)),Cf(this.suspendedCtx,a),xK(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,l,u,c,h){let d=e.canvas,f=l-c,g=u-h;if(s){const v=Te.makeHexColor(...s);if(f<0||g<0||f+r>d.width||g+i>d.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),b=y.context;b.drawImage(d,-f,-g),b.globalCompositeOperation="destination-atop",b.fillStyle=v,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",d=y.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(f,g,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(f,g,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,u,r,i),n.clip(p),n.globalCompositeOperation="destination-in",n.drawImage(d,f,g,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Cf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Cf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,a,s){this.ctx.transform(e,n,r,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,u;const c=jt(i),h=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,d=h?r.slice(0):null;for(let f=0,g=0,p=e.length;f<p;f++)switch(e[f]|0){case ji.rectangle:s=n[g++],o=n[g++];const v=n[g++],y=n[g++],b=s+v,x=o+y;i.moveTo(s,o),v===0||y===0?i.lineTo(b,x):(i.lineTo(b,o),i.lineTo(b,x),i.lineTo(s,x)),h||a.updateRectMinMax(c,[s,o,b,x]),i.closePath();break;case ji.moveTo:s=n[g++],o=n[g++],i.moveTo(s,o),h||a.updatePathMinMax(c,s,o);break;case ji.lineTo:s=n[g++],o=n[g++],i.lineTo(s,o),h||a.updatePathMinMax(c,s,o);break;case ji.curveTo:l=s,u=o,s=n[g+4],o=n[g+5],i.bezierCurveTo(n[g],n[g+1],n[g+2],n[g+3],s,o),a.updateCurvePathMinMax(c,l,u,n[g],n[g+1],n[g+2],n[g+3],s,o,d),g+=6;break;case ji.curveTo2:l=s,u=o,i.bezierCurveTo(s,o,n[g],n[g+1],n[g+2],n[g+3]),a.updateCurvePathMinMax(c,l,u,s,o,n[g],n[g+1],n[g+2],n[g+3],d),s=n[g+2],o=n[g+3],g+=4;break;case ji.curveTo3:l=s,u=o,s=n[g+2],o=n[g+3],i.bezierCurveTo(n[g],n[g+1],s,o,s,o),a.updateCurvePathMinMax(c,l,u,n[g],n[g+1],s,o,s,o,d),g+=4;break;case ji.closePath:i.closePath();break}h&&a.updateScalingPathMinMax(c,d),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,Xa(n),ir.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,Xa(n),ir.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),a&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=AK}eoClip(){this.pendingClip=R2}beginText(){this.current.textMatrix=I$,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||sk,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&He("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${a}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=n;n<E2?u=E2:n>C2&&(u=C2),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,a,s){this.current.textMatrix=[e,n,r,i,a,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&Bn.FILL_STROKE_MASK,h=!!(l&Bn.ADD_TO_PATH_FLAG),d=s.patternFill&&!o.missingFile;let f;(o.disableFontFace||h||d)&&(f=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||d?(a.save(),a.translate(n,r),a.beginPath(),f(a,u),i&&a.setTransform(...i),(c===Bn.FILL||c===Bn.FILL_STROKE)&&a.fill(),(c===Bn.STROKE||c===Bn.FILL_STROKE)&&a.stroke(),a.restore()):((c===Bn.FILL||c===Bn.FILL_STROKE)&&a.fillText(e,n,r),(c===Bn.STROKE||c===Bn.FILL_STROKE)&&a.strokeText(e,n,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:jt(a),x:n,y:r,fontSize:u,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ze(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const a=this.ctx,s=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,h=e.length,d=r.vertical,f=d?1:-1,g=r.defaultVMetrics,p=i*n.fontMatrix[0],v=n.textRenderingMode===Bn.FILL&&!r.disableFontFace&&!n.patternFill;a.save(),a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(c,-1):a.scale(c,1);let y;if(n.patternFill){a.save();const S=n.fillColor.getPattern(a,this,Xa(a),ir.FILL);y=jt(a),a.restore(),a.fillStyle=S}let b=n.lineWidth;const x=n.textMatrixScale;if(x===0||b===0){const S=n.textRenderingMode&Bn.FILL_STROKE_MASK;(S===Bn.STROKE||S===Bn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=x;if(s!==1&&(a.scale(s,s),b/=s),a.lineWidth=b,r.isInvalidPDFjsFont){const S=[];let A=0;for(const _ of e)S.push(_.unicode),A+=_.width;a.fillText(S.join(""),0,0),n.x+=A*p*c,a.restore(),this.compose();return}let k=0,w;for(w=0;w<h;++w){const S=e[w];if(typeof S=="number"){k+=f*S*i/1e3;continue}let A=!1;const _=(S.isSpace?l:0)+o,E=S.fontChar,O=S.accent;let R,P,L=S.width;if(d){const F=S.vmetric||g,q=-(S.vmetric?F[1]:L*.5)*p,B=F[2]*p;L=F?-F[0]:L,R=q/s,P=(k+B)/s}else R=k/s,P=0;if(r.remeasure&&L>0){const F=a.measureText(E).width*1e3/i*s;if(L<F&&this.isFontSubpixelAAEnabled){const q=L/F;A=!0,a.save(),a.scale(q,1),R/=q}else L!==F&&(R+=(L-F)/2e3*i/s)}if(this.contentVisible&&(S.isInFont||r.missingFile)){if(v&&!O)a.fillText(E,R,P);else if(this.paintChar(E,R,P,y),O){const F=R+i*O.offset.x/s,q=P-i*O.offset.y/s;this.paintChar(O.fontChar,F,q,y)}}const C=d?L*p-_*u:L*p+_*u;k+=C,A&&a.restore()}d?n.y-=k:n.x+=k*c,a.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,a=r.fontSize,s=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,h=r.fontMatrix||sk,d=e.length,f=r.textRenderingMode===Bn.INVISIBLE;let g,p,v,y;if(!(f||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),g=0;g<d;++g){if(p=e[g],typeof p=="number"){y=o*p*a/1e3,this.ctx.translate(y,0),r.x+=y*c;continue}const b=(p.isSpace?u:0)+l,x=i.charProcOperatorList[p.operatorListId];if(!x){He(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(x),this.restore()),v=Te.applyTransform([p.width,0],h)[0]*a+b,n.translate(v,0),r.x+=v*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,a,s){this.ctx.rect(r,i,a-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||jt(this.ctx),a={createCanvasGraphics:s=>new XP(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Rk(e,r,this.ctx,a,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){this.ctx.strokeStyle=this.current.strokeColor=Te.makeHexColor(e,n,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,n,r){this.ctx.fillStyle=this.current.fillColor=Te.makeHexColor(e,n,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=yK(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,Xa(n),ir.SHADING);const i=Xa(n);if(i){const{width:a,height:s}=n.canvas,[o,l,u,c]=Te.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,u-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Et("Should not call beginInlineImage")}beginImageData(){Et("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=jt(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(jt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||_x("TODO: Support non-isolated groups."),e.knockout&&He("Knockout groups not supported.");const r=jt(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Te.getAxialAlignedBoundingBox(e.bbox,jt(n));const a=[0,0,n.canvas.width,n.canvas.height];i=Te.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(c,l,u),d=h.context;d.translate(-s,-o),d.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,o),n.save()),Cf(n,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=jt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Te.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,a){if($(this,il,Lk).call(this),Uy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],o=n[3]-n[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=o;const[l,u]=Te.singularValueDecompose2dScale(jt(this.ctx)),{viewportScale:c}=this,h=Math.ceil(s*this.outputScaleX*c),d=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:f,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),Uy(this.ctx)}else Uy(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new O2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),$(this,il,jk).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=SK(e)),i.compiled)){i.compiled(r);return}const a=this._createMaskCanvas(e),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=jt(o);o.transform(n,r,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,h=s.length;c<h;c+=2){const d=Te.transform(l,[n,r,i,a,s[c],s[c+1]]),[f,g]=Te.applyTransform([0,0],d);o.drawImage(u.canvas,f,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:u}=a,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=c.context;h.save();const d=this.getObject(s,a);M2(h,d),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Xa(n),ir.FILL):r,h.fillRect(0,0,o,l),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),zy(n,c.canvas,0,0,o,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){He("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!Zn){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/n,-1/r);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;I2(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,Xa(i));i.imageSmoothingEnabled=N2(jt(i),e.interpolate),zy(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;I2(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of n)r.save(),r.transform(...a.transform),r.scale(1,-1),zy(r,i,a.x,a.y,a.w,a.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===R2?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=jt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(a);if(l===u)if(e===0)s=o=1/l;else{const c=l*e;s=o=c<1?1/c:1}else if(e===0)s=1/l,o=1/u;else{const c=l*e,h=u*e;s=c<1?1/c:1,o=h<1?1/h:1}}else{const l=Math.abs(n*a-r*i),u=Math.hypot(n,r),c=Math.hypot(i,a);if(e===0)s=c/l,o=u/l;else{const h=e*l;s=c>h?c/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,a]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&a===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,a),s.length>0){const o=Math.max(i,a);n.setLineDash(s.map(l=>l/o)),n.lineDashOffset/=o}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};il=new WeakSet,Lk=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},jk=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let ah=XP;for(const t in ji)ah.prototype[t]!==void 0&&(ah.prototype[ji[t]]=ah.prototype[t]);var Qm,Jm;class As{static get workerPort(){return m(this,Qm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");D(this,Qm,e)}static get workerSrc(){return m(this,Jm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");D(this,Jm,e)}}Qm=new WeakMap,Jm=new WeakMap,z(As,Qm,null),z(As,Jm,"");const Hy={DATA:1,ERROR:2},Yt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Or(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new lc(t.message);case"MissingPDFException":return new oc(t.message);case"PasswordException":return new ok(t.message,t.code);case"UnexpectedResponseException":return new Ax(t.message,t.status);case"UnknownErrorException":return new lk(t.message,t.details);default:return new lk(t.message,t.toString())}}var Ch,ki,mF,gF,yF,Rv;class Zf{constructor(e,n,r){z(this,ki);z(this,Ch,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",$(this,ki,mF).bind(this),{signal:m(this,Ch).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[a].pullCall=c,l.postMessage({sourceName:s,targetName:o,stream:Yt.PULL,streamId:a,desiredSize:u.desiredSize}),c.promise},cancel:u=>{fn(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[a].cancelCall=c,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Yt.CANCEL,streamId:a,reason:Or(u)}),c.promise}},r)}destroy(){var e;(e=m(this,Ch))==null||e.abort(),D(this,Ch,null)}}Ch=new WeakMap,ki=new WeakSet,mF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){$(this,ki,yF).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Hy.DATA)i.resolve(e.data);else if(e.callback===Hy.ERROR)i.reject(Or(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(s){s(n(e.data))}).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:Hy.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:Hy.ERROR,callbackId:e.callbackId,reason:Or(s)})});return}if(e.streamId){$(this,ki,gF).call(this,e);return}n(e.data)},gF=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,c=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=c,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Yt.ENQUEUE,streamId:n,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Yt.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){fn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Yt.ERROR,streamId:n,reason:Or(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Yt.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:r,targetName:i,stream:Yt.START_COMPLETE,streamId:n,reason:Or(u)})})},yF=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Yt.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Or(e.reason));break;case Yt.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Or(e.reason));break;case Yt.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:Yt.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Yt.PULL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:Yt.PULL_COMPLETE,streamId:n,reason:Or(l)})});break;case Yt.ENQUEUE:if(fn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Yt.CLOSE:if(fn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),$(this,ki,Rv).call(this,s,n);break;case Yt.ERROR:fn(s,"error should have stream controller"),s.controller.error(Or(e.reason)),$(this,ki,Rv).call(this,s,n);break;case Yt.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Or(e.reason)),$(this,ki,Rv).call(this,s,n);break;case Yt.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,Or(e.reason)))}).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Yt.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){a.postMessage({sourceName:r,targetName:i,stream:Yt.CANCEL_COMPLETE,streamId:n,reason:Or(l)})}),o.sinkCapability.reject(Or(e.reason)),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Rv=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var iu,eg;class EK{constructor({parsedData:e,rawData:n}){z(this,iu);z(this,eg);D(this,iu,e),D(this,eg,n)}getRaw(){return m(this,eg)}get(e){return m(this,iu).get(e)??null}getAll(){return EC(m(this,iu))}has(e){return m(this,iu).has(e)}}iu=new WeakMap,eg=new WeakMap;const Oc=Symbol("INTERNAL");var tg,ng,rg,Ph;class CK{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){z(this,tg,!1);z(this,ng,!1);z(this,rg,!1);z(this,Ph,!0);D(this,tg,!!(e&Ur.DISPLAY)),D(this,ng,!!(e&Ur.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(m(this,rg))return m(this,Ph);if(!m(this,Ph))return!1;const{print:e,view:n}=this.usage;return m(this,tg)?(n==null?void 0:n.viewState)!=="OFF":m(this,ng)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Oc&&Et("Internal method `_setVisible` called."),D(this,rg,r),D(this,Ph,n)}}tg=new WeakMap,ng=new WeakMap,rg=new WeakMap,Ph=new WeakMap;var So,ut,Th,Oh,ig,Dk;class PK{constructor(e,n=Ur.DISPLAY){z(this,ig);z(this,So,null);z(this,ut,new Map);z(this,Th,null);z(this,Oh,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,D(this,Oh,e.order);for(const r of e.groups)m(this,ut).set(r.id,new CK(n,r));if(e.baseState==="OFF")for(const r of m(this,ut).values())r._setVisible(Oc,!1);for(const r of e.on)m(this,ut).get(r)._setVisible(Oc,!0);for(const r of e.off)m(this,ut).get(r)._setVisible(Oc,!1);D(this,Th,this.getHash())}}isVisible(e){if(m(this,ut).size===0)return!0;if(!e)return _x("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,ut).has(e.id)?m(this,ut).get(e.id).visible:(He(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return $(this,ig,Dk).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!m(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(m(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!m(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(!m(this,ut).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!m(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(!m(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!m(this,ut).has(n))return He(`Optional content group not found: ${n}`),!0;if(m(this,ut).get(n).visible)return!1}return!0}return He(`Unknown optional content policy ${e.policy}.`),!0}return He(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=m(this,ut).get(e);if(!i){He(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=m(this,ut).get(o))==null||a._setVisible(Oc,!1,!0));i._setVisible(Oc,!!n,!0),D(this,So,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=m(this,ut).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}D(this,So,null)}get hasInitialVisibility(){return m(this,Th)===null||this.getHash()===m(this,Th)}getOrder(){return m(this,ut).size?m(this,Oh)?m(this,Oh).slice():[...m(this,ut).keys()]:null}getGroups(){return m(this,ut).size>0?EC(m(this,ut)):null}getGroup(e){return m(this,ut).get(e)||null}getHash(){if(m(this,So)!==null)return m(this,So);const e=new iF;for(const[n,r]of m(this,ut))e.update(`${n}:${r.visible}`);return D(this,So,e.hexdigest())}}So=new WeakMap,ut=new WeakMap,Th=new WeakMap,Oh=new WeakMap,ig=new WeakSet,Dk=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=$(this,ig,Dk).call(this,a);else if(m(this,ut).has(a))s=m(this,ut).get(a).visible;else return He(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class TK{constructor(e,{disableRange:n=!1,disableStream:r=!1}){fn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});fn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){fn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new OK(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new IK(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class OK{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=TC(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class IK{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function MK(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=o(n);return c=unescape(c),c=l(c),c=u(c),a(c)}if(n=s(t),n){const c=u(n);return a(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=o(n);return c=u(c),a(c)}function r(c,h){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(c,h){if(c){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const d=new TextDecoder(c,{fatal:!0}),f=Ex(h);h=d.decode(f),e=!1}catch{}}return h}function a(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const h=[];let d;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=f.exec(c))!==null;){let[,p,v,y]=d;if(p=parseInt(p,10),p in h){if(p===0)break;continue}h[p]=[v,y]}const g=[];for(let p=0;p<h.length&&p in h;++p){let[v,y]=h[p];y=o(y),v&&(y=unescape(y),p===0&&(y=l(y))),g.push(y)}return g.join("")}function o(c){if(c.startsWith('"')){const h=c.slice(1).split('\\"');for(let d=0;d<h.length;++d){const f=h[d].indexOf('"');f!==-1&&(h[d]=h[d].slice(0,f),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}c=h.join('"')}return c}function l(c){const h=c.indexOf("'");if(h===-1)return c;const d=c.slice(0,h),g=c.slice(h+1).replace(/^[^']*'/,"");return i(d,g)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),i(d,g);try{g=atob(g)}catch{}return i(d,g)})}return""}function RC(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function LC({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function jC(t){const e=t.get("Content-Disposition");if(e){let n=MK(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(TC(n))return n}return null}function Tx(t,e){return t===404||t===0&&e.startsWith("file:")?new oc('Missing PDF "'+e+'".'):new Ax(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function vF(t){return t===200||t===206}function bF(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xF(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(He(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class L2{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=RC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new NK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new RK(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class NK{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,bF(r,this._withCredentials,this._abortController)).then(a=>{if(!vF(a.status))throw Tx(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=LC({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=jC(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new lc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xF(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class RK{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,bF(a,this._withCredentials,this._abortController)).then(o=>{if(!vF(o.status))throw Tx(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:xF(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const m1=200,g1=206;function LK(t){const e=t.response;return typeof e!="string"?e:Ex(e).buffer}class jK{constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=RC(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const a in r)i[a]=r[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=g1):i.expectedStatus=m1,n.responseType="arraybuffer",e.onError&&(n.onerror=function(a){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const a=i.status||m1;if(!(a===m1&&r.expectedStatus===g1)&&a!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const o=LK(i);if(a===g1){const h=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(d[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class DK{constructor(e){this._source=e,this._manager=new jK(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return fn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $K(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new FK(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class $K{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{const[o,...l]=s.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=LC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=jC(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Tx(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class FK{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Tx(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const BK=/^[a-z][a-z0-9\-+.]+:/i;function zK(t){if(BK.test(t))return new URL(t);const e=nl.get("url");return new URL(e.pathToFileURL(t))}function wF(t,e,n){return t.protocol==="http:"?nl.get("http").request(t,{headers:e},n):nl.get("https").request(t,{headers:e},n)}class UK{constructor(e){this.source=e,this.url=zK(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=RC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return fn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new VK(this):new HK(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new GK(this,e,n):new WK(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class SF{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new lc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kF{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class HK extends SF{constructor(e){super(e);const n=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const l=new oc(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:o}=LC({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=jC(a)};this._request=wF(this._url,n,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class WK extends kF{constructor(e,n,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${n}-${r-1}`;const a=s=>{if(s.statusCode===404){const o=new oc(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=wF(this._url,i,a),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class VK extends SF{constructor(e){super(e);const n=nl.get("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new oc(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class GK extends kF{constructor(e,n,r){super(e);const i=nl.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:n,end:r-1}))}}const qK=1e5,dr=30,XK=.8;var VR,ko,gr,ag,sg,au,os,og,lg,su,Ih,Mh,_o,Nh,ug,Rh,ou,cg,hg,zt,lu,uu,dg,Ao,Lh,Gs,_F,AF,Fk,Zr,Lv,Bk,EF,CF;let $k=(zt=class{constructor({textContentSource:e,container:n,viewport:r}){z(this,Gs);z(this,ko,Promise.withResolvers());z(this,gr,null);z(this,ag,!1);z(this,sg,!!((VR=globalThis.FontInspector)!=null&&VR.enabled));z(this,au,null);z(this,os,null);z(this,og,0);z(this,lg,0);z(this,su,null);z(this,Ih,null);z(this,Mh,0);z(this,_o,0);z(this,Nh,Object.create(null));z(this,ug,[]);z(this,Rh,null);z(this,ou,[]);z(this,cg,new WeakMap);z(this,hg,null);var l;if(e instanceof ReadableStream)D(this,Rh,e);else if(typeof e=="object")D(this,Rh,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,gr,D(this,Ih,n)),D(this,_o,r.scale*(globalThis.devicePixelRatio||1)),D(this,Mh,r.rotation),D(this,os,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;D(this,hg,[1,0,0,-1,-s,o+a]),D(this,lg,i),D(this,og,a),$(l=zt,Zr,EF).call(l),Gu(n,r),m(this,ko).promise.finally(()=>{m(zt,Lh).delete(this),D(this,os,null),D(this,Nh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=or.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,su).read().then(({value:n,done:r})=>{if(r){m(this,ko).resolve();return}m(this,au)??D(this,au,n.lang),Object.assign(m(this,Nh),n.styles),$(this,Gs,_F).call(this,n.items),e()},m(this,ko).reject)};return D(this,su,m(this,Rh).getReader()),m(zt,Lh).add(this),e(),m(this,ko).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,Mh)&&(n==null||n(),D(this,Mh,i),Gu(m(this,Ih),{rotation:i})),r!==m(this,_o)){n==null||n(),D(this,_o,r);const s={div:null,properties:null,ctx:$(a=zt,Zr,Lv).call(a,m(this,au))};for(const o of m(this,ou))s.properties=m(this,cg).get(o),s.div=o,$(this,Gs,Fk).call(this,s)}}cancel(){var n;const e=new lc("TextLayer task cancelled.");(n=m(this,su))==null||n.cancel(e).catch(()=>{}),D(this,su,null),m(this,ko).reject(e)}get textDivs(){return m(this,ou)}get textContentItemsStr(){return m(this,ug)}static cleanup(){if(!(m(this,Lh).size>0)){m(this,lu).clear();for(const{canvas:e}of m(this,uu).values())e.remove();m(this,uu).clear()}}},ko=new WeakMap,gr=new WeakMap,ag=new WeakMap,sg=new WeakMap,au=new WeakMap,os=new WeakMap,og=new WeakMap,lg=new WeakMap,su=new WeakMap,Ih=new WeakMap,Mh=new WeakMap,_o=new WeakMap,Nh=new WeakMap,ug=new WeakMap,Rh=new WeakMap,ou=new WeakMap,cg=new WeakMap,hg=new WeakMap,lu=new WeakMap,uu=new WeakMap,dg=new WeakMap,Ao=new WeakMap,Lh=new WeakMap,Gs=new WeakSet,_F=function(e){var i,a;if(m(this,ag))return;(a=m(this,os)).ctx??(a.ctx=$(i=zt,Zr,Lv).call(i,m(this,au)));const n=m(this,ou),r=m(this,ug);for(const s of e){if(n.length>qK){He("Ignoring additional textDivs for performance reasons."),D(this,ag,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=m(this,gr);D(this,gr,document.createElement("span")),m(this,gr).classList.add("markedContent"),s.id!==null&&m(this,gr).setAttribute("id",`${s.id}`),o.append(m(this,gr))}else s.type==="endMarkedContent"&&D(this,gr,m(this,gr).parentNode);continue}r.push(s.str),$(this,Gs,AF).call(this,s)}},AF=function(e){var p;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,ou).push(n);const i=Te.transform(m(this,hg),e.transform);let a=Math.atan2(i[1],i[0]);const s=m(this,Nh)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=m(this,sg)&&s.fontSubstitution||s.fontFamily;o=zt.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*$(p=zt,Zr,CF).call(p,o,m(this,au));let c,h;a===0?(c=i[4],h=i[5]-u):(c=i[4]+u*Math.sin(a),h=i[5]-u*Math.cos(a));const d="calc(var(--scale-factor)*",f=n.style;m(this,gr)===m(this,Ih)?(f.left=`${(100*c/m(this,lg)).toFixed(2)}%`,f.top=`${(100*h/m(this,og)).toFixed(2)}%`):(f.left=`${d}${c.toFixed(2)}px)`,f.top=`${d}${h.toFixed(2)}px)`),f.fontSize=`${d}${(m(zt,Ao)*l).toFixed(2)}px)`,f.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,m(this,sg)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);v!==y&&Math.max(v,y)/Math.min(v,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=s.vertical?e.height:e.width),m(this,cg).set(n,r),m(this,os).div=n,m(this,os).properties=r,$(this,Gs,Fk).call(this,m(this,os)),r.hasText&&m(this,gr).append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),m(this,gr).append(v)}},Fk=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(m(zt,Ao)>1&&(s=`scale(${1/m(zt,Ao)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:c}=r;$(o=zt,Zr,Bk).call(o,i,c*m(this,_o),l);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${u*m(this,_o)/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},Zr=new WeakSet,Lv=function(e=null){let n=m(this,uu).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,uu).set(e,n),m(this,dg).set(n,{size:0,family:""})}return n},Bk=function(e,n,r){const i=m(this,dg).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},EF=function(){if(m(this,Ao)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),D(this,Ao,e.getBoundingClientRect().height),e.remove()},CF=function(e,n){const r=m(this,lu).get(e);if(r)return r;const i=$(this,Zr,Lv).call(this,n);i.canvas.width=i.canvas.height=dr,$(this,Zr,Bk).call(this,i,dr,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const c=s/(s+o);return m(this,lu).set(e,c),i.canvas.width=i.canvas.height=0,c}i.strokeStyle="red",i.clearRect(0,0,dr,dr),i.strokeText("g",0,0);let l=i.getImageData(0,0,dr,dr).data;o=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){o=Math.ceil(c/4/dr);break}i.clearRect(0,0,dr,dr),i.strokeText("A",0,dr),l=i.getImageData(0,0,dr,dr).data,s=0;for(let c=0,h=l.length;c<h;c+=4)if(l[c]>0){s=dr-Math.floor(c/4/dr);break}i.canvas.width=i.canvas.height=0;const u=s?s/(s+o):XK;return m(this,lu).set(e,u),u},z(zt,Zr),z(zt,lu,new Map),z(zt,uu,new Map),z(zt,dg,new WeakMap),z(zt,Ao,null),z(zt,Lh,new Set),zt);class Kp{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(Kp.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const u of a.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const KK=65536,YK=100,ZK=5e3,QK=Zn?cK:oK,JK=Zn?hK:uF,eY=Zn?uK:lK,tY=Zn?dK:fF;function nY(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new zk,{docId:n}=e,r=t.url?rY(t.url):null,i=t.data?iY(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof PF?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:KK;let c=t.worker instanceof sh?t.worker:null;const h=t.verbosity,d=typeof t.docBaseUrl=="string"&&!Px(t.docBaseUrl)?t.docBaseUrl:null,f=typeof t.cMapUrl=="string"?t.cMapUrl:null,g=t.cMapPacked!==!1,p=t.CMapReaderFactory||JK,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,y=t.StandardFontDataFactory||tY,b=t.stopAtErrors!==!0,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,w=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Zn,S=typeof t.isChrome=="boolean"?t.isChrome:!or.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),A=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,_=typeof t.disableFontFace=="boolean"?t.disableFontFace:Zn,E=t.fontExtraProperties===!0,O=t.enableXfa===!0,R=t.ownerDocument||globalThis.document,P=t.disableRange===!0,L=t.disableStream===!0,C=t.disableAutoFetch===!0,F=t.pdfBug===!0,q=t.CanvasFactory||QK,B=t.FilterFactory||eY,W=t.enableHWA===!0,G=l?l.length:t.length??NaN,M=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Zn&&!_,V=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===uF&&y===fF&&f&&v&&Wf(f,document.baseURI)&&Wf(v,document.baseURI);t.canvasFactory&&k2("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&k2("`filterFactory`-instance option, please use `FilterFactory` instead.");const U=null;$X(h);const j={canvasFactory:new q({ownerDocument:R,enableHWA:W}),filterFactory:new B({docId:n,ownerDocument:R}),cMapReaderFactory:V?null:new p({baseUrl:f,isCompressed:g}),standardFontDataFactory:V?null:new y({baseUrl:v})};if(!c){const me={verbosity:h,port:As.workerPort};c=me.port?sh.fromPort(me):new sh(me),e._worker=c}const Q={docId:n,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:C,rangeChunkSize:u,length:G,docBaseUrl:d,enableXfa:O,evaluatorOptions:{maxImageSize:x,disableFontFace:_,ignoreErrors:b,isEvalSupported:k,isOffscreenCanvasSupported:w,isChrome:S,canvasMaxAreaInBytes:A,fontExtraProperties:E,useSystemFonts:M,cMapUrl:V?f:null,standardFontDataUrl:V?v:null}},ae={disableFontFace:_,fontExtraProperties:E,ownerDocument:R,pdfBug:F,styleElement:U,loadingParams:{disableAutoFetch:C,enableXfa:O}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const me=c.messageHandler.sendWithPromise("GetDocRequest",Q,i?[i.buffer]:null);let pe;if(l)pe=new TK(l,{disableRange:P,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let ue;Zn?ue=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Wf(r)?L2:UK:ue=Wf(r)?L2:DK,pe=new ue({url:r,length:G,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:P,disableStream:L})}return me.then(ue=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const re=new Zf(n,ue,c.port),de=new lY(re,e,pe,ae,j);e._transport=de,re.send("Ready",null)})}).catch(e._capability.reject),e}function rY(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Zn&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iY(t){if(Zn&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Ex(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function j2(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var q0;const X0=class X0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${er(X0,q0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};q0=new WeakMap,z(X0,q0,0);let zk=X0,PF=class{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class aY{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Eo,ls,gi,Ic,jv;class sY{constructor(e,n,r,i=!1){z(this,gi);z(this,Eo,null);z(this,ls,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new S2:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new TF,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new ey({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=lo.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:h=!1}){var k,w;(k=this._stats)==null||k.time("Overall");const d=this._transport.getRenderingIntent(r,i,c,h),{renderingIntent:f,cacheKey:g}=d;D(this,ls,!1),$(this,gi,jv).call(this),o||(o=this._transport.getOptionalContentConfig(f));let p=this._intentStates.get(g);p||(p=Object.create(null),this._intentStates.set(g,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const v=!!(f&Ur.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(d));const y=S=>{var A;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||v)&&D(this,ls,!0),$(this,gi,Ic).call(this,!v),S?(b.capability.reject(S),this._abortOperatorList({intentState:p,reason:S instanceof Error?S:new Error(S)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new Hk({callback:y,params:{canvasContext:e,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(b);const x=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([S,A])=>{var _;if(this.destroyed){y();return}if((_=this._stats)==null||_.time("Rendering"),!(A.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:S,optionalContentConfig:A}),b.operatorListChanged()}).catch(y),x}getOperatorList({intent:e="display",annotationMode:n=lo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Kp.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),D(this,ls,!1),$(this,gi,jv).call(this),Promise.all(e)}cleanup(e=!1){D(this,ls,!0);const n=$(this,gi,Ic).call(this,!1);return e&&n&&this._stats&&(this._stats=new S2),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&$(this,gi,Ic).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(n);u.streamReader=l;const c=()=>{l.read().then(({value:h,done:d})=>{if(d){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),c())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const d of u.renderTasks)d.operatorListChanged();$(this,gi,Ic).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof PC){let i=YK;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new lc(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Eo=new WeakMap,ls=new WeakMap,gi=new WeakSet,Ic=function(e=!1){if($(this,gi,jv).call(this),!m(this,ls)||this.destroyed)return!1;if(e)return D(this,Eo,setTimeout(()=>{D(this,Eo,null),$(this,gi,Ic).call(this,!1)},ZK)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,ls,!1),!0},jv=function(){m(this,Eo)&&(clearTimeout(m(this,Eo)),D(this,Eo,null))};var us,K0;class oY{constructor(){z(this,us,new Map);z(this,K0,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};m(this,K0).then(()=>{for(const[i]of m(this,us))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}m(this,us).set(n,i)}removeEventListener(e,n){const r=m(this,us).get(n);r==null||r(),m(this,us).delete(n)}terminate(){for(const[,e]of m(this,us))e==null||e();m(this,us).clear()}}us=new WeakMap,K0=new WeakMap;var Y0,cu,hu,jh,Dv,Dh,$v;const Tt=class Tt{constructor({name:e=null,port:n=null,verbosity:r=FX()}={}){z(this,jh);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=m(Tt,hu))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(m(Tt,hu)||D(Tt,hu,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Zn?Promise.all([nl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Zf("main","worker",e),this._messageHandler.on("ready",function(){}),$(this,jh,Dv).call(this)}_initialize(){if(m(Tt,cu)||m(Tt,Dh,$v)){this._setupFakeWorker();return}let{workerSrc:e}=Tt;try{Tt._isSameOrigin(window.location.href,e)||(e=Tt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Zf("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,$(this,jh,Dv).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{_x("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Tt,cu)||(He("Setting up fake worker."),D(Tt,cu,!0)),Tt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new oY;this._port=n;const r=`fake${er(Tt,Y0)._++}`,i=new Zf(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new Zf(r,r+"_worker",n),$(this,jh,Dv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Tt,hu))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=m(this,hu))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Tt(e)}static get workerSrc(){if(As.workerSrc)return As.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>m(this,Dh,$v)?m(this,Dh,$v):(await import(this.workerSrc)).WorkerMessageHandler)())}};Y0=new WeakMap,cu=new WeakMap,hu=new WeakMap,jh=new WeakSet,Dv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Dh=new WeakSet,$v=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},z(Tt,Dh),z(Tt,Y0,0),z(Tt,cu,!1),z(Tt,hu),Zn&&(D(Tt,cu,!0),As.workerSrc||(As.workerSrc="./pdf.worker.mjs")),Tt._isSameOrigin=(e,n)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(n,r);return r.origin===i.origin},Tt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let sh=Tt;var cs,Ea,$h,Fh,Ca,du,Qf;class lY{constructor(e,n,r,i,a){z(this,du);z(this,cs,new Map);z(this,Ea,new Map);z(this,$h,new Map);z(this,Fh,new Map);z(this,Ca,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new TF,this.fontLoader=new aK({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new MC)}getRenderingIntent(e,n=lo.ENABLE,r=null,i=!1,a=!1){let s=Ur.DISPLAY,o=Tk;switch(e){case"any":s=Ur.ANY;break;case"display":break;case"print":s=Ur.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${e}`)}const l=s&Ur.PRINT&&r instanceof sF?r:this.annotationStorage;switch(n){case lo.DISABLE:s+=Ur.ANNOTATIONS_DISABLE;break;case lo.ENABLE:break;case lo.ENABLE_FORMS:s+=Ur.ANNOTATIONS_FORMS;break;case lo.ENABLE_STORAGE:s+=Ur.ANNOTATIONS_STORAGE,o=l.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=Ur.IS_EDITING),a&&(s+=Ur.OPLIST);const{ids:u,hash:c}=l.modifiedIds,h=[s,o.hash,c];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,Ca))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,Ea).values())e.push(i._destroy());m(this,Ea).clear(),m(this,$h).clear(),m(this,Fh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,cs).clear(),this.filterFactory.destroy(),$k.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new lc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{fn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}fn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{fn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}fn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new aY(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new ok(r.message,r.code);break;case"InvalidPDFException":i=new M$(r.message);break;case"MissingPDFException":i=new oc(r.message);break;case"UnexpectedResponseException":i=new Ax(r.message,r.status);break;case"UnknownErrorException":i=new lk(r.message,r.details);break;default:Et("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(D(this,Ca,Promise.withResolvers()),n.onPassword){const i=a=>{a instanceof Error?m(this,Ca).reject(a):m(this,Ca).resolve({password:a})};try{n.onPassword(i,r.code)}catch(a){m(this,Ca).reject(a)}}else m(this,Ca).reject(new ok(r.message,r.code));return m(this,Ca).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,Ea).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in a){const f=a.error;He(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(f,g)=>globalThis.FontInspector.fontAdded(f,g):null,h=new sK(a,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:d}=a;fn(d,"The imageRef must be defined.");for(const f of m(this,Ea).values())for(const[,g]of f.objs)if((g==null?void 0:g.ref)===d)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var l;if(this.destroyed)return;const o=m(this,Ea).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(r,s),(s==null?void 0:s.dataLen)>RX&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=m(this,$h).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&m(this,Fh).set(a.refStr,e);const s=new sY(n,a,this,this._params.pdfBug);return m(this,Ea).set(n,s),s});return m(this,$h).set(n,i),i}getPageIndex(e){return j2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return $(this,du,Qf).call(this,"GetFieldObjects")}hasJSActions(){return $(this,du,Qf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return $(this,du,Qf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return $(this,du,Qf).call(this,"GetOptionalContentConfig").then(n=>new PK(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=m(this,cs).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new EK(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return m(this,cs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of m(this,Ea).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,cs).clear(),this.filterFactory.destroy(!0),$k.cleanup()}}cachedPageNumber(e){if(!j2(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Fh).get(n)??null}}cs=new WeakMap,Ea=new WeakMap,$h=new WeakMap,Fh=new WeakMap,Ca=new WeakMap,du=new WeakSet,Qf=function(e,n=null){const r=m(this,cs).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return m(this,cs).set(e,i),i};const Wy=Symbol("INITIAL_DATA");var Ui,fg,Uk;class TF{constructor(){z(this,fg);z(this,Ui,Object.create(null))}get(e,n=null){if(n){const i=$(this,fg,Uk).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=m(this,Ui)[e];if(!r||r.data===Wy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=m(this,Ui)[e];return!!n&&n.data!==Wy}resolve(e,n=null){const r=$(this,fg,Uk).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in m(this,Ui)){const{data:r}=m(this,Ui)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}D(this,Ui,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Ui)){const{data:n}=m(this,Ui)[e];n!==Wy&&(yield[e,n])}}}Ui=new WeakMap,fg=new WeakSet,Uk=function(e){var n;return(n=m(this,Ui))[e]||(n[e]={...Promise.withResolvers(),data:Wy})};var Co;class uY{constructor(e){z(this,Co,null);D(this,Co,e),this.onContinue=null}get promise(){return m(this,Co).capability.promise}cancel(e=0){m(this,Co).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Co).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=m(this,Co);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Co=new WeakMap;var Po,fu;const Il=class Il{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:d=null}){z(this,Po,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new uY(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var o,l;if(this.cancelled)return;if(this._canvas){if(m(Il,fu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(Il,fu).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new ah(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Po)&&(window.cancelAnimationFrame(m(this,Po)),D(this,Po,null)),m(Il,fu).delete(this._canvas),this.callback(e||new PC(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,Po,window.requestAnimationFrame(()=>{D(this,Po,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(Il,fu).delete(this._canvas),this.callback())))}};Po=new WeakMap,fu=new WeakMap,z(Il,fu,new WeakSet);let Hk=Il;const cY="4.8.69",hY="3634dab10";function D2(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Pf(t){return Math.max(0,Math.min(255,255*t))}class $2{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Pf(e),[e,e,e]}static G_HTML([e]){const n=D2(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Pf)}static RGB_HTML(e){return`#${e.map(D2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Pf(1-Math.min(1,e+i)),Pf(1-Math.min(1,r+i)),Pf(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class dY{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Et("Abstract method `_createSVG` called.")}}class DC extends dY{_createSVG(e){return document.createElementNS(Ya,e)}}class OF{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var h,d;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);s.append(f),o&&Kp.shouldBuildText(i.name)&&u.push(f)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[f,g,p]=c.at(-1);if(g+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const x=document.createTextNode(v.value);u.push(x),p.append(x);continue}const b=(h=v==null?void 0:v.attributes)!=null&&h.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(p.append(b),v.attributes&&this.setAttributes({html:b,element:v,storage:n,intent:a,linkService:r}),((d=v.children)==null?void 0:d.length)>0)c.push([v,-1,b]);else if(v.value){const x=document.createTextNode(v.value);o&&Kp.shouldBuildText(y)&&u.push(x),b.append(x)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ny=1e3,fY=9,Xu=new WeakSet;function Ms(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class pY{static create(e){switch(e.data.annotationType){case sn.LINK:return new IF(e);case sn.TEXT:return new mY(e);case sn.WIDGET:switch(e.data.fieldType){case"Tx":return new gY(e);case"Btn":return e.data.radioButton?new RF(e):e.data.checkBox?new vY(e):new bY(e);case"Ch":return new xY(e);case"Sig":return new yY(e)}return new uc(e);case sn.POPUP:return new Vk(e);case sn.FREETEXT:return new FF(e);case sn.LINE:return new SY(e);case sn.SQUARE:return new kY(e);case sn.CIRCLE:return new _Y(e);case sn.POLYLINE:return new BF(e);case sn.CARET:return new EY(e);case sn.INK:return new $C(e);case sn.POLYGON:return new AY(e);case sn.HIGHLIGHT:return new zF(e);case sn.UNDERLINE:return new CY(e);case sn.SQUIGGLY:return new PY(e);case sn.STRIKEOUT:return new TY(e);case sn.STAMP:return new UF(e);case sn.FILEATTACHMENT:return new OY(e);default:return new Kt(e)}}}var pu,Bh,zh,pg,Wk;const KP=class KP{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){z(this,pg);z(this,pu,null);z(this,Bh,!1);z(this,zh,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return KP._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,pu)||D(this,pu,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&$(this,pg,Wk).call(this,n),(r=m(this,zh))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,pu)&&($(this,pg,Wk).call(this,m(this,pu).rect),(e=m(this,zh))==null||e.popup.resetEdited(),D(this,pu,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),this instanceof uc||(a.tabIndex=ny);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof Vk){const{rotation:p}=n;return!n.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:o,height:l}=Ms(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const p=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(p>0||v>0){const b=`calc(${p}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;s.borderRadius=b}else if(this instanceof RF){const b=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=b}switch(n.borderStyle.style){case Ef.SOLID:s.borderStyle="solid";break;case Ef.DASHED:s.borderStyle="dashed";break;case Ef.BEVELED:He("Unimplemented border style: beveled");break;case Ef.INSET:He("Unimplemented border style: inset");break;case Ef.UNDERLINE:s.borderBottomStyle="solid";break}const y=n.borderColor||null;y?(D(this,Bh,!0),s.borderColor=Te.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):s.borderWidth=0}const u=Te.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:h,pageX:d,pageY:f}=i.rawDims;s.left=`${100*(u[0]-d)/c}%`,s.top=`${100*(u[1]-f)/h}%`;const{rotation:g}=n;return n.hasOwnCanvas||g===0?(s.width=`${100*o/c}%`,s.height=`${100*l/h}%`):this.setRotation(g,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=Ms(this.data.rect);let o,l;e%180===0?(o=100*a/r,l=100*s/i):(o=100*s/r,l=100*a/i),n.style.width=`${o}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=$2[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:$2[`${s}_rgb`](o)})};return Ze(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,y,b]=e.subarray(2,6);if(i===p&&a===v&&n===y&&r===b)return}const{style:s}=this.container;let o;if(m(this,Bh)){const{borderColor:p,borderWidth:v}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-n,u=a-r,{svgFactory:c}=this,h=c.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const d=c.createElement("defs");h.append(d);const f=c.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),d.append(f);for(let p=2,v=e.length;p<v;p+=8){const y=e[p],b=e[p+1],x=e[p+2],k=e[p+3],w=c.createElement("rect"),S=(x-n)/l,A=(a-b)/u,_=(y-x)/l,E=(b-k)/u;w.setAttribute("x",S),w.setAttribute("y",A),w.setAttribute("width",_),w.setAttribute("height",E),f.append(w),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${A}" width="${_}" height="${E}"/>`)}m(this,Bh)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:e}=this,n=D(this,zh,new Vk({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!Xu.has(u)){He(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&Xu.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};pu=new WeakMap,Bh=new WeakMap,zh=new WeakMap,pg=new WeakSet,Wk=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Ms(e);n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/a}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let Kt=KP;var Vr,Sl,MF,NF;class IF extends Kt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});z(this,Vr);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action),a=!0):n.attachment?($(this,Vr,MF).call(this,i,n.attachment,n.attachmentDest),a=!0):n.setOCGState?($(this,Vr,NF).call(this,i,n.setOCGState),a=!0):n.dest?(this._bindLink(i,n.dest),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&$(this,Vr,Sl).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),$(this,Vr,Sl).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}n.onclick||(n.onclick=()=>!1),$(this,Vr,Sl).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),$(this,Vr,Sl).call(this),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:a,refs:s,include:o}=r,l=[];if(a.length!==0||s.length!==0){const d=new Set(s);for(const f of a){const g=this._fieldObjects[f]||[];for(const{id:p}of g)d.add(p)}for(const f of Object.values(this._fieldObjects))for(const g of f)d.has(g.id)===o&&l.push(g)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const u=this.annotationStorage,c=[];for(const d of l){const{id:f}=d;switch(c.push(f),d.type){case"text":{const p=d.defaultValue||"";u.setValue(f,{value:p});break}case"checkbox":case"radiobutton":{const p=d.defaultValue===d.exportValues;u.setValue(f,{value:p});break}case"combobox":case"listbox":{const p=d.defaultValue||"";u.setValue(f,{value:p});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!Xu.has(g)){He(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Vr=new WeakSet,Sl=function(){this.container.setAttribute("data-internal-link","")},MF=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,i),!1},$(this,Vr,Sl).call(this)},NF=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),$(this,Vr,Sl).call(this)};class mY extends Kt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class uc extends Kt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[l,u]of r)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Te.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||fY,a=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(u/(h1*i))||1,h=u/c;s=Math.min(i,l(h/h1))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(u/h1))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=Te.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class gY extends uc{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Xu.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=ny,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",d=>{e.setValue(n,{value:d.target.value}),this.setPropertyOnSiblings(r,"value",d.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue??"";r.value=c.userValue=f,c.formattedValue=null});let h=d=>{const{formattedValue:f}=c;f!=null&&(d.target.value=f),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var p;if(c.focused)return;const{target:g}=f;c.userValue&&(g.value=c.userValue),c.lastCommittedValue=g.value,c.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const g={value(p){c.userValue=p.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),p.target.value=c.userValue},formattedValue(p){const{formattedValue:v}=p.detail;c.formattedValue=v,v!=null&&p.target!==document.activeElement&&(p.target.value=v),e.setValue(n,{formattedValue:v})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var x;const{charLimit:v}=p.detail,{target:y}=p;if(v===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",v);let b=c.userValue;!b||b.length<=v||(b=b.slice(0,v),y.value=c.userValue=b,e.setValue(n,{value:b}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(g,f)}),r.addEventListener("keydown",f=>{var v;c.commitKey=1;let g=-1;if(f.key==="Escape"?g=0:f.key==="Enter"&&!this.data.multiLine?g=2:f.key==="Tab"&&(c.commitKey=3),g===-1)return;const{value:p}=f.target;c.lastCommittedValue!==p&&(c.lastCommittedValue=p,c.userValue=p,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:g,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const d=h;h=null,r.addEventListener("blur",f=>{var p,v;if(!c.focused||!f.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(c.focused=!1);const{value:g}=f.target;c.userValue=g,c.lastCommittedValue!==g&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:g,willCommit:!0,commitKey:c.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),d(f)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",f=>{var w;c.lastCommittedValue=null;const{data:g,target:p}=f,{value:v,selectionStart:y,selectionEnd:b}=p;let x=y,k=b;switch(f.inputType){case"deleteWordBackward":{const S=v.substring(0,y).match(/\w*[^\w]*$/);S&&(x-=S[0].length);break}case"deleteWordForward":{const S=v.substring(y).match(/^[^\w]*\w*/);S&&(k+=S[0].length);break}case"deleteContentBackward":y===b&&(x-=1);break;case"deleteContentForward":y===b&&(k+=1);break}f.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:g||"",willCommit:!1,selStart:x,selEnd:k}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yY extends uc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class vY extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Xu.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=ny,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class RF extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(Xu.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=ny,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const c=s===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const d=c&&h.id===r;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class bY extends IF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class xY extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Xu.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=ny;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const h=this.data.defaultFieldValue;for(const d of i.options)d.selected=d.value===h});for(const c of this.data.options){const h=document.createElement("option");h.textContent=c.displayValue,h.value=c.exportValue,r.value.includes(c.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=c=>{const h=c?"value":"textContent",{options:d,multiple:f}=i;return f?Array.prototype.filter.call(d,g=>g.selected).map(g=>g[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]};let l=o(!1);const u=c=>{const h=c.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const h={value(d){s==null||s();const f=d.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=g.has(p.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(d){i.multiple=!0},remove(d){const f=i.options,g=d.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(n,{value:o(!0),items:u(d)}),l=o(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(d){const{index:f,displayValue:g,exportValue:p}=d.detail.insert,v=i.children[f],y=document.createElement("option");y.textContent=g,y.value=p,v?v.before(y):i.append(y),e.setValue(n,{value:o(!0),items:u(d)}),l=o(!1)},items(d){const{items:f}=d.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:p,exportValue:v}=g,y=document.createElement("option");y.textContent=p,y.value=v,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:u(d)}),l=o(!1)},indices(d){const f=new Set(d.detail.indices);for(const g of d.target.options)g.selected=f.has(g.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,c)}),i.addEventListener("input",c=>{var f;const h=o(!0),d=o(!1);e.setValue(n,{value:h}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vk extends Kt{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Kt._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new wY({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${CC}${r}`).join(",")),this.container}}var Uh,Z0,Q0,Hh,mu,Bt,hs,Wh,mg,gg,Vh,ds,Hi,fs,yg,ps,vg,gu,yu,mt,Fv,Gk,LF,jF,DF,$F,Bv,zv,qk;class wY{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:u,parentRect:c,open:h}){z(this,mt);z(this,Uh,$(this,mt,DF).bind(this));z(this,Z0,$(this,mt,qk).bind(this));z(this,Q0,$(this,mt,zv).bind(this));z(this,Hh,$(this,mt,Bv).bind(this));z(this,mu,null);z(this,Bt,null);z(this,hs,null);z(this,Wh,null);z(this,mg,null);z(this,gg,null);z(this,Vh,null);z(this,ds,!1);z(this,Hi,null);z(this,fs,null);z(this,yg,null);z(this,ps,null);z(this,vg,null);z(this,gu,null);z(this,yu,!1);var d;D(this,Bt,e),D(this,vg,i),D(this,hs,s),D(this,ps,o),D(this,gg,l),D(this,mu,n),D(this,yg,u),D(this,Vh,c),D(this,mg,r),D(this,Wh,OC.toDateObject(a)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",m(this,Hh)),f.addEventListener("mouseenter",m(this,Q0)),f.addEventListener("mouseleave",m(this,Z0)),f.classList.add("popupTriggerArea");for(const f of r)(d=f.container)==null||d.addEventListener("keydown",m(this,Uh));m(this,Bt).hidden=!0,h&&$(this,mt,Bv).call(this)}render(){if(m(this,Hi))return;const e=D(this,Hi,document.createElement("div"));if(e.className="popup",m(this,mu)){const a=e.style.outlineColor=Te.makeHexColor(...m(this,mu));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Te.makeHexColor(...m(this,mu).map(o=>Math.floor(.7*(255-o)+o)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=m(this,vg),e.append(n),m(this,Wh)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Wh).valueOf()})),n.append(a)}const i=m(this,mt,Fv);if(i)OF.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(m(this,hs));e.append(a)}m(this,Bt).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];r.append(document.createTextNode(o)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;m(this,gu)||D(this,gu,{contentsObj:m(this,hs),richText:m(this,ps)}),e&&D(this,fs,null),n&&(D(this,ps,$(this,mt,jF).call(this,n)),D(this,hs,null)),(r=m(this,Hi))==null||r.remove(),D(this,Hi,null)}resetEdited(){var e;m(this,gu)&&({contentsObj:er(this,hs)._,richText:er(this,ps)._}=m(this,gu),D(this,gu,null),(e=m(this,Hi))==null||e.remove(),D(this,Hi,null),D(this,fs,null))}forceHide(){D(this,yu,this.isVisible),m(this,yu)&&(m(this,Bt).hidden=!0)}maybeShow(){m(this,yu)&&(m(this,Hi)||$(this,mt,zv).call(this),D(this,yu,!1),m(this,Bt).hidden=!1)}get isVisible(){return m(this,Bt).hidden===!1}}Uh=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,Hh=new WeakMap,mu=new WeakMap,Bt=new WeakMap,hs=new WeakMap,Wh=new WeakMap,mg=new WeakMap,gg=new WeakMap,Vh=new WeakMap,ds=new WeakMap,Hi=new WeakMap,fs=new WeakMap,yg=new WeakMap,ps=new WeakMap,vg=new WeakMap,gu=new WeakMap,yu=new WeakMap,mt=new WeakSet,Fv=function(){const e=m(this,ps),n=m(this,hs);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&m(this,ps).html||null},Gk=function(){var e,n,r;return((r=(n=(e=m(this,mt,Fv))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},LF=function(){var e,n,r;return((r=(n=(e=m(this,mt,Fv))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},jF=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:m(this,mt,LF),fontSize:m(this,mt,Gk)?`calc(${m(this,mt,Gk)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},DF=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,ds))&&$(this,mt,Bv).call(this)},$F=function(){if(m(this,fs)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=m(this,gg);let s=!!m(this,Vh),o=s?m(this,Vh):m(this,yg);for(const g of m(this,mg))if(!o||Te.intersect(g.data.rect,o)!==null){o=g.data.rect,s=!0;break}const l=Te.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=s?o[2]-o[0]+5:0,h=l[0]+c,d=l[1];D(this,fs,[100*(h-i)/n,100*(d-a)/r]);const{style:f}=m(this,Bt);f.left=`${m(this,fs)[0]}%`,f.top=`${m(this,fs)[1]}%`},Bv=function(){D(this,ds,!m(this,ds)),m(this,ds)?($(this,mt,zv).call(this),m(this,Bt).addEventListener("click",m(this,Hh)),m(this,Bt).addEventListener("keydown",m(this,Uh))):($(this,mt,qk).call(this),m(this,Bt).removeEventListener("click",m(this,Hh)),m(this,Bt).removeEventListener("keydown",m(this,Uh)))},zv=function(){m(this,Hi)||this.render(),this.isVisible?m(this,ds)&&m(this,Bt).classList.add("focused"):($(this,mt,$F).call(this),m(this,Bt).hidden=!1,m(this,Bt).style.zIndex=parseInt(m(this,Bt).style.zIndex)+1e3)},qk=function(){m(this,Bt).classList.remove("focused"),!(m(this,ds)||!this.isVisible)&&(m(this,Bt).hidden=!0,m(this,Bt).style.zIndex=parseInt(m(this,Bt).style.zIndex)-1e3)};class FF extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var bg;class SY extends Kt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,bg,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Ms(n.rect),a=this.svgFactory.create(r,i,!0),s=D(this,bg,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,bg)}addHighlightArea(){this.container.classList.add("highlightArea")}}bg=new WeakMap;var xg;class kY extends Kt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,xg,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Ms(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,xg,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}xg=new WeakMap;var wg;class _Y extends Kt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,wg,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Ms(n.rect),a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,wg,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,wg)}addHighlightArea(){this.container.classList.add("highlightArea")}}wg=new WeakMap;var Sg;class BF extends Kt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,Sg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a}}=this;if(!r)return this.container;const{width:s,height:o}=Ms(n),l=this.svgFactory.create(s,o,!0);let u=[];for(let h=0,d=r.length;h<d;h+=2){const f=r[h]-n[0],g=n[3]-r[h+1];u.push(`${f},${g}`)}u=u.join(" ");const c=D(this,Sg,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Sg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sg=new WeakMap;class AY extends BF{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class EY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var kg;class $C extends Kt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});z(this,kg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{width:s,height:o}=Ms(n),l=this.svgFactory.create(s,o,!0);for(const u of r){let c=[];for(let d=0,f=u.length;d<f;d+=2){const g=u[d]-n[0],p=n[3]-u[d+1];c.push(`${g},${p}`)}c=c.join(" ");const h=this.svgFactory.createElement(this.svgElementName);m(this,kg).push(h),h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}kg=new WeakMap;class zF extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class CY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class PY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class TY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class UF extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _g,Ag,Xk;class OY extends Kt{constructor(n){var i;super(n,{isRenderable:!0});z(this,Ag);z(this,_g,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",$(this,Ag,Xk).bind(this)),D(this,_g,i);const{isMac:a}=or.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&$(this,Ag,Xk).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return m(this,_g)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,Ag=new WeakSet,Xk=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Eg,vu,bu,Cg,ec,HF,Kk,GR;let IY=(GR=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){z(this,ec);z(this,Eg,null);z(this,vu,null);z(this,bu,new Map);z(this,Cg,null);this.div=e,D(this,Eg,n),D(this,vu,r),D(this,Cg,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,bu).size>0}async render(e){var s;const{annotations:n}=e,r=this.div;Gu(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DC,annotationStorage:e.annotationStorage||new MC,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===sn.POPUP;if(l){const h=i.get(o.id);if(!h)continue;a.elements=h}else{const{width:h,height:d}=Ms(o.rect);if(h<=0||d<=0)continue}a.data=o;const u=pY.create(a);if(!u.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(u):i.set(o.popupRef,[u])}const c=u.render();o.hidden&&(c.style.visibility="hidden"),await $(this,ec,HF).call(this,c,o.id),u._isEditable&&(m(this,bu).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}$(this,ec,Kk).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Gu(n,{rotation:e.rotation}),$(this,ec,Kk).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(m(this,bu).values())}getEditableAnnotation(e){return m(this,bu).get(e)}},Eg=new WeakMap,vu=new WeakMap,bu=new WeakMap,Cg=new WeakMap,ec=new WeakSet,HF=async function(e,n){var s,o;const r=e.firstChild||e,i=r.id=`${CC}${n}`,a=await((s=m(this,Cg))==null?void 0:s.getAriaAttributes(i));if(a)for(const[l,u]of a)r.setAttribute(l,u);this.div.append(e),(o=m(this,Eg))==null||o.moveElementInDOM(this.div,e,r,!1)},Kk=function(){if(!m(this,vu))return;const e=this.div;for(const[n,r]of m(this,vu)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r)}m(this,vu).clear()},GR);const Vy=/\r\n?|\n/g;var Wi,jr,Pg,xu,Dr,rn,WF,VF,GF,Uv,Ds,Hv,Wv,qF,Zk,XF;const vt=class vt extends ct{constructor(n){super({...n,name:"freeTextEditor"});z(this,rn);z(this,Wi);z(this,jr,"");z(this,Pg,`${this.id}-editor`);z(this,xu,null);z(this,Dr);D(this,Wi,n.color||vt._defaultColor||ct._defaultLineColor),D(this,Dr,n.fontSize||vt._defaultFontSize)}static get _keyboardManager(){const n=vt.prototype,r=s=>s.isEmpty(),i=qu.TRANSLATE_SMALL,a=qu.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new ty([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){ct.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Le.FREETEXT_SIZE:vt._defaultFontSize=r;break;case Le.FREETEXT_COLOR:vt._defaultColor=r;break}}updateParams(n,r){switch(n){case Le.FREETEXT_SIZE:$(this,rn,WF).call(this,r);break;case Le.FREETEXT_COLOR:$(this,rn,VF).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Le.FREETEXT_SIZE,vt._defaultFontSize],[Le.FREETEXT_COLOR,vt._defaultColor||ct._defaultLineColor]]}get propertiesToUpdate(){return[[Le.FREETEXT_SIZE,m(this,Dr)],[Le.FREETEXT_COLOR,m(this,Wi)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-vt._internalPadding*n,-(vt._internalPadding+m(this,Dr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Fe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,xu,new AbortController);const n=this._uiManager.combinedSignal(m(this,xu));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,Pg)),this._isDraggable=!0,(n=m(this,xu))==null||n.abort(),D(this,xu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=m(this,jr),r=D(this,jr,$(this,rn,GF).call(this).trimEnd());if(n===r)return;const i=a=>{if(D(this,jr,a),!a){this.remove();return}$(this,rn,Wv).call(this),this._uiManager.rebuild(this),$(this,rn,Uv).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),$(this,rn,Uv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){vt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,Pg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Dr)}px * var(--scale-factor))`,i.color=m(this,Wi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Mb(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,h]=this.pageDimensions,[d,f]=this.pageTranslation;let g,p;switch(this.rotation){case 0:g=n+(o[0]-d)/c,p=r+this.height-(o[1]-f)/h;break;case 90:g=n+(o[0]-d)/c,p=r-(o[1]-f)/h,[l,u]=[u,-l];break;case 180:g=n-this.width+(o[0]-d)/c,p=r-(o[1]-f)/h,[l,u]=[-l,-u];break;case 270:g=n+(o[0]-d-this.height*h)/c,p=r+(o[1]-f-this.width*c)/h,[l,u]=[-u,l];break}this.setAt(g*a,p*s,l,u)}else this.setAt(n*a,r*s,this.width*a,this.height*s);$(this,rn,Wv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var g,p,v;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=$(g=vt,Ds,Zk).call(g,r.getData("text")||"").replaceAll(Vy,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,c=[],h=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Vy,"")),y!==this.editorDiv){let b=c;for(const x of this.editorDiv.childNodes){if(x===y){b=h;continue}b.push($(p=vt,Ds,Hv).call(p,x))}}c.push(l.nodeValue.slice(0,u).replaceAll(Vy,""))}else if(l===this.editorDiv){let y=c,b=0;for(const x of this.editorDiv.childNodes)b++===u&&(y=h),y.push($(v=vt,Ds,Hv).call(v,x))}D(this,jr,`${c.join(`
`)}${a}${h.join(`
`)}`),$(this,rn,Wv).call(this);const d=new Range;let f=c.reduce((y,b)=>y+b.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(f<=b){d.setStart(y,f),d.setEnd(y,f);break}f-=b}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(n,r,i){var o;let a=null;if(n instanceof FF){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:h,id:d,popupRef:f},textContent:g,textPosition:p,parent:{page:{pageNumber:v}}}=n;if(!g||g.length===0)return null;a=n={annotationType:Fe.FREETEXT,color:Array.from(u),fontSize:l,value:g.join(`
`),position:p,pageIndex:v-1,rect:c.slice(0),rotation:h,id:d,deleted:!1,popupRef:f}}const s=await super.deserialize(n,r,i);return D(s,Dr,n.fontSize),D(s,Wi,Te.makeHexColor(...n.color)),D(s,jr,$(o=vt,Ds,Zk).call(o,n.value)),s.annotationElementId=n.id||null,s._initialData=a,s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=vt._internalPadding*this.parentScale,i=this.getRect(r,r),a=ct._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Wi)),s={annotationType:Fe.FREETEXT,color:a,fontSize:m(this,Dr),value:$(this,rn,qF).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!$(this,rn,XF).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,Dr)}px * var(--scale-factor))`,i.color=m(this,Wi),r.replaceChildren();for(const s of m(this,jr).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}const a=vt._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(a,a),popupContent:m(this,jr)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Wi=new WeakMap,jr=new WeakMap,Pg=new WeakMap,xu=new WeakMap,Dr=new WeakMap,rn=new WeakSet,WF=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-m(this,Dr))*this.parentScale),D(this,Dr,a),$(this,rn,Uv).call(this)},i=m(this,Dr);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},VF=function(n){const r=a=>{D(this,Wi,this.editorDiv.style.color=a)},i=m(this,Wi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},GF=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push($(i=vt,Ds,Hv).call(i,a)),r=a);return n.join(`
`)},Uv=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Ds=new WeakSet,Hv=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Vy,"")},Wv=function(){if(this.editorDiv.replaceChildren(),!!m(this,jr))for(const n of m(this,jr).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},qF=function(){return m(this,jr).replaceAll(""," ")},Zk=function(n){return n.replaceAll(" ","")},XF=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==a[l])||n.pageIndex!==s},z(vt,Ds),Ne(vt,"_freeTextDefaultContent",""),Ne(vt,"_internalPadding",0),Ne(vt,"_defaultColor",null),Ne(vt,"_defaultFontSize",10),Ne(vt,"_type","freetext"),Ne(vt,"_editorType",Fe.FREETEXT);let Yk=vt;class KF{toSVGPath(){Et("Abstract method `toSVGPath` must be implemented.")}get box(){Et("Abstract getter `box` must be implemented.")}serialize(e,n){Et("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Et("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Et("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var $r,Vi,Gh,qh,Pa,We,wu,Su,Tg,Og,Xh,Kh,To,Ig,J0,ex,gn,Jf,YF,ZF,QF,JF,e3,t3;const Ja=class Ja{constructor({x:e,y:n},r,i,a,s,o=0){z(this,gn);z(this,$r);z(this,Vi,[]);z(this,Gh);z(this,qh);z(this,Pa,[]);z(this,We,new Float64Array(18));z(this,wu);z(this,Su);z(this,Tg);z(this,Og);z(this,Xh);z(this,Kh);z(this,To,[]);D(this,$r,r),D(this,Kh,a*i),D(this,qh,s),m(this,We).set([NaN,NaN,NaN,NaN,e,n],6),D(this,Gh,o),D(this,Og,m(Ja,Ig)*i),D(this,Tg,m(Ja,ex)*i),D(this,Xh,i),m(this,To).push(e,n)}isEmpty(){return isNaN(m(this,We)[8])}add({x:e,y:n}){var E;D(this,wu,e),D(this,Su,n);const[r,i,a,s]=m(this,$r);let[o,l,u,c]=m(this,We).subarray(8,12);const h=e-u,d=n-c,f=Math.hypot(h,d);if(f<m(this,Tg))return!1;const g=f-m(this,Og),p=g/f,v=p*h,y=p*d;let b=o,x=l;o=u,l=c,u+=v,c+=y,(E=m(this,To))==null||E.push(e,n);const k=-y/g,w=v/g,S=k*m(this,Kh),A=w*m(this,Kh);return m(this,We).set(m(this,We).subarray(2,8),0),m(this,We).set([u+S,c+A],4),m(this,We).set(m(this,We).subarray(14,18),12),m(this,We).set([u-S,c-A],16),isNaN(m(this,We)[6])?(m(this,Pa).length===0&&(m(this,We).set([o+S,l+A],2),m(this,Pa).push(NaN,NaN,NaN,NaN,(o+S-r)/a,(l+A-i)/s),m(this,We).set([o-S,l-A],14),m(this,Vi).push(NaN,NaN,NaN,NaN,(o-S-r)/a,(l-A-i)/s)),m(this,We).set([b,x,o,l,u,c],6),!this.isEmpty()):(m(this,We).set([b,x,o,l,u,c],6),Math.abs(Math.atan2(x-l,b-o)-Math.atan2(y,v))<Math.PI/2?([o,l,u,c]=m(this,We).subarray(2,6),m(this,Pa).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/a,((l+c)/2-i)/s),[o,l,b,x]=m(this,We).subarray(14,18),m(this,Vi).push(NaN,NaN,NaN,NaN,((b+o)/2-r)/a,((x+l)/2-i)/s),!0):([b,x,o,l,u,c]=m(this,We).subarray(0,6),m(this,Pa).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),[u,c,o,l,b,x]=m(this,We).subarray(12,18),m(this,Vi).push(((b+5*o)/6-r)/a,((x+5*l)/6-i)/s,((5*o+u)/6-r)/a,((5*l+c)/6-i)/s,((o+u)/2-r)/a,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Pa),n=m(this,Vi);if(isNaN(m(this,We)[6])&&!this.isEmpty())return $(this,gn,YF).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);$(this,gn,QF).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return $(this,gn,ZF).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new n3(e,n,r,i,a,s)}getOutlines(){var h;const e=m(this,Pa),n=m(this,Vi),r=m(this,We),[i,a,s,o]=m(this,$r),l=new Float64Array((((h=m(this,To))==null?void 0:h.length)??0)+2);for(let d=0,f=l.length-2;d<f;d+=2)l[d]=(m(this,To)[d]-i)/s,l[d+1]=(m(this,To)[d+1]-a)/o;if(l[l.length-2]=(m(this,wu)-i)/s,l[l.length-1]=(m(this,Su)-a)/o,isNaN(r[6])&&!this.isEmpty())return $(this,gn,JF).call(this,l);const u=new Float64Array(m(this,Pa).length+24+m(this,Vi).length);let c=e.length;for(let d=0;d<c;d+=2){if(isNaN(e[d])){u[d]=u[d+1]=NaN;continue}u[d]=e[d],u[d+1]=e[d+1]}c=$(this,gn,t3).call(this,u,c);for(let d=n.length-6;d>=6;d-=6)for(let f=0;f<6;f+=2){if(isNaN(n[d+f])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=n[d+f],u[c+1]=n[d+f+1],c+=2}return $(this,gn,e3).call(this,u,c),this.newFreeDrawOutline(u,l,m(this,$r),m(this,Xh),m(this,Gh),m(this,qh))}};$r=new WeakMap,Vi=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Pa=new WeakMap,We=new WeakMap,wu=new WeakMap,Su=new WeakMap,Tg=new WeakMap,Og=new WeakMap,Xh=new WeakMap,Kh=new WeakMap,To=new WeakMap,Ig=new WeakMap,J0=new WeakMap,ex=new WeakMap,gn=new WeakSet,Jf=function(){const e=m(this,We).subarray(4,6),n=m(this,We).subarray(16,18),[r,i,a,s]=m(this,$r);return[(m(this,wu)+(e[0]-n[0])/2-r)/a,(m(this,Su)+(e[1]-n[1])/2-i)/s,(m(this,wu)+(n[0]-e[0])/2-r)/a,(m(this,Su)+(n[1]-e[1])/2-i)/s]},YF=function(){const[e,n,r,i]=m(this,$r),[a,s,o,l]=$(this,gn,Jf).call(this);return`M${(m(this,We)[2]-e)/r} ${(m(this,We)[3]-n)/i} L${(m(this,We)[4]-e)/r} ${(m(this,We)[5]-n)/i} L${a} ${s} L${o} ${l} L${(m(this,We)[16]-e)/r} ${(m(this,We)[17]-n)/i} L${(m(this,We)[14]-e)/r} ${(m(this,We)[15]-n)/i} Z`},ZF=function(e){const n=m(this,Vi);e.push(`L${n[4]} ${n[5]} Z`)},QF=function(e){const[n,r,i,a]=m(this,$r),s=m(this,We).subarray(4,6),o=m(this,We).subarray(16,18),[l,u,c,h]=$(this,gn,Jf).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${l} ${u} L${c} ${h} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},JF=function(e){const n=m(this,We),[r,i,a,s]=m(this,$r),[o,l,u,c]=$(this,gn,Jf).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(h,e,m(this,$r),m(this,Xh),m(this,Gh),m(this,qh))},e3=function(e,n){const r=m(this,Vi);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},t3=function(e,n){const r=m(this,We).subarray(4,6),i=m(this,We).subarray(16,18),[a,s,o,l]=m(this,$r),[u,c,h,d]=$(this,gn,Jf).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],n),n+=24},z(Ja,Ig,8),z(Ja,J0,2),z(Ja,ex,m(Ja,Ig)+m(Ja,J0));let Rb=Ja;var Yh,ku,ms,Mg,Fr,Ng,Wt,Sr,ep,tp,r3;class n3 extends KF{constructor(n,r,i,a,s,o){super();z(this,Sr);z(this,Yh);z(this,ku,null);z(this,ms);z(this,Mg);z(this,Fr);z(this,Ng);z(this,Wt);D(this,Wt,n),D(this,Fr,r),D(this,Yh,i),D(this,Ng,a),D(this,ms,s),D(this,Mg,o),$(this,Sr,r3).call(this,o);const{x:l,y:u,width:c,height:h}=m(this,ku);for(let d=0,f=n.length;d<f;d+=2)n[d]=(n[d]-l)/c,n[d+1]=(n[d+1]-u)/h;for(let d=0,f=r.length;d<f;d+=2)r[d]=(r[d]-l)/c,r[d+1]=(r[d+1]-u)/h}toSVGPath(){const n=[`M${m(this,Wt)[4]} ${m(this,Wt)[5]}`];for(let r=6,i=m(this,Wt).length;r<i;r+=6){if(isNaN(m(this,Wt)[r])){n.push(`L${m(this,Wt)[r+4]} ${m(this,Wt)[r+5]}`);continue}n.push(`C${m(this,Wt)[r]} ${m(this,Wt)[r+1]} ${m(this,Wt)[r+2]} ${m(this,Wt)[r+3]} ${m(this,Wt)[r+4]} ${m(this,Wt)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,l=a-r;let u,c;switch(s){case 0:u=$(this,Sr,ep).call(this,m(this,Wt),n,a,o,-l),c=$(this,Sr,ep).call(this,m(this,Fr),n,a,o,-l);break;case 90:u=$(this,Sr,tp).call(this,m(this,Wt),n,r,o,l),c=$(this,Sr,tp).call(this,m(this,Fr),n,r,o,l);break;case 180:u=$(this,Sr,ep).call(this,m(this,Wt),i,r,-o,l),c=$(this,Sr,ep).call(this,m(this,Fr),i,r,-o,l);break;case 270:u=$(this,Sr,tp).call(this,m(this,Wt),i,a,-o,-l),c=$(this,Sr,tp).call(this,m(this,Fr),i,a,-o,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return m(this,ku)}newOutliner(n,r,i,a,s,o=0){return new Rb(n,r,i,a,s,o)}getNewOutline(n,r){const{x:i,y:a,width:s,height:o}=m(this,ku),[l,u,c,h]=m(this,Yh),d=s*c,f=o*h,g=i*c+l,p=a*h+u,v=this.newOutliner({x:m(this,Fr)[0]*d+g,y:m(this,Fr)[1]*f+p},m(this,Yh),m(this,Ng),n,m(this,Mg),r??m(this,ms));for(let y=2;y<m(this,Fr).length;y+=2)v.add({x:m(this,Fr)[y]*d+g,y:m(this,Fr)[y+1]*f+p});return v.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Yh=new WeakMap,ku=new WeakMap,ms=new WeakMap,Mg=new WeakMap,Fr=new WeakMap,Ng=new WeakMap,Wt=new WeakMap,Sr=new WeakSet,ep=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l]*a,o[l+1]=i+n[l+1]*s;return o},tp=function(n,r,i,a,s){const o=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)o[l]=r+n[l+1]*a,o[l+1]=i+n[l]*s;return o},r3=function(n){const r=m(this,Wt);let i=r[4],a=r[5],s=i,o=a,l=i,u=a,c=i,h=a;const d=n?Math.max:Math.min;for(let y=6,b=r.length;y<b;y+=6){if(isNaN(r[y]))s=Math.min(s,r[y+4]),o=Math.min(o,r[y+5]),l=Math.max(l,r[y+4]),u=Math.max(u,r[y+5]),h<r[y+5]?(c=r[y+4],h=r[y+5]):h===r[y+5]&&(c=d(c,r[y+4]));else{const x=Te.bezierBoundingBox(i,a,...r.slice(y,y+6));s=Math.min(s,x[0]),o=Math.min(o,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),h<x[3]?(c=x[2],h=x[3]):h===x[3]&&(c=d(c,x[2]))}i=r[y+4],a=r[y+5]}const f=s-m(this,ms),g=o-m(this,ms),p=l-s+2*m(this,ms),v=u-o+2*m(this,ms);D(this,ku,{x:f,y:g,width:p,height:v,lastPoint:[c,h]})};var Rg,Oo,Gi,ur,i3,Vv,a3,s3,Qk;class F2{constructor(e,n=0,r=0,i=!0){z(this,ur);z(this,Rg);z(this,Oo,[]);z(this,Gi,[]);let a=1/0,s=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:v,y,width:b,height:x}of e){const k=Math.floor((v-n)/u)*u,w=Math.ceil((v+b+n)/u)*u,S=Math.floor((y-n)/u)*u,A=Math.ceil((y+x+n)/u)*u,_=[k,S,A,!0],E=[w,S,A,!1];m(this,Oo).push(_,E),a=Math.min(a,k),s=Math.max(s,w),o=Math.min(o,S),l=Math.max(l,A)}const c=s-a+2*r,h=l-o+2*r,d=a-r,f=o-r,g=m(this,Oo).at(i?-1:-2),p=[g[0],g[2]];for(const v of m(this,Oo)){const[y,b,x]=v;v[0]=(y-d)/c,v[1]=(b-f)/h,v[2]=(x-f)/h}D(this,Rg,{x:d,y:f,width:c,height:h,lastPoint:p})}getOutlines(){m(this,Oo).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of m(this,Oo))n[3]?(e.push(...$(this,ur,Qk).call(this,n)),$(this,ur,a3).call(this,n)):($(this,ur,s3).call(this,n),e.push(...$(this,ur,Qk).call(this,n)));return $(this,ur,i3).call(this,e)}}Rg=new WeakMap,Oo=new WeakMap,Gi=new WeakMap,ur=new WeakSet,i3=function(e){const n=[],r=new Set;for(const s of e){const[o,l,u]=s;n.push([o,l,s],[o,u,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,l,u,c,h]=s;r.delete(s);let d=o,f=l;for(a=[o,u],i.push(a);;){let g;if(r.has(c))g=c;else if(r.has(h))g=h;else break;r.delete(g),[o,l,u,c,h]=g,d!==o&&(a.push(d,f,o,f===l?l:u),d=o),f=f===l?u:l}a.push(d,f)}return new MY(i,m(this,Rg))},Vv=function(e){const n=m(this,Gi);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},a3=function([,e,n]){const r=$(this,ur,Vv).call(this,e);m(this,Gi).splice(r,0,[e,n])},s3=function([,e,n]){const r=$(this,ur,Vv).call(this,e);for(let i=r;i<m(this,Gi).length;i++){const[a,s]=m(this,Gi)[i];if(a!==e)break;if(a===e&&s===n){m(this,Gi).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=m(this,Gi)[i];if(a!==e)break;if(a===e&&s===n){m(this,Gi).splice(i,1);return}}},Qk=function(e){const[n,r,i]=e,a=[[n,r,i]],s=$(this,ur,Vv).call(this,i);for(let o=0;o<s;o++){const[l,u]=m(this,Gi)[o];for(let c=0,h=a.length;c<h;c++){const[,d,f]=a[c];if(!(u<=d||f<=l)){if(d>=l){if(f>u)a[c][1]=u;else{if(h===1)return[];a.splice(c,1),c--,h--}continue}a[c][2]=l,f>u&&a.push([n,u,f])}}}return a};var Lg,Zh;class MY extends KF{constructor(n,r){super();z(this,Lg);z(this,Zh);D(this,Zh,n),D(this,Lg,r)}toSVGPath(){const n=[];for(const r of m(this,Zh)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],l=r[s+1];o===i?(n.push(`V${l}`),a=l):l===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],l=i-n,u=a-r;for(const c of m(this,Zh)){const h=new Array(c.length);for(let d=0;d<c.length;d+=2)h[d]=n+c[d]*l,h[d+1]=a-c[d+1]*u;o.push(h)}return o}get box(){return m(this,Lg)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Lg=new WeakMap,Zh=new WeakMap;class Jk extends Rb{newFreeDrawOutline(e,n,r,i,a,s){return new NY(e,n,r,i,a,s)}get classNamesForDrawing(){return["highlight","free"]}}class NY extends n3{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,n,r,i,a,s=0){return new Jk(e,n,r,i,a,s)}}var qi,_u,Qh,un,jg,Jh,Dg,$g,Io,Xi,ed,Fg,pt,e_,t_,n_,kl,o3,to;const pr=class pr{constructor({editor:e=null,uiManager:n=null}){z(this,pt);z(this,qi,null);z(this,_u,null);z(this,Qh);z(this,un,null);z(this,jg,!1);z(this,Jh,!1);z(this,Dg,null);z(this,$g);z(this,Io,null);z(this,Xi,null);z(this,ed);var r;e?(D(this,Jh,!1),D(this,ed,Le.HIGHLIGHT_COLOR),D(this,Dg,e)):(D(this,Jh,!0),D(this,ed,Le.HIGHLIGHT_DEFAULT_COLOR)),D(this,Xi,(e==null?void 0:e._uiManager)||n),D(this,$g,m(this,Xi)._eventBus),D(this,Qh,(e==null?void 0:e.color)||((r=m(this,Xi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),m(pr,Fg)||D(pr,Fg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new ty([[["Escape","mac+Escape"],pr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pr.prototype._moveToPrevious],[["Home","mac+Home"],pr.prototype._moveToBeginning],[["End","mac+End"],pr.prototype._moveToEnd]]))}renderButton(){const e=D(this,qi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=m(this,Xi)._signal;e.addEventListener("click",$(this,pt,kl).bind(this),{signal:n}),e.addEventListener("keydown",$(this,pt,n_).bind(this),{signal:n});const r=D(this,_u,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,Qh),e.append(r),e}renderMainDropdown(){const e=D(this,un,$(this,pt,e_).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,qi)){$(this,pt,kl).call(this,e);return}const n=e.target.getAttribute("data-color");n&&$(this,pt,t_).call(this,n,e)}_moveToNext(e){var n,r;if(!m(this,pt,to)){$(this,pt,kl).call(this,e);return}if(e.target===m(this,qi)){(n=m(this,un).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=m(this,un))==null?void 0:n.firstChild)||e.target===m(this,qi)){m(this,pt,to)&&this._hideDropdownFromKeyboard();return}m(this,pt,to)||$(this,pt,kl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!m(this,pt,to)){$(this,pt,kl).call(this,e);return}(n=m(this,un).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!m(this,pt,to)){$(this,pt,kl).call(this,e);return}(n=m(this,un).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=m(this,un))==null||e.classList.add("hidden"),(n=m(this,Io))==null||n.abort(),D(this,Io,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Jh)){if(!m(this,pt,to)){(e=m(this,Dg))==null||e.unselect();return}this.hideDropdown(),m(this,qi).focus({preventScroll:!0,focusVisible:m(this,jg)})}}updateColor(e){if(m(this,_u)&&(m(this,_u).style.backgroundColor=e),!m(this,un))return;const n=m(this,Xi).highlightColors.values();for(const r of m(this,un).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=m(this,qi))==null||e.remove(),D(this,qi,null),D(this,_u,null),(n=m(this,un))==null||n.remove(),D(this,un,null)}};qi=new WeakMap,_u=new WeakMap,Qh=new WeakMap,un=new WeakMap,jg=new WeakMap,Jh=new WeakMap,Dg=new WeakMap,$g=new WeakMap,Io=new WeakMap,Xi=new WeakMap,ed=new WeakMap,Fg=new WeakMap,pt=new WeakSet,e_=function(){const e=document.createElement("div"),n=m(this,Xi)._signal;e.addEventListener("contextmenu",Ei,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Xi).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",m(pr,Fg)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===m(this,Qh)),a.addEventListener("click",$(this,pt,t_).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",$(this,pt,n_).bind(this),{signal:n}),e},t_=function(e,n){n.stopPropagation(),m(this,$g).dispatch("switchannotationeditorparams",{source:this,type:m(this,ed),value:e})},n_=function(e){pr._keyboardManager.exec(this,e)},kl=function(e){if(m(this,pt,to)){this.hideDropdown();return}if(D(this,jg,e.detail===0),m(this,Io)||(D(this,Io,new AbortController),window.addEventListener("pointerdown",$(this,pt,o3).bind(this),{signal:m(this,Xi).combinedSignal(m(this,Io))})),m(this,un)){m(this,un).classList.remove("hidden");return}const n=D(this,un,$(this,pt,e_).call(this));m(this,qi).append(n)},o3=function(e){var n;(n=m(this,un))!=null&&n.contains(e.target)||this.hideDropdown()},to=function(){return m(this,un)&&!m(this,un).classList.contains("hidden")},z(pr,Fg,null);let Lb=pr;var td,Bg,gs,Au,nd,ci,zg,Ug,Eu,Ki,Wn,yr,rd,ys,cn,id,hi,Hg,De,r_,Gv,l3,u3,c3,i_,_l,yi,Mc,h3,qv,np,d3,f3,p3,m3,g3;const rt=class rt extends ct{constructor(n){super({...n,name:"highlightEditor"});z(this,De);z(this,td,null);z(this,Bg,0);z(this,gs);z(this,Au,null);z(this,nd,null);z(this,ci,null);z(this,zg,null);z(this,Ug,0);z(this,Eu,null);z(this,Ki,null);z(this,Wn,null);z(this,yr,!1);z(this,rd,null);z(this,ys);z(this,cn,null);z(this,id,"");z(this,hi);z(this,Hg,"");this.color=n.color||rt._defaultColor,D(this,hi,n.thickness||rt._defaultThickness),D(this,ys,n.opacity||rt._defaultOpacity),D(this,gs,n.boxes||null),D(this,Hg,n.methodOfCreation||""),D(this,id,n.text||""),this._isDraggable=!1,n.highlightId>-1?(D(this,yr,!0),$(this,De,Gv).call(this,n),$(this,De,_l).call(this)):m(this,gs)&&(D(this,td,n.anchorNode),D(this,Bg,n.anchorOffset),D(this,zg,n.focusNode),D(this,Ug,n.focusOffset),$(this,De,r_).call(this),$(this,De,_l).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=rt.prototype;return Ze(this,"_keyboardManager",new ty([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,yr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,hi),methodOfCreation:m(this,Hg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;ct.initialize(n,r),rt._defaultColor||(rt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Le.HIGHLIGHT_DEFAULT_COLOR:rt._defaultColor=r;break;case Le.HIGHLIGHT_THICKNESS:rt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return m(this,rd)}updateParams(n,r){switch(n){case Le.HIGHLIGHT_COLOR:$(this,De,l3).call(this,r);break;case Le.HIGHLIGHT_THICKNESS:$(this,De,u3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Le.HIGHLIGHT_DEFAULT_COLOR,rt._defaultColor],[Le.HIGHLIGHT_THICKNESS,rt._defaultThickness]]}get propertiesToUpdate(){return[[Le.HIGHLIGHT_COLOR,this.color||rt._defaultColor],[Le.HIGHLIGHT_THICKNESS,m(this,hi)||rt._defaultThickness],[Le.HIGHLIGHT_FREE,m(this,yr)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(D(this,nd,new Lb({editor:this})),n.addColorPicker(m(this,nd))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition($(this,De,np).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,$(this,De,np).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){$(this,De,i_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&($(this,De,_l).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?$(this,De,i_).call(this):n&&($(this,De,_l).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;m(this,yr)?(n=(n-this.rotation+360)%360,i=$(a=rt,yi,Mc).call(a,m(this,Ki).box,n)):i=$(s=rt,yi,Mc).call(s,this,n),r.rotate(m(this,Wn),n),r.rotate(m(this,cn),n),r.updateBox(m(this,Wn),i),r.updateBox(m(this,cn),$(o=rt,yi,Mc).call(o,m(this,ci).box,n))}render(){if(this.div)return this.div;const n=super.render();m(this,id)&&(n.setAttribute("aria-label",m(this,id)),n.setAttribute("role","mark")),m(this,yr)?n.classList.add("free"):this.div.addEventListener("keydown",$(this,De,h3).bind(this),{signal:this._uiManager._signal});const r=D(this,Eu,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Au);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),Mb(this,m(this,Eu),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,cn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,cn),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:$(this,De,qv).call(this,!0);break;case 1:case 3:$(this,De,qv).call(this,!1);break}}select(){var n,r;super.select(),m(this,cn)&&((n=this.parent)==null||n.drawLayer.removeClass(m(this,cn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,cn),"selected"))}unselect(){var n;super.unselect(),m(this,cn)&&((n=this.parent)==null||n.drawLayer.removeClass(m(this,cn),"selected"),m(this,yr)||$(this,De,qv).call(this,!1))}get _mustFixPosition(){return!m(this,yr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(m(this,Wn),n),this.parent.drawLayer.show(m(this,cn),n))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:l,width:u,height:c}=i.getBoundingClientRect(),h=new AbortController,d=n.combinedSignal(h),f=p=>{p.preventDefault(),p.stopPropagation()},g=p=>{h.abort(),$(this,yi,m3).call(this,n,p)};window.addEventListener("blur",g,{signal:d}),window.addEventListener("pointerup",g,{signal:d}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Ei,{signal:d}),i.addEventListener("pointermove",$(this,yi,p3).bind(this,n),{signal:d}),this._freeHighlight=new Jk({x:a,y:s},[o,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(n,r,i){var p,v,y,b;let a=null;if(n instanceof zF){const{data:{quadPoints:x,rect:k,rotation:w,id:S,color:A,opacity:_,popupRef:E},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),opacity:_,quadPoints:x,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:w,id:S,deleted:!1,popupRef:E}}else if(n instanceof $C){const{data:{inkLists:x,rect:k,rotation:w,id:S,color:A,borderStyle:{rawWidth:_},popupRef:E},parent:{page:{pageNumber:O}}}=n;a=n={annotationType:Fe.HIGHLIGHT,color:Array.from(A),thickness:_,inkLists:x,boxes:null,pageIndex:O-1,rect:k.slice(0),rotation:w,id:S,deleted:!1,popupRef:E}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=n,c=await super.deserialize(n,r,i);c.color=Te.makeHexColor(...s),D(c,ys,u||1),l&&D(c,hi,n.thickness),c.annotationElementId=n.id||null,c._initialData=a;const[h,d]=c.pageDimensions,[f,g]=c.pageTranslation;if(o){const x=D(c,gs,[]);for(let k=0;k<o.length;k+=8)x.push({x:(o[k]-f)/h,y:1-(o[k+1]-g)/d,width:(o[k+2]-o[k])/h,height:(o[k+1]-o[k+5])/d});$(p=c,De,r_).call(p),$(v=c,De,_l).call(v),c.rotate(c.rotation)}else if(l){D(c,yr,!0);const x=l[0],k={x:x[0]-f,y:d-(x[1]-g)},w=new Jk(k,[0,0,h,d],1,m(c,hi)/2,!0,.001);for(let _=0,E=x.length;_<E;_+=2)k.x=x[_]-f,k.y=d-(x[_+1]-g),w.add(k);const{id:S,clipPathId:A}=r.drawLayer.draw(w,c.color,c._defaultOpacity,!0);$(y=c,De,Gv).call(y,{highlightOutlines:w.getOutlines(),highlightId:S,clipPathId:A}),$(b=c,De,_l).call(b)}return c}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=ct._colorManager.convert(this.color),a={annotationType:Fe.HIGHLIGHT,color:i,opacity:m(this,ys),thickness:m(this,hi),quadPoints:$(this,De,d3).call(this),outlines:$(this,De,f3).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:$(this,De,np).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!$(this,De,g3).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};td=new WeakMap,Bg=new WeakMap,gs=new WeakMap,Au=new WeakMap,nd=new WeakMap,ci=new WeakMap,zg=new WeakMap,Ug=new WeakMap,Eu=new WeakMap,Ki=new WeakMap,Wn=new WeakMap,yr=new WeakMap,rd=new WeakMap,ys=new WeakMap,cn=new WeakMap,id=new WeakMap,hi=new WeakMap,Hg=new WeakMap,De=new WeakSet,r_=function(){const n=new F2(m(this,gs),.001);D(this,Ki,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Ki).box;const r=new F2(m(this,gs),.0025,.001,this._uiManager.direction==="ltr");D(this,ci,r.getOutlines());const{lastPoint:i}=m(this,ci).box;D(this,rd,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Gv=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var h,d;if(D(this,Ki,n),D(this,ci,n.getNewOutline(m(this,hi)/2+1.5,.0025)),r>=0)D(this,Wn,r),D(this,Au,i),this.parent.drawLayer.finalizeLine(r,n),D(this,cn,this.parent.drawLayer.drawOutline(m(this,ci)));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Wn),n),this.parent.drawLayer.updateBox(m(this,Wn),$(h=rt,yi,Mc).call(h,m(this,Ki).box,(f-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,cn),m(this,ci)),this.parent.drawLayer.updateBox(m(this,cn),$(d=rt,yi,Mc).call(d,m(this,ci).box,f))}const{x:s,y:o,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[f,g]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*g/f,this.height=u*f/g;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[f,g]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*g/f,this.height=u*f/g;break}}const{lastPoint:c}=m(this,ci).box;D(this,rd,[(c[0]-s)/l,(c[1]-o)/u])},l3=function(n){const r=(s,o)=>{var l,u,c;this.color=s,(l=this.parent)==null||l.drawLayer.changeColor(m(this,Wn),s),(u=m(this,nd))==null||u.updateColor(s),D(this,ys,o),(c=this.parent)==null||c.drawLayer.changeOpacity(m(this,Wn),o)},i=this.color,a=m(this,ys);this.addCommands({cmd:r.bind(this,n,rt._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},u3=function(n){const r=m(this,hi),i=a=>{D(this,hi,a),$(this,De,c3).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},c3=function(n){if(!m(this,yr))return;$(this,De,Gv).call(this,{highlightOutlines:m(this,Ki).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},i_=function(){m(this,Wn)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Wn)),D(this,Wn,null),this.parent.drawLayer.remove(m(this,cn)),D(this,cn,null))},_l=function(n=this.parent){m(this,Wn)===null&&({id:er(this,Wn)._,clipPathId:er(this,Au)._}=n.drawLayer.draw(m(this,Ki),this.color,m(this,ys)),D(this,cn,n.drawLayer.drawOutline(m(this,ci))),m(this,Eu)&&(m(this,Eu).style.clipPath=m(this,Au)))},yi=new WeakSet,Mc=function({x:n,y:r,width:i,height:a},s){switch(s){case 90:return{x:1-r-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-r-a,width:i,height:a};case 270:return{x:r,y:1-n-i,width:a,height:i}}return{x:n,y:r,width:i,height:a}},h3=function(n){rt._keyboardManager.exec(this,n)},qv=function(n){if(!m(this,td))return;const r=window.getSelection();n?r.setPosition(m(this,td),m(this,Bg)):r.setPosition(m(this,zg),m(this,Ug))},np=function(){return m(this,yr)?this.rotation:0},d3=function(){if(m(this,yr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=m(this,gs),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:c,width:h,height:d}of s){const f=u*n+i,g=(1-c-d)*r+a;o[l]=o[l+4]=f,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=f+h*n,o[l+5]=o[l+7]=g+d*r,l+=8}return o},f3=function(n){return m(this,Ki).serialize(n,$(this,De,np).call(this))},p3=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},m3=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},g3=function(n){const{color:r}=this._initialData;return n.color.some((i,a)=>i!==r[a])},z(rt,yi),Ne(rt,"_defaultColor",null),Ne(rt,"_defaultOpacity",1),Ne(rt,"_defaultThickness",12),Ne(rt,"_type","highlight"),Ne(rt,"_editorType",Fe.HIGHLIGHT),Ne(rt,"_freeHighlightId",-1),Ne(rt,"_freeHighlight",null),Ne(rt,"_freeHighlightClipId","");let jb=rt;var Cu,Pu,Ta,vs,di,Tu,Ou,Iu,bs,ad,Mu,Nu,Mo,_e,y3,v3,b3,x3,s_,w3,o_,S3,k3,_3,A3,E3,Al,l_,u_,c_,Xv,Kv,Nc,h_,Yv,qs,C3,d_,P3,T3,f_,Zv,rp;const Nt=class Nt extends ct{constructor(n){super({...n,name:"inkEditor"});z(this,_e);z(this,Cu,0);z(this,Pu,0);z(this,Ta,null);z(this,vs,new Path2D);z(this,di,!1);z(this,Tu,null);z(this,Ou,!1);z(this,Iu,!1);z(this,bs,null);z(this,ad,null);z(this,Mu,0);z(this,Nu,0);z(this,Mo,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){ct.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case Le.INK_THICKNESS:Nt._defaultThickness=r;break;case Le.INK_COLOR:Nt._defaultColor=r;break;case Le.INK_OPACITY:Nt._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case Le.INK_THICKNESS:$(this,_e,y3).call(this,r);break;case Le.INK_COLOR:$(this,_e,v3).call(this,r);break;case Le.INK_OPACITY:$(this,_e,b3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Le.INK_THICKNESS,Nt._defaultThickness],[Le.INK_COLOR,Nt._defaultColor||ct._defaultLineColor],[Le.INK_OPACITY,Math.round(Nt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Le.INK_THICKNESS,this.thickness||Nt._defaultThickness],[Le.INK_COLOR,this.color||Nt._defaultColor||ct._defaultLineColor],[Le.INK_OPACITY,Math.round(100*(this.opacity??Nt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||($(this,_e,Xv).call(this),$(this,_e,Kv).call(this)),this.isAttachedToDOM||(this.parent.add(this),$(this,_e,Nc).call(this)),$(this,_e,rp).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,Ta)&&(clearTimeout(m(this,Ta)),D(this,Ta,null)),(n=m(this,bs))==null||n.disconnect(),D(this,bs,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,a=this.height*r;this.setDimensions(i,a)}enableEditMode(){m(this,di)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,$(this,_e,l_).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),$(this,_e,u_).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,di)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),D(this,di,!0),this.div.classList.add("disabled"),$(this,_e,rp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||m(this,di)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),$(this,_e,w3).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),$(this,_e,o_).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),$(this,_e,c_).call(this,n)}canvasPointerleave(n){$(this,_e,c_).call(this,n)}get isResizable(){return!this.isEmpty()&&m(this,di)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,s,o]=$(this,_e,x3).call(this);if(this.setAt(i,a,0,0),this.setDims(s,o),$(this,_e,Xv).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),D(this,Iu,!0),$(this,_e,Nc).call(this),this.setDims(this.width*l,this.height*u),$(this,_e,Al).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return $(this,_e,Kv).call(this),this.div}setDimensions(n,r){const i=Math.round(n),a=Math.round(r);if(m(this,Mu)===i&&m(this,Nu)===a)return;D(this,Mu,i),D(this,Nu,a),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=n/s,this.height=r/o,this.fixAndSetPosition(),m(this,di)&&$(this,_e,h_).call(this,n,r),$(this,_e,Nc).call(this),$(this,_e,Al).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(n,r,i){var v,y,b;if(n instanceof $C)return null;const a=await super.deserialize(n,r,i);a.thickness=n.thickness,a.color=Te.makeHexColor(...n.color),a.opacity=n.opacity;const[s,o]=a.pageDimensions,l=a.width*s,u=a.height*o,c=a.parentScale,h=n.thickness/2;D(a,di,!0),D(a,Mu,Math.round(l)),D(a,Nu,Math.round(u));const{paths:d,rect:f,rotation:g}=n;for(let{bezier:x}of d){x=$(v=Nt,qs,P3).call(v,x,f,g);const k=[];a.paths.push(k);let w=c*(x[0]-h),S=c*(x[1]-h);for(let _=2,E=x.length;_<E;_+=6){const O=c*(x[_]-h),R=c*(x[_+1]-h),P=c*(x[_+2]-h),L=c*(x[_+3]-h),C=c*(x[_+4]-h),F=c*(x[_+5]-h);k.push([[w,S],[O,R],[P,L],[C,F]]),w=C,S=F}const A=$(this,qs,C3).call(this,k);a.bezierPath2D.push(A)}const p=$(y=a,_e,f_).call(y);return D(a,Pu,Math.max(ct.MIN_SIZE,p[2]-p[0])),D(a,Cu,Math.max(ct.MIN_SIZE,p[3]-p[1])),$(b=a,_e,h_).call(b,l,u),a}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=ct._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Fe.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:$(this,_e,T3).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Cu=new WeakMap,Pu=new WeakMap,Ta=new WeakMap,vs=new WeakMap,di=new WeakMap,Tu=new WeakMap,Ou=new WeakMap,Iu=new WeakMap,bs=new WeakMap,ad=new WeakMap,Mu=new WeakMap,Nu=new WeakMap,Mo=new WeakMap,_e=new WeakSet,y3=function(n){const r=a=>{this.thickness=a,$(this,_e,rp).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},v3=function(n){const r=a=>{this.color=a,$(this,_e,Al).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},b3=function(n){const r=a=>{this.opacity=a,$(this,_e,Al).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},x3=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},s_=function(){const{ctx:n,color:r,opacity:i,thickness:a,parentScale:s,scaleFactor:o}=this;n.lineWidth=a*s/o,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${tK(i)}`},w3=function(n,r){this.canvas.addEventListener("contextmenu",Ei,{signal:this._uiManager._signal}),$(this,_e,u_).call(this),D(this,Tu,new AbortController);const i=this._uiManager.combinedSignal(m(this,Tu));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,Iu)||(D(this,Iu,!0),$(this,_e,Nc).call(this),this.thickness||(this.thickness=Nt._defaultThickness),this.color||(this.color=Nt._defaultColor||ct._defaultLineColor),this.opacity??(this.opacity=Nt._defaultOpacity)),this.currentPath.push([n,r]),D(this,Ou,!1),$(this,_e,s_).call(this),D(this,Mo,()=>{$(this,_e,_3).call(this),m(this,Mo)&&window.requestAnimationFrame(m(this,Mo))}),window.requestAnimationFrame(m(this,Mo))},o_=function(n,r){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===a)return;const s=this.currentPath;let o=m(this,vs);if(s.push([n,r]),D(this,Ou,!0),s.length<=2){o.moveTo(...s[0]),o.lineTo(n,r);return}s.length===3&&(D(this,vs,o=new Path2D),o.moveTo(...s[0])),$(this,_e,A3).call(this,o,...s.at(-3),...s.at(-2),n,r)},S3=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);m(this,vs).lineTo(...n)},k3=function(n,r){D(this,Mo,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),$(this,_e,o_).call(this,n,r),$(this,_e,S3).call(this);let i;if(this.currentPath.length!==1)i=$(this,_e,E3).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const a=m(this,vs),s=this.currentPath;this.currentPath=[],D(this,vs,new Path2D);const o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||($(this,_e,Xv).call(this),$(this,_e,Kv).call(this)),$(this,_e,rp).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},_3=function(){if(!m(this,Ou))return;D(this,Ou,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(o=>o[0]),a=r.map(o=>o[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...a)-n,Math.max(...a)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(m(this,vs)),s.restore()},A3=function(n,r,i,a,s,o,l){const u=(r+a)/2,c=(i+s)/2,h=(a+o)/2,d=(s+l)/2;n.bezierCurveTo(u+2*(a-u)/3,c+2*(s-c)/3,h+2*(a-h)/3,d+2*(s-d)/3,h,d)},E3=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[a,s]=n[0];for(i=1;i<n.length-2;i++){const[f,g]=n[i],[p,v]=n[i+1],y=(f+p)/2,b=(g+v)/2,x=[a+2*(f-a)/3,s+2*(g-s)/3],k=[y+2*(f-y)/3,b+2*(g-b)/3];r.push([[a,s],x,k,[y,b]]),[a,s]=[y,b]}const[o,l]=n[i],[u,c]=n[i+1],h=[a+2*(o-a)/3,s+2*(l-s)/3],d=[u+2*(o-u)/3,c+2*(l-c)/3];return r.push([[a,s],h,d,[u,c]]),r},Al=function(){if(this.isEmpty()){$(this,_e,Yv).call(this);return}$(this,_e,s_).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),$(this,_e,Yv).call(this);for(const i of this.bezierPath2D)r.stroke(i)},l_=function(){if(m(this,ad))return;D(this,ad,new AbortController);const n=this._uiManager.combinedSignal(m(this,ad));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:n})},u_=function(){var n;(n=this.pointerdownAC)==null||n.abort(),this.pointerdownAC=null},c_=function(n){var r;(r=m(this,Tu))==null||r.abort(),D(this,Tu,null),$(this,_e,l_).call(this),m(this,Ta)&&clearTimeout(m(this,Ta)),D(this,Ta,setTimeout(()=>{D(this,Ta,null),this.canvas.removeEventListener("contextmenu",Ei)},10)),$(this,_e,k3).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Xv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Kv=function(){D(this,bs,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,bs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=m(this,bs))==null||n.disconnect(),D(this,bs,null)},{once:!0})},Nc=function(){if(!m(this,Iu))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),$(this,_e,Yv).call(this)},h_=function(n,r){const i=$(this,_e,Zv).call(this),a=(n-i)/m(this,Pu),s=(r-i)/m(this,Cu);this.scaleFactor=Math.min(a,s)},Yv=function(){const n=$(this,_e,Zv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},qs=new WeakSet,C3=function(n){const r=new Path2D;for(let i=0,a=n.length;i<a;i++){const[s,o,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return r},d_=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const h=n[u];n[u]=n[u+1]+a,n[u+1]=h+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const h=n[u];n[u]=o-n[u+1],n[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return n},P3=function(n,r,i){const[a,s,o,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=a,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const h=n[u];n[u]=n[u+1]-s,n[u+1]=h-a}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=o-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const h=n[u];n[u]=l-n[u+1],n[u+1]=o-h}break;default:throw new Error("Invalid rotation")}return n},T3=function(n,r,i,a){var c,h;const s=[],o=this.thickness/2,l=n*r+o,u=n*i+o;for(const d of this.paths){const f=[],g=[];for(let p=0,v=d.length;p<v;p++){const[y,b,x,k]=d[p];if(y[0]===k[0]&&y[1]===k[1]&&v===1){const L=n*y[0]+l,C=n*y[1]+u;f.push(L,C),g.push(L,C);break}const w=n*y[0]+l,S=n*y[1]+u,A=n*b[0]+l,_=n*b[1]+u,E=n*x[0]+l,O=n*x[1]+u,R=n*k[0]+l,P=n*k[1]+u;p===0&&(f.push(w,S),g.push(w,S)),f.push(A,_,E,O,R,P),g.push(A,_),p===v-1&&g.push(R,P)}s.push({bezier:$(c=Nt,qs,d_).call(c,f,a,this.rotation),points:$(h=Nt,qs,d_).call(h,g,a,this.rotation)})}return s},f_=function(){let n=1/0,r=-1/0,i=1/0,a=-1/0;for(const s of this.paths)for(const[o,l,u,c]of s){const h=Te.bezierBoundingBox(...o,...l,...u,...c);n=Math.min(n,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),a=Math.max(a,h[3])}return[n,i,r,a]},Zv=function(){return m(this,di)?Math.ceil(this.thickness*this.parentScale):0},rp=function(n=!1){if(this.isEmpty())return;if(!m(this,di)){$(this,_e,Al).call(this);return}const r=$(this,_e,f_).call(this),i=$(this,_e,Zv).call(this);D(this,Pu,Math.max(ct.MIN_SIZE,r[2]-r[0])),D(this,Cu,Math.max(ct.MIN_SIZE,r[3]-r[1]));const a=Math.ceil(i+m(this,Pu)*this.scaleFactor),s=Math.ceil(i+m(this,Cu)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=s/l,this.setAspectRatio(a,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],$(this,_e,Nc).call(this),$(this,_e,Al).call(this),D(this,Mu,a),D(this,Nu,s),this.setDims(a,s);const h=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,c-this.translationY-h)},z(Nt,qs),Ne(Nt,"_defaultColor",null),Ne(Nt,"_defaultOpacity",1),Ne(Nt,"_defaultThickness",1),Ne(Nt,"_type","ink"),Ne(Nt,"_editorType",Fe.INK);let a_=Nt;var Lt,In,No,xs,Ro,sd,Oa,ws,Ia,Br,od,Ye,ip,ap,Qv,m_,O3,Jv,g_,eb,I3,M3;const Ep=class Ep extends ct{constructor(n){super({...n,name:"stampEditor"});z(this,Ye);z(this,Lt,null);z(this,In,null);z(this,No,null);z(this,xs,null);z(this,Ro,null);z(this,sd,"");z(this,Oa,null);z(this,ws,null);z(this,Ia,null);z(this,Br,!1);z(this,od,!1);D(this,xs,n.bitmapUrl),D(this,Ro,n.bitmapFile)}static initialize(n,r){ct.initialize(n,r)}static get supportedTypes(){return Ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Fe.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n,r;m(this,In)&&(D(this,Lt,null),this._uiManager.imageManager.deleteId(m(this,In)),(n=m(this,Oa))==null||n.remove(),D(this,Oa,null),(r=m(this,ws))==null||r.disconnect(),D(this,ws,null),m(this,Ia)&&(clearTimeout(m(this,Ia)),D(this,Ia,null))),super.remove()}rebuild(){if(!this.parent){m(this,In)&&$(this,Ye,Qv).call(this);return}super.rebuild(),this.div!==null&&(m(this,In)&&m(this,Oa)===null&&$(this,Ye,Qv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,No)||m(this,Lt)||m(this,xs)||m(this,Ro)||m(this,In))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Lt)?$(this,Ye,m_).call(this):$(this,Ye,Qv).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(n*i,r*a,this.width*i,this.height*a)}return this.div}copyCanvas(n,r,i=!1){var f;n||(n=224);const{width:a,height:s}=m(this,Lt),o=new ck;let l=m(this,Lt),u=a,c=s,h=null;if(r){if(a>r||s>r){const _=Math.min(r/a,r/s);u=Math.floor(a*_),c=Math.floor(s*_)}h=document.createElement("canvas");const g=h.width=Math.ceil(u*o.sx),p=h.height=Math.ceil(c*o.sy);m(this,Br)||(l=$(this,Ye,Jv).call(this,g,p));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",b="#42414d");const x=15,k=x*o.sx,w=x*o.sy,S=new OffscreenCanvas(k*2,w*2),A=S.getContext("2d");A.fillStyle=y,A.fillRect(0,0,k*2,w*2),A.fillStyle=b,A.fillRect(0,0,k,w),A.fillRect(k,w,k,w),v.fillStyle=v.createPattern(S,"repeat"),v.fillRect(0,0,g,p),v.drawImage(l,0,0,l.width,l.height,0,0,g,p)}let d=null;if(i){let g,p;if(o.symmetric&&l.width<n&&l.height<n)g=l.width,p=l.height;else if(l=m(this,Lt),a>n||s>n){const b=Math.min(n/a,n/s);g=Math.floor(a*b),p=Math.floor(s*b),m(this,Br)||(l=$(this,Ye,Jv).call(this,g,p))}const y=new OffscreenCanvas(g,p).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,g,p),d={width:g,height:p,data:y.getImageData(0,0,g,p).data}}return{canvas:h,width:u,height:c,imageData:d}}getImageForAltText(){return m(this,Oa)}static async deserialize(n,r,i){var p;let a=null;if(n instanceof UF){const{data:{rect:v,rotation:y,id:b,structParent:x,popupRef:k},container:w,parent:{page:{pageNumber:S}}}=n,A=w.querySelector("canvas"),_=i.imageManager.getFromCanvas(w.id,A);A.remove();const E=((p=await r._structTree.getAriaAttributes(`${CC}${b}`))==null?void 0:p.get("aria-label"))||"";a=n={annotationType:Fe.STAMP,bitmapId:_.id,bitmap:_.bitmap,pageIndex:S-1,rect:v.slice(0),rotation:y,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:E},isSvg:!1,structParent:x,popupRef:k}}const s=await super.deserialize(n,r,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:h,accessibilityData:d}=n;c&&i.imageManager.isValidId(c)?(D(s,In,c),l&&D(s,Lt,l)):D(s,xs,u),D(s,Br,h);const[f,g]=s.pageDimensions;return s.width=(o[2]-o[0])/f,s.height=(o[3]-o[1])/g,s.annotationElementId=n.id||null,d&&(s.altTextData=d),s._initialData=a,D(s,od,!!a),s}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Fe.STAMP,bitmapId:m(this,In),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Br),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=$(this,Ye,eb).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=$(this,Ye,M3).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=m(this,Br)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,In)))r.stamps.set(m(this,In),{area:o,serialized:i}),i.bitmap=$(this,Ye,eb).call(this,!1);else if(m(this,Br)){const l=r.stamps.get(m(this,In));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=$(this,Ye,eb).call(this,!1))}return i}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};Lt=new WeakMap,In=new WeakMap,No=new WeakMap,xs=new WeakMap,Ro=new WeakMap,sd=new WeakMap,Oa=new WeakMap,ws=new WeakMap,Ia=new WeakMap,Br=new WeakMap,od=new WeakMap,Ye=new WeakSet,ip=function(n,r=!1){if(!n){this.remove();return}D(this,Lt,n.bitmap),r||(D(this,In,n.id),D(this,Br,n.isSvg)),n.file&&D(this,sd,n.file.name),$(this,Ye,m_).call(this)},ap=function(){if(D(this,No,null),this._uiManager.enableWaiting(!1),!!m(this,Oa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Qv=function(){if(m(this,In)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,In)).then(i=>$(this,Ye,ip).call(this,i,!0)).finally(()=>$(this,Ye,ap).call(this));return}if(m(this,xs)){const i=m(this,xs);D(this,xs,null),this._uiManager.enableWaiting(!0),D(this,No,this._uiManager.imageManager.getFromUrl(i).then(a=>$(this,Ye,ip).call(this,a)).finally(()=>$(this,Ye,ap).call(this)));return}if(m(this,Ro)){const i=m(this,Ro);D(this,Ro,null),this._uiManager.enableWaiting(!0),D(this,No,this._uiManager.imageManager.getFromFile(i).then(a=>$(this,Ye,ip).call(this,a)).finally(()=>$(this,Ye,ap).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Ep.supportedTypesStr;const r=this._uiManager._signal;D(this,No,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),$(this,Ye,ip).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>$(this,Ye,ap).call(this))),n.click()},m_=function(){const{div:n}=this;let{width:r,height:i}=m(this,Lt);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const h=Math.min(o*a/r,o*s/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/a,i*u/s),this._uiManager.enableWaiting(!1);const c=D(this,Oa,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),$(this,Ye,g_).call(this,r,i),$(this,Ye,I3).call(this),m(this,od)||(this.parent.addUndoableEditor(this),D(this,od,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,sd)&&c.setAttribute("aria-label",m(this,sd))},O3=function(n,r){var o;const[i,a]=this.parentDimensions;this.width=n/i,this.height=r/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Ia)!==null&&clearTimeout(m(this,Ia)),D(this,Ia,setTimeout(()=>{D(this,Ia,null),$(this,Ye,g_).call(this,n,r)},200))},Jv=function(n,r){const{width:i,height:a}=m(this,Lt);let s=i,o=a,l=m(this,Lt);for(;s>2*n||o>2*r;){const u=s,c=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(l,0,0,u,c,0,0,s,o),l=h.transferToImageBitmap()}return l},g_=function(n,r){const i=new ck,a=Math.ceil(n*i.sx),s=Math.ceil(r*i.sy),o=m(this,Oa);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=m(this,Br)?m(this,Lt):$(this,Ye,Jv).call(this,a,s),u=o.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,a,s)},eb=function(n){if(n){if(m(this,Br)){const a=this._uiManager.imageManager.getSvgUrl(m(this,In));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Lt),r.getContext("2d").drawImage(m(this,Lt),0,0),r.toDataURL()}if(m(this,Br)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*tl.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*tl.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(m(this,Lt),0,0,m(this,Lt).width,m(this,Lt).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(m(this,Lt))},I3=function(){this._uiManager._signal&&(D(this,ws,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&$(this,Ye,O3).call(this,r.width,r.height)})),m(this,ws).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=m(this,ws))==null||n.disconnect(),D(this,ws,null)},{once:!0}))},M3=function(n){var u;const{rect:r,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,s=n.rect.every((c,h)=>Math.abs(c-r[h])<1),o=n.pageIndex===i,l=(((u=n.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:s&&o&&l,isSameAltText:l}},Ne(Ep,"_type","stamp"),Ne(Ep,"_editorType",Fe.STAMP);let p_=Ep;var Ru,ld,Ma,Lo,Ss,zr,jo,ud,cd,Vn,ks,Ie,Do,jn,N3,v_,b_,x_,tb;const Ri=class Ri{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:c}){z(this,jn);z(this,Ru);z(this,ld,!1);z(this,Ma,null);z(this,Lo,null);z(this,Ss,null);z(this,zr,new Map);z(this,jo,!1);z(this,ud,!1);z(this,cd,!1);z(this,Vn,null);z(this,ks,null);z(this,Ie);const h=[...m(Ri,Do).values()];if(!Ri._initialized){Ri._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),D(this,Ie,e),this.pageIndex=n,this.div=r,D(this,Ru,a),D(this,Ma,s),this.viewport=u,D(this,Vn,l),this.drawLayer=o,this._structTree=i,m(this,Ie).addLayer(this)}get isEmpty(){return m(this,zr).size===0}get isInvisible(){return this.isEmpty&&m(this,Ie).getMode()===Fe.NONE}updateToolbar(e){m(this,Ie).updateToolbar(e)}updateMode(e=m(this,Ie).getMode()){switch($(this,jn,tb).call(this),e){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of m(Ri,Do).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=m(this,Vn))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(m(this,Ie).getMode()!==Fe.INK)return;if(!e){for(const r of m(this,zr).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Ie).setEditingState(e)}addCommands(e){m(this,Ie).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=m(this,Ma))==null||n.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,zr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Ie).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,Ma))return;const n=m(this,Ma).getEditableAnnotations();for(const r of n){if(r.hide(),m(this,Ie).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;D(this,cd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const a of m(this,zr).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else n.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(m(this,Ma)){const a=m(this,Ma).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(m(this,Ie).isDeletedAnnotationElement(o))continue;let l=n.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(m(this,Ie).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}$(this,jn,tb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of m(Ri,Do).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,cd,!1)}getEditableAnnotation(e){var n;return((n=m(this,Ma))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Ie).getActive()!==e&&m(this,Ie).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Vn))!=null&&e.div&&!m(this,ks)){D(this,ks,new AbortController);const n=m(this,Ie).combinedSignal(m(this,ks));m(this,Vn).div.addEventListener("pointerdown",$(this,jn,N3).bind(this),{signal:n}),m(this,Vn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Vn))!=null&&e.div&&m(this,ks)&&(m(this,ks).abort(),D(this,ks,null),m(this,Vn).div.classList.remove("highlighting"))}enableClick(){if(m(this,Lo))return;D(this,Lo,new AbortController);const e=m(this,Ie).combinedSignal(m(this,Lo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,Lo))==null||e.abort(),D(this,Lo,null)}attach(e){m(this,zr).set(e.id,e);const{annotationElementId:n}=e;n&&m(this,Ie).isDeletedAnnotationElement(n)&&m(this,Ie).removeDeletedAnnotationElement(e)}detach(e){var n;m(this,zr).delete(e.id),(n=m(this,Ru))==null||n.removePointerInTextLayer(e.contentDiv),!m(this,cd)&&e.annotationElementId&&m(this,Ie).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Ie).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,ud)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Ie).addDeletedAnnotationElement(e.annotationElementId),ct.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Ie).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Ie).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!m(this,Ss)&&(e._focusEventsAllowed=!1,D(this,Ss,setTimeout(()=>{D(this,Ss,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Ie)._signal}),n.focus())},0))),e._structTreeParentId=(r=m(this,Ru))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return m(this,Ie).getId()}combinedSignal(e){return m(this,Ie).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,jn,v_))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){m(this,Ie).updateToolbar(e),m(this,Ie).updateMode(e);const{offsetX:r,offsetY:i}=$(this,jn,x_).call(this),a=this.getNextId(),s=$(this,jn,b_).call(this,{parent:this,id:a,x:r,y:i,uiManager:m(this,Ie),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=m(Ri,Do).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,m(this,Ie)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=$(this,jn,b_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Ie),isCentered:n,...r});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor($(this,jn,x_).call(this),!0)}setSelected(e){m(this,Ie).setSelected(e)}toggleSelected(e){m(this,Ie).toggleSelected(e)}unselect(e){m(this,Ie).unselect(e)}pointerup(e){const{isMac:n}=or.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&m(this,jo)){if(D(this,jo,!1),!m(this,ld)){D(this,ld,!0);return}if(m(this,Ie).getMode()===Fe.STAMP){m(this,Ie).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Ie).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),m(this,jo)){D(this,jo,!1);return}const{isMac:n}=or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;D(this,jo,!0);const r=m(this,Ie).getActive();D(this,ld,!r||r.isEmpty())}findNewParent(e,n,r){const i=m(this,Ie).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=m(this,Ie).getActive())==null?void 0:e.parent)===this&&(m(this,Ie).commitOrRemove(),m(this,Ie).setActiveEditor(null)),m(this,Ss)&&(clearTimeout(m(this,Ss)),D(this,Ss,null));for(const r of m(this,zr).values())(n=m(this,Ru))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,zr).clear(),m(this,Ie).removeLayer(this)}render({viewport:e}){this.viewport=e,Gu(this.div,e);for(const n of m(this,Ie).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){m(this,Ie).commitOrRemove(),$(this,jn,tb).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Gu(this.div,{rotation:r}),n!==r)for(const i of m(this,zr).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return m(this,Ie).viewParameters.realScale}};Ru=new WeakMap,ld=new WeakMap,Ma=new WeakMap,Lo=new WeakMap,Ss=new WeakMap,zr=new WeakMap,jo=new WeakMap,ud=new WeakMap,cd=new WeakMap,Vn=new WeakMap,ks=new WeakMap,Ie=new WeakMap,Do=new WeakMap,jn=new WeakSet,N3=function(e){m(this,Ie).unselectAll();const{target:n}=e;if(n===m(this,Vn).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&m(this,Vn).div.contains(n)){const{isMac:r}=or.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Ie).showAllEditors("highlight",!0,!0),m(this,Vn).div.classList.add("free"),this.toggleDrawing(),jb.startHighlighting(this,m(this,Ie).direction==="ltr",{target:m(this,Vn).div,x:e.x,y:e.y}),m(this,Vn).div.addEventListener("pointerup",()=>{m(this,Vn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Ie)._signal}),e.preventDefault()}},v_=function(){return m(Ri,Do).get(m(this,Ie).getMode())},b_=function(e){const n=m(this,jn,v_);return n?new n.prototype.constructor(e):null},x_=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(a+o)/2-e,c=(s+l)/2-n,[h,d]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:h,offsetY:d}},tb=function(){D(this,ud,!0);for(const e of m(this,zr).values())e.isEmpty()&&e.remove();D(this,ud,!1)},Ne(Ri,"_initialized",!1),z(Ri,Do,new Map([Yk,a_,p_,jb].map(e=>[e._editorType,e])));let y_=Ri;var Na,Wg,Zt,_s,Vg,S_,tc,k_,R3;const Pn=class Pn{constructor({pageIndex:e}){z(this,tc);z(this,Na,null);z(this,Wg,0);z(this,Zt,new Map);z(this,_s,new Map);this.pageIndex=e}setParent(e){if(!m(this,Na)){D(this,Na,e);return}if(m(this,Na)!==e){if(m(this,Zt).size>0)for(const n of m(this,Zt).values())n.remove(),e.append(n);D(this,Na,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new DC)}draw(e,n,r,i=!1){const a=er(this,Wg)._++,s=$(this,tc,k_).call(this,e.box);s.classList.add(...e.classNamesForDrawing);const o=Pn._svgFactory.createElement("defs");s.append(o);const l=Pn._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&m(this,_s).set(a,l);const c=$(this,tc,R3).call(this,o,u),h=Pn._svgFactory.createElement("use");return s.append(h),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),m(this,Zt).set(a,s),{id:a,clipPathId:`url(#${c})`}}drawOutline(e){const n=er(this,Wg)._++,r=$(this,tc,k_).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Pn._svgFactory.createElement("defs");r.append(i);const a=Pn._svgFactory.createElement("path");i.append(a);const s=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",s),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const c=Pn._svgFactory.createElement("mask");i.append(c),o=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const h=Pn._svgFactory.createElement("rect");c.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const d=Pn._svgFactory.createElement("use");c.append(d),d.setAttribute("href",`#${s}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const l=Pn._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),m(this,Zt).set(n,r),n}finalizeLine(e,n){const r=m(this,_s).get(e);m(this,_s).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){m(this,Zt).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(e,n){m(this,_s).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;$(r=Pn,Vg,S_).call(r,m(this,Zt).get(e),n)}show(e,n){m(this,Zt).get(e).classList.toggle("hidden",!n)}rotate(e,n){m(this,Zt).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){m(this,Zt).get(e).setAttribute("fill",n)}changeOpacity(e,n){m(this,Zt).get(e).setAttribute("fill-opacity",n)}addClass(e,n){m(this,Zt).get(e).classList.add(n)}removeClass(e,n){m(this,Zt).get(e).classList.remove(n)}getSVGRoot(e){return m(this,Zt).get(e)}remove(e){m(this,_s).delete(e),m(this,Na)!==null&&(m(this,Zt).get(e).remove(),m(this,Zt).delete(e))}destroy(){D(this,Na,null);for(const e of m(this,Zt).values())e.remove();m(this,Zt).clear(),m(this,_s).clear()}};Na=new WeakMap,Wg=new WeakMap,Zt=new WeakMap,_s=new WeakMap,Vg=new WeakSet,S_=function(e,{x:n=0,y:r=0,width:i=1,height:a=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},tc=new WeakSet,k_=function(e){var r;const n=Pn._svgFactory.create(1,1,!0);return m(this,Na).append(n),n.setAttribute("aria-hidden",!0),$(r=Pn,Vg,S_).call(r,n,e),n},R3=function(e,n){const r=Pn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Pn._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},z(Pn,Vg);let w_=Pn;je.AbortException;je.AnnotationEditorLayer;je.AnnotationEditorParamsType;je.AnnotationEditorType;je.AnnotationEditorUIManager;var L3=je.AnnotationLayer,j3=je.AnnotationMode;je.ColorPicker;je.DOMSVGFactory;je.DrawLayer;je.FeatureTest;var FC=je.GlobalWorkerOptions;je.ImageKind;je.InvalidPDFException;je.MissingPDFException;je.OPS;je.OutputScale;var RY=je.PDFDataRangeTransport;je.PDFDateString;je.PDFWorker;je.PasswordResponses;je.PermissionFlag;je.PixelsPerInch;je.RenderingCancelledException;var D3=je.TextLayer;je.UnexpectedResponseException;je.Util;je.VerbosityLevel;je.XfaLayer;je.build;je.createValidAbsoluteUrl;je.fetchData;var $3=je.getDocument;je.getFilenameFromUrl;je.getPdfFilenameFromUrl;je.getXfaPageViewport;je.isDataScheme;je.isPdfFile;je.noContextMenu;je.normalizeUnicode;je.setLayerDimensions;je.shadow;je.version;const LY=Object.freeze(Object.defineProperty({__proto__:null,AnnotationLayer:L3,AnnotationMode:j3,GlobalWorkerOptions:FC,PDFDataRangeTransport:RY,TextLayer:D3,getDocument:$3},Symbol.toStringTag,{value:"Module"}));var vn=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},jY=["onCopy","onCut","onPaste"],DY=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],$Y=["onFocus","onBlur"],FY=["onInput","onInvalid","onReset","onSubmit"],BY=["onLoad","onError"],zY=["onKeyDown","onKeyPress","onKeyUp"],UY=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],HY=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],WY=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],VY=["onSelect"],GY=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],qY=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],XY=["onScroll"],KY=["onWheel"],YY=["onAnimationStart","onAnimationEnd","onAnimationIteration"],ZY=["onTransitionEnd"],QY=["onToggle"],JY=["onChange"],eZ=vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn([],jY,!0),DY,!0),$Y,!0),FY,!0),BY,!0),zY,!0),UY,!0),HY,!0),WY,!0),VY,!0),GY,!0),qY,!0),XY,!0),KY,!0),YY,!0),ZY,!0),JY,!0),QY,!0);function F3(t,e){var n={};return eZ.forEach(function(r){var i=t[r];i&&(e?n[r]=function(a){return i(a,e(r))}:n[r]=i)}),n}function ry(t){var e=!1,n=new Promise(function(r,i){t.then(function(a){return!e&&r(a)}).catch(function(a){return!e&&i(a)})});return{promise:n,cancel:function(){e=!0}}}function B3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=B3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=B3(t))&&(r&&(r+=" "),r+=e);return r}var tZ="Invariant failed";function Je(t,e){if(!t)throw new Error(tZ)}var nZ=function(){},rZ=nZ;const Yn=nt(rZ);var B2=Object.prototype.hasOwnProperty;function z2(t,e,n){for(n of t.keys())if(oh(n,e))return n}function oh(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&oh(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=z2(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=z2(e,i),!i)||!oh(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(B2.call(t,n)&&++r&&!B2.call(e,n)||!(n in e)||!oh(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const z3=N.createContext(null);function lh({children:t,type:e}){return T.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const iZ="noopener noreferrer nofollow";class aZ{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Je(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Je(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(n=>{Je(this.pdfDocument),Je(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Je(Array.isArray(n));const r=n[0];new Promise(i=>{Je(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{Je(!1)}):typeof r=="number"?i(r):Je(!1)}).then(i=>{const a=i+1;Je(this.pdfViewer),Je(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const n=e-1;Je(this.pdfViewer),Je(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||iZ,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const U2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ox=typeof window<"u",U3=Ox&&window.location.protocol==="file:";function sZ(t){return typeof t<"u"}function yl(t){return sZ(t)&&t!==null}function oZ(t){return typeof t=="string"}function lZ(t){return t instanceof ArrayBuffer}function uZ(t){return Je(Ox),t instanceof Blob}function __(t){return oZ(t)&&/^data:/.test(t)}function H2(t){Je(__(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function cZ(){return Ox&&window.devicePixelRatio||1}const H3="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function W2(){Yn(!U3,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${H3}`)}function hZ(){Yn(!U3,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${H3}`)}function Ku(t){t!=null&&t.cancel&&t.cancel()}function A_(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function dZ(t){return t.name==="RenderingCancelledException"}function fZ(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}function pZ(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function vd(){return N.useReducer(pZ,{value:void 0,error:void 0})}var mZ=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})},V2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const{PDFDataRangeTransport:gZ}=LY,yZ=(t,e)=>{switch(e){case U2.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case U2.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function G2(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const vZ=N.forwardRef(function(e,n){var{children:r,className:i,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:c,loading:h="Loading PDF",noData:d="No PDF file specified.",onItemClick:f,onLoadError:g,onLoadProgress:p,onLoadSuccess:v,onPassword:y=yZ,onSourceError:b,onSourceSuccess:x,options:k,renderMode:w,rotate:S}=e,A=V2(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[_,E]=vd(),{value:O,error:R}=_,[P,L]=vd(),{value:C,error:F}=P,q=N.useRef(new aZ),B=N.useRef([]),W=N.useRef(void 0),G=N.useRef(void 0);l&&l!==W.current&&G2(l)&&(Yn(!oh(l,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=l),k&&k!==G.current&&(Yn(!oh(k,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=k);const M=N.useRef({scrollPageIntoView:Se=>{const{dest:I,pageNumber:ee,pageIndex:K=ee-1}=Se;if(f){f({dest:I,pageIndex:K,pageNumber:ee});return}const X=B.current[K];if(X){X.scrollIntoView();return}Yn(!1,`An internal link leading to page ${ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(n,()=>({linkService:q,pages:B,viewer:M}),[]);function V(){x&&x()}function U(){R&&(Yn(!1,R.toString()),b&&b(R))}function j(){E({type:"RESET"})}N.useEffect(j,[l,E]);const Q=N.useCallback(()=>mZ(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return __(l)?{data:H2(l)}:(W2(),{url:l});if(l instanceof gZ)return{range:l};if(lZ(l))return{data:l};if(Ox&&uZ(l))return{data:yield fZ(l)};if(Je(typeof l=="object"),Je(G2(l)),"url"in l&&typeof l.url=="string"){if(__(l.url)){const{url:Se}=l,I=V2(l,["url"]),ee=H2(Se);return Object.assign({data:ee},I)}W2()}return l}),[l]);N.useEffect(()=>{const Se=ry(Q());return Se.promise.then(I=>{E({type:"RESOLVE",value:I})}).catch(I=>{E({type:"REJECT",error:I})}),()=>{Ku(Se)}},[Q,E]),N.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){U();return}V()}},[O]);function ae(){C&&(v&&v(C),B.current=new Array(C.numPages),q.current.setDocument(C))}function me(){F&&(Yn(!1,F.toString()),g&&g(F))}N.useEffect(function(){L({type:"RESET"})},[L,O]),N.useEffect(function(){if(!O)return;const I=k?Object.assign(Object.assign({},O),k):O,ee=$3(I);p&&(ee.onProgress=p),y&&(ee.onPassword=y);const K=ee,X=K.promise.then(H=>{L({type:"RESOLVE",value:H})}).catch(H=>{K.destroyed||L({type:"REJECT",error:H})});return()=>{X.finally(()=>K.destroy())}},[k,L,O]),N.useEffect(()=>{if(!(typeof C>"u")){if(C===!1){me();return}ae()}},[C]),N.useEffect(function(){q.current.setViewer(M.current),q.current.setExternalLinkRel(s),q.current.setExternalLinkTarget(o)},[s,o]);const pe=N.useCallback((Se,I)=>{B.current[Se]=I},[]),ue=N.useCallback(Se=>{delete B.current[Se]},[]),re=N.useMemo(()=>({imageResourcesPath:c,linkService:q.current,onItemClick:f,pdf:C,registerPage:pe,renderMode:w,rotate:S,unregisterPage:ue}),[c,f,C,pe,w,S,ue]),de=N.useMemo(()=>F3(A,()=>C),[A,C]);function fe(){return T.jsx(z3.Provider,{value:re,children:r})}function ie(){return l?C==null?T.jsx(lh,{type:"loading",children:typeof h=="function"?h():h}):C===!1?T.jsx(lh,{type:"error",children:typeof a=="function"?a():a}):fe():T.jsx(lh,{type:"no-data",children:typeof d=="function"?d():d})}return T.jsx("div",Object.assign({className:qe("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},de,{children:ie()}))});function W3(){return N.useContext(z3)}function V3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){n.forEach(function(s){typeof s=="function"?s(a):s&&(s.current=a)})}}const G3=N.createContext(null),q3={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},bZ=/^H(\d+)$/;function xZ(t){return t in q3}function Ix(t){return"children"in t}function X3(t){return Ix(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function wZ(t){const e={};if(Ix(t)){const{role:n}=t,r=n.match(bZ);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(xZ(n)){const i=q3[n];i&&(e.role=i)}}return e}function K3(t){const e={};if(Ix(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),X3(t)){const[n]=t.children;if(n){const r=K3(n);return Object.assign(Object.assign({},e),r)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function SZ(t){return t?Object.assign(Object.assign({},wZ(t)),K3(t)):null}function Y3({className:t,node:e}){const n=N.useMemo(()=>SZ(e),[e]),r=N.useMemo(()=>!Ix(e)||X3(e)?null:e.children.map((i,a)=>T.jsx(Y3,{node:i},a)),[e]);return T.jsx("span",Object.assign({className:t},n,{children:r}))}function Mx(){return N.useContext(G3)}function kZ(){const t=Mx();Je(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=vd(),{value:a,error:s}=r,{customTextRenderer:o,page:l}=t;function u(){a&&n&&n(a)}function c(){s&&(Yn(!1,s.toString()),e&&e(s))}return N.useEffect(function(){i({type:"RESET"})},[i,l]),N.useEffect(function(){if(o||!l)return;const d=ry(l.getStructTree()),f=d;return d.promise.then(g=>{i({type:"RESOLVE",value:g})}).catch(g=>{i({type:"REJECT",error:g})}),()=>Ku(f)},[o,l,i]),N.useEffect(()=>{if(a!==void 0){if(a===!1){c();return}u()}},[a]),a?T.jsx(Y3,{className:"react-pdf__Page__structTree structTree",node:a}):null}const q2=j3;function _Z(t){const e=Mx();Je(e);const n=Object.assign(Object.assign({},e),t),{_className:r,canvasBackground:i,devicePixelRatio:a=cZ(),onRenderError:s,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:c,rotate:h,scale:d}=n,{canvasRef:f}=t;Je(l);const g=N.useRef(null);function p(){l&&o&&o(A_(l,d))}function v(k){dZ(k)||(Yn(!1,k.toString()),s&&s(k))}const y=N.useMemo(()=>l.getViewport({scale:d*a,rotation:h}),[a,l,h,d]),b=N.useMemo(()=>l.getViewport({scale:d,rotation:h}),[l,h,d]);N.useEffect(function(){if(!l)return;l.cleanup();const{current:w}=g;if(!w)return;w.width=y.width,w.height=y.height,w.style.width=`${Math.floor(b.width)}px`,w.style.height=`${Math.floor(b.height)}px`,w.style.visibility="hidden";const S={annotationMode:u?q2.ENABLE_FORMS:q2.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:y};i&&(S.background=i);const A=l.render(S),_=A;return A.promise.then(()=>{w.style.visibility="",p()}).catch(v),()=>Ku(_)},[i,l,u,y,b]);const x=N.useCallback(()=>{const{current:k}=g;k&&(k.width=0,k.height=0)},[]);return N.useEffect(()=>x,[x]),T.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:V3(f,g),style:{display:"block",userSelect:"none"},children:c?T.jsx(kZ,{}):null})}function AZ(t){return"str"in t}function EZ(){const t=Mx();Je(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:l,rotate:u,scale:c}=t;Je(s);const[h,d]=vd(),{value:f,error:g}=h,p=N.useRef(null);Yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){f&&r&&r(f)}function y(){g&&(Yn(!1,g.toString()),n&&n(g))}N.useEffect(function(){d({type:"RESET"})},[s,d]),N.useEffect(function(){if(!s)return;const _=ry(s.getTextContent()),E=_;return _.promise.then(O=>{d({type:"RESOLVE",value:O})}).catch(O=>{d({type:"REJECT",error:O})}),()=>Ku(E)},[s,d]),N.useEffect(()=>{if(f!==void 0){if(f===!1){y();return}v()}},[f]);const b=N.useCallback(()=>{a&&a()},[a]),x=N.useCallback(A=>{Yn(!1,A.toString()),i&&i(A)},[i]);function k(){const A=p.current;A&&A.classList.add("selecting")}function w(){const A=p.current;A&&A.classList.remove("selecting")}const S=N.useMemo(()=>s.getViewport({scale:c,rotation:u}),[s,u,c]);return N.useLayoutEffect(function(){if(!s||!f)return;const{current:_}=p;if(!_)return;_.innerHTML="";const E=s.streamTextContent({includeMarkedContent:!0}),O={container:_,textContentSource:E,viewport:S},R=new D3(O),P=R;return R.render().then(()=>{const L=document.createElement("div");L.className="endOfContent",_.append(L);const C=_.querySelectorAll('[role="presentation"]');if(e){let F=0;f.items.forEach((q,B)=>{if(!AZ(q))return;const W=C[F];if(!W)return;const G=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:B},q));W.innerHTML=G,F+=q.str&&q.hasEOL?2:1})}b()}).catch(x),()=>Ku(P)},[e,x,b,s,o,l,f,S]),T.jsx("div",{className:qe("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:k,ref:p})}function CZ(){const t=W3(),e=Mx();Je(e);const n=Object.assign(Object.assign({},t),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:c,renderForms:h,rotate:d,scale:f=1}=n;Je(c),Je(u),Je(i);const[g,p]=vd(),{value:v,error:y}=g,b=N.useRef(null);Yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){v&&s&&s(v)}function k(){y&&(Yn(!1,y.toString()),a&&a(y))}N.useEffect(function(){p({type:"RESET"})},[p,u]),N.useEffect(function(){if(!u)return;const E=ry(u.getAnnotations()),O=E;return E.promise.then(R=>{p({type:"RESOLVE",value:R})}).catch(R=>{p({type:"REJECT",error:R})}),()=>{Ku(O)}},[p,u]),N.useEffect(()=>{if(v!==void 0){if(v===!1){k();return}x()}},[v]);function w(){l&&l()}function S(_){Yn(!1,`${_}`),o&&o(_)}const A=N.useMemo(()=>u.getViewport({scale:f,rotation:d}),[u,d,f]);return N.useEffect(function(){if(!c||!u||!i||!v)return;const{current:E}=b;if(!E)return;const O=A.clone({dontFlip:!0}),R={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:E,l10n:null,page:u,structTreeLayer:null,viewport:O},P={annotations:v,annotationStorage:c.annotationStorage,div:E,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:O};E.innerHTML="";try{new L3(R).render(P),w()}catch(L){S(L)}return()=>{}},[v,r,i,u,c,h,A]),T.jsx("div",{className:qe("react-pdf__Page__annotations","annotationLayer"),ref:b})}var PZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const X2=1;function TZ(t){const e=W3(),n=Object.assign(Object.assign({},e),t),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:l,customRenderer:u,customTextRenderer:c,devicePixelRatio:h,error:d="Failed to load the page.",height:f,inputRef:g,loading:p="Loading page",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:k,onGetTextError:w,onGetTextSuccess:S,onLoadError:A,onLoadSuccess:_,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:O,onRenderError:R,onRenderSuccess:P,onRenderTextLayerError:L,onRenderTextLayerSuccess:C,pageIndex:F,pageNumber:q,pdf:B,registerPage:W,renderAnnotationLayer:G=!0,renderForms:M=!1,renderMode:V="canvas",renderTextLayer:U=!0,rotate:j,scale:Q=X2,unregisterPage:ae,width:me}=n,pe=PZ(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ue,re]=vd(),{value:de,error:fe}=ue,ie=N.useRef(null);Je(B);const Se=yl(q)?q-1:F??null,I=q??(yl(F)?F+1:null),ee=j??(de?de.rotate:null),K=N.useMemo(()=>{if(!de)return null;let le=1;const ve=Q??X2;if(me||f){const Oe=de.getViewport({scale:1,rotation:ee});me?le=me/Oe.width:f&&(le=f/Oe.height)}return ve*le},[f,de,ee,Q,me]);N.useEffect(function(){return()=>{yl(Se)&&i&&ae&&ae(Se)}},[i,B,Se,ae]);function X(){if(_){if(!de||!K)return;_(A_(de,K))}if(i&&W){if(!yl(Se)||!ie.current)return;W(Se,ie.current)}}function H(){fe&&(Yn(!1,fe.toString()),A&&A(fe))}N.useEffect(function(){re({type:"RESET"})},[re,B,Se]),N.useEffect(function(){if(!B||!I)return;const ve=ry(B.getPage(I)),Oe=ve;return ve.promise.then(Be=>{re({type:"RESOLVE",value:Be})}).catch(Be=>{re({type:"REJECT",error:Be})}),()=>Ku(Oe)},[re,B,I]),N.useEffect(()=>{if(de!==void 0){if(de===!1){H();return}X()}},[de,K]);const Y=N.useMemo(()=>de&&yl(Se)&&I&&yl(ee)&&yl(K)?{_className:r,canvasBackground:a,customTextRenderer:c,devicePixelRatio:h,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:k,onGetTextError:w,onGetTextSuccess:S,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:O,onRenderError:R,onRenderSuccess:P,onRenderTextLayerError:L,onRenderTextLayerSuccess:C,page:de,pageIndex:Se,pageNumber:I,renderForms:M,renderTextLayer:U,rotate:ee,scale:K}:null,[r,a,c,h,y,b,x,k,w,S,E,O,R,P,L,C,de,Se,I,M,U,ee,K]),se=N.useMemo(()=>F3(pe,()=>de&&(K?A_(de,K):void 0)),[pe,de,K]),ce=`${Se}@${K}/${ee}`;function te(){switch(V){case"custom":return Je(u),T.jsx(u,{},`${ce}_custom`);case"none":return null;case"canvas":default:return T.jsx(_Z,{canvasRef:s},`${ce}_canvas`)}}function ye(){return U?T.jsx(EZ,{},`${ce}_text`):null}function we(){return G?T.jsx(CZ,{},`${ce}_annotations`):null}function ge(){return T.jsxs(G3.Provider,{value:Y,children:[te(),ye(),we(),o]})}function J(){return I?B===null||de===void 0||de===null?T.jsx(lh,{type:"loading",children:typeof p=="function"?p():p}):B===!1||de===!1?T.jsx(lh,{type:"error",children:typeof d=="function"?d():d}):ge():T.jsx(lh,{type:"no-data",children:typeof v=="function"?v():v})}return T.jsx("div",Object.assign({className:qe(r,l),"data-page-number":I,ref:V3(g,ie),style:{"--scale-factor":`${K}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},se,{children:J()}))}hZ();FC.workerSrc="pdf.worker.mjs";const OZ="/assets/pdf.worker-n-vTvQZi.mjs",IZ=OZ;FC.workerSrc=IZ;const vc=[.8,1,1.25];function y1(t,e){const n=atob(t),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);const i=new Blob([r],{type:e});return URL.createObjectURL(i)}function MZ({fileName:t,contentBase64:e,fileId:n,size:r}){const i=N.useRef(null),[a,s]=N.useState(null),[o,l]=N.useState(0),[u,c]=N.useState(1),h=N.useRef([]),[d,f]=N.useState(!0),[g,p]=N.useState(null),[v,y]=N.useState(1),[b,x]=N.useState(!1),[k,w]=N.useState(0),S=N.useRef(0);N.useEffect(()=>{if(!e)return;const B=y1(e,"application/pdf");return s(B),()=>URL.revokeObjectURL(B)},[e]);const A=N.useCallback(({numPages:B})=>{l(B),f(!1),p(null)},[]),_=N.useCallback(B=>{f(!1),p((B==null?void 0:B.message)??"Failed to load PDF")},[]);N.useEffect(()=>{if(!i.current)return;const B=new ResizeObserver(W=>{const G=W[0];G&&w(G.contentRect.width)});return B.observe(i.current),()=>B.disconnect()},[]),N.useEffect(()=>{if(o===0)return;const B=h.current,W=new IntersectionObserver(G=>{G.forEach(M=>{if(M.isIntersecting){const V=Number(M.target.dataset.pageNumber);Number.isNaN(V)||c(V)}})},{root:i.current,rootMargin:"-20% 0px",threshold:0});return B.forEach(G=>{G&&W.observe(G)}),()=>W.disconnect()},[o]);const[E,O]=N.useState(0),R=b&&k>0&&E>0?k/E:v,P=N.useCallback(B=>{S.current=B.width,O(B.width)},[]),L=()=>{const B=y1(e,"application/pdf"),W=document.createElement("a");W.href=B,W.download=t,W.click(),URL.revokeObjectURL(B)},C=()=>{const B=vc.indexOf(v);B<vc.length-1&&y(vc[B+1]),x(!1)},F=()=>{const B=vc.indexOf(v);B>0&&y(vc[B-1]),x(!1)},q=()=>{p(null),f(!0),l(0),s(B=>(B&&URL.revokeObjectURL(B),y1(e,"application/pdf")))};return g?T.jsxs("div",{className:"flex min-h-[300px] flex-col items-center justify-center gap-4 rounded-xl border border-slate-200 bg-slate-50 p-8 dark:border-slate-700 dark:bg-slate-800/50",children:[T.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Failed to load PDF."}),T.jsx("p",{className:"text-sm text-slate-500",children:g}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:q,"aria-label":"Retry loading PDF",children:"Retry"}),T.jsx(Pb,{to:"/app/workspace",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",children:"Back to Workspace"})]})]}):T.jsxs("div",{className:"flex h-full flex-col",ref:i,children:[T.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-200 pb-2 dark:border-slate-700",children:[T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:F,"aria-label":"Zoom out",children:""}),T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:C,"aria-label":"Zoom in",children:"+"}),vc.map(B=>T.jsxs("button",{type:"button",className:`rounded px-2 py-1 text-sm ${v===B?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>{y(B),x(!1)},"aria-label":`Zoom ${Math.round(B*100)}%`,children:[Math.round(B*100),"%"]},B)),T.jsx("button",{type:"button",className:`rounded px-2 py-1 text-sm ${b?"bg-blue-100 dark:bg-blue-900/50":"border border-slate-300 dark:border-slate-600"}`,onClick:()=>x(B=>!B),"aria-label":"Fit to width",children:"Fit to width"}),o>0&&T.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400","aria-live":"polite",children:["Page ",u," of ",o]}),T.jsx("button",{type:"button",className:"rounded border border-slate-300 px-2 py-1 text-sm dark:border-slate-600",onClick:L,"aria-label":"Download original PDF",children:"Download original"})]}),T.jsxs("div",{className:"flex-1 overflow-auto bg-slate-300 p-4 dark:bg-slate-600",style:{minHeight:400},children:[d&&T.jsx("div",{className:"flex items-center justify-center py-16",children:T.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading PDF"})}),a&&T.jsx(vZ,{file:a,onLoadSuccess:A,onLoadError:_,loading:null,className:"flex flex-col items-center gap-4",children:Array.from({length:o},(B,W)=>W+1).map(B=>T.jsx("div",{className:"bg-white shadow-lg dark:bg-slate-900",ref:W=>{h.current[B-1]=W},"data-page-number":B,children:T.jsx(TZ,{pageNumber:B,scale:R,onLoadSuccess:B===1?P:void 0,renderTextLayer:!0,renderAnnotationLayer:!0})},B))})]})]})}function NZ(t){const e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function RZ({content:t,fileName:e}){let n;try{n=JSON.parse(t)}catch{return T.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:T.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Invalid Spotify track data."})})}if(n.source!=="spotify")return T.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 dark:border-slate-600 dark:bg-slate-800",children:T.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Not a Spotify track."})});const r=n.trackUrl??`https://open.spotify.com/track/${n.trackId}`;return T.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:T.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[n.artworkUrl&&T.jsx("img",{src:n.artworkUrl,alt:"",className:"h-32 w-32 shrink-0 rounded-lg object-cover shadow"}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:n.name||e}),n.artists&&T.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-300",children:n.artists}),n.album&&T.jsxs("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:["Album: ",n.album]}),n.duration_ms!=null&&T.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:NZ(n.duration_ms)}),T.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700",children:"Open in Spotify"})]})]})})}const LZ="workspace-root";function Z3(){const{items:t,createFolder:e,addFile:n,addDocxFile:r,addPdfFile:i,renameItem:a,deleteItem:s,getItem:o,updateFileContent:l,moveFile:u}=oC(),{showToast:c}=ED(),h=async(pe,ue)=>{if(pe===LZ){c("Workspace cannot be removed.","info");return}const re=await s(pe);re.length>0&&v(re)},{openTabIds:d,activeTabId:f,openTab:g,closeTab:p,closeTabs:v,setActiveTab:y}=dW(),[b,x]=N.useState(null),[k,w]=N.useState(null),[S,A]=N.useState(()=>SH()),[_,E]=N.useState(null),[O,R]=N.useState(!1),[P,L]=N.useState(null),C=N.useRef(null);N.useEffect(()=>{kH(S)},[S]);const F=N.useCallback(pe=>{A(ue=>({...ue,[pe]:!ue[pe]}))},[]),q=N.useCallback(pe=>{E(pe)},[]);N.useEffect(()=>{if(!_)return;const pe=setTimeout(()=>E(null),2500);return()=>clearTimeout(pe)},[_]);const B=pe=>{L(pe)},W=N.useCallback(pe=>{const ue=P;L(null),e(ue,pe.trim()||"New folder")},[P,e]),G=pe=>{var ue;w(pe),(ue=C.current)==null||ue.click()},M=async pe=>{var de;const ue=pe.target.files;if(!(ue!=null&&ue.length))return;const re=k;w(null);for(let fe=0;fe<ue.length;fe++){const ie=ue[fe],Se=(de=ie.name.split(".").pop())==null?void 0:de.toLowerCase();try{if(Se==="docx"){if(ie.size>fW){c(`"${ie.name}" is too large. Maximum size for DOCX files is 5 MB.`,"error");continue}const I=await new Promise((se,ce)=>{const te=new FileReader;te.onload=()=>se(te.result),te.onerror=()=>ce(te.error),te.readAsArrayBuffer(ie)}),ee=new Uint8Array(I),K=8192;let X="";for(let se=0;se<ee.length;se+=K)X+=String.fromCharCode(...ee.subarray(se,se+K));const H=btoa(X),Y=await r(re,ie.name,H,ie.size);g(Y)}else if(Se==="pdf"){if(ie.size>pW){c(`"${ie.name}" is too large. Maximum size for PDF files is 5 MB.`,"error");continue}const I=await new Promise((se,ce)=>{const te=new FileReader;te.onload=()=>se(te.result),te.onerror=()=>ce(te.error),te.readAsArrayBuffer(ie)}),ee=new Uint8Array(I),K=8192;let X="";for(let se=0;se<ee.length;se+=K)X+=String.fromCharCode(...ee.subarray(se,se+K));const H=btoa(X),Y=await i(re,ie.name,H,ie.size);g(Y)}else{const I=await new Promise((K,X)=>{const H=new FileReader;H.onload=()=>K(String(H.result)),H.onerror=()=>X(H.error),H.readAsText(ie)}),ee=Se==="csv"?"csv":"text";await n(re,ie.name,ee,I)}}catch(I){console.error(I),c(`Could not import "${ie.name}". Please try again.`,"error")}}pe.target.value=""},V=pe=>{g(pe)},{query:U}=PD(),j=N.useMemo(()=>{const pe=U.trim().toLowerCase();return pe?t.filter(ue=>ue.name.toLowerCase().includes(pe)):t},[t,U]),Q=f?o(f):null,ae=t.length>0,me=d.length>0;return T.jsxs("div",{className:"flex h-full gap-4",children:[T.jsxs("aside",{className:"flex w-64 flex-col rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("div",{className:"border-b border-slate-200 p-2 font-medium text-slate-800 dark:border-slate-700 dark:text-slate-100",children:"Files & folders"}),_&&T.jsx("div",{className:"border-b border-slate-200 bg-blue-50 px-2 py-1.5 text-sm text-blue-800 dark:border-slate-700 dark:bg-blue-900/30 dark:text-blue-200",role:"status",children:_}),T.jsx(gW,{items:j,selectedFolderId:b,expandedFolders:S,onToggleExpand:F,onSelectFolder:x,onOpenFile:V,onCreateFolder:B,onImportFiles:G,onRename:a,onDelete:h,moveFile:u,getItem:o,onMoveFeedback:q,isDragging:O,setDragging:R})]}),T.jsx("input",{ref:C,type:"file",multiple:!0,className:"hidden","aria-label":"Import files",onChange:M}),T.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[me&&T.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700 overflow-x-auto",children:d.map(pe=>{const ue=o(pe);return T.jsxs("div",{className:`flex items-center gap-1 border-r border-slate-200 px-3 py-2 text-sm dark:border-slate-700 ${pe===f?"bg-slate-100 dark:bg-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx("button",{type:"button",className:"min-w-0 truncate max-w-[140px]",onClick:()=>y(pe),children:(ue==null?void 0:ue.name)??pe}),T.jsx("button",{type:"button",className:"rounded p-0.5 hover:bg-slate-300 dark:hover:bg-slate-600",onClick:()=>p(pe),"aria-label":"Close tab",children:""})]},pe)})}),T.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[!me&&!ae&&T.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:[T.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No files yet. Create a folder or import files to get started."}),T.jsx(dn,{variant:"primary",size:"lg",onClick:()=>G(null),children:"Import files"})]}),!me&&ae&&T.jsx("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:T.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Click a file in the sidebar to open it in a tab."})}),me&&Q&&Gc(Q)&&Q.fileType==="docx"&&T.jsx("div",{className:"h-full min-h-[300px]",children:T.jsx(IX,{fileId:Q.id,fileName:Q.name,contentBase64:Q.content,size:Q.size})}),me&&Q&&Gc(Q)&&Q.fileType==="pdf"&&T.jsx("div",{className:"h-full min-h-[300px]",children:T.jsx(MZ,{fileId:Q.id,fileName:Q.name,contentBase64:Q.content,size:Q.size})}),me&&Q&&Gc(Q)&&Q.fileType==="spotify"&&T.jsx("div",{className:"h-full min-h-[300px]",children:T.jsx(RZ,{content:Q.content,fileName:Q.name})}),me&&Q&&Gc(Q)&&(Q.fileType==="text"||Q.fileType==="csv")&&T.jsx("div",{className:"h-full min-h-[300px]",children:T.jsx(aq,{content:Q.content,fileType:Q.fileType,fileName:Q.name,onSave:pe=>l(Q.id,pe)})})]})]}),T.jsx(qS,{open:P!==null,title:"New folder",label:"Folder name",defaultValue:"New folder",submitLabel:"Create",onSubmit:W,onCancel:()=>L(null)})]})}const ua="study",jZ={id:"pomodoro",phase:"work",remainingSeconds:25*60,cycleCount:0,isRunning:!1,workMinutes:25,shortBreakMinutes:5,longBreakMinutes:15,cyclesBeforeLongBreak:4},DZ={id:"customTimer",durationMinutes:25,remainingSeconds:25*60,isRunning:!1};async function K2(){return await ul(ua,"pomodoro")??jZ}async function bc(t){await ca(ua,t)}async function Y2(){return await ul(ua,"customTimer")??DZ}async function xc(t){await ca(ua,t)}async function $Z(){return(await eC(ua)).filter(e=>"name"in e&&"createdAt"in e&&!("deckId"in e))}async function nb(t){return(await eC(ua)).filter(n=>n.deckId===t)}async function FZ(t){await ca(ua,t)}async function BZ(t){const e=await nb(t);for(const n of e)await Vu(ua,n.id);await Vu(ua,t)}async function zZ(t){await ca(ua,t)}async function UZ(t){await Vu(ua,t)}function Z2(){return crypto.randomUUID()}function HZ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function WZ(){const[t,e]=N.useState(null),n=N.useRef(null),r=N.useCallback(async()=>{const u=await K2();e(u)},[]);if(N.useEffect(()=>{r()},[r]),N.useEffect(()=>{if(t!=null&&t.isRunning)return n.current=setInterval(async()=>{const u=await K2();if(!u.isRunning)return;const c=u.remainingSeconds-1;if(c<=0){let h,d,f=u.cycleCount;if(u.phase==="work"){f+=1;const p=u.cyclesBeforeLongBreak>0&&f%u.cyclesBeforeLongBreak===0;h=p?"longBreak":"shortBreak",d=p?u.longBreakMinutes*60:u.shortBreakMinutes*60}else h="work",d=u.workMinutes*60;const g={...u,phase:h,remainingSeconds:d,cycleCount:f};await bc(g),e(g)}else{const h={...u,remainingSeconds:c};await bc(h),e(h)}},1e3),()=>{n.current&&clearInterval(n.current)}},[t==null?void 0:t.isRunning]),!t)return T.jsx("p",{className:"text-slate-500",children:"Loading..."});const i=async()=>{const u={...t,isRunning:!0};await bc(u),e(u)},a=async()=>{const u={...t,isRunning:!1};await bc(u),e(u)},s=async()=>{const u=t.phase,c=u==="work"?t.workMinutes*60:u==="shortBreak"?t.shortBreakMinutes*60:t.longBreakMinutes*60,h={...t,remainingSeconds:c,isRunning:!1};await bc(h),e(h)},o=async()=>{const u={...t,cycleCount:0,phase:"work",remainingSeconds:t.workMinutes*60,isRunning:!1};await bc(u),e(u)},l=t.phase==="work"?"Work":t.phase==="shortBreak"?"Short break":"Long break";return T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Pomodoro"}),T.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["Cycle: ",t.cycleCount,"  Phase: ",l]}),T.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:HZ(t.remainingSeconds)}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?T.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:a,children:"Pause"}):T.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:i,children:"Start"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:s,children:"Reset"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:o,children:"Reset cycle"})]})]})}function VZ(t){const e=Math.floor(t/60),n=t%60;return`${e}:${n.toString().padStart(2,"0")}`}function GZ(){const[t,e]=N.useState(null),[n,r]=N.useState("25"),i=N.useRef(null),a=N.useCallback(async()=>{const c=await Y2();e(c),r(String(c.durationMinutes))},[]);if(N.useEffect(()=>{a()},[a]),N.useEffect(()=>{if(t!=null&&t.isRunning)return i.current=setInterval(async()=>{const c=await Y2();if(!c.isRunning)return;const h=c.remainingSeconds-1;if(h<=0){const d={...c,remainingSeconds:0,isRunning:!1};await xc(d),e(d)}else{const d={...c,remainingSeconds:h};await xc(d),e(d)}},1e3),()=>{i.current&&clearInterval(i.current)}},[t==null?void 0:t.isRunning]),!t)return T.jsx("p",{className:"text-slate-500",children:"Loading..."});const s=async()=>{const c=Math.max(1,Math.min(120,parseInt(n,10)||25)),h={...t,durationMinutes:c,remainingSeconds:c*60,isRunning:!1};await xc(h),e(h),r(String(c))},o=async()=>{const c={...t,isRunning:!0};await xc(c),e(c)},l=async()=>{const c={...t,isRunning:!1};await xc(c),e(c)},u=async()=>{const c={...t,remainingSeconds:t.durationMinutes*60,isRunning:!1};await xc(c),e(c)};return T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Custom timer"}),T.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[T.jsx("label",{htmlFor:"custom-duration",className:"text-sm text-slate-600 dark:text-slate-400",children:"Duration (minutes)"}),T.jsx("input",{id:"custom-duration",type:"number",min:1,max:120,value:n,onChange:c=>r(c.target.value),onBlur:s,className:"w-20 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),T.jsx("button",{type:"button",className:"rounded bg-slate-200 px-2 py-1 text-sm dark:bg-slate-700",onClick:s,children:"Set"})]}),T.jsx("p",{className:"mt-4 text-4xl font-mono text-slate-800 dark:text-slate-100",children:VZ(t.remainingSeconds)}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[t.isRunning?T.jsx("button",{type:"button",className:"rounded-lg bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",onClick:l,children:"Pause"}):T.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:o,children:"Start"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 dark:border-slate-600",onClick:u,children:"Reset"})]})]})}function qZ(){var F;const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState("list"),[l,u]=N.useState(0),[c,h]=N.useState(!1),[d,f]=N.useState([]),[g,p]=N.useState(""),[v,y]=N.useState(""),[b,x]=N.useState(""),[k,w]=N.useState(null),S=N.useCallback(async()=>{const q=await $Z();e(q)},[]);N.useEffect(()=>{S()},[S]),N.useEffect(()=>{if(!i){r([]);return}nb(i).then(r)},[i]),N.useEffect(()=>{s==="study"&&n.length>0&&(f([...Array(n.length).keys()].sort(()=>Math.random()-.5)),u(0),h(!1))},[s,n.length]);const A=t.find(q=>q.id===i),_=s==="study"&&n.length>0?d.map(q=>n[q]):[],E=_[l],O=async()=>{const q=g.trim()||"New deck",B={id:Z2(),name:q,createdAt:Date.now()};await FZ(B),p(""),await S(),a(B.id)},R=async()=>{if(!i)return;const q={id:Z2(),deckId:i,front:v.trim()||"Front",back:b.trim()||"Back"};await zZ(q),y(""),x("");const B=await nb(i);r(B)},P=q=>{w(q)},L=async()=>{const q=k;w(null),q&&(await BZ(q),i===q&&a(null),await S())},C=async q=>{await UZ(q);const B=await nb(i);r(B)};return s==="study"&&E?T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[T.jsx("button",{type:"button",className:"text-sm text-blue-600 dark:text-blue-400",onClick:()=>o("list"),children:" Back to decks"}),T.jsxs("span",{className:"text-sm text-slate-500",children:[l+1," / ",_.length]})]}),T.jsxs("div",{className:"min-h-[200px] cursor-pointer rounded-lg border-2 border-slate-200 bg-slate-50 p-6 dark:border-slate-600 dark:bg-slate-700/50",onClick:()=>h(q=>!q),role:"button",tabIndex:0,onKeyDown:q=>q.key==="Enter"&&h(B=>!B),children:[T.jsx("p",{className:"text-lg text-slate-800 dark:text-slate-100",children:c?E.back:E.front}),T.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[c?"Back":"Front"," (click to flip)"]})]}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===0,onClick:()=>{u(q=>q-1),h(!1)},children:"Previous"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 disabled:opacity-50 dark:border-slate-600",disabled:l===_.length-1,onClick:()=>{u(q=>q+1),h(!1)},children:"Next"})]})]}):T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Flashcards"}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[T.jsx("input",{type:"text",placeholder:"New deck name",value:g,onChange:q=>p(q.target.value),className:"rounded border border-slate-300 px-3 py-1.5 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"New deck name"}),T.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1.5 text-white hover:bg-blue-700",onClick:O,children:"Create deck"})]}),T.jsxs("div",{className:"mt-4 flex gap-4",children:[T.jsxs("div",{className:"min-w-[200px]",children:[T.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Decks"}),T.jsx("ul",{className:"mt-2 space-y-1",children:t.map(q=>T.jsxs("li",{className:"flex items-center justify-between gap-2",children:[T.jsx("button",{type:"button",className:`truncate text-left text-sm ${i===q.id?"font-medium text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-300"}`,onClick:()=>a(q.id),children:q.name}),T.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>P(q.id),"aria-label":"Delete deck",children:""})]},q.id))})]}),T.jsxs("div",{className:"flex-1",children:[A&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:A.name}),T.jsxs("button",{type:"button",className:"rounded bg-green-600 px-3 py-1.5 text-sm text-white hover:bg-green-700 disabled:opacity-50",disabled:n.length===0,onClick:()=>o("study"),children:["Study ",n.length>0&&`(${n.length})`]})]}),T.jsxs("div",{className:"mt-2 flex gap-2",children:[T.jsx("input",{type:"text",placeholder:"Front",value:v,onChange:q=>y(q.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card front"}),T.jsx("input",{type:"text",placeholder:"Back",value:b,onChange:q=>x(q.target.value),className:"flex-1 rounded border border-slate-300 px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":"Card back"}),T.jsx("button",{type:"button",className:"rounded bg-blue-600 px-3 py-1 text-white hover:bg-blue-700",onClick:R,children:"Add card"})]}),T.jsx("ul",{className:"mt-4 space-y-2",children:n.map(q=>T.jsxs("li",{className:"flex items-center justify-between rounded border border-slate-200 p-2 dark:border-slate-600",children:[T.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[q.front,"  ",q.back]}),T.jsx("button",{type:"button",className:"text-red-600 hover:underline",onClick:()=>C(q.id),"aria-label":"Delete card",children:""})]},q.id))}),n.length===0&&T.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"No cards yet. Add a card above."})]}),!A&&t.length>0&&T.jsx("p",{className:"text-sm text-slate-500",children:"Select a deck to add cards or study."}),t.length===0&&T.jsx("p",{className:"text-sm text-slate-500",children:"Create a deck to get started."})]})]}),T.jsx(sC,{open:k!==null,title:"Delete deck",message:k?`Delete deck "${((F=t.find(q=>q.id===k))==null?void 0:F.name)??"Unknown"}" and all its cards? This cannot be undone.`:"",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:L,onCancel:()=>w(null)})]})}function XZ(){const[t,e]=N.useState("pomodoro");return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex gap-2 rounded-xl border border-slate-200 bg-white p-2 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("button",{type:"button",className:`rounded-lg px-3 py-2 text-sm font-medium ${t==="pomodoro"?"bg-blue-100 dark:bg-blue-900/50":""}`,onClick:()=>e("pomodoro"),children:"Pomodoro"}),T.jsx("button",{type:"button",className:`rounded-lg px-3 py-2 text-sm font-medium ${t==="timer"?"bg-blue-100 dark:bg-blue-900/50":""}`,onClick:()=>e("timer"),children:"Custom timer"}),T.jsx("button",{type:"button",className:`rounded-lg px-3 py-2 text-sm font-medium ${t==="flashcards"?"bg-blue-100 dark:bg-blue-900/50":""}`,onClick:()=>e("flashcards"),children:"Flashcards"})]}),t==="pomodoro"&&T.jsx(WZ,{}),t==="timer"&&T.jsx(GZ,{}),t==="flashcards"&&T.jsx(qZ,{})]})}const E_="spotify_pkce_verifier";async function KZ(){return{ok:!1,error:"Spotify Client ID not configured. See docs/SPOTIFY_SETUP.md."}}async function YZ(t,e){const n=sessionStorage.getItem("spotify_oauth_state");if(sessionStorage.removeItem("spotify_oauth_state"),!n||n!==e)return{ok:!1,error:"Invalid state."};const r=sessionStorage.getItem(E_);return sessionStorage.removeItem(E_),r?{ok:!1,error:"Spotify Client ID not configured."}:{ok:!1,error:"Missing code verifier."}}async function ZZ(t){return null}async function iy(){const t=yD();if(!t)return null;const e=60*1e3;if(t.expires_at>Date.now()+e)return t.access_token;if(t.refresh_token){const n=await ZZ(t.refresh_token);return(n==null?void 0:n.access_token)??null}return null}function QZ(){_H(),sessionStorage.removeItem(E_),sessionStorage.removeItem("spotify_oauth_state")}function JZ(){return!1}const eQ="https://api.spotify.com/v1";async function Nx(t,e){const n=await iy();if(!n)throw new Error("Not connected to Spotify");const r=await fetch(`${eQ}${t}`,{...e,headers:{Authorization:`Bearer ${n}`,...e==null?void 0:e.headers}});if(r.status===401)throw new Error("Spotify session expired. Please reconnect.");if(!r.ok)throw new Error(`Spotify API error: ${r.status}`);return r.json()}async function tQ(){return Nx("/me")}async function nQ(t=50,e=0){return Nx(`/me/playlists?limit=${t}&offset=${e}`)}async function rQ(t){const e=await iy();if(!e)throw new Error("Not connected to Spotify");const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`Spotify API error: ${n.status}`);return n.json()}async function iQ(t,e=100,n=0){return Nx(`/playlists/${t}/tracks?limit=${e}&offset=${n}&fields=items(added_at,track(id,name,duration_ms,external_urls,artists,album))`)}async function aQ(t){const e=await iy();if(!e)throw new Error("Not connected to Spotify");const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`Spotify API error: ${n.status}`);return n.json()}async function sQ(t=50,e=0){return Nx(`/me/tracks?limit=${t}&offset=${e}`)}async function oQ(t){const e=await iy();if(!e)throw new Error("Not connected to Spotify");const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`Spotify API error: ${n.status}`);return n.json()}function Gy(t){var e,n,r,i,a;return{id:t.id,name:t.name,artists:t.artists.map(s=>s.name).join(", "),album:((e=t.album)==null?void 0:e.name)??"",duration_ms:t.duration_ms,url:((n=t.external_urls)==null?void 0:n.spotify)??`https://open.spotify.com/track/${t.id}`,artworkUrl:((a=(i=(r=t.album)==null?void 0:r.images)==null?void 0:i[0])==null?void 0:a.url)??null}}function lQ(t){const e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function uQ(){const[t,e]=N.useState(null),[n,r]=N.useState(!0),[i,a]=N.useState(null),s=N.useCallback(async()=>{if(a(null),!await iy()){e(null),r(!1);return}try{const d=await tQ();e(d)}catch(d){e(null),a(d instanceof Error?d.message:"Failed to load profile")}finally{r(!1)}},[]);N.useEffect(()=>{if(!yD()){e(null),r(!1);return}s()},[s]);const o=N.useCallback(async()=>{a(null);const h=await KZ();h.ok||a(h.error??"Login failed")},[]),l=N.useCallback(()=>{QZ(),e(null),a(null)},[]),u=!!t;return{isConfigured:JZ(),isConnected:u,user:t,loading:n,error:i,connect:o,disconnect:l,refreshConnection:s}}function cQ({onSetEmbedUrl:t}){const[e,n]=N.useState([]),[r,i]=N.useState(null),[a,s]=N.useState(!1),[o,l]=N.useState([]),[u,c]=N.useState(0),[h,d]=N.useState(null),[f,g]=N.useState(!1),[p,v]=N.useState(null),[y,b]=N.useState("list"),[x,k]=N.useState(null),[w,S]=N.useState(null),{createFolder:A,addSpotifyTrackFile:_}=oC(),{showToast:E}=ED(),O=N.useCallback(async()=>{s(!0),S(null);try{const M=await nQ();n(M.items),i(M.next)}catch(M){n([]),i(null),S(M instanceof Error?M.message:"Failed to load playlists. Try reconnecting.")}finally{s(!1)}},[]),R=N.useCallback(async()=>{if(r)try{const M=await rQ(r);n(V=>[...V,...M.items]),i(M.next)}catch{i(null)}},[r]);N.useEffect(()=>{y==="list"&&O()},[y,O]);const P=N.useCallback(async()=>{b("liked"),k(null),l([]),c(0),d(null),S(null),g(!0);try{const M=await sQ(50,0),V=M.items.map(U=>Gy(U.track)).filter(Boolean);l(V),c(M.total),d(M.next)}catch(M){l([]),c(0),S(M instanceof Error?M.message:"Failed to load liked songs.")}finally{g(!1)}},[]),L=N.useCallback(async()=>{if(!(!h||y!=="liked"))try{const M=await oQ(h),V=M.items.map(U=>Gy(U.track)).filter(Boolean);l(U=>[...U,...V]),d(M.next)}catch{d(null)}},[h,y]),C=N.useCallback(async M=>{var V;b("playlist"),k(M),l([]),c(((V=M.tracks)==null?void 0:V.total)??0),d(null),S(null),g(!0);try{const U=await iQ(M.id,100,0),j=U.items.map(Q=>Q.track).filter(Q=>Q!=null).map(Gy);l(j),d(U.next)}catch(U){l([]),d(null),S(U instanceof Error?U.message:"Failed to load playlist.")}finally{g(!1)}},[]),F=N.useCallback(async()=>{if(!(!h||y!=="playlist"))try{const M=await aQ(h),V=M.items.map(U=>U.track).filter(U=>U!=null).map(Gy);l(U=>[...U,...V]),d(M.next)}catch{d(null)}},[h,y]),q=(M,V,U)=>({source:"spotify",trackId:M.id,trackUrl:M.url,name:M.name,artists:M.artists,album:M.album,duration_ms:M.duration_ms,artworkUrl:M.artworkUrl,playlistId:V??null,liked:U??!1}),B=N.useCallback(async()=>{if(o.length===0)return;const M=y==="liked"?"Liked Songs":(x==null?void 0:x.name)??"Playlist";v(`Creating folder and importing ${o.length} tracks`);try{const V=await A(null,M),U=y==="playlist"?x==null?void 0:x.id:null,j=y==="liked";for(let Q=0;Q<o.length;Q++){const ae=q(o[Q],U,j);await _(V,ae),Q%20===0&&v(`Imported ${Q+1} of ${o.length}`)}v(`Imported "${M}" to Workspace.`),setTimeout(()=>v(null),3e3)}catch(V){v(null),E(V instanceof Error?V.message:"Import failed.","error")}},[o,y,x,A,_]),W=M=>{window.open(M,"_blank")},G=M=>{t==null||t(M)};return T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spotify Library"}),T.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:'Import playlists or Liked Songs as folders in Workspace (metadata only). Use "Open in Spotify" to play.'}),w&&T.jsxs("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 p-3 text-sm text-amber-800 dark:border-amber-800 dark:bg-amber-900/20 dark:text-amber-200",role:"alert",children:[w,T.jsx("button",{type:"button",className:"ml-2 font-medium underline hover:no-underline",onClick:()=>{S(null),y==="list"?O():y==="liked"?P():x&&C(x)},children:"Retry"})]}),y==="list"&&T.jsx(T.Fragment,{children:T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 rounded-lg border border-slate-200 p-3 text-left hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:P,children:[T.jsx("span",{className:"text-2xl","aria-hidden":!0,children:""}),T.jsxs("div",{children:[T.jsx("span",{className:"font-medium",children:"Liked Songs"}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Your saved tracks"})]})]}),a&&T.jsx("p",{className:"text-sm text-slate-500",children:"Loading playlists"}),e.map(M=>{var V,U,j,Q;return T.jsxs("button",{type:"button",className:"flex w-full items-center gap-3 rounded-lg border border-slate-200 p-3 text-left hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:()=>C(M),children:[(U=(V=M.images)==null?void 0:V[0])!=null&&U.url?T.jsx("img",{src:M.images[0].url,alt:"",className:"h-12 w-12 rounded object-cover"}):T.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded bg-slate-200 text-xl dark:bg-slate-600",children:""}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("span",{className:"font-medium truncate block",children:M.name}),T.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[((j=M.tracks)==null?void 0:j.total)??0," tracks  ",((Q=M.owner)==null?void 0:Q.display_name)??"Spotify"]})]})]},M.id)}),r&&T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 text-sm hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:R,children:"Load more playlists"})]})}),(y==="liked"||y==="playlist")&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:()=>b("list"),children:" Back"}),T.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:[y==="liked"?"Liked Songs":x==null?void 0:x.name," (",u," tracks)"]}),o.length>0&&T.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:B,disabled:!!p,children:p||"Import as folder in Workspace"})]}),p&&p.includes("Imported")&&T.jsx("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",role:"status",children:p}),f&&T.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Loading tracks"}),T.jsx("ul",{className:"mt-4 max-h-96 overflow-auto space-y-1",children:o.map(M=>T.jsxs("li",{className:"flex items-center gap-3 rounded-lg border border-slate-100 p-2 dark:border-slate-600",children:[M.artworkUrl&&T.jsx("img",{src:M.artworkUrl,alt:"",className:"h-10 w-10 shrink-0 rounded object-cover"}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("p",{className:"truncate font-medium text-slate-800 dark:text-slate-200",children:M.name}),T.jsxs("p",{className:"truncate text-sm text-slate-500 dark:text-slate-400",children:[M.artists,"  ",M.album]})]}),T.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:lQ(M.duration_ms)}),T.jsxs("div",{className:"flex gap-1",children:[T.jsx("button",{type:"button",className:"rounded bg-slate-200 px-2 py-1 text-xs hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500",onClick:()=>W(M.url),children:"Open in Spotify"}),t&&T.jsx("button",{type:"button",className:"rounded bg-slate-200 px-2 py-1 text-xs hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500",onClick:()=>G(`https://open.spotify.com/embed/track/${M.id}`),children:"Set as preview"})]})]},M.id))}),h&&T.jsx("button",{type:"button",className:"mt-2 rounded-lg border border-slate-300 px-4 py-2 text-sm hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:y==="liked"?L:F,children:"Load more tracks"})]})]})}function hQ(t){const e=t.trim();if(!e)return null;try{const n=new URL(e.startsWith("http")?e:`https://${e}`);if(n.hostname==="www.youtube.com"||n.hostname==="youtube.com"){const r=n.searchParams.get("v");if(r)return r}if(n.hostname==="youtu.be"){const r=n.pathname.slice(1).split("/")[0];if(r)return r}}catch{}return null}function dQ({isOpen:t,onClose:e,onLoaded:n,initialSearchQuery:r="",searchResults:i=null,errorMessage:a=null,showFallbackPaste:s=!1,cachedVideoId:o=null,onSearchAgain:l}){const[u,c]=N.useState(r),[h,d]=N.useState(""),[f,g]=N.useState(null);if(N.useEffect(()=>{t&&c(r)},[t,r]),!t)return null;const p=!!(i&&i.length>0),v=k=>{n(k),e()},y=()=>{l==null||l(u)},b=()=>{g(null);const k=hQ(h);if(!k){g("Invalid YouTube URL. Use a youtube.com/watch?v=... or youtu.be/... link.");return}n(k),e(),d("")},x=()=>{g(null),d(""),e()};return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"find-youtube-title",children:[T.jsx("div",{className:"absolute inset-0 bg-black/50","aria-hidden":!0,onClick:x}),T.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-slate-200 bg-white p-6 shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h2",{id:"find-youtube-title",className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Find on YouTube"}),T.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:p?"Choose a video to play the full version.":s?"Paste a YouTube video URL below.":"Searching"}),p&&T.jsxs(T.Fragment,{children:[o&&T.jsx("div",{className:"mt-3",children:T.jsx(dn,{variant:"secondary",size:"sm",onClick:()=>v(o),children:"Use previous match"})}),T.jsxs("div",{className:"mt-3",children:[T.jsx("label",{htmlFor:"youtube-search-query",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Search query"}),T.jsx("input",{id:"youtube-search-query",type:"text",placeholder:"e.g. Artist - Track name",value:u,onChange:k=>c(k.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200"}),l&&T.jsx(dn,{variant:"primary",size:"sm",className:"mt-2",onClick:y,children:"Search again"})]}),T.jsx("ul",{className:"mt-4 max-h-64 space-y-2 overflow-auto rounded-lg border border-slate-200 dark:border-slate-600",children:i.map(k=>T.jsx("li",{children:T.jsxs("div",{role:"button",tabIndex:0,className:"flex cursor-pointer items-center gap-3 rounded-lg p-2 hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>v(k.videoId),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),v(k.videoId))},children:[k.thumbnailUrl&&T.jsx("img",{src:k.thumbnailUrl,alt:"",className:"h-14 w-24 flex-shrink-0 rounded object-cover"}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("p",{className:"truncate text-sm font-medium text-slate-800 dark:text-slate-100",children:k.title}),T.jsx("p",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:k.channelTitle})]}),T.jsx(dn,{variant:"primary",size:"sm",onClick:w=>{w.stopPropagation(),v(k.videoId)},children:"Select"})]})},k.videoId))})]}),s&&T.jsxs(T.Fragment,{children:[a&&T.jsx("p",{className:"mt-4 text-sm text-amber-600 dark:text-amber-400",role:"alert",children:a}),T.jsxs("div",{className:"mt-4",children:[T.jsx("label",{htmlFor:"youtube-paste-url",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste YouTube video URL here"}),T.jsx("input",{id:"youtube-paste-url",type:"url",placeholder:"https://www.youtube.com/watch?v=... or https://youtu.be/...",value:h,onChange:k=>{d(k.target.value),g(null)},className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":f?"url-error":void 0}),f&&T.jsx("p",{id:"url-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:f}),T.jsx(dn,{variant:"primary",size:"md",className:"mt-2",onClick:b,children:"Load YouTube"})]})]}),!p&&!s&&T.jsx("p",{className:"mt-4 text-sm text-slate-500 dark:text-slate-400",children:"Loading"}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx(dn,{variant:"secondary",onClick:x,children:"Cancel"})})]})]})}function fQ(t){try{const e=new URL(t.trim().startsWith("http")?t.trim():`https://${t.trim()}`);if(e.hostname.includes("open.spotify.com")&&e.pathname.includes("/track/"))return`https://open.spotify.com${e.pathname}`}catch{}return t.trim()}function pQ(t){const e=(t??"").trim();if(!e)return{trackTitle:"",artist:""};const n=e.indexOf(" - ");return n===-1?{trackTitle:e,artist:""}:{trackTitle:e.slice(0,n).trim(),artist:e.slice(n+3).trim()}}function mQ(t,e){const{trackTitle:n,artist:r}=pQ(t),i=r||(e??"").trim(),a=i?`${i} ${n}`.trim():n;return a?`${a} audio`:"audio"}async function gQ(t){const e=t.trim().startsWith("http")?t.trim():`https://${t.trim()}`;try{if(!new URL(e).hostname.includes("open.spotify.com"))return null}catch{return null}const r=`https://open.spotify.com/oembed?url=${encodeURIComponent(e)}`;try{const i=await fetch(r);if(!i.ok)return null;const a=await i.json();return typeof a.title!="string"?null:{title:a.title,author_name:a.author_name}}catch{return null}}const yQ="https://www.googleapis.com/youtube/v3";async function Q2(t,e){if(!t.trim()||!e.trim())return[];const n=new URLSearchParams({part:"snippet",type:"video",maxResults:"6",q:t.trim(),key:e,videoEmbeddable:"true",safeSearch:"moderate"}),r=`${yQ}/search?${n.toString()}`;try{const i=await fetch(r);return i.ok?((await i.json()).items??[]).filter(o=>{var l;return((l=o.id)==null?void 0:l.videoId)&&o.snippet}).map(o=>{var l,u;return{videoId:o.id.videoId,title:o.snippet.title??"",channelTitle:o.snippet.channelTitle??"",thumbnailUrl:((u=(l=o.snippet.thumbnails)==null?void 0:l.default)==null?void 0:u.url)??""}}):[]}catch{return[]}}function J2(t){try{const e=new URL(t.trim());if(e.hostname.includes("open.spotify.com"))return`https://open.spotify.com/embed${e.pathname+e.search}`}catch{}return null}function eI(t){const e=t.trim();if(!e)return!1;try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.includes("open.spotify.com")}catch{return!1}}function vQ(){const e=Du().spotify??"",[n,r]=N.useState(e),[i,a]=N.useState(null),[s,o]=N.useState(null),[l,u]=N.useState(()=>gO()),[c,h]=N.useState(!1),[d,f]=N.useState(""),[g,p]=N.useState(null),[v,y]=N.useState(null),[b,x]=N.useState(null),[k,w]=N.useState(!1),[S,A]=N.useState(null);N.useEffect(()=>{if(r(e),e){const W=J2(e);a(W)}else a(null)},[e]),N.useEffect(()=>{u(gO())},[c]);const _=()=>{const W=n.trim();if(!W){o("Paste a Spotify link first.");return}if(!eI(W)){o("Invalid Spotify link. Use a link from open.spotify.com (track, album, or playlist).");return}o(null);const G=J2(W);if(!G){o("Could not build embed URL.");return}a(G),qp({...Du(),spotify:W})},E=()=>{r(""),a(null),o(null),qp({...Du(),spotify:""})},O=()=>{EH(),u(null)},R=()=>{E(),O()},P=W=>{AH(W),u(W),v&&CH(v,W)},L=async()=>{const W=n.trim()||e;if(!W){o("Paste a Spotify link first.");return}if(!eI(W)){o("Invalid Spotify link.");return}o(null);const G=fQ(W),M=bD(),V=G?M[G]??null:null;y(G||null),A(V);const U="";if(!U.trim()){x("Missing YouTube API key. Add VITE_YOUTUBE_API_KEY to .env and restart dev server."),w(!0),p(null),f(""),h(!0);return}const j=await gQ(W);if(!(j!=null&&j.title)){x("Could not get track info from Spotify link."),w(!0),p(null),f(""),h(!0);return}const Q=mQ(j.title,j.author_name);f(Q);let ae=[];try{ae=await Q2(Q,U)}catch{ae=[]}if(!ae.length){x("No YouTube results. Try pasting a YouTube video URL below."),w(!0),p(null),h(!0);return}x(null),w(!1),p(ae),h(!0)},C=async W=>{const G="";if(G.trim())try{const M=await Q2(W.trim()||d,G);p(M),x(M.length?null:"No results. Try a different query or paste a URL below."),w(!M.length)}catch{x("Search failed. Try pasting a YouTube video URL below."),w(!0)}},F=()=>{h(!1),y(null),p(null),x(null),w(!1),A(null)},q=!!i,B=!!l;return T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Spotify + full playback"}),T.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:"Spotify embed may be preview-only. Use YouTube for full playback."}),T.jsxs("div",{className:"mt-3",children:[T.jsx("label",{htmlFor:"spotify-link-input",className:"sr-only",children:"Spotify link"}),T.jsx("input",{id:"spotify-link-input",type:"url",placeholder:"Paste Spotify track, album, or playlist link...",value:n,onChange:W=>{r(W.target.value),o(null)},className:"w-full rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-describedby":s?"spotify-error":void 0}),s&&T.jsx("p",{id:"spotify-error",className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:s})]}),T.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[T.jsx(dn,{variant:"primary",size:"md",className:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",onClick:_,children:"Play preview (Spotify)"}),T.jsx(dn,{variant:"danger",size:"md",onClick:L,children:"Play full version (YouTube)"}),(q||B)&&T.jsx(dn,{variant:"secondary",size:"md",onClick:R,children:"Clear all"})]}),q&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Preview (Spotify embed)"}),T.jsx("div",{className:"overflow-hidden rounded-lg bg-slate-900",style:{height:"352px"},children:T.jsx("iframe",{title:"Spotify preview",src:i??"",className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})}),T.jsx("button",{type:"button",className:"mt-1 text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:E,children:"Clear Spotify preview"})]}),B&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"mb-1 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Full version (YouTube)"}),T.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg bg-slate-900",children:T.jsx("iframe",{title:"YouTube full version",src:`https://www.youtube.com/embed/${l}?autoplay=0`,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),T.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:O,children:"Clear YouTube"}),T.jsx("button",{type:"button",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",onClick:L,children:"Change video"}),T.jsx("a",{href:`https://www.youtube.com/watch?v=${l}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-slate-500 underline hover:no-underline dark:text-slate-400",children:"Open on YouTube"})]})]}),T.jsx(dQ,{isOpen:c,onClose:F,onLoaded:P,initialSearchQuery:d,searchResults:g,errorMessage:b,showFallbackPaste:k,cachedVideoId:S,onSearchAgain:C})]})}function tI(t,e){try{const n=new URL(e.trim());if(t==="spotify")return n.hostname.includes("open.spotify.com")?`https://open.spotify.com/embed${n.pathname+n.search}`:null;if(t==="youtube"){let r=n.searchParams.get("v");return!r&&n.hostname==="youtu.be"&&(r=n.pathname.slice(1)),r?`https://www.youtube.com/embed/${r}`:null}}catch{return null}return null}function bQ(t){try{return new URL(t).hostname}catch{return t.slice(0,40)+(t.length>40?"":"")}}function xQ(t){return t==="spotify"?"Spotify":t==="youtube"?"YouTube":t}const wQ={spotify:"352px",youtube:"auto"};function SQ({title:t,subtitle:e,provider:n,storageKey:r}){const a=Du()[r]??"",[s,o]=N.useState(a),[l,u]=N.useState(null),[c,h]=N.useState(null),[d,f]=N.useState(null),g=N.useRef(null);N.useEffect(()=>{if(o(a),a){const b=tI(n,a);u(b)}else u(null)},[a,n]),N.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const p=()=>{f(`${xQ(r)} embed cleared`),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{f(null),g.current=null},2500)},v=()=>{u(null),o(""),h(null);const b={...Du(),[r]:""};qp(b),p()},y=()=>{const b=s.trim();if(!b){v();return}const x=tI(n,b);if(!x){h("Invalid link for this provider.");return}u(x),h(null);const k={...Du(),[r]:b};qp(k)};return T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:t}),e&&T.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:e}),T.jsxs("div",{className:"mt-2 flex gap-2",children:[T.jsx("input",{type:"url",placeholder:`Paste ${t} link...`,value:s,onChange:b=>o(b.target.value),className:"min-w-0 flex-1 rounded-lg border border-slate-300 px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200","aria-label":`${t} URL`}),T.jsx("button",{type:"button",className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",onClick:y,children:"Load"}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-4 py-2 hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:v,children:"Clear"})]}),c&&T.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:c}),d&&T.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",role:"status",children:d}),l&&a&&T.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:["Currently loaded: ",bQ(a)," ",T.jsx("button",{type:"button",className:"text-blue-600 underline hover:no-underline dark:text-blue-400",onClick:v,children:"Remove"})]}),l&&T.jsx("div",{className:`mt-4 w-full overflow-hidden rounded-lg bg-slate-900 ${n==="youtube"?"aspect-video":""}`,style:n!=="youtube"?{height:wQ[n]}:void 0,children:T.jsx("iframe",{title:t,src:l,className:"block h-full w-full border-0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})})]})}function kQ(){var p,v;const e=ic().state??{},[n,r]=N.useState(null),[i,a]=N.useState(0),{isConfigured:s,isConnected:o,user:l,loading:u,error:c,connect:h,disconnect:d,refreshConnection:f}=uQ();N.useEffect(()=>{if(e.spotifyConnected){r("Connected to Spotify.");const y=setTimeout(()=>r(null),4e3);return()=>clearTimeout(y)}if(e.spotifyError){r("Could not connect to Spotify. Try again.");const y=setTimeout(()=>r(null),5e3);return()=>clearTimeout(y)}},[e.spotifyConnected,e.spotifyError]);const g=y=>{qp({...Du(),spotify:y}),a(b=>b+1)};return T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Media Player Hub"}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Playback and volume controls are handled by the provider embed."}),s&&T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Connect Spotify"}),T.jsx("p",{className:"mt-0.5 text-sm text-slate-500 dark:text-slate-400",children:"Connect your account to import Liked Songs and playlists into Workspace (metadata only)."}),n&&T.jsx("p",{className:`mt-2 text-sm ${n.includes("Could not")?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,role:"status",children:n}),c&&T.jsxs("p",{className:"mt-2 text-sm text-amber-600 dark:text-amber-400",role:"alert",children:[c," You may need to reconnect."]}),o?T.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[((v=(p=l==null?void 0:l.images)==null?void 0:p[0])==null?void 0:v.url)&&T.jsx("img",{src:l.images[0].url,alt:"",className:"h-10 w-10 rounded-full object-cover"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100",children:(l==null?void 0:l.display_name)??"Spotify user"}),T.jsx("span",{className:"inline-block rounded bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900/40 dark:text-green-200",children:"Connected"})]}),T.jsx("button",{type:"button",className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm hover:bg-slate-50 dark:border-slate-600 dark:hover:bg-slate-700",onClick:()=>f(),children:"Refresh"}),T.jsx("button",{type:"button",className:"rounded-lg border border-red-200 px-3 py-1.5 text-sm text-red-700 hover:bg-red-50 dark:border-red-800 dark:text-red-300 dark:hover:bg-red-900/30",onClick:d,children:"Disconnect"})]}):T.jsx("div",{className:"mt-4",children:u?T.jsx("p",{className:"text-sm text-slate-500",children:"Checking connection"}):T.jsx("button",{type:"button",className:"rounded-lg bg-green-600 px-4 py-2 text-white hover:bg-green-700",onClick:h,children:"Connect Spotify"})})]}),o&&s&&T.jsx(cQ,{onSetEmbedUrl:g}),T.jsx(vQ,{},i),T.jsx(SQ,{title:"YouTube",provider:"youtube",storageKey:"youtube"})]})}var Q3={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(qr,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,u={};function c(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var O=w(E);O.chunkSize=parseInt(O.chunkSize),E.step||E.chunk||(O.chunkSize=null),this._handle=new p(O),(this._handle.streamer=this)._config=O}).call(this,_),this.parseChunk=function(E,O){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let L=this._config.newline;L||(P=this._config.quoteChar||'"',L=this._handle.guessLineEndings(E,P)),E=[...E.split(L).slice(R)].join(L)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(E))!==void 0&&(E=P),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+E,P=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=P.meta.cursor,R=(this._finished||(this._partialLine=R.substring(E-this._baseIndex),this._baseIndex=E),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:P,workerId:u.WORKER_ID,finished:R});else if(A(this._config.chunk)&&!O){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!R||!A(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(E){A(this._config.error)?this._config.error(E):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:E,finished:!1})}}function h(_){var E;(_=_||{}).chunkSize||(_.chunkSize=u.RemoteChunkSize),c.call(this,_),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),a||(E.onload=S(this._chunkLoaded,this),E.onerror=S(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var O,R=this._config.downloadRequestHeaders;for(O in R)E.setRequestHeader(O,R[O])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+P));try{E.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}a&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(O){O=E.statusText||O,this._sendError(new Error(O))}}function d(_){(_=_||{}).chunkSize||(_.chunkSize=u.LocalChunkSize),c.call(this,_);var E,O,R=typeof FileReader<"u";this.stream=function(P){this._input=P,O=P.slice||P.webkitSlice||P.mozSlice,R?((E=new FileReader).onload=S(this._chunkLoaded,this),E.onerror=S(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),P=O.call(P,this._start,L)),E.readAsText(P,this._config.encoding));R||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(E.error)}}function f(_){var E;c.call(this,_=_||{}),this.stream=function(O){return E=O,this._nextChunk()},this._nextChunk=function(){var O,R;if(!this._finished)return O=this._config.chunkSize,E=O?(R=E.substring(0,O),E.substring(O)):(R=E,""),this._finished=!E,this.parseChunk(R)}}function g(_){c.call(this,_=_||{});var E=[],O=!0,R=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):O=!0},this._streamData=S(function(P){try{E.push(typeof P=="string"?P:P.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(L){this._streamError(L)}},this),this._streamError=S(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=S(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(_){var E,O,R,P,L=Math.pow(2,53),C=-L,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,W=0,G=0,M=!1,V=!1,U=[],j={data:[],errors:[],meta:{}};function Q(ue){return _.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function ae(){if(j&&R&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),_.skipEmptyLines&&(j.data=j.data.filter(function(ie){return!Q(ie)})),me()){let ie=function(Se,I){A(_.transformHeader)&&(Se=_.transformHeader(Se,I)),U.push(Se)};var fe=ie;if(j)if(Array.isArray(j.data[0])){for(var ue=0;me()&&ue<j.data.length;ue++)j.data[ue].forEach(ie);j.data.splice(0,1)}else j.data.forEach(ie)}function re(ie,Se){for(var I=_.header?{}:[],ee=0;ee<ie.length;ee++){var K=ee,X=ie[ee],X=((H,Y)=>(se=>(_.dynamicTypingFunction&&_.dynamicTyping[se]===void 0&&(_.dynamicTyping[se]=_.dynamicTypingFunction(se)),(_.dynamicTyping[se]||_.dynamicTyping)===!0))(H)?Y==="true"||Y==="TRUE"||Y!=="false"&&Y!=="FALSE"&&((se=>{if(F.test(se)&&(se=parseFloat(se),C<se&&se<L))return 1})(Y)?parseFloat(Y):q.test(Y)?new Date(Y):Y===""?null:Y):Y)(K=_.header?ee>=U.length?"__parsed_extra":U[ee]:K,X=_.transform?_.transform(X,K):X);K==="__parsed_extra"?(I[K]=I[K]||[],I[K].push(X)):I[K]=X}return _.header&&(ee>U.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+ee,G+Se):ee<U.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+ee,G+Se)),I}var de;j&&(_.header||_.dynamicTyping||_.transform)&&(de=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(re),de=j.data.length):j.data=re(j.data,0),_.header&&j.meta&&(j.meta.fields=U),G+=de)}function me(){return _.header&&U.length===0}function pe(ue,re,de,fe){ue={type:ue,code:re,message:de},fe!==void 0&&(ue.row=fe),j.errors.push(ue)}A(_.step)&&(P=_.step,_.step=function(ue){j=ue,me()?ae():(ae(),j.data.length!==0&&(W+=ue.data.length,_.preview&&W>_.preview?O.abort():(j.data=j.data[0],P(j,B))))}),this.parse=function(ue,re,de){var fe=_.quoteChar||'"',fe=(_.newline||(_.newline=this.guessLineEndings(ue,fe)),R=!1,_.delimiter?A(_.delimiter)&&(_.delimiter=_.delimiter(ue),j.meta.delimiter=_.delimiter):((fe=((ie,Se,I,ee,K)=>{var X,H,Y,se;K=K||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ce=0;ce<K.length;ce++){for(var te,ye=K[ce],we=0,ge=0,J=0,le=(Y=void 0,new y({comments:ee,delimiter:ye,newline:Se,preview:10}).parse(ie)),ve=0;ve<le.data.length;ve++)I&&Q(le.data[ve])?J++:(te=le.data[ve].length,ge+=te,Y===void 0?Y=te:0<te&&(we+=Math.abs(te-Y),Y=te));0<le.data.length&&(ge/=le.data.length-J),(H===void 0||we<=H)&&(se===void 0||se<ge)&&1.99<ge&&(H=we,X=ye,se=ge)}return{successful:!!(_.delimiter=X),bestDelimiter:X}})(ue,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=fe.bestDelimiter:(R=!0,_.delimiter=u.DefaultDelimiter),j.meta.delimiter=_.delimiter),w(_));return _.preview&&_.header&&fe.preview++,E=ue,O=new y(fe),j=O.parse(E,re,de),ae(),M?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,O.abort(),E=A(_.chunk)?"":E.substring(O.getCharIndex())},this.resume=function(){B.streamer._halted?(M=!1,B.streamer.parseChunk(E,!0)):setTimeout(B.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,O.abort(),j.meta.aborted=!0,A(_.complete)&&_.complete(j),E=""},this.guessLineEndings=function(ie,fe){ie=ie.substring(0,1048576);var fe=new RegExp(v(fe)+"([^]*?)"+v(fe),"gm"),de=(ie=ie.replace(fe,"")).split("\r"),fe=ie.split(`
`),ie=1<fe.length&&fe[0].length<de[0].length;if(de.length===1||ie)return`
`;for(var Se=0,I=0;I<de.length;I++)de[I][0]===`
`&&Se++;return Se>=de.length/2?`\r
`:"\r"}}function v(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var E=(_=_||{}).delimiter,O=_.newline,R=_.comments,P=_.step,L=_.preview,C=_.fastMode,F=null,q=!1,B=_.quoteChar==null?'"':_.quoteChar,W=B;if(_.escapeChar!==void 0&&(W=_.escapeChar),(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=","),R===E)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var G=0,M=!1;this.parse=function(V,U,j){if(typeof V!="string")throw new Error("Input must be a string");var Q=V.length,ae=E.length,me=O.length,pe=R.length,ue=A(P),re=[],de=[],fe=[],ie=G=0;if(!V)return we();if(C||C!==!1&&V.indexOf(B)===-1){for(var Se=V.split(O),I=0;I<Se.length;I++){if(fe=Se[I],G+=fe.length,I!==Se.length-1)G+=O.length;else if(j)return we();if(!R||fe.substring(0,pe)!==R){if(ue){if(re=[],se(fe.split(E)),ge(),M)return we()}else se(fe.split(E));if(L&&L<=I)return re=re.slice(0,L),we(!0)}}return we()}for(var ee=V.indexOf(E,G),K=V.indexOf(O,G),X=new RegExp(v(W)+v(B),"g"),H=V.indexOf(B,G);;)if(V[G]===B)for(H=G,G++;;){if((H=V.indexOf(B,H+1))===-1)return j||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:G}),te();if(H===Q-1)return te(V.substring(G,H).replace(X,B));if(B===W&&V[H+1]===W)H++;else if(B===W||H===0||V[H-1]!==W){ee!==-1&&ee<H+1&&(ee=V.indexOf(E,H+1));var Y=ce((K=K!==-1&&K<H+1?V.indexOf(O,H+1):K)===-1?ee:Math.min(ee,K));if(V.substr(H+1+Y,ae)===E){fe.push(V.substring(G,H).replace(X,B)),V[G=H+1+Y+ae]!==B&&(H=V.indexOf(B,G)),ee=V.indexOf(E,G),K=V.indexOf(O,G);break}if(Y=ce(K),V.substring(H+1+Y,H+1+Y+me)===O){if(fe.push(V.substring(G,H).replace(X,B)),ye(H+1+Y+me),ee=V.indexOf(E,G),H=V.indexOf(B,G),ue&&(ge(),M))return we();if(L&&re.length>=L)return we(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:G}),H++}}else if(R&&fe.length===0&&V.substring(G,G+pe)===R){if(K===-1)return we();G=K+me,K=V.indexOf(O,G),ee=V.indexOf(E,G)}else if(ee!==-1&&(ee<K||K===-1))fe.push(V.substring(G,ee)),G=ee+ae,ee=V.indexOf(E,G);else{if(K===-1)break;if(fe.push(V.substring(G,K)),ye(K+me),ue&&(ge(),M))return we();if(L&&re.length>=L)return we(!0)}return te();function se(J){re.push(J),ie=G}function ce(J){var le=0;return le=J!==-1&&(J=V.substring(H+1,J))&&J.trim()===""?J.length:le}function te(J){return j||(J===void 0&&(J=V.substring(G)),fe.push(J),G=Q,se(fe),ue&&ge()),we()}function ye(J){G=J,se(fe),fe=[],K=V.indexOf(O,G)}function we(J){if(_.header&&!U&&re.length&&!q){var le=re[0],ve=Object.create(null),Oe=new Set(le);let Be=!1;for(let ot=0;ot<le.length;ot++){let Pt=le[ot];if(ve[Pt=A(_.transformHeader)?_.transformHeader(Pt,ot):Pt]){let Ve,Tr=ve[Pt];for(;Ve=Pt+"_"+Tr,Tr++,Oe.has(Ve););Oe.add(Ve),le[ot]=Ve,ve[Pt]++,Be=!0,(F=F===null?{}:F)[Ve]=Pt}else ve[Pt]=1,le[ot]=Pt;Oe.add(Pt)}Be&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:re,errors:de,meta:{delimiter:E,linebreak:O,aborted:M,truncated:!!J,cursor:ie+(U||0),renamedHeaders:F}}}function ge(){P(we()),re=[],de=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return G}}function b(_){var E=_.data,O=o[E.workerId],R=!1;if(E.error)O.userError(E.error,E.file);else if(E.results&&E.results.data){var P={abort:function(){R=!0,x(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(A(O.userStep)){for(var L=0;L<E.results.data.length&&(O.userStep({data:E.results.data[L],errors:E.results.errors,meta:E.results.meta},P),!R);L++);delete E.results}else A(O.userChunk)&&(O.userChunk(E.results,P,E.file),delete E.results)}E.finished&&!R&&x(E.workerId,E.results)}function x(_,E){var O=o[_];A(O.userComplete)&&O.userComplete(E),O.terminate(),delete o[_]}function k(){throw new Error("Not implemented.")}function w(_){if(typeof _!="object"||_===null)return _;var E,O=Array.isArray(_)?[]:{};for(E in _)O[E]=w(_[E]);return O}function S(_,E){return function(){_.apply(E,arguments)}}function A(_){return typeof _=="function"}return u.parse=function(_,E){var O=(E=E||{}).dynamicTyping||!1;if(A(O)&&(E.dynamicTypingFunction=O,O={}),E.dynamicTyping=O,E.transform=!!A(E.transform)&&E.transform,!E.worker||!u.WORKERS_SUPPORTED)return O=null,u.NODE_STREAM_INPUT,typeof _=="string"?(_=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(_),O=new(E.download?h:f)(E)):_.readable===!0&&A(_.read)&&A(_.on)?O=new g(E):(r.File&&_ instanceof File||_ instanceof Object)&&(O=new d(E)),O.stream(_);(O=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var P=r.URL||r.webkitURL||null,L=n.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=b,R.id=l++,o[R.id]=R)})()).userStep=E.step,O.userChunk=E.chunk,O.userComplete=E.complete,O.userError=E.error,E.step=A(E.step),E.chunk=A(E.chunk),E.complete=A(E.complete),E.error=A(E.error),delete E.worker,O.postMessage({input:_,config:E,workerId:O.id})},u.unparse=function(_,E){var O=!1,R=!0,P=",",L=`\r
`,C='"',F=C+C,q=!1,B=null,W=!1,G=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||u.BAD_DELIMITERS.filter(function(U){return E.delimiter.indexOf(U)!==-1}).length||(P=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(O=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(q=E.skipEmptyLines),typeof E.newline=="string"&&(L=E.newline),typeof E.quoteChar=="string"&&(C=E.quoteChar),typeof E.header=="boolean"&&(R=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");B=E.columns}E.escapeChar!==void 0&&(F=E.escapeChar+C),E.escapeFormulae instanceof RegExp?W=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(C),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return M(null,_,q);if(typeof _[0]=="object")return M(B||Object.keys(_[0]),_,q)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||B),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),M(_.fields||[],_.data||[],q);throw new Error("Unable to serialize unrecognized input");function M(U,j,Q){var ae="",me=(typeof U=="string"&&(U=JSON.parse(U)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(U)&&0<U.length),pe=!Array.isArray(j[0]);if(me&&R){for(var ue=0;ue<U.length;ue++)0<ue&&(ae+=P),ae+=V(U[ue],ue);0<j.length&&(ae+=L)}for(var re=0;re<j.length;re++){var de=(me?U:j[re]).length,fe=!1,ie=me?Object.keys(j[re]).length===0:j[re].length===0;if(Q&&!me&&(fe=Q==="greedy"?j[re].join("").trim()==="":j[re].length===1&&j[re][0].length===0),Q==="greedy"&&me){for(var Se=[],I=0;I<de;I++){var ee=pe?U[I]:I;Se.push(j[re][ee])}fe=Se.join("").trim()===""}if(!fe){for(var K=0;K<de;K++){0<K&&!ie&&(ae+=P);var X=me&&pe?U[K]:K;ae+=V(j[re][X],K)}re<j.length-1&&(!Q||0<de&&!ie)&&(ae+=L)}}return ae}function V(U,j){var Q,ae;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(ae=!1,W&&typeof U=="string"&&W.test(U)&&(U="'"+U,ae=!0),Q=U.toString().replace(G,F),(ae=ae||O===!0||typeof O=="function"&&O(U,j)||Array.isArray(O)&&O[j]||((me,pe)=>{for(var ue=0;ue<pe.length;ue++)if(-1<me.indexOf(pe[ue]))return!0;return!1})(Q,u.BAD_DELIMITERS)||-1<Q.indexOf(P)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?C+Q+C:Q)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=p,u.NetworkStreamer=h,u.FileStreamer=d,u.StringStreamer=f,u.ReadableStreamStreamer=g,r.jQuery&&((i=r.jQuery).fn.parse=function(_){var E=_.config||{},O=[];return this.each(function(L){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var C=0;C<this.files.length;C++)O.push({file:this.files[C],inputElem:this,instanceConfig:i.extend({},E)})}),R(),this;function R(){if(O.length===0)A(_.complete)&&_.complete();else{var L,C,F,q,B=O[0];if(A(_.before)){var W=_.before(B.file,B.inputElem);if(typeof W=="object"){if(W.action==="abort")return L="AbortError",C=B.file,F=B.inputElem,q=W.reason,void(A(_.error)&&_.error({name:L},C,F,q));if(W.action==="skip")return void P();typeof W.config=="object"&&(B.instanceConfig=i.extend(B.instanceConfig,W.config))}else if(W==="skip")return void P()}var G=B.instanceConfig.complete;B.instanceConfig.complete=function(M){A(G)&&G(M,B.file,B.inputElem),P()},u.parse(B.file,B.instanceConfig)}}function P(){O.splice(0,1),R()}}),s&&(r.onmessage=function(_){_=_.data,u.WORKER_ID===void 0&&_&&(u.WORKER_ID=_.workerId),typeof _.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(_.input,_.config),finished:!0}):(r.File&&_.input instanceof File||_.input instanceof Object)&&(_=u.parse(_.input,_.config))&&r.postMessage({workerId:u.WORKER_ID,results:_,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(g.prototype=Object.create(c.prototype)).constructor=g,u})})(Q3);var _Q=Q3.exports;const AQ=nt(_Q);var EQ=Array.isArray,Pr=EQ,CQ=typeof qr=="object"&&qr&&qr.Object===Object&&qr,J3=CQ,PQ=J3,TQ=typeof self=="object"&&self&&self.Object===Object&&self,OQ=PQ||TQ||Function("return this")(),Wa=OQ,IQ=Wa,MQ=IQ.Symbol,ay=MQ,nI=ay,eB=Object.prototype,NQ=eB.hasOwnProperty,RQ=eB.toString,Tf=nI?nI.toStringTag:void 0;function LQ(t){var e=NQ.call(t,Tf),n=t[Tf];try{t[Tf]=void 0;var r=!0}catch{}var i=RQ.call(t);return r&&(e?t[Tf]=n:delete t[Tf]),i}var jQ=LQ,DQ=Object.prototype,$Q=DQ.toString;function FQ(t){return $Q.call(t)}var BQ=FQ,rI=ay,zQ=jQ,UQ=BQ,HQ="[object Null]",WQ="[object Undefined]",iI=rI?rI.toStringTag:void 0;function VQ(t){return t==null?t===void 0?WQ:HQ:iI&&iI in Object(t)?zQ(t):UQ(t)}var Ks=VQ;function GQ(t){return t!=null&&typeof t=="object"}var Ys=GQ,qQ=Ks,XQ=Ys,KQ="[object Symbol]";function YQ(t){return typeof t=="symbol"||XQ(t)&&qQ(t)==KQ}var Zd=YQ,ZQ=Pr,QQ=Zd,JQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eJ=/^\w*$/;function tJ(t,e){if(ZQ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||QQ(t)?!0:eJ.test(t)||!JQ.test(t)||e!=null&&t in Object(e)}var BC=tJ;function nJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dl=nJ;const Qd=nt(dl);var rJ=Ks,iJ=dl,aJ="[object AsyncFunction]",sJ="[object Function]",oJ="[object GeneratorFunction]",lJ="[object Proxy]";function uJ(t){if(!iJ(t))return!1;var e=rJ(t);return e==sJ||e==oJ||e==aJ||e==lJ}var zC=uJ;const Ue=nt(zC);var cJ=Wa,hJ=cJ["__core-js_shared__"],dJ=hJ,v1=dJ,aI=function(){var t=/[^.]+$/.exec(v1&&v1.keys&&v1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fJ(t){return!!aI&&aI in t}var pJ=fJ,mJ=Function.prototype,gJ=mJ.toString;function yJ(t){if(t!=null){try{return gJ.call(t)}catch{}try{return t+""}catch{}}return""}var tB=yJ,vJ=zC,bJ=pJ,xJ=dl,wJ=tB,SJ=/[\\^$.*+?()[\]{}|]/g,kJ=/^\[object .+?Constructor\]$/,_J=Function.prototype,AJ=Object.prototype,EJ=_J.toString,CJ=AJ.hasOwnProperty,PJ=RegExp("^"+EJ.call(CJ).replace(SJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TJ(t){if(!xJ(t)||bJ(t))return!1;var e=vJ(t)?PJ:kJ;return e.test(wJ(t))}var OJ=TJ;function IJ(t,e){return t==null?void 0:t[e]}var MJ=IJ,NJ=OJ,RJ=MJ;function LJ(t,e){var n=RJ(t,e);return NJ(n)?n:void 0}var cc=LJ,jJ=cc,DJ=jJ(Object,"create"),Rx=DJ,sI=Rx;function $J(){this.__data__=sI?sI(null):{},this.size=0}var FJ=$J;function BJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zJ=BJ,UJ=Rx,HJ="__lodash_hash_undefined__",WJ=Object.prototype,VJ=WJ.hasOwnProperty;function GJ(t){var e=this.__data__;if(UJ){var n=e[t];return n===HJ?void 0:n}return VJ.call(e,t)?e[t]:void 0}var qJ=GJ,XJ=Rx,KJ=Object.prototype,YJ=KJ.hasOwnProperty;function ZJ(t){var e=this.__data__;return XJ?e[t]!==void 0:YJ.call(e,t)}var QJ=ZJ,JJ=Rx,eee="__lodash_hash_undefined__";function tee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=JJ&&e===void 0?eee:e,this}var nee=tee,ree=FJ,iee=zJ,aee=qJ,see=QJ,oee=nee;function Jd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jd.prototype.clear=ree;Jd.prototype.delete=iee;Jd.prototype.get=aee;Jd.prototype.has=see;Jd.prototype.set=oee;var lee=Jd;function uee(){this.__data__=[],this.size=0}var cee=uee;function hee(t,e){return t===e||t!==t&&e!==e}var UC=hee,dee=UC;function fee(t,e){for(var n=t.length;n--;)if(dee(t[n][0],e))return n;return-1}var Lx=fee,pee=Lx,mee=Array.prototype,gee=mee.splice;function yee(t){var e=this.__data__,n=pee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():gee.call(e,n,1),--this.size,!0}var vee=yee,bee=Lx;function xee(t){var e=this.__data__,n=bee(e,t);return n<0?void 0:e[n][1]}var wee=xee,See=Lx;function kee(t){return See(this.__data__,t)>-1}var _ee=kee,Aee=Lx;function Eee(t,e){var n=this.__data__,r=Aee(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Cee=Eee,Pee=cee,Tee=vee,Oee=wee,Iee=_ee,Mee=Cee;function ef(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ef.prototype.clear=Pee;ef.prototype.delete=Tee;ef.prototype.get=Oee;ef.prototype.has=Iee;ef.prototype.set=Mee;var jx=ef,Nee=cc,Ree=Wa,Lee=Nee(Ree,"Map"),HC=Lee,oI=lee,jee=jx,Dee=HC;function $ee(){this.size=0,this.__data__={hash:new oI,map:new(Dee||jee),string:new oI}}var Fee=$ee;function Bee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zee=Bee,Uee=zee;function Hee(t,e){var n=t.__data__;return Uee(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Dx=Hee,Wee=Dx;function Vee(t){var e=Wee(this,t).delete(t);return this.size-=e?1:0,e}var Gee=Vee,qee=Dx;function Xee(t){return qee(this,t).get(t)}var Kee=Xee,Yee=Dx;function Zee(t){return Yee(this,t).has(t)}var Qee=Zee,Jee=Dx;function ete(t,e){var n=Jee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var tte=ete,nte=Fee,rte=Gee,ite=Kee,ate=Qee,ste=tte;function tf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tf.prototype.clear=nte;tf.prototype.delete=rte;tf.prototype.get=ite;tf.prototype.has=ate;tf.prototype.set=ste;var WC=tf,nB=WC,ote="Expected a function";function VC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ote);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(VC.Cache||nB),n}VC.Cache=nB;var rB=VC;const lte=nt(rB);var ute=rB,cte=500;function hte(t){var e=ute(t,function(r){return n.size===cte&&n.clear(),r}),n=e.cache;return e}var dte=hte,fte=dte,pte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mte=/\\(\\)?/g,gte=fte(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pte,function(n,r,i,a){e.push(i?a.replace(mte,"$1"):r||n)}),e}),yte=gte;function vte(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var GC=vte,lI=ay,bte=GC,xte=Pr,wte=Zd,uI=lI?lI.prototype:void 0,cI=uI?uI.toString:void 0;function iB(t){if(typeof t=="string")return t;if(xte(t))return bte(t,iB)+"";if(wte(t))return cI?cI.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ste=iB,kte=Ste;function _te(t){return t==null?"":kte(t)}var aB=_te,Ate=Pr,Ete=BC,Cte=yte,Pte=aB;function Tte(t,e){return Ate(t)?t:Ete(t,e)?[t]:Cte(Pte(t))}var sB=Tte,Ote=Zd;function Ite(t){if(typeof t=="string"||Ote(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $x=Ite,Mte=sB,Nte=$x;function Rte(t,e){e=Mte(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Nte(e[n++])];return n&&n==r?t:void 0}var qC=Rte,Lte=qC;function jte(t,e,n){var r=t==null?void 0:Lte(t,e);return r===void 0?n:r}var oB=jte;const wi=nt(oB);function Dte(t){return t==null}var $te=Dte;const Xe=nt($te);var Fte=Ks,Bte=Pr,zte=Ys,Ute="[object String]";function Hte(t){return typeof t=="string"||!Bte(t)&&zte(t)&&Fte(t)==Ute}var Wte=Hte;const Yu=nt(Wte);var lB={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=Symbol.for("react.element"),KC=Symbol.for("react.portal"),Fx=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),zx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Vte=Symbol.for("react.server_context"),Wx=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),qx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),Gte=Symbol.for("react.offscreen"),uB;uB=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XC:switch(t=t.type,t){case Fx:case zx:case Bx:case Vx:case Gx:return t;default:switch(t=t&&t.$$typeof,t){case Vte:case Hx:case Wx:case Xx:case qx:case Ux:return t;default:return e}}case KC:return e}}}dt.ContextConsumer=Hx;dt.ContextProvider=Ux;dt.Element=XC;dt.ForwardRef=Wx;dt.Fragment=Fx;dt.Lazy=Xx;dt.Memo=qx;dt.Portal=KC;dt.Profiler=zx;dt.StrictMode=Bx;dt.Suspense=Vx;dt.SuspenseList=Gx;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(t){return Ti(t)===Hx};dt.isContextProvider=function(t){return Ti(t)===Ux};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XC};dt.isForwardRef=function(t){return Ti(t)===Wx};dt.isFragment=function(t){return Ti(t)===Fx};dt.isLazy=function(t){return Ti(t)===Xx};dt.isMemo=function(t){return Ti(t)===qx};dt.isPortal=function(t){return Ti(t)===KC};dt.isProfiler=function(t){return Ti(t)===zx};dt.isStrictMode=function(t){return Ti(t)===Bx};dt.isSuspense=function(t){return Ti(t)===Vx};dt.isSuspenseList=function(t){return Ti(t)===Gx};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fx||t===zx||t===Bx||t===Vx||t===Gx||t===Gte||typeof t=="object"&&t!==null&&(t.$$typeof===Xx||t.$$typeof===qx||t.$$typeof===Ux||t.$$typeof===Hx||t.$$typeof===Wx||t.$$typeof===uB||t.getModuleId!==void 0)};dt.typeOf=Ti;lB.exports=dt;var qte=lB.exports,Xte=Ks,Kte=Ys,Yte="[object Number]";function Zte(t){return typeof t=="number"||Kte(t)&&Xte(t)==Yte}var cB=Zte;const Qte=nt(cB);var Jte=cB;function ene(t){return Jte(t)&&t!=+t}var tne=ene;const sy=nt(tne);var ra=function(e){return e===0?0:e>0?1:-1},Ll=function(e){return Yu(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Qte(e)&&!sy(e)},nne=function(e){return Xe(e)},mn=function(e){return ke(e)||Yu(e)},rne=0,oy=function(e){var n=++rne;return"".concat(e||"").concat(n)},Zu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Yu(e))return r;var a;if(Ll(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return sy(a)&&(a=r),i&&a>n&&(a=n),a},uo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ine=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ta=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function Db(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wi(r,e))===n})}var ane=function(e,n){return ke(e)&&ke(n)?e-n:Yu(e)&&Yu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function uh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function C_(t){"@babel/helpers - typeof";return C_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C_(t)}var sne=["viewBox","children"],one=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hI=["points","pathLength"],b1={svg:sne,polygon:hI,polyline:hI},YC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$b=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!Qd(r))return null;var i={};return Object.keys(r).forEach(function(a){YC.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},lne=function(e,n,r){return function(i){return e(n,r,i),null}},Fb=function(e,n,r){if(!Qd(e)||C_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];YC.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=lne(s,n,r))}),i},une=["children"],cne=["children"];function dI(t,e){if(t==null)return{};var n=hne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P_(t){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(t)}var fI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ns=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pI=null,x1=null,ZC=function t(e){if(e===pI&&Array.isArray(x1))return x1;var n=[];return N.Children.forEach(e,function(r){Xe(r)||(qte.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),x1=n,pI=e,n};function Si(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ns(i)}):r=[Ns(e)],ZC(t).forEach(function(i){var a=wi(i,"type.displayName")||wi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Wr(t,e){var n=Si(t,e);return n&&n[0]}var mI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},dne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fne=function(e){return e&&e.type&&Yu(e.type)&&dne.indexOf(e.type)>=0},pne=function(e){return e&&P_(e)==="object"&&"clipDot"in e},mne=function(e,n,r,i){var a,s=(a=b1==null?void 0:b1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ue(e)&&(i&&s.includes(n)||one.includes(n))||r&&YC.includes(n)},Qe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Qd(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;mne((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},T_=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!gI(a,s))return!1}return!0},gI=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,a=dI(r,une),s=n.props||{},o=s.children,l=dI(s,cne);return i&&o?uh(a,l)&&T_(i,o):!i&&!o?uh(a,l):!1}return!1},yI=function(e,n){var r=[],i={};return ZC(e).forEach(function(a,s){if(fne(a))r.push(a);else if(a){var o=Ns(a.type),l=n[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var h=u(a,o,s);r.push(h),i[o]=!0}}}),r},gne=function(e){var n=e&&e.type;return n&&fI[n]?fI[n]:null},yne=function(e,n){return ZC(n).indexOf(e)},vne=["children","width","height","viewBox","className","style","title","desc"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function bne(t,e){if(t==null)return{};var n=xne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=bne(t,vne),c=i||{width:n,height:r,x:0,y:0},h=qe("recharts-surface",a);return ne.createElement("svg",O_({},Qe(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),ne.createElement("title",null,o),ne.createElement("desc",null,l),e)}var wne=["children","className"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function Sne(t,e){if(t==null)return{};var n=kne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=Sne(t,wne),a=qe("recharts-layer",r);return ne.createElement("g",M_({className:a},Qe(i,!0),{ref:e}),n)}),Rs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function _ne(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Ane=_ne,Ene=Ane;function Cne(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ene(t,e,n)}var Pne=Cne,Tne="\\ud800-\\udfff",One="\\u0300-\\u036f",Ine="\\ufe20-\\ufe2f",Mne="\\u20d0-\\u20ff",Nne=One+Ine+Mne,Rne="\\ufe0e\\ufe0f",Lne="\\u200d",jne=RegExp("["+Lne+Tne+Nne+Rne+"]");function Dne(t){return jne.test(t)}var hB=Dne;function $ne(t){return t.split("")}var Fne=$ne,dB="\\ud800-\\udfff",Bne="\\u0300-\\u036f",zne="\\ufe20-\\ufe2f",Une="\\u20d0-\\u20ff",Hne=Bne+zne+Une,Wne="\\ufe0e\\ufe0f",Vne="["+dB+"]",N_="["+Hne+"]",R_="\\ud83c[\\udffb-\\udfff]",Gne="(?:"+N_+"|"+R_+")",fB="[^"+dB+"]",pB="(?:\\ud83c[\\udde6-\\uddff]){2}",mB="[\\ud800-\\udbff][\\udc00-\\udfff]",qne="\\u200d",gB=Gne+"?",yB="["+Wne+"]?",Xne="(?:"+qne+"(?:"+[fB,pB,mB].join("|")+")"+yB+gB+")*",Kne=yB+gB+Xne,Yne="(?:"+[fB+N_+"?",N_,pB,mB,Vne].join("|")+")",Zne=RegExp(R_+"(?="+R_+")|"+Yne+Kne,"g");function Qne(t){return t.match(Zne)||[]}var Jne=Qne,ere=Fne,tre=hB,nre=Jne;function rre(t){return tre(t)?nre(t):ere(t)}var ire=rre,are=Pne,sre=hB,ore=ire,lre=aB;function ure(t){return function(e){e=lre(e);var n=sre(e)?ore(e):void 0,r=n?n[0]:e.charAt(0),i=n?are(n,1).join(""):e.slice(1);return r[t]()+i}}var cre=ure,hre=cre,dre=hre("toUpperCase"),fre=dre;const Kx=nt(fre);function xt(t){return function(){return t}}const vB=Math.cos,Bb=Math.sin,ha=Math.sqrt,zb=Math.PI,Yx=2*zb,L_=Math.PI,j_=2*L_,El=1e-6,pre=j_-El;function bB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bB:mre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,h=o-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>El)if(!(Math.abs(h*l-u*c)>El)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-s,g=i-o,p=l*l+u*u,v=f*f+g*g,y=Math.sqrt(p),b=Math.sqrt(d),x=a*Math.tan((L_-Math.acos((p+d-v)/(2*y*b)))/2),k=x/b,w=x/y;Math.abs(k-1)>El&&this._append`L${e+k*c},${n+k*h}`,this._append`A${a},${a},0,0,${+(h*f>c*g)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,h=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>El||Math.abs(this._y1-c)>El)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%j_+j_),d>pre?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>El&&this._append`A${r},${r},0,${+(d>=L_)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gre(e)}function JC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xB(t){this._context=t}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zx(t){return new xB(t)}function wB(t){return t[0]}function SB(t){return t[1]}function kB(t,e){var n=xt(!0),r=null,i=Zx,a=null,s=QC(o);t=typeof t=="function"?t:t===void 0?wB:xt(t),e=typeof e=="function"?e:e===void 0?SB:xt(e);function o(l){var u,c=(l=JC(l)).length,h,d=!1,f;for(r==null&&(a=i(f=s())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,u,l),+e(h,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function qy(t,e,n){var r=null,i=xt(!0),a=null,s=Zx,o=null,l=QC(u);t=typeof t=="function"?t:t===void 0?wB:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SB:xt(+n);function u(h){var d,f,g,p=(h=JC(h)).length,v,y=!1,b,x=new Array(p),k=new Array(p);for(a==null&&(o=s(b=l())),d=0;d<=p;++d){if(!(d<p&&i(v=h[d],d,h))===y)if(y=!y)f=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=d-1;g>=f;--g)o.point(x[g],k[g]);o.lineEnd(),o.areaEnd()}y&&(x[d]=+t(v,d,h),k[d]=+e(v,d,h),o.point(r?+r(v,d,h):x[d],n?+n(v,d,h):k[d]))}if(b)return o=null,b+""||null}function c(){return kB().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:xt(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:xt(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:xt(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class _B{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yre(t){return new _B(t,!0)}function vre(t){return new _B(t,!1)}const eP={draw(t,e){const n=ha(e/zb);t.moveTo(n,0),t.arc(0,0,n,0,Yx)}},bre={draw(t,e){const n=ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AB=ha(1/3),xre=AB*2,wre={draw(t,e){const n=ha(e/xre),r=n*AB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Sre={draw(t,e){const n=ha(e),r=-n/2;t.rect(r,r,n,n)}},kre=.8908130915292852,EB=Bb(zb/10)/Bb(7*zb/10),_re=Bb(Yx/10)*EB,Are=-vB(Yx/10)*EB,Ere={draw(t,e){const n=ha(e*kre),r=_re*n,i=Are*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Yx*a/5,o=vB(s),l=Bb(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},w1=ha(3),Cre={draw(t,e){const n=-ha(e/(w1*3));t.moveTo(0,n*2),t.lineTo(-w1*n,-n),t.lineTo(w1*n,-n),t.closePath()}},ai=-.5,si=ha(3)/2,D_=1/ha(12),Pre=(D_/2+1)*3,Tre={draw(t,e){const n=ha(e/Pre),r=n/2,i=n*D_,a=r,s=n*D_+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(ai*r-si*i,si*r+ai*i),t.lineTo(ai*a-si*s,si*a+ai*s),t.lineTo(ai*o-si*l,si*o+ai*l),t.lineTo(ai*r+si*i,ai*i-si*r),t.lineTo(ai*a+si*s,ai*s-si*a),t.lineTo(ai*o+si*l,ai*l-si*o),t.closePath()}};function Ore(t,e){let n=null,r=QC(i);t=typeof t=="function"?t:xt(t||eP),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ub(){}function Hb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function CB(t){this._context=t}CB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ire(t){return new CB(t)}function PB(t){this._context=t}PB.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mre(t){return new PB(t)}function TB(t){this._context=t}TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nre(t){return new TB(t)}function OB(t){this._context=t}OB.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rre(t){return new OB(t)}function vI(t){return t<0?-1:1}function bI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(vI(a)+vI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function xI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function S1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Wb(t){this._context=t}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S1(this,this._t0,xI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,S1(this,xI(this,n=bI(this,t,e)),n);break;default:S1(this,this._t0,n=bI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function IB(t){this._context=new MB(t)}(IB.prototype=Object.create(Wb.prototype)).point=function(t,e){Wb.prototype.point.call(this,e,t)};function MB(t){this._context=t}MB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Lre(t){return new Wb(t)}function jre(t){return new IB(t)}function NB(t){this._context=t}NB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wI(t),i=wI(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Dre(t){return new NB(t)}function Qx(t,e){this._context=t,this._t=e}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $re(t){return new Qx(t,.5)}function Fre(t){return new Qx(t,0)}function Bre(t){return new Qx(t,1)}function bd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zre(t,e){return t[e]}function Ure(t){const e=[];return e.key=t,e}function Hre(){var t=xt([]),e=$_,n=bd,r=zre;function i(a){var s=Array.from(t.apply(this,arguments),Ure),o,l=s.length,u=-1,c;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(h,s[o].key,u,a)]).data=h;for(o=0,c=JC(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?$_:typeof a=="function"?a:xt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??bd,i):n},i}function Wre(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}bd(t,e)}}function Vre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bd(t,e)}}function Gre(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],h=c[r][1]||0,d=c[r-1][1]||0,f=(h-d)/2,g=0;g<o;++g){var p=t[e[g]],v=p[r][1]||0,y=p[r-1][1]||0;f+=v-y}l+=h,u+=f*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,bd(t,e)}}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var qre=["type","size","sizeType"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return Yp(e)=="symbol"?e:e+""}function Yre(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zre(t,e){if(t==null)return{};var n=Qre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RB={symbolCircle:eP,symbolCross:bre,symbolDiamond:wre,symbolSquare:Sre,symbolStar:Ere,symbolTriangle:Cre,symbolWye:Tre},Jre=Math.PI/180,eie=function(e){var n="symbol".concat(Kx(e));return RB[n]||eP},tie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Jre;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nie=function(e,n){RB["symbol".concat(Kx(e))]=n},tP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Zre(e,qre),u=kI(kI({},l),{},{type:r,size:a,sizeType:o}),c=function(){var v=eie(r),y=Ore().type(v).size(tie(a,o,r));return y()},h=u.className,d=u.cx,f=u.cy,g=Qe(u,!0);return d===+d&&f===+f&&a===+a?ne.createElement("path",F_({},g,{className:qe("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(f,")"),d:c()})):null};tP.registerSymbol=nie;function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){Zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function sie(t,e,n){return e&&aie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oie(t,e,n){return e=Vb(e),lie(t,LB()?Reflect.construct(e,n||[],Vb(t).constructor):e.apply(t,n))}function lie(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(t)}function uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!t})()}function Vb(t){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vb(t)}function cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function Zp(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jB(t){var e=hie(t,"string");return xd(e)=="symbol"?e:e+""}function hie(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oi=32,nP=function(t){function e(){return iie(this,e),oie(this,e,arguments)}return cie(e,t),sie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=oi/2,s=oi/6,o=oi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:oi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(oi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oi/8,"h").concat(oi,"v").concat(oi*3/4,"h").concat(-oi,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var u=rie({},r);return delete u.legendIcon,ne.cloneElement(r.legendIcon,u)}return ne.createElement(tP,{fill:l,cx:a,cy:a,size:oi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:oi,height:oi},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,g){var p=f.formatter||l,v=qe(Zp(Zp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Ue(f.value)?null:f.value;Rs(!Ue(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return ne.createElement("li",B_({className:v,style:h,key:"legend-item-".concat(g)},Fb(r.props,f,g)),ne.createElement(I_,{width:s,height:s,viewBox:c,style:d},r.renderIcon(f)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,f,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);Zp(nP,"displayName","Legend");Zp(nP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var die=jx;function fie(){this.__data__=new die,this.size=0}var pie=fie;function mie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gie=mie;function yie(t){return this.__data__.get(t)}var vie=yie;function bie(t){return this.__data__.has(t)}var xie=bie,wie=jx,Sie=HC,kie=WC,_ie=200;function Aie(t,e){var n=this.__data__;if(n instanceof wie){var r=n.__data__;if(!Sie||r.length<_ie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kie(r)}return n.set(t,e),this.size=n.size,this}var Eie=Aie,Cie=jx,Pie=pie,Tie=gie,Oie=vie,Iie=xie,Mie=Eie;function nf(t){var e=this.__data__=new Cie(t);this.size=e.size}nf.prototype.clear=Pie;nf.prototype.delete=Tie;nf.prototype.get=Oie;nf.prototype.has=Iie;nf.prototype.set=Mie;var DB=nf,Nie="__lodash_hash_undefined__";function Rie(t){return this.__data__.set(t,Nie),this}var Lie=Rie;function jie(t){return this.__data__.has(t)}var Die=jie,$ie=WC,Fie=Lie,Bie=Die;function Gb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new $ie;++e<n;)this.add(t[e])}Gb.prototype.add=Gb.prototype.push=Fie;Gb.prototype.has=Bie;var $B=Gb;function zie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var FB=zie;function Uie(t,e){return t.has(e)}var BB=Uie,Hie=$B,Wie=FB,Vie=BB,Gie=1,qie=2;function Xie(t,e,n,r,i,a){var s=n&Gie,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&qie?new Hie:void 0;for(a.set(t,e),a.set(e,t);++h<o;){var g=t[h],p=e[h];if(r)var v=s?r(p,g,h,e,t,a):r(g,p,h,t,e,a);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!Wie(e,function(y,b){if(!Vie(f,b)&&(g===y||i(g,y,n,r,a)))return f.push(b)})){d=!1;break}}else if(!(g===p||i(g,p,n,r,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var zB=Xie,Kie=Wa,Yie=Kie.Uint8Array,Zie=Yie;function Qie(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Jie=Qie;function eae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var rP=eae,AI=ay,EI=Zie,tae=UC,nae=zB,rae=Jie,iae=rP,aae=1,sae=2,oae="[object Boolean]",lae="[object Date]",uae="[object Error]",cae="[object Map]",hae="[object Number]",dae="[object RegExp]",fae="[object Set]",pae="[object String]",mae="[object Symbol]",gae="[object ArrayBuffer]",yae="[object DataView]",CI=AI?AI.prototype:void 0,k1=CI?CI.valueOf:void 0;function vae(t,e,n,r,i,a,s){switch(n){case yae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gae:return!(t.byteLength!=e.byteLength||!a(new EI(t),new EI(e)));case oae:case lae:case hae:return tae(+t,+e);case uae:return t.name==e.name&&t.message==e.message;case dae:case pae:return t==e+"";case cae:var o=rae;case fae:var l=r&aae;if(o||(o=iae),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=sae,s.set(t,e);var c=nae(o(t),o(e),r,i,a,s);return s.delete(t),c;case mae:if(k1)return k1.call(t)==k1.call(e)}return!1}var bae=vae;function xae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var UB=xae,wae=UB,Sae=Pr;function kae(t,e,n){var r=e(t);return Sae(t)?r:wae(r,n(t))}var _ae=kae;function Aae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Eae=Aae;function Cae(){return[]}var Pae=Cae,Tae=Eae,Oae=Pae,Iae=Object.prototype,Mae=Iae.propertyIsEnumerable,PI=Object.getOwnPropertySymbols,Nae=PI?function(t){return t==null?[]:(t=Object(t),Tae(PI(t),function(e){return Mae.call(t,e)}))}:Oae,Rae=Nae;function Lae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jae=Lae,Dae=Ks,$ae=Ys,Fae="[object Arguments]";function Bae(t){return $ae(t)&&Dae(t)==Fae}var zae=Bae,TI=zae,Uae=Ys,HB=Object.prototype,Hae=HB.hasOwnProperty,Wae=HB.propertyIsEnumerable,Vae=TI(function(){return arguments}())?TI:function(t){return Uae(t)&&Hae.call(t,"callee")&&!Wae.call(t,"callee")},iP=Vae,qb={exports:{}};function Gae(){return!1}var qae=Gae;qb.exports;(function(t,e){var n=Wa,r=qae,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(qb,qb.exports);var WB=qb.exports,Xae=9007199254740991,Kae=/^(?:0|[1-9]\d*)$/;function Yae(t,e){var n=typeof t;return e=e??Xae,!!e&&(n=="number"||n!="symbol"&&Kae.test(t))&&t>-1&&t%1==0&&t<e}var aP=Yae,Zae=9007199254740991;function Qae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Zae}var sP=Qae,Jae=Ks,ese=sP,tse=Ys,nse="[object Arguments]",rse="[object Array]",ise="[object Boolean]",ase="[object Date]",sse="[object Error]",ose="[object Function]",lse="[object Map]",use="[object Number]",cse="[object Object]",hse="[object RegExp]",dse="[object Set]",fse="[object String]",pse="[object WeakMap]",mse="[object ArrayBuffer]",gse="[object DataView]",yse="[object Float32Array]",vse="[object Float64Array]",bse="[object Int8Array]",xse="[object Int16Array]",wse="[object Int32Array]",Sse="[object Uint8Array]",kse="[object Uint8ClampedArray]",_se="[object Uint16Array]",Ase="[object Uint32Array]",_t={};_t[yse]=_t[vse]=_t[bse]=_t[xse]=_t[wse]=_t[Sse]=_t[kse]=_t[_se]=_t[Ase]=!0;_t[nse]=_t[rse]=_t[mse]=_t[ise]=_t[gse]=_t[ase]=_t[sse]=_t[ose]=_t[lse]=_t[use]=_t[cse]=_t[hse]=_t[dse]=_t[fse]=_t[pse]=!1;function Ese(t){return tse(t)&&ese(t.length)&&!!_t[Jae(t)]}var Cse=Ese;function Pse(t){return function(e){return t(e)}}var VB=Pse,Xb={exports:{}};Xb.exports;(function(t,e){var n=J3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Xb,Xb.exports);var Tse=Xb.exports,Ose=Cse,Ise=VB,OI=Tse,II=OI&&OI.isTypedArray,Mse=II?Ise(II):Ose,GB=Mse,Nse=jae,Rse=iP,Lse=Pr,jse=WB,Dse=aP,$se=GB,Fse=Object.prototype,Bse=Fse.hasOwnProperty;function zse(t,e){var n=Lse(t),r=!n&&Rse(t),i=!n&&!r&&jse(t),a=!n&&!r&&!i&&$se(t),s=n||r||i||a,o=s?Nse(t.length,String):[],l=o.length;for(var u in t)(e||Bse.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Dse(u,l)))&&o.push(u);return o}var Use=zse,Hse=Object.prototype;function Wse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Hse;return t===n}var Vse=Wse;function Gse(t,e){return function(n){return t(e(n))}}var qB=Gse,qse=qB,Xse=qse(Object.keys,Object),Kse=Xse,Yse=Vse,Zse=Kse,Qse=Object.prototype,Jse=Qse.hasOwnProperty;function eoe(t){if(!Yse(t))return Zse(t);var e=[];for(var n in Object(t))Jse.call(t,n)&&n!="constructor"&&e.push(n);return e}var toe=eoe,noe=zC,roe=sP;function ioe(t){return t!=null&&roe(t.length)&&!noe(t)}var ly=ioe,aoe=Use,soe=toe,ooe=ly;function loe(t){return ooe(t)?aoe(t):soe(t)}var Jx=loe,uoe=_ae,coe=Rae,hoe=Jx;function doe(t){return uoe(t,hoe,coe)}var foe=doe,MI=foe,poe=1,moe=Object.prototype,goe=moe.hasOwnProperty;function yoe(t,e,n,r,i,a){var s=n&poe,o=MI(t),l=o.length,u=MI(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=o[h];if(!(s?d in e:goe.call(e,d)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var p=!0;a.set(t,e),a.set(e,t);for(var v=s;++h<l;){d=o[h];var y=t[d],b=e[d];if(r)var x=s?r(b,y,d,e,t,a):r(y,b,d,t,e,a);if(!(x===void 0?y===b||i(y,b,n,r,a):x)){p=!1;break}v||(v=d=="constructor")}if(p&&!v){var k=t.constructor,w=e.constructor;k!=w&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(p=!1)}return a.delete(t),a.delete(e),p}var voe=yoe,boe=cc,xoe=Wa,woe=boe(xoe,"DataView"),Soe=woe,koe=cc,_oe=Wa,Aoe=koe(_oe,"Promise"),Eoe=Aoe,Coe=cc,Poe=Wa,Toe=Coe(Poe,"Set"),XB=Toe,Ooe=cc,Ioe=Wa,Moe=Ooe(Ioe,"WeakMap"),Noe=Moe,U_=Soe,H_=HC,W_=Eoe,V_=XB,G_=Noe,KB=Ks,rf=tB,NI="[object Map]",Roe="[object Object]",RI="[object Promise]",LI="[object Set]",jI="[object WeakMap]",DI="[object DataView]",Loe=rf(U_),joe=rf(H_),Doe=rf(W_),$oe=rf(V_),Foe=rf(G_),Cl=KB;(U_&&Cl(new U_(new ArrayBuffer(1)))!=DI||H_&&Cl(new H_)!=NI||W_&&Cl(W_.resolve())!=RI||V_&&Cl(new V_)!=LI||G_&&Cl(new G_)!=jI)&&(Cl=function(t){var e=KB(t),n=e==Roe?t.constructor:void 0,r=n?rf(n):"";if(r)switch(r){case Loe:return DI;case joe:return NI;case Doe:return RI;case $oe:return LI;case Foe:return jI}return e});var Boe=Cl,_1=DB,zoe=zB,Uoe=bae,Hoe=voe,$I=Boe,FI=Pr,BI=WB,Woe=GB,Voe=1,zI="[object Arguments]",UI="[object Array]",Xy="[object Object]",Goe=Object.prototype,HI=Goe.hasOwnProperty;function qoe(t,e,n,r,i,a){var s=FI(t),o=FI(e),l=s?UI:$I(t),u=o?UI:$I(e);l=l==zI?Xy:l,u=u==zI?Xy:u;var c=l==Xy,h=u==Xy,d=l==u;if(d&&BI(t)){if(!BI(e))return!1;s=!0,c=!1}if(d&&!c)return a||(a=new _1),s||Woe(t)?zoe(t,e,n,r,i,a):Uoe(t,e,l,n,r,i,a);if(!(n&Voe)){var f=c&&HI.call(t,"__wrapped__"),g=h&&HI.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,v=g?e.value():e;return a||(a=new _1),i(p,v,n,r,a)}}return d?(a||(a=new _1),Hoe(t,e,n,r,i,a)):!1}var Xoe=qoe,Koe=Xoe,WI=Ys;function YB(t,e,n,r,i){return t===e?!0:t==null||e==null||!WI(t)&&!WI(e)?t!==t&&e!==e:Koe(t,e,n,r,YB,i)}var oP=YB,Yoe=DB,Zoe=oP,Qoe=1,Joe=2;function ele(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Yoe;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?Zoe(c,u,Qoe|Joe,r,h):d))return!1}}return!0}var tle=ele,nle=dl;function rle(t){return t===t&&!nle(t)}var ZB=rle,ile=ZB,ale=Jx;function sle(t){for(var e=ale(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ile(i)]}return e}var ole=sle;function lle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var QB=lle,ule=tle,cle=ole,hle=QB;function dle(t){var e=cle(t);return e.length==1&&e[0][2]?hle(e[0][0],e[0][1]):function(n){return n===t||ule(n,t,e)}}var fle=dle;function ple(t,e){return t!=null&&e in Object(t)}var mle=ple,gle=sB,yle=iP,vle=Pr,ble=aP,xle=sP,wle=$x;function Sle(t,e,n){e=gle(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=wle(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&xle(i)&&ble(s,i)&&(vle(t)||yle(t)))}var kle=Sle,_le=mle,Ale=kle;function Ele(t,e){return t!=null&&Ale(t,e,_le)}var Cle=Ele,Ple=oP,Tle=oB,Ole=Cle,Ile=BC,Mle=ZB,Nle=QB,Rle=$x,Lle=1,jle=2;function Dle(t,e){return Ile(t)&&Mle(e)?Nle(Rle(t),e):function(n){var r=Tle(n,t);return r===void 0&&r===e?Ole(n,t):Ple(e,r,Lle|jle)}}var $le=Dle;function Fle(t){return t}var af=Fle;function Ble(t){return function(e){return e==null?void 0:e[t]}}var zle=Ble,Ule=qC;function Hle(t){return function(e){return Ule(e,t)}}var Wle=Hle,Vle=zle,Gle=Wle,qle=BC,Xle=$x;function Kle(t){return qle(t)?Vle(Xle(t)):Gle(t)}var Yle=Kle,Zle=fle,Qle=$le,Jle=af,eue=Pr,tue=Yle;function nue(t){return typeof t=="function"?t:t==null?Jle:typeof t=="object"?eue(t)?Qle(t[0],t[1]):Zle(t):tue(t)}var fl=nue;function rue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var JB=rue;function iue(t){return t!==t}var aue=iue;function sue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var oue=sue,lue=JB,uue=aue,cue=oue;function hue(t,e,n){return e===e?cue(t,e,n):lue(t,uue,n)}var due=hue,fue=due;function pue(t,e){var n=t==null?0:t.length;return!!n&&fue(t,e,0)>-1}var mue=pue;function gue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yue=gue;function vue(){}var bue=vue,A1=XB,xue=bue,wue=rP,Sue=1/0,kue=A1&&1/wue(new A1([,-0]))[1]==Sue?function(t){return new A1(t)}:xue,_ue=kue,Aue=$B,Eue=mue,Cue=yue,Pue=BB,Tue=_ue,Oue=rP,Iue=200;function Mue(t,e,n){var r=-1,i=Eue,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Cue;else if(a>=Iue){var u=e?null:Tue(t);if(u)return Oue(u);s=!1,i=Pue,l=new Aue}else l=e?[]:o;e:for(;++r<a;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,s&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),o.push(c)}else i(l,h,n)||(l!==o&&l.push(h),o.push(c))}return o}var Nue=Mue,Rue=fl,Lue=Nue;function jue(t,e){return t&&t.length?Lue(t,Rue(e)):[]}var Due=jue;const VI=nt(Due);function ez(t,e,n){return e===!0?VI(t,n):Ue(e)?VI(t,e):t}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}var $ue=["ref"];function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nz(r.key),r)}}function Bue(t,e,n){return e&&qI(t.prototype,e),n&&qI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zue(t,e,n){return e=Kb(e),Uue(t,tz()?Reflect.construct(e,n||[],Kb(t).constructor):e.apply(t,n))}function Uue(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hue(t)}function Hue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tz=function(){return!!t})()}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(t)}function Wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function ew(t,e,n){return e=nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nz(t){var e=Vue(t,"string");return wd(e)=="symbol"?e:e+""}function Vue(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gue(t,e){if(t==null)return{};var n=que(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function que(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xue(t){return t.value}function Kue(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=Gue(e,$ue);return ne.createElement(nP,n)}var XI=1,ch=function(t){function e(){var n;Fue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zue(this,e,[].concat(i)),ew(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wue(e,t),Bue(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>XI||Math.abs(i.height-this.lastBoundingBox.height)>XI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ka({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((u||0)-f.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ka(Ka({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,h=Ka(Ka({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){r.wrapperNode=f}},Kue(a,Ka(Ka({},this.props),{},{payload:ez(c,u,Xue)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ka(Ka({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ke(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);ew(ch,"displayName","Legend");ew(ch,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KI=ay,Yue=iP,Zue=Pr,YI=KI?KI.isConcatSpreadable:void 0;function Que(t){return Zue(t)||Yue(t)||!!(YI&&t&&t[YI])}var Jue=Que,ece=UB,tce=Jue;function rz(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=tce),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?rz(o,e-1,n,r,i):ece(i,o):r||(i[i.length]=o)}return i}var iz=rz;function nce(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var rce=nce,ice=rce,ace=ice(),sce=ace,oce=sce,lce=Jx;function uce(t,e){return t&&oce(t,e,lce)}var az=uce,cce=ly;function hce(t,e){return function(n,r){if(n==null)return n;if(!cce(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var dce=hce,fce=az,pce=dce,mce=pce(fce),lP=mce,gce=lP,yce=ly;function vce(t,e){var n=-1,r=yce(t)?Array(t.length):[];return gce(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var sz=vce;function bce(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var xce=bce,ZI=Zd;function wce(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ZI(t),s=e!==void 0,o=e===null,l=e===e,u=ZI(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Sce=wce,kce=Sce;function _ce(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=kce(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Ace=_ce,E1=GC,Ece=qC,Cce=fl,Pce=sz,Tce=xce,Oce=VB,Ice=Ace,Mce=af,Nce=Pr;function Rce(t,e,n){e.length?e=E1(e,function(a){return Nce(a)?function(s){return Ece(s,a.length===1?a[0]:a)}:a}):e=[Mce];var r=-1;e=E1(e,Oce(Cce));var i=Pce(t,function(a,s,o){var l=E1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Tce(i,function(a,s){return Ice(a,s,n)})}var Lce=Rce;function jce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Dce=jce,$ce=Dce,QI=Math.max;function Fce(t,e,n){return e=QI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=QI(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),$ce(t,this,o)}}var Bce=Fce;function zce(t){return function(){return t}}var Uce=zce,Hce=cc,Wce=function(){try{var t=Hce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oz=Wce,Vce=Uce,JI=oz,Gce=af,qce=JI?function(t,e){return JI(t,"toString",{configurable:!0,enumerable:!1,value:Vce(e),writable:!0})}:Gce,Xce=qce,Kce=800,Yce=16,Zce=Date.now;function Qce(t){var e=0,n=0;return function(){var r=Zce(),i=Yce-(r-n);if(n=r,i>0){if(++e>=Kce)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jce=Qce,ehe=Xce,the=Jce,nhe=the(ehe),rhe=nhe,ihe=af,ahe=Bce,she=rhe;function ohe(t,e){return she(ahe(t,e,ihe),t+"")}var lhe=ohe,uhe=UC,che=ly,hhe=aP,dhe=dl;function fhe(t,e,n){if(!dhe(n))return!1;var r=typeof e;return(r=="number"?che(n)&&hhe(e,n.length):r=="string"&&e in n)?uhe(n[e],t):!1}var tw=fhe,phe=iz,mhe=Lce,ghe=lhe,eM=tw,yhe=ghe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&eM(t,e[0],e[1])?e=[]:n>2&&eM(e[0],e[1],e[2])&&(e=[e[0]]),mhe(t,phe(e,1),[])}),vhe=yhe;const uP=nt(vhe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function bhe(t,e){return khe(t)||She(t,e)||whe(t,e)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(t,e){if(t){if(typeof t=="string")return tM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tM(t,e)}}function tM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function She(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function khe(t){if(Array.isArray(t))return t}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=Ahe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Ehe(t,"string");return Qp(e)=="symbol"?e:e+""}function Ehe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Che(t){return Array.isArray(t)&&mn(t[0])&&mn(t[1])?t.join(" ~ "):t}var Phe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,h=e.formatter,d=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,p=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(c&&c.length){var P={padding:0,margin:0},L=(d?uP(c,d):c).map(function(C,F){if(C.type==="none")return null;var q=C1({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},o),B=C.formatter||h||Che,W=C.value,G=C.name,M=W,V=G;if(B&&M!=null&&V!=null){var U=B(W,G,C,F,c);if(Array.isArray(U)){var j=bhe(U,2);M=j[0],V=j[1]}else M=U}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:q},mn(V)?ne.createElement("span",{className:"recharts-tooltip-item-name"},V):null,mn(V)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},M),ne.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:P},L)}return null},k=C1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=C1({margin:0},u),S=!Xe(p),A=S?p:"",_=qe("recharts-default-tooltip",f),E=qe("recharts-tooltip-label",g);S&&v&&c!==void 0&&c!==null&&(A=v(p,c));var O=b?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",X_({className:_,style:k},O),ne.createElement("p",{className:E,style:w},ne.isValidElement(A)?A:"".concat(A)),x())};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Ky(t,e,n){return e=The(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=Ohe(t,"string");return Jp(e)=="symbol"?e:e+""}function Ohe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Of="recharts-tooltip-wrapper",Ihe={visibility:"hidden"};function Mhe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return qe(Of,Ky(Ky(Ky(Ky({},"".concat(Of,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(Of,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(Of,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(Of,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function rM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ke(a[r]))return a[r];var c=n[r]-o-i,h=n[r]+i;if(e[r])return s[r]?c:h;if(s[r]){var d=c,f=l[r];return d<f?Math.max(h,l[r]):Math.max(c,l[r])}var g=h+o,p=l[r]+u;return g>p?Math.max(c,l[r]):Math.max(h,l[r])}function Nhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,c,h;return s.height>0&&s.width>0&&n?(c=rM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=rM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Nhe({translateX:c,translateY:h,useTranslate3d:o})):u=Ihe,{cssProperties:u,cssClasses:Mhe({translateX:c,translateY:h,coordinate:n})}}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uz(r.key),r)}}function Dhe(t,e,n){return e&&jhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $he(t,e,n){return e=Yb(e),Fhe(t,lz()?Reflect.construct(e,n||[],Yb(t).constructor):e.apply(t,n))}function Fhe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lz=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(t)}function zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function Y_(t,e,n){return e=uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uz(t){var e=Uhe(t,"string");return Sd(e)=="symbol"?e:e+""}function Uhe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sM=1,Hhe=function(t){function e(){var n;Lhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=$he(this,e,[].concat(i)),Y_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Y_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return zhe(e,t),Dhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sM||Math.abs(r.height-this.state.lastBoundingBox.height)>sM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,f=i.offset,g=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=Rhe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),k=x.cssClasses,w=x.cssProperties,S=aM(aM({transition:d&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return ne.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(_){r.wrapperNode=_}},u)}}])}(N.PureComponent),Whe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sf={isSsr:Whe()};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){cP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ghe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hz(r.key),r)}}function qhe(t,e,n){return e&&Ghe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xhe(t,e,n){return e=Zb(e),Khe(t,cz()?Reflect.construct(e,n||[],Zb(t).constructor):e.apply(t,n))}function Khe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yhe(t)}function Yhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cz=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(t)}function Zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function cP(t,e,n){return e=hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hz(t){var e=Qhe(t,"string");return kd(e)=="symbol"?e:e+""}function Qhe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jhe(t){return t.dataKey}function ede(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(Phe,e)}var Zi=function(t){function e(){return Vhe(this,e),Xhe(this,e,arguments)}return Zhe(e,t),qhe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,h=i.filterNull,d=i.isAnimationActive,f=i.offset,g=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,k=i.wrapperStyle,w=g??[];h&&w.length&&(w=ez(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),p,Jhe));var S=w.length>0;return ne.createElement(Hhe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:S,offset:f,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:k},ede(u,lM(lM({},this.props),{},{payload:w})))}}])}(N.PureComponent);cP(Zi,"displayName","Tooltip");cP(Zi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tde=Wa,nde=function(){return tde.Date.now()},rde=nde,ide=/\s/;function ade(t){for(var e=t.length;e--&&ide.test(t.charAt(e)););return e}var sde=ade,ode=sde,lde=/^\s+/;function ude(t){return t&&t.slice(0,ode(t)+1).replace(lde,"")}var cde=ude,hde=cde,uM=dl,dde=Zd,cM=NaN,fde=/^[-+]0x[0-9a-f]+$/i,pde=/^0b[01]+$/i,mde=/^0o[0-7]+$/i,gde=parseInt;function yde(t){if(typeof t=="number")return t;if(dde(t))return cM;if(uM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hde(t);var n=pde.test(t);return n||mde.test(t)?gde(t.slice(2),n?2:8):fde.test(t)?cM:+t}var dz=yde,vde=dl,P1=rde,hM=dz,bde="Expected a function",xde=Math.max,wde=Math.min;function Sde(t,e,n){var r,i,a,s,o,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(bde);e=hM(e)||0,vde(n)&&(c=!!n.leading,h="maxWait"in n,a=h?xde(hM(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function f(S){var A=r,_=i;return r=i=void 0,u=S,s=t.apply(_,A),s}function g(S){return u=S,o=setTimeout(y,e),c?f(S):s}function p(S){var A=S-l,_=S-u,E=e-A;return h?wde(E,a-_):E}function v(S){var A=S-l,_=S-u;return l===void 0||A>=e||A<0||h&&_>=a}function y(){var S=P1();if(v(S))return b(S);o=setTimeout(y,p(S))}function b(S){return o=void 0,d&&r?f(S):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function k(){return o===void 0?s:b(P1())}function w(){var S=P1(),A=v(S);if(r=arguments,i=this,l=S,A){if(o===void 0)return g(l);if(h)return clearTimeout(o),o=setTimeout(y,e),f(l)}return o===void 0&&(o=setTimeout(y,e)),s}return w.cancel=x,w.flush=k,w}var kde=Sde,_de=kde,Ade=dl,Ede="Expected a function";function Cde(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ede);return Ade(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_de(t,e,{leading:r,maxWait:e,trailing:i})}var Pde=Cde;const fz=nt(Pde);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=Ide(t,"string");return em(e)=="symbol"?e:e+""}function Ide(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e){return jde(t)||Lde(t,e)||Rde(t,e)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function jde(t){if(Array.isArray(t))return t}var Dde=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,c=u===void 0?0:u,h=t.minHeight,d=t.maxHeight,f=t.children,g=t.debounce,p=g===void 0?0:g,v=t.id,y=t.className,b=t.onResize,x=t.style,k=x===void 0?{}:x,w=N.useRef(null),S=N.useRef();S.current=b,N.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=N.useState({containerWidth:i.width,containerHeight:i.height}),_=Mde(A,2),E=_[0],O=_[1],R=N.useCallback(function(L,C){O(function(F){var q=Math.round(L),B=Math.round(C);return F.containerWidth===q&&F.containerHeight===B?F:{containerWidth:q,containerHeight:B}})},[]);N.useEffect(function(){var L=function(G){var M,V=G[0].contentRect,U=V.width,j=V.height;R(U,j),(M=S.current)===null||M===void 0||M.call(S,U,j)};p>0&&(L=fz(L,p,{trailing:!0,leading:!1}));var C=new ResizeObserver(L),F=w.current.getBoundingClientRect(),q=F.width,B=F.height;return R(q,B),C.observe(w.current),function(){C.disconnect()}},[R,p]);var P=N.useMemo(function(){var L=E.containerWidth,C=E.containerHeight;if(L<0||C<0)return null;Rs(Ll(s)||Ll(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Rs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ll(s)?L:s,q=Ll(l)?C:l;n&&n>0&&(F?q=F/n:q&&(F=q*n),d&&q>d&&(q=d)),Rs(F>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,q,s,l,c,h,n);var B=!Array.isArray(f)&&Ns(f.type).endsWith("Chart");return ne.Children.map(f,function(W){return ne.isValidElement(W)?N.cloneElement(W,Yy({width:F,height:q},B?{style:Yy({height:"100%",width:"100%",maxHeight:q,maxWidth:F},W.props.style)}:{})):W})},[n,f,l,d,h,c,E,s]);return ne.createElement("div",{id:v?"".concat(v):void 0,className:qe("recharts-responsive-container",y),style:Yy(Yy({},k),{},{width:s,height:l,minWidth:c,minHeight:h,maxHeight:d}),ref:w},P)}),pz=function(e){return null};pz.displayName="Cell";function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){$de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Bde(t,"string");return tm(e)=="symbol"?e:e+""}function Bde(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc={widthCache:{},cacheCount:0},zde=2e3,Ude={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mM="recharts_measurement_span";function Hde(t){var e=Q_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sf.isSsr)return{width:0,height:0};var r=Hde(n),i=JSON.stringify({text:e,copyStyle:r});if(wc.widthCache[i])return wc.widthCache[i];try{var a=document.getElementById(mM);a||(a=document.createElement("span"),a.setAttribute("id",mM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Q_(Q_({},Ude),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return wc.widthCache[i]=l,++wc.cacheCount>zde&&(wc.cacheCount=0,wc.widthCache={}),l}catch{return{width:0,height:0}}},Wde=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Qb(t,e){return Xde(t)||qde(t,e)||Gde(t,e)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){if(t){if(typeof t=="string")return gM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gM(t,e)}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xde(t){if(Array.isArray(t))return t}function Kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zde(r.key),r)}}function Yde(t,e,n){return e&&yM(t.prototype,e),n&&yM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zde(t){var e=Qde(t,"string");return nm(e)=="symbol"?e:e+""}function Qde(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,efe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tfe=Object.keys(mz),qc="NaN";function nfe(t,e){return t*mz[e]}var Zy=function(){function t(e,n){Kde(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Jde.test(n)&&(this.num=NaN,this.unit=""),tfe.includes(n)&&(this.num=nfe(e,n),this.unit="px")}return Yde(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=efe.exec(n))!==null&&r!==void 0?r:[],a=Qb(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function gz(t){if(t.includes(qc))return qc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vM.exec(e))!==null&&n!==void 0?n:[],i=Qb(r,4),a=i[1],s=i[2],o=i[3],l=Zy.parse(a??""),u=Zy.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return qc;e=e.replace(vM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=bM.exec(e))!==null&&h!==void 0?h:[],f=Qb(d,4),g=f[1],p=f[2],v=f[3],y=Zy.parse(g??""),b=Zy.parse(v??""),x=p==="+"?y.add(b):y.subtract(b);if(x.isNaN())return qc;e=e.replace(bM,x.toString())}return e}var xM=/\(([^()]*)\)/;function rfe(t){for(var e=t;e.includes("(");){var n=xM.exec(e),r=Qb(n,2),i=r[1];e=e.replace(xM,gz(i))}return e}function ife(t){var e=t.replace(/\s+/g,"");return e=rfe(e),e=gz(e),e}function afe(t){try{return ife(t)}catch{return qc}}function T1(t){var e=afe(t.slice(5,-1));return e===qc?"":e}var sfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ofe=["dx","dy","angle","className","breakAll"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function wM(t,e){if(t==null)return{};var n=lfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SM(t,e){return dfe(t)||hfe(t,e)||cfe(t,e)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t,e){if(t){if(typeof t=="string")return kM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kM(t,e)}}function kM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dfe(t){if(Array.isArray(t))return t}var yz=/[ \f\n\r\t\v\u2028\u2029]+/,vz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Xe(n)||(r?a=n.toString().split(""):a=n.toString().split(yz));var s=a.map(function(l){return{word:l,width:wp(l,i).width}}),o=r?0:wp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ffe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,c=ke(s),h=o,d=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(q,B){var W=B.word,G=B.width,M=q[q.length-1];if(M&&(i==null||a||M.width+G+r<Number(i)))M.words.push(W),M.width+=G+r;else{var V={words:[W],width:G};q.push(V)}return q},[])},f=d(n),g=function(F){return F.reduce(function(q,B){return q.width>B.width?q:B})};if(!c)return f;for(var p="",v=function(F){var q=h.slice(0,F),B=vz({breakAll:u,style:l,children:q+p}).wordsWithComputedWidth,W=d(B),G=W.length>s||g(W).width>Number(i);return[G,W]},y=0,b=h.length-1,x=0,k;y<=b&&x<=h.length-1;){var w=Math.floor((y+b)/2),S=w-1,A=v(S),_=SM(A,2),E=_[0],O=_[1],R=v(w),P=SM(R,1),L=P[0];if(!E&&!L&&(y=w+1),E&&L&&(b=w-1),!E&&L){k=O;break}x++}return k||f},_M=function(e){var n=Xe(e)?[]:e.toString().split(yz);return[{words:n}]},pfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!sf.isSsr){var l,u,c=vz({breakAll:s,children:i,style:a});if(c){var h=c.wordsWithComputedWidth,d=c.spaceWidth;l=h,u=d}else return _M(i);return ffe({breakAll:s,children:i,maxLines:o,style:a},l,u,n,r)}return _M(i)},AM="#808080",Jb=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,h=c===void 0?!1:c,d=e.textAnchor,f=d===void 0?"start":d,g=e.verticalAnchor,p=g===void 0?"end":g,v=e.fill,y=v===void 0?AM:v,b=wM(e,sfe),x=N.useMemo(function(){return pfe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),k=b.dx,w=b.dy,S=b.angle,A=b.className,_=b.breakAll,E=wM(b,ofe);if(!mn(r)||!mn(a))return null;var O=r+(ke(k)?k:0),R=a+(ke(w)?w:0),P;switch(p){case"start":P=T1("calc(".concat(u,")"));break;case"middle":P=T1("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=T1("calc(".concat(x.length-1," * -").concat(o,")"));break}var L=[];if(h){var C=x[0].width,F=b.width;L.push("scale(".concat((ke(F)?F/C:1)/C,")"))}return S&&L.push("rotate(".concat(S,", ").concat(O,", ").concat(R,")")),L.length&&(E.transform=L.join(" ")),ne.createElement("text",J_({},Qe(E,!0),{x:O,y:R,className:qe("recharts-text",A),textAnchor:f,fill:y.includes("url")?AM:y}),x.map(function(q,B){var W=q.words.join(_?"":" ");return ne.createElement("tspan",{x:O,dy:B===0?P:o,key:"".concat(W,"-").concat(B)},W)}))};function Zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hP(t){let e,n,r;t.length!==2?(e=Zo,n=(o,l)=>Zo(t(o),l),r=(o,l)=>t(o)-l):(e=t===Zo||t===mfe?t:gfe,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function gfe(){return 0}function bz(t){return t===null?NaN:+t}function*yfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vfe=hP(Zo),uy=vfe.right;hP(bz).center;class EM extends Map{constructor(e,n=wfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CM(this,e))}has(e){return super.has(CM(this,e))}set(e,n){return super.set(bfe(this,e),n)}delete(e){return super.delete(xfe(this,e))}}function CM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sfe(t=Zo){if(t===Zo)return xz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kfe=Math.sqrt(50),_fe=Math.sqrt(10),Afe=Math.sqrt(2);function e0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=kfe?10:a>=_fe?5:a>=Afe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?e0(t,e,n*2):[o,l,u]}function eA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?e0(e,t,n):e0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function tA(t,e,n){return e=+e,t=+t,n=+n,e0(t,e,n)[2]}function nA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tA(e,t,n):tA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function wz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?xz:Sfe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),f=Math.max(n,Math.floor(e-u*h/l+d)),g=Math.min(r,Math.floor(e+(l-u)*h/l+d));wz(t,e,f,g,i)}const a=t[e];let s=n,o=r;for(If(t,n,e),i(t[r],a)>0&&If(t,n,r);s<o;){for(If(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?If(t,n,o):(++o,If(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function If(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Efe(t,e,n){if(t=Float64Array.from(yfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TM(t);if(e>=1)return PM(t);var r,i=(r-1)*e,a=Math.floor(i),s=PM(wz(t,a).subarray(0,a+1)),o=TM(t.subarray(a+1));return s+(o-s)*(i-a)}}function Cfe(t,e,n=bz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Pfe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rA=Symbol("implicit");function dP(){var t=new EM,e=[],n=[],r=rA;function i(a){let s=t.get(a);if(s===void 0){if(r!==rA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new EM;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dP(e,n).unknown(r)},Oi.apply(i,arguments),i}function rm(){var t=dP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,f=i<r,g=f?i:r,p=f?r:i;a=(p-g)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),g+=(p-g-a*(d-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=Pfe(d).map(function(y){return g+a*y});return n(f?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return rm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Oi.apply(h(),arguments)}function Sz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Sz(e())},t}function Sp(){return Sz(rm.apply(null,arguments).paddingInner(1))}function fP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cy(){}var im=.7,t0=1/im,hh="\\s*([+-]?\\d+)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tfe=/^#([0-9a-f]{3,8})$/,Ofe=new RegExp(`^rgb\\(${hh},${hh},${hh}\\)$`),Ife=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),Mfe=new RegExp(`^rgba\\(${hh},${hh},${hh},${am}\\)$`),Nfe=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${am}\\)$`),Rfe=new RegExp(`^hsl\\(${am},${Fa},${Fa}\\)$`),Lfe=new RegExp(`^hsla\\(${am},${Fa},${Fa},${am}\\)$`),OM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fP(cy,sm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IM,formatHex:IM,formatHex8:jfe,formatHsl:Dfe,formatRgb:MM,toString:MM});function IM(){return this.rgb().formatHex()}function jfe(){return this.rgb().formatHex8()}function Dfe(){return _z(this).formatHsl()}function MM(){return this.rgb().formatRgb()}function sm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?NM(e):n===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ofe.exec(t))?new wr(e[1],e[2],e[3],1):(e=Ife.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mfe.exec(t))?Qy(e[1],e[2],e[3],e[4]):(e=Nfe.exec(t))?Qy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rfe.exec(t))?jM(e[1],e[2]/100,e[3]/100,1):(e=Lfe.exec(t))?jM(e[1],e[2]/100,e[3]/100,e[4]):OM.hasOwnProperty(t)?NM(OM[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function NM(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function Qy(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function $fe(t){return t instanceof cy||(t=sm(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function iA(t,e,n,r){return arguments.length===1?$fe(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fP(wr,iA,kz(cy,{brighter(t){return t=t==null?t0:Math.pow(t0,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr($u(this.r),$u(this.g),$u(this.b),n0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RM,formatHex:RM,formatHex8:Ffe,formatRgb:LM,toString:LM}));function RM(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function Ffe(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function LM(){const t=n0(this.opacity);return`${t===1?"rgb(":"rgba("}${$u(this.r)}, ${$u(this.g)}, ${$u(this.b)}${t===1?")":`, ${t})`}`}function n0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jl(t){return t=$u(t),(t<16?"0":"")+t.toString(16)}function jM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,n,r)}function _z(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof cy||(t=sm(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new na(s,o,l,t.opacity)}function Bfe(t,e,n,r){return arguments.length===1?_z(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fP(na,Bfe,kz(cy,{brighter(t){return t=t==null?t0:Math.pow(t0,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wr(O1(t>=240?t-240:t+120,i,r),O1(t,i,r),O1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new na(DM(this.h),Jy(this.s),Jy(this.l),n0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=n0(this.opacity);return`${t===1?"hsl(":"hsla("}${DM(this.h)}, ${Jy(this.s)*100}%, ${Jy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DM(t){return t=(t||0)%360,t<0?t+360:t}function Jy(t){return Math.max(0,Math.min(1,t||0))}function O1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pP=t=>()=>t;function zfe(t,e){return function(n){return t+n*e}}function Ufe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hfe(t){return(t=+t)==1?Az:function(e,n){return n-e?Ufe(e,n,t):pP(isNaN(e)?n:e)}}function Az(t,e){var n=e-t;return n?zfe(t,n):pP(isNaN(t)?e:t)}const $M=function t(e){var n=Hfe(e);function r(i,a){var s=n((i=iA(i)).r,(a=iA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Az(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Wfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Vfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=of(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function qfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function r0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=of(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I1=new RegExp(aA.source,"g");function Kfe(t){return function(){return t}}function Yfe(t){return function(e){return t(e)+""}}function Zfe(t,e){var n=aA.lastIndex=I1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=aA.exec(t))&&(i=I1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:r0(r,i)})),n=I1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Yfe(l[0].x):Kfe(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function of(t,e){var n=typeof e,r;return e==null||n==="boolean"?pP(e):(n==="number"?r0:n==="string"?(r=sm(e))?(e=r,$M):Zfe:e instanceof sm?$M:e instanceof Date?qfe:Vfe(e)?Wfe:Array.isArray(e)?Gfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xfe:r0)(t,e)}function mP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qfe(t,e){e===void 0&&(e=t,t=of);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Jfe(t){return function(){return t}}function i0(t){return+t}var FM=[0,1];function ar(t){return t}function sA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Jfe(isNaN(e)?NaN:.5)}function epe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=sA(i,r),a=n(s,a)):(r=sA(r,i),a=n(a,s)),function(o){return a(r(o))}}function npe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=sA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=uy(t,o,1,r)-1;return a[l](i[l](o))}}function hy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nw(){var t=FM,e=FM,n=of,r,i,a,s=ar,o,l,u;function c(){var d=Math.min(t.length,e.length);return s!==ar&&(s=epe(t[0],t[d-1])),o=d>2?npe:tpe,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((u||(u=o(e,t.map(r),r0)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,i0),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=mP,c()},h.clamp=function(d){return arguments.length?(s=d?!0:ar,c()):s!==ar},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,f){return r=d,i=f,c()}}function gP(){return nw()(ar,ar)}function rpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function a0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _d(t){return t=a0(Math.abs(t)),t?t[1]:NaN}function ipe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function ape(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var spe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function om(t){if(!(e=spe.exec(t)))throw new Error("invalid format: "+t);var e;return new yP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}om.prototype=yP.prototype;function yP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ope(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var s0;function lpe(t,e){var n=a0(t,e);if(!n)return s0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(s0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+a0(t,Math.max(0,e+a-1))[0]}function BM(t,e){var n=a0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>BM(t*100,e),r:BM,s:lpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UM(t){return t}var HM=Array.prototype.map,WM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function upe(t){var e=t.grouping===void 0||t.thousands===void 0?UM:ipe(HM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?UM:ape(HM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h,d){h=om(h);var f=h.fill,g=h.align,p=h.sign,v=h.symbol,y=h.zero,b=h.width,x=h.comma,k=h.precision,w=h.trim,S=h.type;S==="n"?(x=!0,S="g"):zM[S]||(k===void 0&&(k=12),w=!0,S="g"),(y||f==="0"&&g==="=")&&(y=!0,f="0",g="=");var A=(d&&d.prefix!==void 0?d.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),_=(v==="$"?r:/[%p]/.test(S)?s:"")+(d&&d.suffix!==void 0?d.suffix:""),E=zM[S],O=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(P){var L=A,C=_,F,q,B;if(S==="c")C=E(P)+C,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?l:E(Math.abs(P),k),w&&(P=ope(P)),W&&+P==0&&p!=="+"&&(W=!1),L=(W?p==="("?p:o:p==="-"||p==="("?"":p)+L,C=(S==="s"&&!isNaN(P)&&s0!==void 0?WM[8+s0/3]:"")+C+(W&&p==="("?")":""),O){for(F=-1,q=P.length;++F<q;)if(B=P.charCodeAt(F),48>B||B>57){C=(B===46?i+P.slice(F+1):P.slice(F))+C,P=P.slice(0,F);break}}}x&&!y&&(P=e(P,1/0));var G=L.length+P.length+C.length,M=G<b?new Array(b-G+1).join(f):"";switch(x&&y&&(P=e(M+P,M.length?b-C.length:1/0),M=""),g){case"<":P=L+P+C+M;break;case"=":P=L+M+P+C;break;case"^":P=M.slice(0,G=M.length>>1)+L+P+C+M.slice(G);break;default:P=M+L+P+C;break}return a(P)}return R.toString=function(){return h+""},R}function c(h,d){var f=Math.max(-8,Math.min(8,Math.floor(_d(d)/3)))*3,g=Math.pow(10,-f),p=u((h=om(h),h.type="f",h),{suffix:WM[8+f/3]});return function(v){return p(g*v)}}return{format:u,formatPrefix:c}}var ev,vP,Ez;cpe({thousands:",",grouping:[3],currency:["$",""]});function cpe(t){return ev=upe(t),vP=ev.format,Ez=ev.formatPrefix,ev}function hpe(t){return Math.max(0,-_d(Math.abs(t)))}function dpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_d(e)/3)))*3-_d(Math.abs(t)))}function fpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_d(e)-_d(t))+1}function Cz(t,e,n,r){var i=nA(t,e,n),a;switch(r=om(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=dpe(i,s))&&(r.precision=a),Ez(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return vP(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return eA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Cz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=tA(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function o0(){var t=gP();return t.copy=function(){return hy(t,o0())},Oi.apply(t,arguments),pl(t)}function Pz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,i0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Pz(t).unknown(e)},t=arguments.length?Array.from(t,i0):[0,1],pl(n)}function Tz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function VM(t){return Math.log(t)}function GM(t){return Math.exp(t)}function ppe(t){return-Math.log(-t)}function mpe(t){return-Math.exp(-t)}function gpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ype(t){return t===10?gpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qM(t){return(e,n)=>-t(-e,n)}function bP(t){const e=t(VM,GM),n=e.domain;let r=10,i,a;function s(){return i=vpe(r),a=ype(r),n()[0]<0?(i=qM(i),a=qM(a),t(ppe,mpe)):t(VM,GM),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),f=i(c),g,p;const v=o==null?10:+o;let y=[];if(!(r%1)&&f-d<v){if(d=Math.floor(d),f=Math.ceil(f),u>0){for(;d<=f;++d)for(g=1;g<r;++g)if(p=d<0?g/a(-d):g*a(d),!(p<u)){if(p>c)break;y.push(p)}}else for(;d<=f;++d)for(g=r-1;g>=1;--g)if(p=d>0?g/a(-d):g*a(d),!(p<u)){if(p>c)break;y.push(p)}y.length*2<v&&(y=eA(u,c,v))}else y=eA(d,f,Math.min(f-d,v)).map(a);return h?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=om(l)).precision==null&&(l.trim=!0),l=vP(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(Tz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Oz(){const t=bP(nw()).domain([1,10]);return t.copy=()=>hy(t,Oz()).base(t.base()),Oi.apply(t,arguments),t}function XM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xP(t){var e=1,n=t(XM(e),KM(e));return n.constant=function(r){return arguments.length?t(XM(e=+r),KM(e)):e},pl(n)}function Iz(){var t=xP(nw());return t.copy=function(){return hy(t,Iz()).constant(t.constant())},Oi.apply(t,arguments)}function YM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bpe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xpe(t){return t<0?-t*t:t*t}function wP(t){var e=t(ar,ar),n=1;function r(){return n===1?t(ar,ar):n===.5?t(bpe,xpe):t(YM(n),YM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function SP(){var t=wP(nw());return t.copy=function(){return hy(t,SP()).exponent(t.exponent())},Oi.apply(t,arguments),t}function wpe(){return SP.apply(null,arguments).exponent(.5)}function ZM(t){return Math.sign(t)*t*t}function Spe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Mz(){var t=gP(),e=[0,1],n=!1,r;function i(a){var s=Spe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(ZM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,i0)).map(ZM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oi.apply(i,arguments),pl(i)}function Nz(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Cfe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[uy(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Zo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Nz().domain(t).range(e).unknown(r)},Oi.apply(a,arguments)}function Rz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[uy(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Rz().domain([t,e]).range(i).unknown(a)},Oi.apply(pl(s),arguments)}function Lz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[uy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Lz().domain(t).range(e).unknown(n)},Oi.apply(i,arguments)}const M1=new Date,N1=new Date;function yn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>yn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(M1.setTime(+a),N1.setTime(+s),t(M1),t(N1),Math.floor(n(M1,N1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const l0=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);l0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):l0);l0.range;const Ps=1e3,bi=Ps*60,Ts=bi*60,Us=Ts*24,kP=Us*7,QM=Us*30,R1=Us*365,Dl=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCSeconds());Dl.range;const _P=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getMinutes());_P.range;const AP=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCMinutes());AP.range;const EP=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps-t.getMinutes()*bi)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());EP.range;const CP=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());CP.range;const dy=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bi)/Us,t=>t.getDate()-1);dy.range;const rw=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);rw.range;const jz=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));jz.range;function hc(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bi)/kP)}const iw=hc(0),u0=hc(1),kpe=hc(2),_pe=hc(3),Ad=hc(4),Ape=hc(5),Epe=hc(6);iw.range;u0.range;kpe.range;_pe.range;Ad.range;Ape.range;Epe.range;function dc(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kP)}const aw=dc(0),c0=dc(1),Cpe=dc(2),Ppe=dc(3),Ed=dc(4),Tpe=dc(5),Ope=dc(6);aw.range;c0.range;Cpe.range;Ppe.range;Ed.range;Tpe.range;Ope.range;const PP=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PP.range;const TP=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TP.range;const Hs=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Ws=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function Dz(t,e,n,r,i,a){const s=[[Dl,1,Ps],[Dl,5,5*Ps],[Dl,15,15*Ps],[Dl,30,30*Ps],[a,1,bi],[a,5,5*bi],[a,15,15*bi],[a,30,30*bi],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,Us],[r,2,2*Us],[n,1,kP],[e,1,QM],[e,3,3*QM],[t,1,R1]];function o(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const f=h&&typeof h.range=="function"?h:l(u,c,h),g=f?f.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,h){const d=Math.abs(c-u)/h,f=hP(([,,v])=>v).right(s,d);if(f===s.length)return t.every(nA(u/R1,c/R1,h));if(f===0)return l0.every(Math.max(nA(u,c,h),1));const[g,p]=s[d/s[f-1][2]<s[f][2]/d?f-1:f];return g.every(p)}return[o,l]}const[Ipe,Mpe]=Dz(Ws,TP,aw,jz,CP,AP),[Npe,Rpe]=Dz(Hs,PP,iw,dy,EP,_P);function L1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function j1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Nf(i),c=Rf(i),h=Nf(a),d=Rf(a),f=Nf(s),g=Rf(s),p=Nf(o),v=Rf(o),y=Nf(l),b=Rf(l),x={a:B,A:W,b:G,B:M,c:null,d:iN,e:iN,f:ime,g:pme,G:gme,H:tme,I:nme,j:rme,L:$z,m:ame,M:sme,p:V,q:U,Q:oN,s:lN,S:ome,u:lme,U:ume,V:cme,w:hme,W:dme,x:null,X:null,y:fme,Y:mme,Z:yme,"%":sN},k={a:j,A:Q,b:ae,B:me,c:null,d:aN,e:aN,f:wme,g:Ime,G:Nme,H:vme,I:bme,j:xme,L:Bz,m:Sme,M:kme,p:pe,q:ue,Q:oN,s:lN,S:_me,u:Ame,U:Eme,V:Cme,w:Pme,W:Tme,x:null,X:null,y:Ome,Y:Mme,Z:Rme,"%":sN},w={a:O,A:R,b:P,B:L,c:C,d:nN,e:nN,f:Zpe,g:tN,G:eN,H:rN,I:rN,j:qpe,L:Ype,m:Gpe,M:Xpe,p:E,q:Vpe,Q:Jpe,s:eme,S:Kpe,u:Bpe,U:zpe,V:Upe,w:Fpe,W:Hpe,x:F,X:q,y:tN,Y:eN,Z:Wpe,"%":Qpe};x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),k.x=S(n,k),k.X=S(r,k),k.c=S(e,k);function S(re,de){return function(fe){var ie=[],Se=-1,I=0,ee=re.length,K,X,H;for(fe instanceof Date||(fe=new Date(+fe));++Se<ee;)re.charCodeAt(Se)===37&&(ie.push(re.slice(I,Se)),(X=JM[K=re.charAt(++Se)])!=null?K=re.charAt(++Se):X=K==="e"?" ":"0",(H=de[K])&&(K=H(fe,X)),ie.push(K),I=Se+1);return ie.push(re.slice(I,Se)),ie.join("")}}function A(re,de){return function(fe){var ie=Mf(1900,void 0,1),Se=_(ie,re,fe+="",0),I,ee;if(Se!=fe.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(de&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(I=j1(Mf(ie.y,0,1)),ee=I.getUTCDay(),I=ee>4||ee===0?c0.ceil(I):c0(I),I=rw.offset(I,(ie.V-1)*7),ie.y=I.getUTCFullYear(),ie.m=I.getUTCMonth(),ie.d=I.getUTCDate()+(ie.w+6)%7):(I=L1(Mf(ie.y,0,1)),ee=I.getDay(),I=ee>4||ee===0?u0.ceil(I):u0(I),I=dy.offset(I,(ie.V-1)*7),ie.y=I.getFullYear(),ie.m=I.getMonth(),ie.d=I.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ee="Z"in ie?j1(Mf(ie.y,0,1)).getUTCDay():L1(Mf(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ee+5)%7:ie.w+ie.U*7-(ee+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,j1(ie)):L1(ie)}}function _(re,de,fe,ie){for(var Se=0,I=de.length,ee=fe.length,K,X;Se<I;){if(ie>=ee)return-1;if(K=de.charCodeAt(Se++),K===37){if(K=de.charAt(Se++),X=w[K in JM?de.charAt(Se++):K],!X||(ie=X(re,fe,ie))<0)return-1}else if(K!=fe.charCodeAt(ie++))return-1}return ie}function E(re,de,fe){var ie=u.exec(de.slice(fe));return ie?(re.p=c.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function O(re,de,fe){var ie=f.exec(de.slice(fe));return ie?(re.w=g.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function R(re,de,fe){var ie=h.exec(de.slice(fe));return ie?(re.w=d.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function P(re,de,fe){var ie=y.exec(de.slice(fe));return ie?(re.m=b.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function L(re,de,fe){var ie=p.exec(de.slice(fe));return ie?(re.m=v.get(ie[0].toLowerCase()),fe+ie[0].length):-1}function C(re,de,fe){return _(re,e,de,fe)}function F(re,de,fe){return _(re,n,de,fe)}function q(re,de,fe){return _(re,r,de,fe)}function B(re){return s[re.getDay()]}function W(re){return a[re.getDay()]}function G(re){return l[re.getMonth()]}function M(re){return o[re.getMonth()]}function V(re){return i[+(re.getHours()>=12)]}function U(re){return 1+~~(re.getMonth()/3)}function j(re){return s[re.getUTCDay()]}function Q(re){return a[re.getUTCDay()]}function ae(re){return l[re.getUTCMonth()]}function me(re){return o[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function ue(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var de=S(re+="",x);return de.toString=function(){return re},de},parse:function(re){var de=A(re+="",!1);return de.toString=function(){return re},de},utcFormat:function(re){var de=S(re+="",k);return de.toString=function(){return re},de},utcParse:function(re){var de=A(re+="",!0);return de.toString=function(){return re},de}}}var JM={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,jpe=/^%/,Dpe=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $pe(t){return t.replace(Dpe,"\\$&")}function Nf(t){return new RegExp("^(?:"+t.map($pe).join("|")+")","i")}function Rf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Fpe(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Bpe(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zpe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Upe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hpe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eN(t,e,n){var r=Cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vpe(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Gpe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qpe(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rN(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xpe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kpe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ype(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zpe(t,e,n){var r=Cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qpe(t,e,n){var r=jpe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Jpe(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eme(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iN(t,e){return tt(t.getDate(),e,2)}function tme(t,e){return tt(t.getHours(),e,2)}function nme(t,e){return tt(t.getHours()%12||12,e,2)}function rme(t,e){return tt(1+dy.count(Hs(t),t),e,3)}function $z(t,e){return tt(t.getMilliseconds(),e,3)}function ime(t,e){return $z(t,e)+"000"}function ame(t,e){return tt(t.getMonth()+1,e,2)}function sme(t,e){return tt(t.getMinutes(),e,2)}function ome(t,e){return tt(t.getSeconds(),e,2)}function lme(t){var e=t.getDay();return e===0?7:e}function ume(t,e){return tt(iw.count(Hs(t)-1,t),e,2)}function Fz(t){var e=t.getDay();return e>=4||e===0?Ad(t):Ad.ceil(t)}function cme(t,e){return t=Fz(t),tt(Ad.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function hme(t){return t.getDay()}function dme(t,e){return tt(u0.count(Hs(t)-1,t),e,2)}function fme(t,e){return tt(t.getFullYear()%100,e,2)}function pme(t,e){return t=Fz(t),tt(t.getFullYear()%100,e,2)}function mme(t,e){return tt(t.getFullYear()%1e4,e,4)}function gme(t,e){var n=t.getDay();return t=n>=4||n===0?Ad(t):Ad.ceil(t),tt(t.getFullYear()%1e4,e,4)}function yme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function aN(t,e){return tt(t.getUTCDate(),e,2)}function vme(t,e){return tt(t.getUTCHours(),e,2)}function bme(t,e){return tt(t.getUTCHours()%12||12,e,2)}function xme(t,e){return tt(1+rw.count(Ws(t),t),e,3)}function Bz(t,e){return tt(t.getUTCMilliseconds(),e,3)}function wme(t,e){return Bz(t,e)+"000"}function Sme(t,e){return tt(t.getUTCMonth()+1,e,2)}function kme(t,e){return tt(t.getUTCMinutes(),e,2)}function _me(t,e){return tt(t.getUTCSeconds(),e,2)}function Ame(t){var e=t.getUTCDay();return e===0?7:e}function Eme(t,e){return tt(aw.count(Ws(t)-1,t),e,2)}function zz(t){var e=t.getUTCDay();return e>=4||e===0?Ed(t):Ed.ceil(t)}function Cme(t,e){return t=zz(t),tt(Ed.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function Pme(t){return t.getUTCDay()}function Tme(t,e){return tt(c0.count(Ws(t)-1,t),e,2)}function Ome(t,e){return tt(t.getUTCFullYear()%100,e,2)}function Ime(t,e){return t=zz(t),tt(t.getUTCFullYear()%100,e,2)}function Mme(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function Nme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ed(t):Ed.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function Rme(){return"+0000"}function sN(){return"%"}function oN(t){return+t}function lN(t){return Math.floor(+t/1e3)}var Sc,Uz,Hz;Lme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lme(t){return Sc=Lpe(t),Uz=Sc.format,Sc.parse,Hz=Sc.utcFormat,Sc.utcParse,Sc}function jme(t){return new Date(t)}function Dme(t){return t instanceof Date?+t:+new Date(+t)}function OP(t,e,n,r,i,a,s,o,l,u){var c=gP(),h=c.invert,d=c.domain,f=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),x=u("%B"),k=u("%Y");function w(S){return(l(S)<S?f:o(S)<S?g:s(S)<S?p:a(S)<S?v:r(S)<S?i(S)<S?y:b:n(S)<S?x:k)(S)}return c.invert=function(S){return new Date(h(S))},c.domain=function(S){return arguments.length?d(Array.from(S,Dme)):d().map(jme)},c.ticks=function(S){var A=d();return t(A[0],A[A.length-1],S??10)},c.tickFormat=function(S,A){return A==null?w:u(A)},c.nice=function(S){var A=d();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?d(Tz(A,S)):c},c.copy=function(){return hy(c,OP(t,e,n,r,i,a,s,o,l,u))},c}function $me(){return Oi.apply(OP(Npe,Rpe,Hs,PP,iw,dy,EP,_P,Dl,Uz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fme(){return Oi.apply(OP(Ipe,Mpe,Ws,TP,aw,rw,CP,AP,Dl,Hz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sw(){var t=0,e=1,n,r,i,a,s=ar,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(d){var f,g;return arguments.length?([f,g]=d,s=h(f,g),u):[s(0),s(1)]}}return u.range=c(of),u.rangeRound=c(mP),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function ml(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Wz(){var t=pl(sw()(ar));return t.copy=function(){return ml(t,Wz())},Zs.apply(t,arguments)}function Vz(){var t=bP(sw()).domain([1,10]);return t.copy=function(){return ml(t,Vz()).base(t.base())},Zs.apply(t,arguments)}function Gz(){var t=xP(sw());return t.copy=function(){return ml(t,Gz()).constant(t.constant())},Zs.apply(t,arguments)}function IP(){var t=wP(sw());return t.copy=function(){return ml(t,IP()).exponent(t.exponent())},Zs.apply(t,arguments)}function Bme(){return IP.apply(null,arguments).exponent(.5)}function qz(){var t=[],e=ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((uy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Efe(t,a/r))},n.copy=function(){return qz(e).domain(t)},Zs.apply(n,arguments)}function ow(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=ar,c,h=!1,d;function f(p){return isNaN(p=+p)?d:(p=.5+((p=+c(p))-a)*(r*p<r*a?o:l),u(h?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,n]=p,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f):[t,e,n]},f.clamp=function(p){return arguments.length?(h=!!p,f):h},f.interpolator=function(p){return arguments.length?(u=p,f):u};function g(p){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,u=Qfe(p,[y,b,x]),f):[u(0),u(.5),u(1)]}}return f.range=g(of),f.rangeRound=g(mP),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return c=p,i=p(t),a=p(e),s=p(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,f}}function Xz(){var t=pl(ow()(ar));return t.copy=function(){return ml(t,Xz())},Zs.apply(t,arguments)}function Kz(){var t=bP(ow()).domain([.1,1,10]);return t.copy=function(){return ml(t,Kz()).base(t.base())},Zs.apply(t,arguments)}function Yz(){var t=xP(ow());return t.copy=function(){return ml(t,Yz()).constant(t.constant())},Zs.apply(t,arguments)}function MP(){var t=wP(ow());return t.copy=function(){return ml(t,MP()).exponent(t.exponent())},Zs.apply(t,arguments)}function zme(){return MP.apply(null,arguments).exponent(.5)}const uN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rm,scaleDiverging:Xz,scaleDivergingLog:Kz,scaleDivergingPow:MP,scaleDivergingSqrt:zme,scaleDivergingSymlog:Yz,scaleIdentity:Pz,scaleImplicit:rA,scaleLinear:o0,scaleLog:Oz,scaleOrdinal:dP,scalePoint:Sp,scalePow:SP,scaleQuantile:Nz,scaleQuantize:Rz,scaleRadial:Mz,scaleSequential:Wz,scaleSequentialLog:Vz,scaleSequentialPow:IP,scaleSequentialQuantile:qz,scaleSequentialSqrt:Bme,scaleSequentialSymlog:Gz,scaleSqrt:wpe,scaleSymlog:Iz,scaleThreshold:Lz,scaleTime:$me,scaleUtc:Fme,tickFormat:Cz},Symbol.toStringTag,{value:"Module"}));var Ume=Zd;function Hme(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!Ume(s):n(s,o)))var o=s,l=a}return l}var Zz=Hme;function Wme(t,e){return t>e}var Vme=Wme,Gme=Zz,qme=Vme,Xme=af;function Kme(t){return t&&t.length?Gme(t,Xme,qme):void 0}var Yme=Kme;const lw=nt(Yme);function Zme(t,e){return t<e}var Qme=Zme,Jme=Zz,ege=Qme,tge=af;function nge(t){return t&&t.length?Jme(t,tge,ege):void 0}var rge=nge;const uw=nt(rge);var ige=GC,age=fl,sge=sz,oge=Pr;function lge(t,e){var n=oge(t)?ige:sge;return n(t,age(e))}var uge=lge,cge=iz,hge=uge;function dge(t,e){return cge(hge(t,e),1)}var fge=dge;const pge=nt(fge);var mge=oP;function gge(t,e){return mge(t,e)}var yge=gge;const cw=nt(yge);var lf=1e9,vge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RP,It=!0,Ci="[DecimalError] ",Fu=Ci+"Invalid argument: ",NP=Ci+"Exponent out of range: ",uf=Math.floor,Pl=Math.pow,bge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,_n=1e7,At=7,Qz=9007199254740991,h0=uf(Qz/At),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Ls(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return yt(Ls(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return nn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gr))throw Error(Ci+"NaN");if(n.s<1)throw Error(Ci+(n.s?"NaN":"-Infinity"));return n.eq(Gr)?new r(0):(It=!1,e=Ls(lm(n,a),lm(t,a),a),It=!0,yt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t5(e,t):Jz(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ci+"NaN");return n.s?(It=!1,e=Ls(n,t,0,1).times(t),It=!0,n.minus(e)):yt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return e5(this)};Pe.naturalLogarithm=Pe.ln=function(){return lm(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jz(e,t):t5(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fu+t);if(e=nn(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ci+"NaN")}for(t=nn(o),It=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ja(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ls(o,a,s+2)).times(.5),ja(a.d).slice(0,s)===(e=ja(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(yt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return It=!0,yt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,h=c.constructor,d=c.d,f=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=f.length,l<u&&(a=d,d=f,f=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+f[r]*d[i-r-1]+e,a[i--]=o%_n|0,e=o/_n|0;a[i]=(a[i]+e)%_n|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,It?yt(t,h.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ua(t,0,lf),e===void 0?e=r.rounding:Ua(e,0,8),yt(n,t+nn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qu(r,!0):(Ua(t,0,lf),e===void 0?e=i.rounding:Ua(e,0,8),r=yt(new i(r),t+1,e),n=Qu(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Qu(i):(Ua(t,0,lf),e===void 0?e=a.rounding:Ua(e,0,8),r=yt(new a(i),t+nn(i)+1,e),n=Qu(r.abs(),!1,t+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return yt(new e(t),nn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Gr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ci+"Infinity");return o}if(o.eq(Gr))return o;if(r=l.precision,t.eq(Gr))return yt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=Qz){for(i=new l(Gr),e=Math.ceil(r/At+4),It=!1;n%2&&(i=i.times(o),hN(i.d,e)),n=uf(n/2),n!==0;)o=o.times(o),hN(o.d,e);return It=!0,t.s<0?new l(Gr).div(i):yt(i,r)}}else if(a<0)throw Error(Ci+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,It=!1,i=t.times(lm(o,r+u)),It=!0,i=e5(i),i.s=a,i};Pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=nn(i),r=Qu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ua(t,1,lf),e===void 0?e=a.rounding:Ua(e,0,8),i=yt(new a(i),t,e),n=nn(i),r=Qu(i,t<=n||n<=a.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ua(t,1,lf),e===void 0?e=r.rounding:Ua(e,0,8)),yt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return Qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Jz(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),It?yt(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(h/At),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/_n|0,l[a]%=_n;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,It?yt(e,h):e}function Ua(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fu+t)}function ja(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=At-r.length,n&&(a+=ao(n)),a+=r;s=t[e],r=s+"",n=At-r.length,n&&(a+=ao(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ls=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%_n|0,s=a/_n|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*_n+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,h,d,f,g,p,v,y,b,x,k,w,S,A,_,E=r.constructor,O=r.s==i.s?1:-1,R=r.d,P=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(Ci+"Division by zero");for(l=r.e-i.e,A=P.length,w=R.length,f=new E(O),g=f.d=[],u=0;P[u]==(R[u]||0);)++u;if(P[u]>(R[u]||0)&&--l,a==null?b=a=E.precision:s?b=a+(nn(r)-nn(i))+1:b=a,b<0)return new E(0);if(b=b/At+2|0,u=0,A==1)for(c=0,P=P[0],b++;(u<w||c)&&b--;u++)x=c*_n+(R[u]||0),g[u]=x/P|0,c=x%P|0;else{for(c=_n/(P[0]+1)|0,c>1&&(P=t(P,c),R=t(R,c),A=P.length,w=R.length),k=A,p=R.slice(0,A),v=p.length;v<A;)p[v++]=0;_=P.slice(),_.unshift(0),S=P[0],P[1]>=_n/2&&++S;do c=0,o=e(P,p,A,v),o<0?(y=p[0],A!=v&&(y=y*_n+(p[1]||0)),c=y/S|0,c>1?(c>=_n&&(c=_n-1),h=t(P,c),d=h.length,v=p.length,o=e(h,p,d,v),o==1&&(c--,n(h,A<d?_:P,d))):(c==0&&(o=c=1),h=P.slice()),d=h.length,d<v&&h.unshift(0),n(p,h,v),o==-1&&(v=p.length,o=e(P,p,A,v),o<1&&(c++,n(p,A<v?_:P,v))),v=p.length):o===0&&(c++,p=[0]),g[u++]=c,o&&p[0]?p[v++]=R[k]||0:(p=[R[k]],v=1);while((k++<w||p[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=l,yt(f,s?a+nn(f)+1:a)}}();function e5(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,h=c.precision;if(nn(t)>16)throw Error(NP+nn(t));if(!t.s)return new c(Gr);for(It=!1,o=h,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Pl(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Gr),c.precision=o;;){if(i=yt(i.times(t),o),n=n.times(++l),s=a.plus(Ls(i,n,o)),ja(s.d).slice(0,o)===ja(a.d).slice(0,o)){for(;u--;)a=yt(a.times(a),o);return c.precision=h,e==null?(It=!0,yt(a,h)):a}a=s}}function nn(t){for(var e=t.e*At,n=t.d[0];n>=10;n/=10)e++;return e}function D1(t,e,n){if(e>t.LN10.sd())throw It=!0,n&&(t.precision=n),Error(Ci+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function lm(t,e){var n,r,i,a,s,o,l,u,c,h=1,d=10,f=t,g=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(Ci+(f.s?"NaN":"-Infinity"));if(f.eq(Gr))return new p(0);if(e==null?(It=!1,u=v):u=e,f.eq(10))return e==null&&(It=!0),D1(p,u);if(u+=d,p.precision=u,n=ja(g),r=n.charAt(0),a=nn(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(t),n=ja(f.d),r=n.charAt(0),h++;a=nn(f),r>1?(f=new p("0."+n),a++):f=new p(r+"."+n.slice(1))}else return l=D1(p,u+2,v).times(a+""),f=lm(new p(r+"."+n.slice(1)),u-d).plus(l),p.precision=v,e==null?(It=!0,yt(f,v)):f;for(o=s=f=Ls(f.minus(Gr),f.plus(Gr),u),c=yt(f.times(f),u),i=3;;){if(s=yt(s.times(c),u),l=o.plus(Ls(s,new p(i),u)),ja(l.d).slice(0,u)===ja(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(D1(p,u+2,v).times(a+""))),o=Ls(o,new p(h),u),p.precision=v,e==null?(It=!0,yt(o,v)):o;o=l,i+=2}}function cN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=uf(n/At),t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),It&&(t.e>h0||t.e<-h0))throw Error(NP+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,a,s,o,l,u,c,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=At,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/At),a=h.length,c>=a)return t;for(u=a=h[c],s=1;a>=10;a/=10)s++;r%=At,i=r-At+s}if(n!==void 0&&(a=Pl(10,s-i-1),o=u/a%10|0,l=e<0||h[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Pl(10,s-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=nn(t),h.length=1,e=e-a-1,h[0]=Pl(10,(At-e%At)%At),t.e=uf(-e/At)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,a=1,c--):(h.length=c+1,a=Pl(10,At-r),h[c]=i>0?(u/Pl(10,s-i)%Pl(10,i)|0)*a:0),l)for(;;)if(c==0){(h[0]+=a)==_n&&(h[0]=1,++t.e);break}else{if(h[c]+=a,h[c]!=_n)break;h[c--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(It&&(t.e>h0||t.e<-h0))throw Error(NP+nn(t));return t}function t5(t,e){var n,r,i,a,s,o,l,u,c,h,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),It?yt(e,f):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=h.length):(n=h,r=u,o=l.length),i=Math.max(Math.ceil(f/At),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=_n-1;--l[a],l[i]+=_n}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,It?yt(e,f):e):new d(0)}function Qu(t,e,n){var r,i=nn(t),a=ja(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ao(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ao(-i-1)+a,n&&(r=n-s)>0&&(a+=ao(r))):i>=s?(a+=ao(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ao(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ao(r))),t.s<0?"-"+a:a}function hN(t,e){if(t.length>e)return t.length=e,!0}function n5(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return cN(s,a.toString())}else if(typeof a!="string")throw Error(Fu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,bge.test(a))cN(s,a);else throw Error(Fu+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=n5,i.config=i.set=xge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function xge(t){if(!t||typeof t!="object")throw Error(Ci+"Object expected");var e,n,r,i=["precision",1,lf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(uf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fu+n+": "+r);return this}var RP=n5(vge);Gr=new RP(1);const ft=RP;function wge(t){return Age(t)||_ge(t)||kge(t)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function _ge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Age(t){if(Array.isArray(t))return oA(t)}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ege=function(e){return e},r5={},i5=function(e){return e===r5},dN=function(e){return function n(){return arguments.length===0||arguments.length===1&&i5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Cge=function t(e,n){return e===1?n:dN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==r5}).length;return s>=e?n.apply(void 0,i):t(e-s,dN(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(h){return i5(h)?l.shift():h});return n.apply(void 0,wge(c).concat(l))}))})},hw=function(e){return Cge(e.length,e)},lA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Pge=hw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Tge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ege;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},uA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},a5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Oge(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function Ige(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Mge=hw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Nge=hw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Rge=hw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const dw={rangeStep:Ige,getDigitCount:Oge,interpolateNumber:Mge,uninterpolateNumber:Nge,uninterpolateTruncation:Rge};function cA(t){return Dge(t)||jge(t)||s5(t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Dge(t){if(Array.isArray(t))return hA(t)}function um(t,e){return Bge(t)||Fge(t,e)||s5(t,e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Bge(t){if(Array.isArray(t))return t}function o5(t){var e=um(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function l5(t,e,n){if(t.lte(0))return new ft(0);var r=dw.getDigitCount(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new ft(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new ft(Math.ceil(l))}function zge(t,e,n){var r=1,i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(dw.getDigitCount(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),o=Tge(Pge(function(l){return i.add(new ft(l-s).mul(r)).toNumber()}),lA);return o(0,e)}function u5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=l5(new ft(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ft(0):(s=new ft(t).add(e).div(2),s=s.sub(new ft(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new ft(e).sub(s).div(a).toNumber()),u=o+l+1;return u>n?u5(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:a,tickMin:s.sub(new ft(o).mul(a)),tickMax:s.add(new ft(l).mul(a))})}function Uge(t){var e=um(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=o5([n,r]),l=um(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(cA(lA(0,i-1).map(function(){return 1/0}))):[].concat(cA(lA(0,i-1).map(function(){return-1/0})),[c]);return n>r?uA(h):h}if(u===c)return zge(u,i,a);var d=u5(u,c,s,a),f=d.step,g=d.tickMin,p=d.tickMax,v=dw.rangeStep(g,p.add(new ft(.1).mul(f)),f);return n>r?uA(v):v}function Hge(t,e){var n=um(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o5([r,i]),o=um(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),h=l5(new ft(u).sub(l).div(c-1),a,0),d=[].concat(cA(dw.rangeStep(new ft(l),new ft(u).sub(new ft(.99).mul(h)),h)),[u]);return r>i?uA(d):d}var Wge=a5(Uge),Vge=a5(Hge),Gge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function qge(t,e){return Zge(t)||Yge(t,e)||Kge(t,e)||Xge()}function Xge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(t,e){if(t){if(typeof t=="string")return fN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Zge(t){if(Array.isArray(t))return t}function Qge(t,e){if(t==null)return{};var n=Jge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d5(r.key),r)}}function nye(t,e,n){return e&&tye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t,e,n){return e=f0(e),iye(t,c5()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function iye(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aye(t)}function aye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dA(t,e)}function h5(t,e,n){return e=d5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5(t){var e=oye(t,"string");return Cd(e)=="symbol"?e:e+""}function oye(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fy=function(t){function e(){return eye(this,e),rye(this,e,arguments)}return sye(e,t),nye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,h=r.yAxis,d=Qge(r,Gge),f=Qe(d,!1);this.props.direction==="x"&&c.type!=="number"&&Je(!1);var g=l.map(function(p){var v=u(p,o),y=v.x,b=v.y,x=v.value,k=v.errorVal;if(!k)return null;var w=[],S,A;if(Array.isArray(k)){var _=qge(k,2);S=_[0],A=_[1]}else S=A=k;if(a==="vertical"){var E=c.scale,O=b+i,R=O+s,P=O-s,L=E(x-S),C=E(x+A);w.push({x1:C,y1:R,x2:C,y2:P}),w.push({x1:L,y1:O,x2:C,y2:O}),w.push({x1:L,y1:R,x2:L,y2:P})}else if(a==="horizontal"){var F=h.scale,q=y+i,B=q-s,W=q+s,G=F(x-S),M=F(x+A);w.push({x1:B,y1:M,x2:W,y2:M}),w.push({x1:q,y1:G,x2:q,y2:M}),w.push({x1:B,y1:G,x2:W,y2:G})}return ne.createElement(qt,d0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},f),w.map(function(V){return ne.createElement("line",d0({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return ne.createElement(qt,{className:"recharts-errorBars"},g)}}])}(ne.Component);h5(fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h5(fy,"displayName","ErrorBar");function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lye(t,e,n){return e=uye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uye(t){var e=cye(t,"string");return cm(e)=="symbol"?e:e+""}function cye(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f5=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Wr(n,ch);if(!s)return null;var o=ch.defaultProps,l=o!==void 0?vl(vl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(c,h){var d=h.item,f=h.props,g=f.sectors||f.data||[];return c.concat(g.map(function(p){return{type:s.props.iconType||d.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(c){var h=c.item,d=h.type.defaultProps,f=d!==void 0?vl(vl({},d),h.props):{},g=f.dataKey,p=f.name,v=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:LP(h),value:p||g,payload:f}}),vl(vl(vl({},l),ch.getWithHeight(s,i)),{},{payload:u,item:s})};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function mN(t){return pye(t)||fye(t)||dye(t)||hye()}function hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dye(t,e){if(t){if(typeof t=="string")return fA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(t,e)}}function fye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pye(t){if(Array.isArray(t))return fA(t)}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t,e,n){return e=mye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=gye(t,"string");return hm(e)=="symbol"?e:e+""}function gye(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,n){return Xe(t)||Xe(e)?n:mn(e)?wi(t,e,n):Ue(e)?e(t):n}function kp(t,e,n,r){var i=pge(t,function(o){return Jr(o,e)});if(n==="number"){var a=i.filter(function(o){return ke(o)||parseFloat(o)});return a.length?[uw(a),lw(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Xe(o)}):i;return s.map(function(o){return mn(o)||o instanceof Date?o:""})}var yye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,d=u>=o-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(ra(h-c)!==ra(d-h)){var g=[];if(ra(d-h)===ra(l[1]-l[0])){f=d;var p=h+l[1]-l[0];g[0]=Math.min(p,(p+c)/2),g[1]=Math.max(p,(p+c)/2)}else{f=c;var v=d+l[1]-l[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var y=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[u].index;break}}else{var b=Math.min(c,d),x=Math.max(c,d);if(e>(b+h)/2&&e<=(x+h)/2){s=i[u].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===o-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){s=r[k].index;break}return s},LP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},vye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,h=Object.keys(c),d=0,f=h.length;d<f;d++){var g=c[h[d]],p=g.items,v=g.cateAxisId,y=p.filter(function(A){return Ns(A.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Ht(Ht({},b),y[0].props):y[0].props,k=x.barSize,w=x[v];s[w]||(s[w]=[]);var S=Xe(k)?n:k;s[w].push({item:y[0],stackList:y.slice(1),barSize:Xe(S)?void 0:Zu(S,r,0)})}}return s},bye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=Zu(n,i,0,!0),c,h=[];if(s[0].barSize===+s[0].barSize){var d=!1,f=i/l,g=s.reduce(function(k,w){return k+w.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&f>0&&(d=!0,f*=.9,g=l*f);var p=(i-g)/2>>0,v={offset:p-u,size:0};c=s.reduce(function(k,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:d?f:w.barSize}},A=[].concat(mN(k),[S]);return v=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){A.push({item:_,position:v})}),A},h)}else{var y=Zu(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var b=(i-2*y-(l-1)*u)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;c=s.reduce(function(k,w,S){var A=[].concat(mN(k),[{item:w.item,position:{offset:y+(b+u)*S+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){A.push({item:_,position:A[A.length-1].position})}),A},h)}return c},xye=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),u=f5({children:a,legendWidth:l});if(u){var c=i||{},h=c.width,d=c.height,f=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&f!=="center"&&ke(e[f]))return Ht(Ht({},e),{},dh({},f,e[f]+(h||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&g!=="middle"&&ke(e[g]))return Ht(Ht({},e),{},dh({},g,e[g]+(d||0)))}return e},wye=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},p5=function(e,n,r,i,a){var s=n.props.children,o=Si(s,fy).filter(function(u){return wye(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var h=Jr(c,r);if(Xe(h))return u;var d=Array.isArray(h)?[uw(h),lw(h)]:[h,h],f=l.reduce(function(g,p){var v=Jr(c,p,0),y=d[0]-Math.abs(Array.isArray(v)?v[0]:v),b=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},Sye=function(e,n,r,i,a){var s=n.map(function(o){return p5(e,o,r,a,i)}).filter(function(o){return!Xe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},m5=function(e,n,r,i,a){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&p5(e,l,u,i)||kp(e,u,r,a)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,h=u.length;c<h;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},g5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},y5=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Os=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ra(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var d=a?a.indexOf(h):h;return{coordinate:i(d)+u,value:h,offset:u}});return c.filter(function(h){return!sy(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+u,value:h,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,d){return{coordinate:i(h)+u,value:a?a[h]:h,index:d,offset:u}})},$1=new WeakMap,tv=function(e,n){if(typeof n!="function")return e;$1.has(e)||$1.set(e,new WeakMap);var r=$1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},kye=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:rm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:o0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sp(),realScaleType:"point"}:a==="category"?{scale:rm(),realScaleType:"band"}:{scale:o0(),realScaleType:"linear"};if(Yu(i)){var l="scale".concat(Kx(i));return{scale:(uN[l]||Sp)(),realScaleType:uN[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:Sp(),realScaleType:"point"}},yN=1e-4,_ye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-yN,s=Math.max(i[0],i[1])+yN,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Aye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Eye=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(a[0]=r),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Cye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=sy(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},Pye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=sy(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Tye={sign:Cye,expand:Wre,none:bd,silhouette:Vre,wiggle:Gre,positive:Pye},Oye=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Tye[r],s=Hre().keys(i).value(function(o,l){return+Jr(o,l,0)}).order($_).offset(a);return s(e)},Iye=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},u=o.reduce(function(h,d){var f,g=(f=d.type)!==null&&f!==void 0&&f.defaultProps?Ht(Ht({},d.type.defaultProps),d.props):d.props,p=g.stackId,v=g.hide;if(v)return h;var y=g[r],b=h[y]||{hasStack:!1,stackGroups:{}};if(mn(p)){var x=b.stackGroups[p]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),b.hasStack=!0,b.stackGroups[p]=x}else b.stackGroups[oy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Ht(Ht({},h),{},dh({},y,b))},l),c={};return Object.keys(u).reduce(function(h,d){var f=u[d];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,v){var y=f.stackGroups[v];return Ht(Ht({},p),{},dh({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Oye(e,y.items,a)}))},g)}return Ht(Ht({},h),{},dh({},d,f))},c)},Mye=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Wge(u,a,o);return e.domain([uw(c),lw(c)]),{niceTicks:c}}if(a&&i==="number"){var h=e.domain(),d=Vge(h,a,o);return{niceTicks:d}}return null};function vN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var o=Db(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Jr(i,Xe(s)?e.dataKey:s);return Xe(l)?null:e.scale(l)}var bN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Jr(s,n.dataKey,n.domain[o]);return Xe(l)?null:n.scale(l)-a/2+i},Nye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Rye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Lye=function(e){return e.reduce(function(n,r){return[uw(r.concat([n[0]]).filter(ke)),lw(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},v5=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,c){var h=Lye(c.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pA=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xN.test(e[0])){var a=+xN.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(wN.test(e[1])){var s=+wN.exec(e[1])[1];i[1]=n[1]+s}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},p0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=uP(n,function(h){return h.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},SN=function(e,n,r){return!e||!e.length||cw(e,wi(r,"type.defaultProps.domain"))?n:e},b5=function(e,n){var r=e.type.defaultProps?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Ht(Ht({},Qe(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:LP(e),value:Jr(n,i),type:l,payload:n,chartType:u,hide:c})};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){jye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jye(t,e,n){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=$ye(t,"string");return dm(e)=="symbol"?e:e+""}function $ye(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m0=Math.PI/180,Fye=function(e){return e*180/Math.PI},Rn=function(e,n,r,i){return{x:e+Math.cos(-m0*i)*r,y:n+Math.sin(-m0*i)*r}},Bye=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},zye=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=Bye({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:Fye(u),angleInRadian:u}},Uye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Hye=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},AN=function(e,n){var r=e.x,i=e.y,a=zye({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Uye(n),h=c.startAngle,d=c.endAngle,f=o,g;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}return g?_N(_N({},n),{},{radius:s,angle:Hye(f,n)}):null};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var Wye=["offset"];function Vye(t){return Kye(t)||Xye(t)||qye(t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function Xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kye(t){if(Array.isArray(t))return mA(t)}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yye(t,e){if(t==null)return{};var n=Zye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){Qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qye(t,e,n){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jye(t){var e=eve(t,"string");return fm(e)=="symbol"?e:e+""}function eve(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(this,arguments)}var tve=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return Ue(r)?r(i):i},nve=function(e,n){var r=ra(n-e),i=Math.min(Math.abs(n-e),360);return r*i},rve=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,c=l.cy,h=l.innerRadius,d=l.outerRadius,f=l.startAngle,g=l.endAngle,p=l.clockWise,v=(h+d)/2,y=nve(f,g),b=y>=0?1:-1,x,k;i==="insideStart"?(x=f+b*s,k=p):i==="insideEnd"?(x=g-b*s,k=!p):i==="end"&&(x=g+b*s,k=p),k=y<=0?k:!k;var w=Rn(u,c,v,x),S=Rn(u,c,v,x+(k?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),_=Xe(e.id)?oy("recharts-radial-line-"):e.id;return ne.createElement("text",pm({},r,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),ne.createElement("defs",null,ne.createElement("path",{id:_,d:A})),ne.createElement("textPath",{xlinkHref:"#".concat(_)},n))},ive=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,h=a.endAngle,d=(c+h)/2;if(i==="outside"){var f=Rn(s,o,u+r,d),g=f.x,p=f.y;return{x:g,y:p,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=Rn(s,o,v,d),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},ave=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,u=s.width,c=s.height,h=c>=0?1:-1,d=h*i,f=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var x={x:o+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:f};return on(on({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var k={x:o+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:g};return on(on({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return on(on({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(a==="right"){var S={x:o+u+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return on(on({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return a==="insideLeft"?on({x:o+v,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideRight"?on({x:o+u-v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?on({x:o+u/2,y:l+d,textAnchor:"middle",verticalAnchor:g},A):a==="insideBottom"?on({x:o+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:f},A):a==="insideTopLeft"?on({x:o+v,y:l+d,textAnchor:b,verticalAnchor:g},A):a==="insideTopRight"?on({x:o+u-v,y:l+d,textAnchor:y,verticalAnchor:g},A):a==="insideBottomLeft"?on({x:o+v,y:l+c-d,textAnchor:b,verticalAnchor:f},A):a==="insideBottomRight"?on({x:o+u-v,y:l+c-d,textAnchor:y,verticalAnchor:f},A):Qd(a)&&(ke(a.x)||Ll(a.x))&&(ke(a.y)||Ll(a.y))?on({x:o+Zu(a.x,u),y:l+Zu(a.y,c),textAnchor:"end",verticalAnchor:"end"},A):on({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},sve=function(e){return"cx"in e&&ke(e.cx)};function Xn(t){var e=t.offset,n=e===void 0?5:e,r=Yye(t,Wye),i=on({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,h=c===void 0?"":c,d=i.textBreakAll;if(!a||Xe(o)&&Xe(l)&&!N.isValidElement(u)&&!Ue(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var f;if(Ue(u)){if(f=N.createElement(u,i),N.isValidElement(f))return f}else f=tve(i);var g=sve(a),p=Qe(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return rve(i,f,p);var v=g?ive(i):ave(i);return ne.createElement(Jb,pm({className:qe("recharts-label",h)},p,v,{breakAll:d}),f)}Xn.displayName="Label";var x5=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,h=e.x,d=e.y,f=e.top,g=e.left,p=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(ke(p)&&ke(v)){if(ke(h)&&ke(d))return{x:h,y:d,width:p,height:v};if(ke(f)&&ke(g))return{x:f,y:g,width:p,height:v}}return ke(h)&&ke(d)?{x:h,y:d,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},ove=function(e,n){return e?e===!0?ne.createElement(Xn,{key:"label-implicit",viewBox:n}):mn(e)?ne.createElement(Xn,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===Xn?N.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Xn,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?ne.createElement(Xn,{key:"label-implicit",content:e,viewBox:n}):Qd(e)?ne.createElement(Xn,pm({viewBox:n},e,{key:"label-implicit"})):null:null},lve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=x5(e),s=Si(i,Xn).map(function(l,u){return N.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var o=ove(e.label,n||a);return[o].concat(Vye(s))};Xn.parseViewBox=x5;Xn.renderCallByParent=lve;function uve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var cve=uve;const hve=nt(cve);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}var dve=["valueAccessor"],fve=["data","dataKey","clockWise","id","textBreakAll"];function pve(t){return vve(t)||yve(t)||gve(t)||mve()}function mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t,e){if(t){if(typeof t=="string")return gA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(t,e)}}function yve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vve(t){if(Array.isArray(t))return gA(t)}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g0.apply(this,arguments)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=wve(t,"string");return mm(e)=="symbol"?e:e+""}function wve(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TN(t,e){if(t==null)return{};var n=Sve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kve=function(e){return Array.isArray(e.value)?hve(e.value):e.value};function Qo(t){var e=t.valueAccessor,n=e===void 0?kve:e,r=TN(t,dve),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,u=TN(r,fve);return!i||!i.length?null:ne.createElement(qt,{className:"recharts-label-list"},i.map(function(c,h){var d=Xe(a)?n(c,h):Jr(c&&c.payload,a),f=Xe(o)?{}:{id:"".concat(o,"-").concat(h)};return ne.createElement(Xn,g0({},Qe(c,!0),u,f,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Xn.parseViewBox(Xe(s)?c:PN(PN({},c),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Qo.displayName="LabelList";function _ve(t,e){return t?t===!0?ne.createElement(Qo,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Ue(t)?ne.createElement(Qo,{key:"labelList-implicit",data:e,content:t}):Qd(t)?ne.createElement(Qo,g0({data:e},t,{key:"labelList-implicit"})):null:null}function Ave(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Si(r,Qo).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=_ve(t.label,e);return[a].concat(pve(i))}Qo.renderCallByParent=Ave;function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yA.apply(this,arguments)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){Eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eve(t,e,n){return e=Cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cve(t){var e=Pve(t,"string");return gm(e)=="symbol"?e:e+""}function Pve(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tve=function(e,n){var r=ra(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},nv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(o?1:-1)+i,h=Math.asin(l/c)/m0,d=u?a:a+s*h,f=Rn(n,r,c,d),g=Rn(n,r,i,d),p=u?a-s*h:a,v=Rn(n,r,c*Math.cos(h*m0),p);return{center:f,circleTangency:g,lineTangency:v,theta:h}},w5=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Tve(s,o),u=s+l,c=Rn(n,r,a,s),h=Rn(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=Rn(n,r,i,s),g=Rn(n,r,i,u);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Ove=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=ra(c-u),d=nv({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),f=d.circleTangency,g=d.lineTangency,p=d.theta,v=nv({cx:n,cy:r,radius:a,angle:c,sign:-h,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,k=l?Math.abs(u-c):Math.abs(u-c)-p-x;if(k<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):w5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var S=nv({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=S.circleTangency,_=S.lineTangency,E=S.theta,O=nv({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=O.circleTangency,P=O.lineTangency,L=O.theta,C=l?Math.abs(u-c):Math.abs(u-c)-E-L;if(C<0&&s===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},Ive={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S5=function(e){var n=IN(IN({},Ive),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,d=n.className;if(s<a||c===h)return null;var f=qe("recharts-sector",d),g=s-a,p=Zu(o,g,0,!0),v;return p>0&&Math.abs(c-h)<360?v=Ove({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):v=w5({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:h}),ne.createElement("path",yA({},Qe(n,!0),{className:f,d:v,role:"img"}))};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vA.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){Mve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mve(t,e,n){return e=Nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=Rve(t,"string");return ym(e)=="symbol"?e:e+""}function Rve(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RN={curveBasisClosed:Mre,curveBasisOpen:Nre,curveBasis:Ire,curveBumpX:yre,curveBumpY:vre,curveLinearClosed:Rre,curveLinear:Zx,curveMonotoneX:Lre,curveMonotoneY:jre,curveNatural:Dre,curveStep:$re,curveStepAfter:Bre,curveStepBefore:Fre},rv=function(e){return e.x===+e.x&&e.y===+e.y},Lf=function(e){return e.x},jf=function(e){return e.y},Lve=function(e,n){if(Ue(e))return e;var r="curve".concat(Kx(e));return(r==="curveMonotone"||r==="curveBump")&&n?RN["".concat(r).concat(n==="vertical"?"Y":"X")]:RN[r]||Zx},jve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Lve(r,o),h=u?a.filter(function(p){return rv(p)}):a,d;if(Array.isArray(s)){var f=u?s.filter(function(p){return rv(p)}):s,g=h.map(function(p,v){return NN(NN({},p),{},{base:f[v]})});return o==="vertical"?d=qy().y(jf).x1(Lf).x0(function(p){return p.base.x}):d=qy().x(Lf).y1(jf).y0(function(p){return p.base.y}),d.defined(rv).curve(c),d(g)}return o==="vertical"&&ke(s)?d=qy().y(jf).x1(Lf).x0(s):ke(s)?d=qy().x(Lf).y1(jf).y0(s):d=kB().x(Lf).y(jf),d.defined(rv).curve(c),d(h)},bA=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?jve(e):i;return N.createElement("path",vA({},Qe(e,!1),$b(e),{className:qe("recharts-curve",n),d:s,ref:a}))},k5={exports:{}},Dve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$ve=Dve,Fve=$ve;function _5(){}function A5(){}A5.resetWarningCache=_5;var Bve=function(){function t(r,i,a,s,o,l){if(l!==Fve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:A5,resetWarningCache:_5};return n.PropTypes=n,n};k5.exports=Bve();var zve=k5.exports;const at=nt(zve),{getOwnPropertyNames:Uve,getOwnPropertySymbols:Hve}=Object,{hasOwnProperty:Wve}=Object.prototype;function F1(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function iv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Vve(t){return t!=null?t[Symbol.toStringTag]:void 0}function LN(t){return Uve(t).concat(Hve(t))}const Gve=Object.hasOwn||((t,e)=>Wve.call(t,e));function fc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const qve="__v",Xve="__o",Kve="_owner",{getOwnPropertyDescriptor:jN,keys:DN}=Object;function Yve(t,e){return t.byteLength===e.byteLength&&y0(new Uint8Array(t),new Uint8Array(e))}function Zve(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Qve(t,e){return t.byteLength===e.byteLength&&y0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Jve(t,e){return fc(t.getTime(),e.getTime())}function ebe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tbe(t,e){return t===e}function $N(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const u=e.entries();let c=!1,h=0;for(;(o=u.next())&&!o.done;){if(i[h]){h++;continue}const d=s.value,f=o.value;if(n.equals(d[0],f[0],l,h,t,e,n)&&n.equals(d[1],f[1],d[0],f[0],t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1;l++}return!0}const nbe=fc;function rbe(t,e,n){const r=DN(t);let i=r.length;if(DN(e).length!==i)return!1;for(;i-- >0;)if(!E5(t,e,n,r[i]))return!1;return!0}function Df(t,e,n){const r=LN(t);let i=r.length;if(LN(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!E5(t,e,n,a)||(s=jN(t,a),o=jN(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function ibe(t,e){return fc(t.valueOf(),e.valueOf())}function abe(t,e){return t.source===e.source&&t.flags===e.flags}function FN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(o=l.next())&&!o.done;){if(!i[c]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function y0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function sbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function E5(t,e,n,r){return(r===Kve||r===Xve||r===qve)&&(t.$$typeof||e.$$typeof)?!0:Gve(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const obe="[object ArrayBuffer]",lbe="[object Arguments]",ube="[object Boolean]",cbe="[object DataView]",hbe="[object Date]",dbe="[object Error]",fbe="[object Map]",pbe="[object Number]",mbe="[object Object]",gbe="[object RegExp]",ybe="[object Set]",vbe="[object String]",bbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},xbe="[object URL]",wbe=Object.prototype.toString;function Sbe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:h,areTypedArraysEqual:d,areUrlsEqual:f,unknownTagComparators:g}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const x=typeof v;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(v,y,b):x==="function"?a(v,y,b):!1;const k=v.constructor;if(k!==y.constructor)return!1;if(k===Object)return l(v,y,b);if(Array.isArray(v))return e(v,y,b);if(k===Date)return r(v,y,b);if(k===RegExp)return c(v,y,b);if(k===Map)return s(v,y,b);if(k===Set)return h(v,y,b);const w=wbe.call(v);if(w===hbe)return r(v,y,b);if(w===gbe)return c(v,y,b);if(w===fbe)return s(v,y,b);if(w===ybe)return h(v,y,b);if(w===mbe)return typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b);if(w===xbe)return f(v,y,b);if(w===dbe)return i(v,y,b);if(w===lbe)return l(v,y,b);if(bbe[w])return d(v,y,b);if(w===obe)return t(v,y,b);if(w===cbe)return n(v,y,b);if(w===ube||w===pbe||w===vbe)return u(v,y,b);if(g){let S=g[w];if(!S){const A=Vve(v);A&&(S=g[A])}if(S)return S(v,y,b)}return!1}}function kbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Yve,areArraysEqual:n?Df:Zve,areDataViewsEqual:Qve,areDatesEqual:Jve,areErrorsEqual:ebe,areFunctionsEqual:tbe,areMapsEqual:n?F1($N,Df):$N,areNumbersEqual:nbe,areObjectsEqual:n?Df:rbe,arePrimitiveWrappersEqual:ibe,areRegExpsEqual:abe,areSetsEqual:n?F1(FN,Df):FN,areTypedArraysEqual:n?F1(y0,Df):y0,areUrlsEqual:sbe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=iv(r.areArraysEqual),a=iv(r.areMapsEqual),s=iv(r.areObjectsEqual),o=iv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function _be(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Abe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(o,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const Ebe=gl();gl({strict:!0});gl({circular:!0});gl({circular:!0,strict:!0});gl({createInternalComparator:()=>fc});gl({strict:!0,createInternalComparator:()=>fc});gl({circular:!0,createInternalComparator:()=>fc});gl({circular:!0,createInternalComparator:()=>fc,strict:!0});function gl(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=kbe(t),s=Sbe(a),o=n?n(s):_be(s);return Abe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function Cbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Cbe(i)};requestAnimationFrame(r)}function xA(t){"@babel/helpers - typeof";return xA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(t)}function Pbe(t){return Mbe(t)||Ibe(t)||Obe(t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(t,e){if(t){if(typeof t=="string")return zN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(t,e)}}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mbe(t){if(Array.isArray(t))return t}function Nbe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Pbe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){BN(i.bind(null,u),l);return}i(l),BN(i.bind(null,u));return}xA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){C5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C5(t,e,n){return e=Rbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Lbe(t,"string");return vm(e)==="symbol"?e:String(e)}function Lbe(t,e){if(vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Dbe=function(e){return e},$be=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_p=function(e,n){return Object.keys(n).reduce(function(r,i){return HN(HN({},r),{},C5({},i,e(i,n[i])))},{})},WN=function(e,n,r){return e.map(function(i){return"".concat($be(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fbe(t,e){return Ube(t)||zbe(t,e)||P5(t,e)||Bbe()}function Bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ube(t){if(Array.isArray(t))return t}function Hbe(t){return Gbe(t)||Vbe(t)||P5(t)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function Vbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gbe(t){if(Array.isArray(t))return wA(t)}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v0=1e-4,T5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},O5=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},VN=function(e,n){return function(r){var i=T5(e,n);return O5(i,r)}},qbe=function(e,n){return function(r){var i=T5(e,n),a=[].concat(Hbe(i.map(function(s,o){return s*o}).slice(1)),[0]);return O5(a,r)}},GN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Fbe(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var h=VN(i,s),d=VN(a,o),f=qbe(i,s),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,x=b,k=0;k<8;++k){var w=h(x)-b,S=f(x);if(Math.abs(w-b)<v0||S<v0)return d(x);x=g(x-w/S)}return d(x)};return p.isStepper=!1,p},Xbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(c,h,d){var f=-(c-h)*r,g=d*a,p=d+(f-g)*o/1e3,v=d*o/1e3+c;return Math.abs(v-h)<v0&&Math.abs(p)<v0?[h,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},Kbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GN(i);case"spring":return Xbe();default:if(i.split("(")[0]==="cubic-bezier")return GN(i)}return typeof i=="function"?i:null};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function qN(t){return Qbe(t)||Zbe(t)||I5(t)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qbe(t){if(Array.isArray(t))return kA(t)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){SA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SA(t,e,n){return e=Jbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jbe(t){var e=e0e(t,"string");return bm(e)==="symbol"?e:String(e)}function e0e(t,e){if(bm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t0e(t,e){return i0e(t)||r0e(t,e)||I5(t,e)||n0e()}function n0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function i0e(t){if(Array.isArray(t))return t}var b0=function(e,n,r){return e+(n-e)*r},_A=function(e){var n=e.from,r=e.to;return n!==r},a0e=function t(e,n,r){var i=_p(function(a,s){if(_A(s)){var o=e(s.from,s.to,s.velocity),l=t0e(o,2),u=l[0],c=l[1];return Mn(Mn({},s),{},{from:u,velocity:c})}return s},n);return r<1?_p(function(a,s){return _A(s)?Mn(Mn({},s),{},{velocity:b0(s.velocity,i[a].velocity,r),from:b0(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const s0e=function(t,e,n,r,i){var a=jbe(t,e),s=a.reduce(function(v,y){return Mn(Mn({},v),{},SA({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Mn(Mn({},v),{},SA({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,h=function(){return null},d=function(){return _p(function(y,b){return b.from},o)},f=function(){return!Object.values(o).filter(_A).length},g=function(y){u||(u=y);var b=y-u,x=b/n.dt;o=a0e(n,o,x),i(Mn(Mn(Mn({},t),e),d())),u=y,f()||(l=requestAnimationFrame(h))},p=function(y){c||(c=y);var b=(y-c)/r,x=_p(function(w,S){return b0.apply(void 0,qN(S).concat([n(b)]))},s);if(i(Mn(Mn(Mn({},t),e),x)),b<1)l=requestAnimationFrame(h);else{var k=_p(function(w,S){return b0.apply(void 0,qN(S).concat([n(1)]))},s);i(Mn(Mn(Mn({},t),e),k))}};return h=n.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}var o0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function l0e(t,e){if(t==null)return{};var n=u0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B1(t){return f0e(t)||d0e(t)||h0e(t)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0e(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function d0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f0e(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sp(t,e,n){return e=M5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M5(r.key),r)}}function g0e(t,e,n){return e&&m0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M5(t){var e=y0e(t,"string");return Pd(e)==="symbol"?e:String(e)}function y0e(t,e){if(Pd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EA(t,e)}function b0e(t){var e=x0e();return function(){var r=x0(t),i;if(e){var a=x0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return CA(this,i)}}function CA(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PA(t)}function PA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}var Vs=function(t){v0e(n,t);var e=b0e(n);function n(r,i){var a;p0e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,h=s.steps,d=s.children,f=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(PA(a)),a.changeStyle=a.changeStyle.bind(PA(a)),!o||f<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),CA(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof d=="function")return a.state={style:u},CA(a);a.state={style:l?sp({},l,u):u}}else a.state={style:{}};return a}return g0e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,h=a.from,d=this.state.style;if(o){if(!s){var f={style:l?sp({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(f);return}if(!(Ebe(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:i.to;if(this.state&&d){var v={style:l?sp({},l,p):p};(l&&d[l]!==p||!l&&d!==p)&&this.setState(v)}this.runAnimation(Ni(Ni({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,f=s0e(s,o,Kbe(u),l,this.changeStyle),g=function(){a.stopJSAnimation=f()};this.manager.start([d,c,g,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,h=u.duration,d=h===void 0?0:h,f=function(p,v,y){if(y===0)return p;var b=v.duration,x=v.easing,k=x===void 0?"ease":x,w=v.style,S=v.properties,A=v.onAnimationEnd,_=y>0?s[y-1]:v,E=S||Object.keys(w);if(typeof k=="function"||k==="spring")return[].concat(B1(p),[a.runJSAnimation.bind(a,{from:_.style,to:w,duration:b,easing:k}),b]);var O=WN(E,b,k),R=Ni(Ni(Ni({},_.style),w),{},{transition:O});return[].concat(B1(p),[R,b,A]).filter(Dbe)};return this.manager.start([l].concat(B1(s.reduce(f,[c,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nbe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var p=o?sp({},o,l):l,v=WN(Object.keys(p),s,u);g.start([c,a,Ni(Ni({},p),{},{transition:v}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=l0e(i,o0e),u=N.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var h=function(f){var g=f.props,p=g.style,v=p===void 0?{}:p,y=g.className,b=N.cloneElement(f,Ni(Ni({},l),{},{style:Ni(Ni({},v),c),className:y}));return b};return u===1?h(N.Children.only(a)):ne.createElement("div",null,N.Children.map(a,function(d){return h(d)}))}}]),n}(N.PureComponent);Vs.displayName="Animate";Vs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vs.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function w0e(t,e){return A0e(t)||_0e(t,e)||k0e(t,e)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k0e(t,e){if(t){if(typeof t=="string")return YN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(t,e)}}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function A0e(t){if(Array.isArray(t))return t}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){E0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E0e(t,e,n){return e=C0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C0e(t){var e=P0e(t,"string");return xm(e)=="symbol"?e:e+""}function P0e(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JN=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],d=0,f=4;d<f;d++)h[d]=a[d]>s?s:a[d];c="M".concat(e,",").concat(n+o*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),c+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*h[1])),c+="L ".concat(e+r,",").concat(n+i-o*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),c+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*h[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);c="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},T0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),h=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=h&&i<=d}return!1},O0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jP=function(e){var n=QN(QN({},O0e),e),r=N.useRef(),i=N.useState(-1),a=w0e(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&o(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,h=n.height,d=n.radius,f=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var x=qe("recharts-rectangle",f);return b?ne.createElement(Vs,{canBegin:s>0,from:{width:c,height:h,x:l,y:u},to:{width:c,height:h,x:l,y:u},duration:p,animationEasing:g,isActive:b},function(k){var w=k.width,S=k.height,A=k.x,_=k.y;return ne.createElement(Vs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},ne.createElement("path",w0({},Qe(n,!0),{className:x,d:JN(A,_,w,S,d),ref:r})))}):ne.createElement("path",w0({},Qe(n,!0),{className:x,d:JN(l,u,c,h,d)}))};function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(this,arguments)}var DP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=qe("recharts-dot",a);return n===+n&&r===+r&&i===+i?N.createElement("circle",TA({},Qe(e,!1),$b(e),{className:s,cx:n,cy:r,r:i})):null};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}var I0e=["x","y","top","left","width","height","className"];function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){N0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N0e(t,e,n){return e=R0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t){var e=L0e(t,"string");return wm(e)=="symbol"?e:e+""}function L0e(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t,e){if(t==null)return{};var n=D0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $0e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},F0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,h=c===void 0?0:c,d=e.height,f=d===void 0?0:d,g=e.className,p=j0e(e,I0e),v=M0e({x:r,y:a,top:o,left:u,width:h,height:f},p);return!ke(r)||!ke(a)||!ke(h)||!ke(f)||!ke(o)||!ke(u)?null:ne.createElement("path",OA({},Qe(v,!0),{className:qe("recharts-cross",g),d:$0e(r,a,h,f,o,u)}))},B0e=qB,z0e=B0e(Object.getPrototypeOf,Object),U0e=z0e,H0e=Ks,W0e=U0e,V0e=Ys,G0e="[object Object]",q0e=Function.prototype,X0e=Object.prototype,N5=q0e.toString,K0e=X0e.hasOwnProperty,Y0e=N5.call(Object);function Z0e(t){if(!V0e(t)||H0e(t)!=G0e)return!1;var e=W0e(t);if(e===null)return!0;var n=K0e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&N5.call(n)==Y0e}var Q0e=Z0e;const J0e=nt(Q0e);var exe=Ks,txe=Ys,nxe="[object Boolean]";function rxe(t){return t===!0||t===!1||txe(t)&&exe(t)==nxe}var ixe=rxe;const axe=nt(ixe);function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function sxe(t,e){return cxe(t)||uxe(t,e)||lxe(t,e)||oxe()}function oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(t,e){if(t){if(typeof t=="string")return tR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(t,e)}}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cxe(t){if(Array.isArray(t))return t}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e,n){return e=dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dxe(t){var e=fxe(t,"string");return Sm(e)=="symbol"?e:e+""}function fxe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iR=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},pxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mxe=function(e){var n=rR(rR({},pxe),e),r=N.useRef(),i=N.useState(-1),a=sxe(i,2),s=a[0],o=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,h=n.lowerWidth,d=n.height,f=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var b=qe("recharts-trapezoid",f);return y?ne.createElement(Vs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:h,height:d,x:l,y:u},duration:p,animationEasing:g,isActive:y},function(x){var k=x.upperWidth,w=x.lowerWidth,S=x.height,A=x.x,_=x.y;return ne.createElement(Vs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},ne.createElement("path",S0({},Qe(n,!0),{className:b,d:iR(A,_,k,w,S),ref:r})))}):ne.createElement("g",null,ne.createElement("path",S0({},Qe(n,!0),{className:b,d:iR(l,u,c,h,d)})))},gxe=["option","shapeType","propTransformer","activeClassName","isActive"];function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bxe(t,e,n){return e=xxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xxe(t){var e=wxe(t,"string");return km(e)=="symbol"?e:e+""}function wxe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sxe(t,e){return k0(k0({},e),t)}function kxe(t,e){return t==="symbols"}function sR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(jP,n);case"trapezoid":return ne.createElement(mxe,n);case"sector":return ne.createElement(S5,n);case"symbols":if(kxe(e))return ne.createElement(tP,n);break;default:return null}}function _xe(t){return N.isValidElement(t)?t.props:t}function Axe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Sxe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=yxe(t,gxe),u;if(N.isValidElement(e))u=N.cloneElement(e,k0(k0({},l),_xe(e)));else if(Ue(e))u=e(l);else if(J0e(e)&&!axe(e)){var c=i(e,l);u=ne.createElement(sR,{shapeType:n,elementProps:c})}else{var h=l;u=ne.createElement(sR,{shapeType:n,elementProps:h})}return o?ne.createElement(qt,{className:s},u):u}function fw(t,e){return e!=null&&"trapezoids"in t.props}function pw(t,e){return e!=null&&"sectors"in t.props}function _m(t,e){return e!=null&&"points"in t.props}function Exe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Cxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Pxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Txe(t,e){var n;return fw(t,e)?n=Exe:pw(t,e)?n=Cxe:_m(t,e)&&(n=Pxe),n}function Oxe(t,e){var n;return fw(t,e)?n="trapezoids":pw(t,e)?n="sectors":_m(t,e)&&(n="points"),n}function Ixe(t,e){if(fw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _m(t,e)?e.payload:{}}function Mxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oxe(n,e),a=Ixe(n,e),s=r.filter(function(l,u){var c=cw(a,l),h=n.props[i].filter(function(g){var p=Txe(n,e);return p(g,e)}),d=n.props[i].indexOf(h[h.length-1]),f=u===d;return c&&f}),o=r.indexOf(s[s.length-1]);return o}var Nxe=Math.ceil,Rxe=Math.max;function Lxe(t,e,n,r){for(var i=-1,a=Rxe(Nxe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var jxe=Lxe,Dxe=dz,oR=1/0,$xe=17976931348623157e292;function Fxe(t){if(!t)return t===0?t:0;if(t=Dxe(t),t===oR||t===-oR){var e=t<0?-1:1;return e*$xe}return t===t?t:0}var R5=Fxe,Bxe=jxe,zxe=tw,z1=R5;function Uxe(t){return function(e,n,r){return r&&typeof r!="number"&&zxe(e,n,r)&&(n=r=void 0),e=z1(e),n===void 0?(n=e,e=0):n=z1(n),r=r===void 0?e<n?1:-1:z1(r),Bxe(e,n,r,t)}}var Hxe=Uxe,Wxe=Hxe,Vxe=Wxe(),Gxe=Vxe;const _0=nt(Gxe);function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){L5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L5(t,e,n){return e=qxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qxe(t){var e=Xxe(t,"string");return Am(e)=="symbol"?e:e+""}function Xxe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kxe=["Webkit","Moz","O","ms"],Yxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Kxe.reduce(function(a,s){return uR(uR({},a),{},L5({},s+r,n))},{});return i[e]=n,i};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D5(r.key),r)}}function Qxe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jxe(t,e,n){return e=E0(e),ewe(t,j5()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function ewe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return twe(t)}function twe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function Nr(t,e,n){return e=D5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D5(t){var e=rwe(t,"string");return Td(e)=="symbol"?e:e+""}function rwe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iwe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Sp().domain(_0(0,l)).range([a,a+s-o]),c=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},dR=function(e){return e.changedTouches&&!!e.changedTouches.length},Od=function(t){function e(n){var r;return Zxe(this,e),r=Jxe(this,e,[n]),Nr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Nr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Nr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Nr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Nr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Nr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Nr(r,"handleSlideDragStart",function(i){var a=dR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return nwe(e,t),Qxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,h=Math.min(i,a),d=Math.max(i,a),f=e.getIndexInRange(s,h),g=e.getIndexInRange(s,d);return{startIndex:f-f%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Jr(a[r],o,r);return Ue(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,h=l.travellerWidth,d=l.startIndex,f=l.endIndex,g=l.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+c-h-o,u+c-h-s):p<0&&(p=Math.max(p,u-s,u-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==d||v.endIndex!==f)&&g&&g(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=dR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,h=c.x,d=c.width,f=c.travellerWidth,g=c.onChange,p=c.gap,v=c.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,h+d-f-u):b<0&&(b=Math.max(b,h-u)),y[s]=u+b;var x=this.getIndex(y),k=x.startIndex,w=x.endIndex,S=function(){var _=v.length-1;return s==="startX"&&(o>l?k%p===0:w%p===0)||o<l&&w===_||s==="endX"&&(o>l?w%p===0:k%p===0)||o>l&&w===_};this.setState(Nr(Nr({},s,u+b),"brushMoveStartX",r.pageX),function(){g&&S()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],h=o.indexOf(c);if(h!==-1){var d=h+r;if(!(d===-1||d>=o.length)){var f=o[d];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(Nr({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,u=r.stroke;return ne.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,u=r.children,c=r.padding,h=N.Children.only(u);return h?ne.cloneElement(h,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,h=l.height,d=l.traveller,f=l.ariaLabel,g=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),b=U1(U1({},Qe(this.props,!1)),{},{x:y,y:u,width:c,height:h}),x=f||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return ne.createElement(qt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:h,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,h=c.startX,d=c.endX,f=5,g={pointerEvents:"none",fill:u};return ne.createElement(qt,{className:"recharts-brush-texts"},ne.createElement(Jb,A0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-f,y:s+o/2},g),this.getTextOfTick(i)),ne.createElement(Jb,A0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+l+f,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,u=r.width,c=r.height,h=r.alwaysShowText,d=this.state,f=d.startX,g=d.endX,p=d.isTextActive,v=d.isSlideMoving,y=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!ke(o)||!ke(l)||!ke(u)||!ke(c)||u<=0||c<=0)return null;var x=qe("recharts-brush",a),k=ne.Children.count(s)===1,w=Yxe("userSelect","none");return ne.createElement(qt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,u=Math.floor(a+o/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return U1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?iwe({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var d=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(N.PureComponent);Nr(Od,"displayName","Brush");Nr(Od,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var awe=lP;function swe(t,e){var n;return awe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var owe=swe,lwe=FB,uwe=fl,cwe=owe,hwe=Pr,dwe=tw;function fwe(t,e,n){var r=hwe(t)?lwe:cwe;return n&&dwe(t,e,n)&&(e=void 0),r(t,uwe(e))}var pwe=fwe;const mwe=nt(pwe);var Ba=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},fR=oz;function gwe(t,e,n){e=="__proto__"&&fR?fR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ywe=gwe,vwe=ywe,bwe=az,xwe=fl;function wwe(t,e){var n={};return e=xwe(e),bwe(t,function(r,i,a){vwe(n,i,e(r,i,a))}),n}var Swe=wwe;const kwe=nt(Swe);function _we(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Awe=_we,Ewe=lP;function Cwe(t,e){var n=!0;return Ewe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Pwe=Cwe,Twe=Awe,Owe=Pwe,Iwe=fl,Mwe=Pr,Nwe=tw;function Rwe(t,e,n){var r=Mwe(t)?Twe:Owe;return n&&Nwe(t,e,n)&&(e=void 0),r(t,Iwe(e))}var Lwe=Rwe;const $5=nt(Lwe);var jwe=["x","y"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MA.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e,n){return e=$we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $we(t){var e=Fwe(t,"string");return Em(e)=="symbol"?e:e+""}function Fwe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bwe(t,e){if(t==null)return{};var n=zwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uwe(t,e){var n=t.x,r=t.y,i=Bwe(t,jwe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return $f($f($f($f($f({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function mR(t){return ne.createElement(Axe,MA({shapeType:"rectangle",propTransformer:Uwe,activeClassName:"recharts-active-bar"},t))}var Hwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ke(r)||nne(r);return a?e(r,i):(a||Je(!1),n)}},Wwe=["value","background"],F5;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function Vwe(t,e){if(t==null)return{};var n=Gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z5(r.key),r)}}function Xwe(t,e,n){return e&&yR(t.prototype,e),n&&yR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kwe(t,e,n){return e=P0(e),Ywe(t,B5()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function Ywe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zwe(t)}function Zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function Qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NA(t,e)}function zo(t,e,n){return e=z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5(t){var e=Jwe(t,"string");return Id(e)=="symbol"?e:e+""}function Jwe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pc=function(t){function e(){var n;qwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Kwe(this,e,[].concat(i)),zo(n,"state",{isAnimationFinished:!1}),zo(n,"id",oy("recharts-bar-")),zo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),zo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Qwe(e,t),Xwe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=Qe(this.props,!1);return r&&r.map(function(h,d){var f=d===l,g=f?u:s,p=Jt(Jt(Jt({},c),h),{},{isActive:f,option:g,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(qt,C0({className:"recharts-bar-rectangle"},Fb(i.props,h,d),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(d)}),ne.createElement(mR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state.prevData;return ne.createElement(Vs,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,p=a.map(function(v,y){var b=d&&d[y];if(b){var x=ta(b.x,v.x),k=ta(b.y,v.y),w=ta(b.width,v.width),S=ta(b.height,v.height);return Jt(Jt({},v),{},{x:x(g),y:k(g),width:w(g),height:S(g)})}if(s==="horizontal"){var A=ta(0,v.height),_=A(g);return Jt(Jt({},v),{},{y:v.y+v.height-_,height:_})}var E=ta(0,v.width),O=E(g);return Jt(Jt({},v),{},{width:O})});return ne.createElement(qt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!cw(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Qe(this.props.background,!1);return a.map(function(u,c){u.value;var h=u.background,d=Vwe(u,Wwe);if(!h)return null;var f=Jt(Jt(Jt(Jt(Jt({},d),{},{fill:"#eee"},h),l),Fb(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return ne.createElement(mR,C0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===o},f))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,h=Si(c,fy);if(!h)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,f=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Jr(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(qt,g,h.map(function(p){return ne.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:d,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,u=r.left,c=r.top,h=r.width,d=r.height,f=r.isAnimationActive,g=r.background,p=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=qe("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,k=b||x,w=Xe(p)?this.id:p;return ne.createElement(qt,{className:y},b||x?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(w)},ne.createElement("rect",{x:b?u:u-h/2,y:x?c:c-d/2,width:b?h:h*2,height:x?d:d*2}))):null,ne.createElement(qt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,w),(!f||v)&&Qo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);F5=pc;zo(pc,"displayName","Bar");zo(pc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(pc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,h=t.displayedData,d=t.offset,f=Aye(r,n);if(!f)return null;var g=e.layout,p=n.type.defaultProps,v=p!==void 0?Jt(Jt({},p),n.props):n.props,y=v.dataKey,b=v.children,x=v.minPointSize,k=g==="horizontal"?s:a,w=u?k.scale.domain():null,S=Nye({numericAxis:k}),A=Si(b,pz),_=h.map(function(E,O){var R,P,L,C,F,q;u?R=Eye(u[c+O],w):(R=Jr(E,y),Array.isArray(R)||(R=[S,R]));var B=Hwe(x,F5.defaultProps.minPointSize)(R[1],O);if(g==="horizontal"){var W,G=[s.scale(R[0]),s.scale(R[1])],M=G[0],V=G[1];P=bN({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:E,index:O}),L=(W=V??M)!==null&&W!==void 0?W:void 0,C=f.size;var U=M-V;if(F=Number.isNaN(U)?0:U,q={x:P,y:s.y,width:C,height:s.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var j=ra(F||B)*(Math.abs(B)-Math.abs(F));L-=j,F+=j}}else{var Q=[a.scale(R[0]),a.scale(R[1])],ae=Q[0],me=Q[1];if(P=ae,L=bN({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:E,index:O}),C=me-ae,F=f.size,q={x:a.x,y:L,width:a.width,height:F},Math.abs(B)>0&&Math.abs(C)<Math.abs(B)){var pe=ra(C||B)*(Math.abs(B)-Math.abs(C));C+=pe}}return Jt(Jt(Jt({},E),{},{x:P,y:L,width:C,height:F,value:u?R:R[1],payload:E,background:q},A&&A[O]&&A[O].props),{},{tooltipPayload:[b5(n,E)],tooltipPosition:{x:P+C/2,y:L+F/2}})});return Jt({data:_,layout:g},d)});function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function e1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U5(r.key),r)}}function t1e(t,e,n){return e&&vR(t.prototype,e),n&&vR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mw(t,e,n){return e=U5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5(t){var e=n1e(t,"string");return Cm(e)=="symbol"?e:e+""}function n1e(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H5=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!Wr(u,pc);return c.reduce(function(f,g){var p=n[g],v=p.orientation,y=p.domain,b=p.padding,x=b===void 0?{}:b,k=p.mirror,w=p.reversed,S="".concat(v).concat(k?"Mirror":""),A,_,E,O,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=y[1]-y[0],L=1/0,C=p.categoricalDomain.sort(ane);if(C.forEach(function(Q,ae){ae>0&&(L=Math.min((Q||0)-(C[ae-1]||0),L))}),Number.isFinite(L)){var F=L/P,q=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(A=F*q/2),p.padding==="no-gap"){var B=Zu(e.barCategoryGap,F*q),W=F*q/2;A=W-B-(W-B)/q*B}}}i==="xAxis"?_=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?_=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:_=p.range,w&&(_=[_[1],_[0]]);var G=kye(p,a,d),M=G.scale,V=G.realScaleType;M.domain(y).range(_),_ye(M);var U=Mye(M,Qi(Qi({},p),{},{realScaleType:V}));i==="xAxis"?(R=v==="top"&&!k||v==="bottom"&&k,E=r.left,O=h[S]-R*p.height):i==="yAxis"&&(R=v==="left"&&!k||v==="right"&&k,E=h[S]-R*p.width,O=r.top);var j=Qi(Qi(Qi({},p),U),{},{realScaleType:V,x:E,y:O,scale:M,width:i==="xAxis"?r.width:p.width,height:i==="yAxis"?r.height:p.height});return j.bandSize=p0(j,U),!p.hide&&i==="xAxis"?h[S]+=(R?-1:1)*j.height:p.hide||(h[S]+=(R?-1:1)*j.width),Qi(Qi({},f),{},mw({},g,j))},{})},W5=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},r1e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return W5({x:n,y:r},{x:i,y:a})},V5=function(){function t(e){e1e(this,t),this.scale=e}return t1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();mw(V5,"EPS",1e-4);var $P=function(e){var n=Object.keys(e).reduce(function(r,i){return Qi(Qi({},r),{},mw({},i,V5.create(e[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return kwe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return $5(i,function(a,s){return n[s].isInRange(a)})}})};function i1e(t){return(t%180+180)%180}var a1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=i1e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},s1e=fl,o1e=ly,l1e=Jx;function u1e(t){return function(e,n,r){var i=Object(e);if(!o1e(e)){var a=s1e(n);e=l1e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var c1e=u1e,h1e=R5;function d1e(t){var e=h1e(t),n=e%1;return e===e?n?e-n:e:0}var f1e=d1e,p1e=JB,m1e=fl,g1e=f1e,y1e=Math.max;function v1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:g1e(n);return i<0&&(i=y1e(r+i,0)),p1e(t,m1e(e),i)}var b1e=v1e,x1e=c1e,w1e=b1e,S1e=x1e(w1e),k1e=S1e;const _1e=nt(k1e);var A1e=lte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),FP=N.createContext(void 0),BP=N.createContext(void 0),G5=N.createContext(void 0),q5=N.createContext({}),X5=N.createContext(void 0),K5=N.createContext(0),Y5=N.createContext(0),xR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,c=A1e(a);return ne.createElement(FP.Provider,{value:r},ne.createElement(BP.Provider,{value:i},ne.createElement(q5.Provider,{value:a},ne.createElement(G5.Provider,{value:c},ne.createElement(X5.Provider,{value:s},ne.createElement(K5.Provider,{value:u},ne.createElement(Y5.Provider,{value:l},o)))))))},E1e=function(){return N.useContext(X5)},Z5=function(e){var n=N.useContext(FP);n==null&&Je(!1);var r=n[e];return r==null&&Je(!1),r},C1e=function(){var e=N.useContext(FP);return uo(e)},P1e=function(){var e=N.useContext(BP),n=_1e(e,function(r){return $5(r.domain,Number.isFinite)});return n||uo(e)},Q5=function(e){var n=N.useContext(BP);n==null&&Je(!1);var r=n[e];return r==null&&Je(!1),r},T1e=function(){var e=N.useContext(G5);return e},O1e=function(){return N.useContext(q5)},zP=function(){return N.useContext(Y5)},UP=function(){return N.useContext(K5)};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e4(r.key),r)}}function N1e(t,e,n){return e&&M1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R1e(t,e,n){return e=T0(e),L1e(t,J5()?Reflect.construct(e,n||[],T0(t).constructor):e.apply(t,n))}function L1e(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1e(t)}function j1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J5=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(t)}function D1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RA(t,e)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){HP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HP(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e4(t){var e=$1e(t,"string");return Md(e)=="symbol"?e:e+""}function $1e(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F1e(t,e){return H1e(t)||U1e(t,e)||z1e(t,e)||B1e()}function B1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1e(t,e){if(t){if(typeof t=="string")return kR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function H1e(t){if(Array.isArray(t))return t}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(this,arguments)}var W1e=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Ue(e)?r=e(n):r=ne.createElement("line",LA({},n,{className:"recharts-reference-line-line"})),r},V1e=function(e,n,r,i,a,s,o,l,u){var c=a.x,h=a.y,d=a.width,f=a.height;if(r){var g=u.y,p=e.y.apply(g,{position:s});if(Ba(u,"discard")&&!e.y.isInRange(p))return null;var v=[{x:c+d,y:p},{x:c,y:p}];return l==="left"?v.reverse():v}if(n){var y=u.x,b=e.x.apply(y,{position:s});if(Ba(u,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:h+f},{x:b,y:h}];return o==="top"?x.reverse():x}if(i){var k=u.segment,w=k.map(function(S){return e.apply(S,{position:s})});return Ba(u,"discard")&&mwe(w,function(S){return!e.isInRange(S)})?null:w}return null};function G1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=E1e(),c=Z5(i),h=Q5(a),d=T1e();if(!u||!d)return null;Rs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$P({x:c.scale,y:h.scale}),g=mn(e),p=mn(n),v=r&&r.length===2,y=V1e(f,g,p,v,d,t.position,c.orientation,h.orientation,t);if(!y)return null;var b=F1e(y,2),x=b[0],k=x.x,w=x.y,S=b[1],A=S.x,_=S.y,E=Ba(t,"hidden")?"url(#".concat(u,")"):void 0,O=SR(SR({clipPath:E},Qe(t,!0)),{},{x1:k,y1:w,x2:A,y2:_});return ne.createElement(qt,{className:qe("recharts-reference-line",o)},W1e(s,O),Xn.renderCallByParent(t,r1e({x1:k,y1:w,x2:A,y2:_})))}var WP=function(t){function e(){return I1e(this,e),R1e(this,e,arguments)}return D1e(e,t),N1e(e,[{key:"render",value:function(){return ne.createElement(G1e,this.props)}}])}(ne.Component);HP(WP,"displayName","ReferenceLine");HP(WP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(this,arguments)}function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function K1e(t,e,n){return e&&X1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y1e(t,e,n){return e=O0(e),Z1e(t,t4()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function Z1e(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(t)}function Q1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function J1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DA(t,e)}function gw(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4(t){var e=eSe(t,"string");return Nd(e)=="symbol"?e:e+""}function eSe(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tSe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=$P({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Ba(e,"discard")&&!s.isInRange(o)?null:o},yw=function(t){function e(){return q1e(this,e),Y1e(this,e,arguments)}return J1e(e,t),K1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,u=mn(i),c=mn(a);if(Rs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var h=tSe(this.props);if(!h)return null;var d=h.x,f=h.y,g=this.props,p=g.shape,v=g.className,y=Ba(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=AR(AR({clipPath:y},Qe(this.props,!0)),{},{cx:d,cy:f});return ne.createElement(qt,{className:qe("recharts-reference-dot",v)},e.renderDot(p,b),Xn.renderCallByParent(this.props,{x:d-s,y:f-s,width:2*s,height:2*s}))}}])}(ne.Component);gw(yw,"displayName","ReferenceDot");gw(yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gw(yw,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Ue(t)?n=t(e):n=ne.createElement(DP,jA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i4(r.key),r)}}function iSe(t,e,n){return e&&rSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aSe(t,e,n){return e=I0(e),sSe(t,r4()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function sSe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oSe(t)}function oSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function lSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FA(t,e)}function vw(t,e,n){return e=i4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i4(t){var e=uSe(t,"string");return Rd(e)=="symbol"?e:e+""}function uSe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cSe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,h=a.yAxis;if(!c||!h)return null;var d=$P({x:c.scale,y:h.scale}),f={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Ba(a,"discard")&&(!d.isInRange(f)||!d.isInRange(g))?null:W5(f,g)},bw=function(t){function e(){return nSe(this,e),aSe(this,e,arguments)}return lSe(e,t),iSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Rs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=mn(i),d=mn(a),f=mn(s),g=mn(o),p=this.props.shape;if(!h&&!d&&!f&&!g&&!p)return null;var v=cSe(h,d,f,g,this.props);if(!v&&!p)return null;var y=Ba(this.props,"hidden")?"url(#".concat(c,")"):void 0;return ne.createElement(qt,{className:qe("recharts-reference-area",l)},e.renderRect(p,CR(CR({clipPath:y},Qe(this.props,!0)),v)),Xn.renderCallByParent(this.props,v))}}])}(ne.Component);vw(bw,"displayName","ReferenceArea");vw(bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vw(bw,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Ue(t)?n=t(e):n=ne.createElement(jP,$A({},e,{className:"recharts-reference-area-rect"})),n});function a4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function hSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return a1e(r,n)}function dSe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function M0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function fSe(t,e){return a4(t,e+1)}function pSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,u=1,c=s,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:a4(r,u)};var p=l,v,y=function(){return v===void 0&&(v=n(g,p)),v},b=g.coordinate,x=l===0||M0(t,b,y,c,o);x||(l=0,c=s,u+=1),x&&(c=b+t*(y()/2+i),l+=u)},d;u<=a.length;)if(d=h(),d)return d.v;return[]}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){mSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mSe(t,e,n){return e=gSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t){var e=ySe(t,"string");return Pm(e)=="symbol"?e:e+""}function ySe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vSe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(d){var f=a[d],g,p=function(){return g===void 0&&(g=n(f,d)),g};if(d===s-1){var v=t*(f.coordinate+t*p()/2-l);a[d]=f=Gn(Gn({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate})}else a[d]=f=Gn(Gn({},f),{},{tickCoord:f.coordinate});var y=M0(t,f.tickCoord,p,o,l);y&&(l=f.tickCoord-t*(p()/2+i),a[d]=Gn(Gn({},f),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function bSe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var c=r[o-1],h=n(c,o-1),d=t*(c.coordinate+t*h/2-u);s[o-1]=c=Gn(Gn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var f=M0(t,c.tickCoord,function(){return h},l,u);f&&(u=c.tickCoord-t*(h/2+i),s[o-1]=Gn(Gn({},c),{},{isShow:!0}))}for(var g=a?o-1:o,p=function(b){var x=s[b],k,w=function(){return k===void 0&&(k=n(x,b)),k};if(b===0){var S=t*(x.coordinate-t*w()/2-l);s[b]=x=Gn(Gn({},x),{},{tickCoord:S<0?x.coordinate-S*t:x.coordinate})}else s[b]=x=Gn(Gn({},x),{},{tickCoord:x.coordinate});var A=M0(t,x.tickCoord,w,l,u);A&&(l=x.tickCoord+t*(w()/2+i),s[b]=Gn(Gn({},x),{},{isShow:!0}))},v=0;v<g;v++)p(v);return s}function VP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ke(l)||sf.isSsr)return fSe(i,typeof l=="number"&&ke(l)?l:0);var d=[],f=o==="top"||o==="bottom"?"width":"height",g=c&&f==="width"?wp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(x,k){var w=Ue(u)?u(x.value,k):x.value;return f==="width"?hSe(wp(w,{fontSize:e,letterSpacing:n}),g,h):wp(w,{fontSize:e,letterSpacing:n})[f]},v=i.length>=2?ra(i[1].coordinate-i[0].coordinate):1,y=dSe(a,v,f);return l==="equidistantPreserveStart"?pSe(v,y,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=bSe(v,y,p,i,s,l==="preserveStartEnd"):d=vSe(v,y,p,i,s),d.filter(function(b){return b.isShow}))}var xSe=["viewBox"],wSe=["viewBox"],SSe=["ticks"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){GP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function ASe(t,e,n){return e&&OR(t.prototype,e),n&&OR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ESe(t,e,n){return e=N0(e),CSe(t,s4()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function CSe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(t)}function PSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function TSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BA(t,e)}function GP(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=OSe(t,"string");return Ld(e)=="symbol"?e:e+""}function OSe(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cf=function(t){function e(n){var r;return _Se(this,e),r=ESe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return TSe(e,t),ASe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=H1(r,xSe),o=this.props,l=o.viewBox,u=H1(o,wSe);return!uh(a,l)||!uh(s,u)||!uh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,h=i.mirror,d=i.tickMargin,f,g,p,v,y,b,x=h?-1:1,k=r.tickSize||c,w=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":f=g=r.coordinate,v=s+ +!h*l,p=v-x*k,b=p-x*d,y=w;break;case"left":p=v=r.coordinate,g=a+ +!h*o,f=g-x*k,y=f-x*d,b=w;break;case"right":p=v=r.coordinate,g=a+ +h*o,f=g+x*k,y=f+x*d,b=w;break;default:f=g=r.coordinate,v=s+ +h*l,p=v+x*k,b=p+x*d,y=w;break}return{line:{x1:f,y1:p,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,h=an(an(an({},Qe(this.props,!1)),Qe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);h=an(an({},h),{},{x1:i,y1:a+d*o,x2:i+s,y2:a+d*o})}else{var f=+(l==="left"&&!u||l==="right"&&u);h=an(an({},h),{},{x1:i+f*s,y1:a,x2:i+f*s,y2:a+o})}return ne.createElement("line",Xc({},h,{className:qe("recharts-cartesian-axis-line",wi(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,h=o.tickFormatter,d=o.unit,f=VP(an(an({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Qe(this.props,!1),y=Qe(c,!1),b=an(an({},v),{},{fill:"none"},Qe(l,!1)),x=f.map(function(k,w){var S=s.getTickLineCoord(k),A=S.line,_=S.tick,E=an(an(an(an({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),_),{},{index:w,payload:k,visibleTicksCount:f.length,tickFormatter:h});return ne.createElement(qt,Xc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Fb(s.props,k,w)),l&&ne.createElement("line",Xc({},b,A,{className:qe("recharts-cartesian-axis-tick-line",wi(l,"className"))})),c&&e.renderTickItem(c,E,"".concat(Ue(h)?h(k.value,w):k.value).concat(d||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var h=this.props,d=h.ticks,f=H1(h,SSe),g=d;return Ue(l)&&(g=d&&d.length>0?l(this.props):l(f)),s<=0||o<=0||!g||!g.length?null:ne.createElement(qt,{className:qe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=qe(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?s=ne.cloneElement(r,an(an({},i),{},{className:o})):Ue(r)?s=r(an(an({},i),{},{className:o})):s=ne.createElement(Jb,Xc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(N.Component);GP(cf,"displayName","CartesianAxis");GP(cf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ISe=["x1","y1","x2","y2","key"],MSe=["offset"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){NSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NSe(t,e,n){return e=RSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=LSe(t,"string");return Ju(e)=="symbol"?e:e+""}function LSe(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}function MR(t,e){if(t==null)return{};var n=jSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function l4(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=MR(e,ISe),u=Qe(l,!1);u.offset;var c=MR(u,MSe);n=ne.createElement("line",$l({},c,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function $Se(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Kn(Kn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return l4(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function FSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Kn(Kn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return l4(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function BSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=o.map(function(d){return Math.round(d+i-i)}).sort(function(d,f){return d-f});i!==c[0]&&c.unshift(0);var h=c.map(function(d,f){var g=!c[f+1],p=g?i+s-d:c[f+1]-d;if(p<=0)return null;var v=f%e.length;return ne.createElement("rect",{key:"react-".concat(f),y:d,x:r,height:p,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function zSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,f){return d-f});a!==c[0]&&c.unshift(0);var h=c.map(function(d,f){var g=!c[f+1],p=g?a+o-d:c[f+1]-d;if(p<=0)return null;var v=f%r.length;return ne.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:p,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var USe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return y5(VP(Kn(Kn(Kn({},cf.defaultProps),r),{},{ticks:Os(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},HSe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return y5(VP(Kn(Kn(Kn({},cf.defaultProps),r),{},{ticks:Os(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},kc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zA(t){var e,n,r,i,a,s,o=zP(),l=UP(),u=O1e(),c=Kn(Kn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:kc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:kc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:kc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:kc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:kc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:kc.verticalFill,x:ke(t.x)?t.x:u.left,y:ke(t.y)?t.y:u.top,width:ke(t.width)?t.width:u.width,height:ke(t.height)?t.height:u.height}),h=c.x,d=c.y,f=c.width,g=c.height,p=c.syncWithTicks,v=c.horizontalValues,y=c.verticalValues,b=C1e(),x=P1e();if(!ke(f)||f<=0||!ke(g)||g<=0||!ke(h)||h!==+h||!ke(d)||d!==+d)return null;var k=c.verticalCoordinatesGenerator||USe,w=c.horizontalCoordinatesGenerator||HSe,S=c.horizontalPoints,A=c.verticalPoints;if((!S||!S.length)&&Ue(w)){var _=v&&v.length,E=w({yAxis:x?Kn(Kn({},x),{},{ticks:_?v:x.ticks}):void 0,width:o,height:l,offset:u},_?!0:p);Rs(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ju(E),"]")),Array.isArray(E)&&(S=E)}if((!A||!A.length)&&Ue(k)){var O=y&&y.length,R=k({xAxis:b?Kn(Kn({},b),{},{ticks:O?y:b.ticks}):void 0,width:o,height:l,offset:u},O?!0:p);Rs(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ju(R),"]")),Array.isArray(R)&&(A=R)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(DSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),ne.createElement($Se,$l({},c,{offset:u,horizontalPoints:S,xAxis:b,yAxis:x})),ne.createElement(FSe,$l({},c,{offset:u,verticalPoints:A,xAxis:b,yAxis:x})),ne.createElement(BSe,$l({},c,{horizontalPoints:S})),ne.createElement(zSe,$l({},c,{verticalPoints:A})))}zA.displayName="CartesianGrid";var WSe=["type","layout","connectNulls","ref"],VSe=["key"];function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function NR(t,e){if(t==null)return{};var n=GSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _c(t){return YSe(t)||KSe(t)||XSe(t)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(t,e){if(t){if(typeof t=="string")return UA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(t,e)}}function KSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YSe(t){if(Array.isArray(t))return UA(t)}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function QSe(t,e,n){return e&&LR(t.prototype,e),n&&LR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JSe(t,e,n){return e=R0(e),eke(t,u4()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function eke(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tke(t)}function tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function nke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HA(t,e)}function Ji(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=rke(t,"string");return jd(e)=="symbol"?e:e+""}function rke(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var py=function(t){function e(){var n;ZSe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=JSe(this,e,[].concat(i)),Ji(n,"state",{isAnimationFinished:!0,totalLength:0}),Ji(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ji(n,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(y,b){return y+b});if(!u)return n.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),h=s%u,d=o-s,f=[],g=0,p=0;g<l.length;p+=l[g],++g)if(p+l[g]>h){f=[].concat(_c(l.slice(0,g)),[h-p]);break}var v=f.length%2===0?[0,d]:[d];return[].concat(_c(e.repeat(l,c)),_c(f),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Ji(n,"id",oy("recharts-line-")),Ji(n,"pathRef",function(s){n.mainCurve=s}),Ji(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ji(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return nke(e,t),QSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,h=Si(c,fy);if(!h)return null;var d=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Jr(p.payload,v)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(qt,f,h.map(function(g){return ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,h=Qe(this.props,!1),d=Qe(l,!0),f=u.map(function(p,v){var y=Mr(Mr(Mr({key:"dot-".concat(v),r:3},h),d),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:c,payload:p.payload,points:u});return e.renderDotItem(l,y)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(qt,Ap({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var h=NR(o,WSe),d=Mr(Mr(Mr({},Qe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return ne.createElement(bA,Ap({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,h=s.animationDuration,d=s.animationEasing,f=s.animationId,g=s.animateNewValues,p=s.width,v=s.height,y=this.state,b=y.prevPoints,x=y.totalLength;return ne.createElement(Vs,{begin:c,duration:h,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var w=k.t;if(b){var S=b.length/o.length,A=o.map(function(P,L){var C=Math.floor(L*S);if(b[C]){var F=b[C],q=ta(F.x,P.x),B=ta(F.y,P.y);return Mr(Mr({},P),{},{x:q(w),y:B(w)})}if(g){var W=ta(p*2,P.x),G=ta(v/2,P.y);return Mr(Mr({},P),{},{x:W(w),y:G(w)})}return Mr(Mr({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(A,r,i)}var _=ta(0,x),E=_(w),O;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});O=a.getStrokeDasharray(E,x,R)}else O=a.generateSimpleStrokeDasharray(x,E);return a.renderCurveStatically(o,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!cw(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,h=i.top,d=i.left,f=i.width,g=i.height,p=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=qe("recharts-line",l),k=u&&u.allowDataOverflow,w=c&&c.allowDataOverflow,S=k||w,A=Xe(v)?this.id:v,_=(r=Qe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=_.r,O=E===void 0?3:E,R=_.strokeWidth,P=R===void 0?2:R,L=pne(s)?s:{},C=L.clipDot,F=C===void 0?!0:C,q=O*2+P;return ne.createElement(qt,{className:x},k||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(A)},ne.createElement("rect",{x:k?d:d-f/2,y:w?h:h-g/2,width:k?f:f*2,height:w?g:g*2})),!F&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ne.createElement("rect",{x:d-q/2,y:h-q/2,width:f+q,height:g+q}))):null,!b&&this.renderCurve(S,A),this.renderErrorBar(S,A),(b||s)&&this.renderDots(S,F,A),(!p||y)&&Qo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(_c(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(_c(s),_c(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(ne.isValidElement(r))a=ne.cloneElement(r,i);else if(Ue(r))a=r(i);else{var s=i.key,o=NR(i,VSe),l=qe("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ne.createElement(DP,Ap({key:s},o,{className:l}))}return a}}])}(N.PureComponent);Ji(py,"displayName","Line");Ji(py,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ji(py,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,h=l.map(function(d,f){var g=Jr(d,s);return c==="horizontal"?{x:vN({axis:n,ticks:i,bandSize:o,entry:d,index:f}),y:Xe(g)?null:r.scale(g),value:g,payload:d}:{x:Xe(g)?null:n.scale(g),y:vN({axis:r,ticks:a,bandSize:o,entry:d,index:f}),value:g,payload:d}});return Mr({points:h,layout:c},u)});function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function ike(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ake(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function ske(t,e,n){return e&&ake(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oke(t,e,n){return e=L0(e),lke(t,h4()?Reflect.construct(e,n||[],L0(t).constructor):e.apply(t,n))}function lke(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uke(t)}function uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(t)}function cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function d4(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=hke(t,"string");return Dd(e)=="symbol"?e:e+""}function hke(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VA(){return VA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VA.apply(this,arguments)}function dke(t){var e=t.xAxisId,n=zP(),r=UP(),i=Z5(e);return i==null?null:N.createElement(cf,VA({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Os(s,!0)}}))}var $d=function(t){function e(){return ike(this,e),oke(this,e,arguments)}return cke(e,t),ske(e,[{key:"render",value:function(){return N.createElement(dke,this.props)}}])}(N.Component);d4($d,"displayName","XAxis");d4($d,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function fke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function mke(t,e,n){return e&&pke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,n){return e=j0(e),yke(t,p4()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function yke(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vke(t)}function vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function m4(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=xke(t,"string");return Fd(e)=="symbol"?e:e+""}function xke(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}var wke=function(e){var n=e.yAxisId,r=zP(),i=UP(),a=Q5(n);return a==null?null:N.createElement(cf,qA({},a,{className:qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Os(o,!0)}}))},Bd=function(t){function e(){return fke(this,e),gke(this,e,arguments)}return bke(e,t),mke(e,[{key:"render",value:function(){return N.createElement(wke,this.props)}}])}(N.Component);m4(Bd,"displayName","YAxis");m4(Bd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jR(t){return Ake(t)||_ke(t)||kke(t)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kke(t,e){if(t){if(typeof t=="string")return XA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XA(t,e)}}function _ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ake(t){if(Array.isArray(t))return XA(t)}function XA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KA=function(e,n,r,i,a){var s=Si(e,WP),o=Si(e,yw),l=[].concat(jR(s),jR(o)),u=Si(e,bw),c="".concat(i,"Id"),h=i[0],d=n;if(l.length&&(d=l.reduce(function(p,v){if(v.props[c]===r&&Ba(v.props,"extendDomain")&&ke(v.props[h])){var y=v.props[h];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},d)),u.length){var f="".concat(h,"1"),g="".concat(h,"2");d=u.reduce(function(p,v){if(v.props[c]===r&&Ba(v.props,"extendDomain")&&ke(v.props[f])&&ke(v.props[g])){var y=v.props[f],b=v.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},d)}return a&&a.length&&(d=a.reduce(function(p,v){return ke(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},d)),d},y4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,g=new Array(f);d<f;d++)g[d]=h[d].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,d,f,g){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,f),!0;case 6:return v.fn.call(v.context,c,h,d,f,g),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var k=v.length,w;for(x=0;x<k;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,h);break;case 4:v[x].fn.call(v[x].context,c,h,d);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return s(this,f),this;var g=this._events[f];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&s(this,f);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==c||d&&!g[p].once||h&&g[p].context!==h)&&v.push(g[p]);v.length?this._events[f]=v.length===1?v[0]:v:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(y4);var Eke=y4.exports;const Cke=nt(Eke);var W1=new Cke,V1="recharts.syncMouseEvents";function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function Pke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function Oke(t,e,n){return e&&Tke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G1(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=Ike(t,"string");return Tm(e)=="symbol"?e:e+""}function Ike(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mke=function(){function t(){Pke(this,t),G1(this,"activeIndex",0),G1(this,"coordinateList",[]),G1(this,"layout","horizontal")}return Oke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,h=c===void 0?null:c,d=n.mouseHandlerCallback,f=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+l+u,d=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:h,pageY:d})}}}])}();function Nke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function Rke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function b4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Rn(e,n,r,i),o=Rn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Lke(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,h=e.angle,d=Rn(o,l,u,h),f=Rn(o,l,c,h);r=d.x,i=d.y,a=f.x,s=f.y}else return b4(e);return[{x:r,y:i},{x:a,y:s}]}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){jke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jke(t,e,n){return e=Dke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dke(t){var e=$ke(t,"string");return Om(e)=="symbol"?e:e+""}function $ke(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fke(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,h=t.layout,d=t.chartName,f=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!a||!s||d!=="ScatterChart"&&i!=="axis")return null;var g,p=bA;if(d==="ScatterChart")g=s,p=F0e;else if(d==="BarChart")g=Rke(h,s,l,c),p=jP;else if(h==="radial"){var v=b4(s),y=v.cx,b=v.cy,x=v.radius,k=v.startAngle,w=v.endAngle;g={cx:y,cy:b,startAngle:k,endAngle:w,innerRadius:x,outerRadius:x},p=S5}else g={points:Lke(h,s,l)},p=bA;var S=av(av(av(av({stroke:"#ccc",pointerEvents:"none"},l),g),Qe(f,!1)),{},{payload:o,payloadIndex:u,className:qe("recharts-tooltip-cursor",f.className)});return N.isValidElement(f)?N.cloneElement(f,S):N.createElement(p,S)}var Bke=["item"],zke=["children","className","width","height","style","compact","title","desc"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function $R(t,e){return Wke(t)||Hke(t,e)||w4(t,e)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Wke(t){if(Array.isArray(t))return t}function FR(t,e){if(t==null)return{};var n=Vke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S4(r.key),r)}}function Xke(t,e,n){return e&&qke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kke(t,e,n){return e=D0(e),Yke(t,x4()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function Yke(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zke(t)}function Zke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function Qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function Ud(t){return t_e(t)||e_e(t)||w4(t)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}}function e_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t_e(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Me(t,e,n){return e=S4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4(t){var e=n_e(t,"string");return zd(e)=="symbol"?e:e+""}function n_e(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r_e={xAxis:["bottom","top"],yAxis:["left","right"]},i_e={width:"100%",height:"100%"},k4={x:0,y:0};function sv(t){return t}var a_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},s_e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return he(he(he({},i),Rn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return he(he(he({},i),Rn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return k4},xw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Ud(o),Ud(u)):o},[]);return s.length>0?s:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function _4(t){return t==="number"?[0,"auto"]:void 0}var QA=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=xw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,u){var c,h=(c=u.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var f=h===void 0?o:h;d=Db(f,s.dataKey,i)}else d=h&&h[r]||o[r];return d?[].concat(Ud(l),[b5(u,d)]):l},[])},zR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=a_e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=yye(s,o,u,l);if(c>=0&&u){var h=u[c]&&u[c].value,d=QA(e,n,c,h),f=s_e(r,o,c,a);return{activeTooltipIndex:c,activeLabel:h,activePayload:d,activeCoordinate:f}}return null},o_e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=e.stackOffset,f=g5(c,a);return r.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?he(he({},p.type.defaultProps),p.props):p.props,b=y.type,x=y.dataKey,k=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,A=y.ticks,_=y.includeHidden,E=y[s];if(g[E])return g;var O=xw(e.data,{graphicalItems:i.filter(function(U){var j,Q=s in U.props?U.props[s]:(j=U.type.defaultProps)===null||j===void 0?void 0:j[s];return Q===E}),dataStartIndex:l,dataEndIndex:u}),R=O.length,P,L,C;Nke(y.domain,k,b)&&(P=pA(y.domain,null,k),f&&(b==="number"||S!=="auto")&&(C=kp(O,x,"category")));var F=_4(b);if(!P||P.length===0){var q,B=(q=y.domain)!==null&&q!==void 0?q:F;if(x){if(P=kp(O,x,b),b==="category"&&f){var W=ine(P);w&&W?(L=P,P=_0(0,R)):w||(P=SN(B,P,p).reduce(function(U,j){return U.indexOf(j)>=0?U:[].concat(Ud(U),[j])},[]))}else if(b==="category")w?P=P.filter(function(U){return U!==""&&!Xe(U)}):P=SN(B,P,p).reduce(function(U,j){return U.indexOf(j)>=0||j===""||Xe(j)?U:[].concat(Ud(U),[j])},[]);else if(b==="number"){var G=Sye(O,i.filter(function(U){var j,Q,ae=s in U.props?U.props[s]:(j=U.type.defaultProps)===null||j===void 0?void 0:j[s],me="hide"in U.props?U.props.hide:(Q=U.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ae===E&&(_||!me)}),x,a,c);G&&(P=G)}f&&(b==="number"||S!=="auto")&&(C=kp(O,x,"category"))}else f?P=_0(0,R):o&&o[E]&&o[E].hasStack&&b==="number"?P=d==="expand"?[0,1]:v5(o[E].stackGroups,l,u):P=m5(O,i.filter(function(U){var j=s in U.props?U.props[s]:U.type.defaultProps[s],Q="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return j===E&&(_||!Q)}),b,c,!0);if(b==="number")P=KA(h,P,E,a,A),B&&(P=pA(B,P,k));else if(b==="category"&&B){var M=B,V=P.every(function(U){return M.indexOf(U)>=0});V&&(P=M)}}return he(he({},g),{},Me({},E,he(he({},y),{},{axisType:a,domain:P,categoricalDomain:C,duplicateDomain:L,originalDomain:(v=y.domain)!==null&&v!==void 0?v:F,isCategorical:f,layout:c})))},{})},l_e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=xw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),f=d.length,g=g5(c,a),p=-1;return r.reduce(function(v,y){var b=y.type.defaultProps!==void 0?he(he({},y.type.defaultProps),y.props):y.props,x=b[s],k=_4("number");if(!v[x]){p++;var w;return g?w=_0(0,f):o&&o[x]&&o[x].hasStack?(w=v5(o[x].stackGroups,l,u),w=KA(h,w,x,a)):(w=pA(k,m5(d,r.filter(function(S){var A,_,E=s in S.props?S.props[s]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[s],O="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return E===x&&!O}),"number",c),i.defaultProps.allowDataOverflow),w=KA(h,w,x,a)),he(he({},v),{},Me({},x,he(he({axisType:a},i.defaultProps),{},{hide:!0,orientation:wi(r_e,"".concat(a,".").concat(p%2),null),domain:w,originalDomain:k,isCategorical:g,layout:c})))}return v},{})},u_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),d=Si(c,a),f={};return d&&d.length?f=o_e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(f=l_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),f},c_e=function(e){var n=uo(e),r=Os(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:uP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:p0(n,r)}},UR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wr(n,Od),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},h_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ns(n&&n.type);return r&&r.indexOf("Bar")>=0})},HR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},d_e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,c=r.height,h=r.children,d=r.margin||{},f=Wr(h,Od),g=Wr(h,ch),p=Object.keys(l).reduce(function(w,S){var A=l[S],_=A.orientation;return!A.mirror&&!A.hide?he(he({},w),{},Me({},_,w[_]+A.width)):w},{left:d.left||0,right:d.right||0}),v=Object.keys(s).reduce(function(w,S){var A=s[S],_=A.orientation;return!A.mirror&&!A.hide?he(he({},w),{},Me({},_,wi(w,"".concat(_))+A.height)):w},{top:d.top||0,bottom:d.bottom||0}),y=he(he({},v),p),b=y.bottom;f&&(y.bottom+=f.props.height||Od.defaultProps.height),g&&n&&(y=xye(y,i,r,n));var x=u-y.left-y.right,k=c-y.top-y.bottom;return he(he({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(k,0)})},f_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},A4=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,d=function(y,b){var x=b.graphicalItems,k=b.stackGroups,w=b.offset,S=b.updateId,A=b.dataStartIndex,_=b.dataEndIndex,E=y.barSize,O=y.layout,R=y.barGap,P=y.barCategoryGap,L=y.maxBarSize,C=HR(O),F=C.numericAxisName,q=C.cateAxisName,B=h_e(x),W=[];return x.forEach(function(G,M){var V=xw(y.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:_}),U=G.type.defaultProps!==void 0?he(he({},G.type.defaultProps),G.props):G.props,j=U.dataKey,Q=U.maxBarSize,ae=U["".concat(F,"Id")],me=U["".concat(q,"Id")],pe={},ue=l.reduce(function(ce,te){var ye=b["".concat(te.axisType,"Map")],we=U["".concat(te.axisType,"Id")];ye&&ye[we]||te.axisType==="zAxis"||Je(!1);var ge=ye[we];return he(he({},ce),{},Me(Me({},te.axisType,ge),"".concat(te.axisType,"Ticks"),Os(ge)))},pe),re=ue[q],de=ue["".concat(q,"Ticks")],fe=k&&k[ae]&&k[ae].hasStack&&Rye(G,k[ae].stackGroups),ie=Ns(G.type).indexOf("Bar")>=0,Se=p0(re,de),I=[],ee=B&&vye({barSize:E,stackGroups:k,totalSize:f_e(ue,q)});if(ie){var K,X,H=Xe(Q)?L:Q,Y=(K=(X=p0(re,de,!0))!==null&&X!==void 0?X:H)!==null&&K!==void 0?K:0;I=bye({barGap:R,barCategoryGap:P,bandSize:Y!==Se?Y:Se,sizeList:ee[me],maxBarSize:H}),Y!==Se&&(I=I.map(function(ce){return he(he({},ce),{},{position:he(he({},ce.position),{},{offset:ce.position.offset-Y/2})})}))}var se=G&&G.type&&G.type.getComposedData;se&&W.push({props:he(he({},se(he(he({},ue),{},{displayedData:V,props:y,dataKey:j,item:G,bandSize:Se,barPosition:I,offset:w,stackedData:fe,layout:O,dataStartIndex:A,dataEndIndex:_}))),{},Me(Me(Me({key:G.key||"item-".concat(M)},F,ue[F]),q,ue[q]),"animationId",S)),childIndex:yne(G,y.children),item:G})}),W},f=function(y,b){var x=y.props,k=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!mI({props:x}))return null;var A=x.children,_=x.layout,E=x.stackOffset,O=x.data,R=x.reverseStackOrder,P=HR(_),L=P.numericAxisName,C=P.cateAxisName,F=Si(A,r),q=Iye(O,F,"".concat(L,"Id"),"".concat(C,"Id"),E,R),B=l.reduce(function(U,j){var Q="".concat(j.axisType,"Map");return he(he({},U),{},Me({},Q,u_e(x,he(he({},j),{},{graphicalItems:F,stackGroups:j.axisType===L&&q,dataStartIndex:k,dataEndIndex:w}))))},{}),W=d_e(he(he({},B),{},{props:x,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(U){B[U]=c(x,B[U],W,U.replace("Map",""),n)});var G=B["".concat(C,"Map")],M=c_e(G),V=d(x,he(he({},B),{},{dataStartIndex:k,dataEndIndex:w,updateId:S,graphicalItems:F,stackGroups:q,offset:W}));return he(he({formattedGraphicalItems:V,graphicalItems:F,offset:W,stackGroups:q},M),B)},g=function(v){function y(b){var x,k,w;return Gke(this,y),w=Kke(this,y,[b]),Me(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(w,"accessibilityManager",new Mke),Me(w,"handleLegendBBoxUpdate",function(S){if(S){var A=w.state,_=A.dataStartIndex,E=A.dataEndIndex,O=A.updateId;w.setState(he({legendBBox:S},f({props:w.props,dataStartIndex:_,dataEndIndex:E,updateId:O},he(he({},w.state),{},{legendBBox:S}))))}}),Me(w,"handleReceiveSyncEvent",function(S,A,_){if(w.props.syncId===S){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),Me(w,"handleBrushChange",function(S){var A=S.startIndex,_=S.endIndex;if(A!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return he({dataStartIndex:A,dataEndIndex:_},f({props:w.props,dataStartIndex:A,dataEndIndex:_,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:_})}}),Me(w,"handleMouseEnter",function(S){var A=w.getMouseInfo(S);if(A){var _=he(he({},A),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var E=w.props.onMouseEnter;Ue(E)&&E(_,S)}}),Me(w,"triggeredAfterMouseMove",function(S){var A=w.getMouseInfo(S),_=A?he(he({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var E=w.props.onMouseMove;Ue(E)&&E(_,S)}),Me(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Me(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Me(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Me(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var _=w.props.onMouseLeave;Ue(_)&&_(A,S)}),Me(w,"handleOuterEvent",function(S){var A=gne(S),_=wi(w.props,"".concat(A));if(A&&Ue(_)){var E,O;/.*touch.*/i.test(A)?O=w.getMouseInfo(S.changedTouches[0]):O=w.getMouseInfo(S),_((E=O)!==null&&E!==void 0?E:{},S)}}),Me(w,"handleClick",function(S){var A=w.getMouseInfo(S);if(A){var _=he(he({},A),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var E=w.props.onClick;Ue(E)&&E(_,S)}}),Me(w,"handleMouseDown",function(S){var A=w.props.onMouseDown;if(Ue(A)){var _=w.getMouseInfo(S);A(_,S)}}),Me(w,"handleMouseUp",function(S){var A=w.props.onMouseUp;if(Ue(A)){var _=w.getMouseInfo(S);A(_,S)}}),Me(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Me(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Me(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Me(w,"handleDoubleClick",function(S){var A=w.props.onDoubleClick;if(Ue(A)){var _=w.getMouseInfo(S);A(_,S)}}),Me(w,"handleContextMenu",function(S){var A=w.props.onContextMenu;if(Ue(A)){var _=w.getMouseInfo(S);A(_,S)}}),Me(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&W1.emit(V1,w.props.syncId,S,w.eventEmitterSymbol)}),Me(w,"applySyncEvent",function(S){var A=w.props,_=A.layout,E=A.syncMethod,O=w.state.updateId,R=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(he({dataStartIndex:R,dataEndIndex:P},f({props:w.props,dataStartIndex:R,dataEndIndex:P,updateId:O},w.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,C=S.chartY,F=S.activeTooltipIndex,q=w.state,B=q.offset,W=q.tooltipTicks;if(!B)return;if(typeof E=="function")F=E(W,S);else if(E==="value"){F=-1;for(var G=0;G<W.length;G++)if(W[G].value===S.activeLabel){F=G;break}}var M=he(he({},B),{},{x:B.left,y:B.top}),V=Math.min(L,M.x+M.width),U=Math.min(C,M.y+M.height),j=W[F]&&W[F].value,Q=QA(w.state,w.props.data,F),ae=W[F]?{x:_==="horizontal"?W[F].coordinate:V,y:_==="horizontal"?U:W[F].coordinate}:k4;w.setState(he(he({},S),{},{activeLabel:j,activeCoordinate:ae,activePayload:Q,activeTooltipIndex:F}))}else w.setState(S)}),Me(w,"renderCursor",function(S){var A,_=w.state,E=_.isTooltipActive,O=_.activeCoordinate,R=_.activePayload,P=_.offset,L=_.activeTooltipIndex,C=_.tooltipAxisBandSize,F=w.getTooltipEventType(),q=(A=S.props.active)!==null&&A!==void 0?A:E,B=w.props.layout,W=S.key||"_recharts-cursor";return ne.createElement(Fke,{key:W,activeCoordinate:O,activePayload:R,activeTooltipIndex:L,chartName:n,element:S,isActive:q,layout:B,offset:P,tooltipAxisBandSize:C,tooltipEventType:F})}),Me(w,"renderPolarAxis",function(S,A,_){var E=wi(S,"type.axisType"),O=wi(w.state,"".concat(E,"Map")),R=S.type.defaultProps,P=R!==void 0?he(he({},R),S.props):S.props,L=O&&O[P["".concat(E,"Id")]];return N.cloneElement(S,he(he({},L),{},{className:qe(E,L.className),key:S.key||"".concat(A,"-").concat(_),ticks:Os(L,!0)}))}),Me(w,"renderPolarGrid",function(S){var A=S.props,_=A.radialLines,E=A.polarAngles,O=A.polarRadius,R=w.state,P=R.radiusAxisMap,L=R.angleAxisMap,C=uo(P),F=uo(L),q=F.cx,B=F.cy,W=F.innerRadius,G=F.outerRadius;return N.cloneElement(S,{polarAngles:Array.isArray(E)?E:Os(F,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(O)?O:Os(C,!0).map(function(M){return M.coordinate}),cx:q,cy:B,innerRadius:W,outerRadius:G,key:S.key||"polar-grid",radialLines:_})}),Me(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,A=w.props,_=A.children,E=A.width,O=A.height,R=w.props.margin||{},P=E-(R.left||0)-(R.right||0),L=f5({children:_,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!L)return null;var C=L.item,F=FR(L,Bke);return N.cloneElement(C,he(he({},F),{},{chartWidth:E,chartHeight:O,margin:R,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Me(w,"renderTooltip",function(){var S,A=w.props,_=A.children,E=A.accessibilityLayer,O=Wr(_,Zi);if(!O)return null;var R=w.state,P=R.isTooltipActive,L=R.activeCoordinate,C=R.activePayload,F=R.activeLabel,q=R.offset,B=(S=O.props.active)!==null&&S!==void 0?S:P;return N.cloneElement(O,{viewBox:he(he({},q),{},{x:q.left,y:q.top}),active:B,label:F,payload:B?C:[],coordinate:L,accessibilityLayer:E})}),Me(w,"renderBrush",function(S){var A=w.props,_=A.margin,E=A.data,O=w.state,R=O.offset,P=O.dataStartIndex,L=O.dataEndIndex,C=O.updateId;return N.cloneElement(S,{key:S.key||"_recharts-brush",onChange:tv(w.handleBrushChange,S.props.onChange),data:E,x:ke(S.props.x)?S.props.x:R.left,y:ke(S.props.y)?S.props.y:R.top+R.height+R.brushBottom-(_.bottom||0),width:ke(S.props.width)?S.props.width:R.width,startIndex:P,endIndex:L,updateId:"brush-".concat(C)})}),Me(w,"renderReferenceElement",function(S,A,_){if(!S)return null;var E=w,O=E.clipPathId,R=w.state,P=R.xAxisMap,L=R.yAxisMap,C=R.offset,F=S.type.defaultProps||{},q=S.props,B=q.xAxisId,W=B===void 0?F.xAxisId:B,G=q.yAxisId,M=G===void 0?F.yAxisId:G;return N.cloneElement(S,{key:S.key||"".concat(A,"-").concat(_),xAxis:P[W],yAxis:L[M],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:O})}),Me(w,"renderActivePoints",function(S){var A=S.item,_=S.activePoint,E=S.basePoint,O=S.childIndex,R=S.isRange,P=[],L=A.props.key,C=A.item.type.defaultProps!==void 0?he(he({},A.item.type.defaultProps),A.item.props):A.item.props,F=C.activeDot,q=C.dataKey,B=he(he({index:O,dataKey:q,cx:_.x,cy:_.y,r:4,fill:LP(A.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Qe(F,!1)),$b(F));return P.push(y.renderActiveDot(F,B,"".concat(L,"-activePoint-").concat(O))),E?P.push(y.renderActiveDot(F,he(he({},B),{},{cx:E.x,cy:E.y}),"".concat(L,"-basePoint-").concat(O))):R&&P.push(null),P}),Me(w,"renderGraphicChild",function(S,A,_){var E=w.filterFormatItem(S,A,_);if(!E)return null;var O=w.getTooltipEventType(),R=w.state,P=R.isTooltipActive,L=R.tooltipAxis,C=R.activeTooltipIndex,F=R.activeLabel,q=w.props.children,B=Wr(q,Zi),W=E.props,G=W.points,M=W.isRange,V=W.baseLine,U=E.item.type.defaultProps!==void 0?he(he({},E.item.type.defaultProps),E.item.props):E.item.props,j=U.activeDot,Q=U.hide,ae=U.activeBar,me=U.activeShape,pe=!!(!Q&&P&&B&&(j||ae||me)),ue={};O!=="axis"&&B&&B.props.trigger==="click"?ue={onClick:tv(w.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:tv(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:tv(w.handleItemMouseEnter,S.props.onMouseEnter)});var re=N.cloneElement(S,he(he({},E.props),ue));function de(te){return typeof L.dataKey=="function"?L.dataKey(te.payload):null}if(pe)if(C>=0){var fe,ie;if(L.dataKey&&!L.allowDuplicatedCategory){var Se=typeof L.dataKey=="function"?de:"payload.".concat(L.dataKey.toString());fe=Db(G,Se,F),ie=M&&V&&Db(V,Se,F)}else fe=G==null?void 0:G[C],ie=M&&V&&V[C];if(me||ae){var I=S.props.activeIndex!==void 0?S.props.activeIndex:C;return[N.cloneElement(S,he(he(he({},E.props),ue),{},{activeIndex:I})),null,null]}if(!Xe(fe))return[re].concat(Ud(w.renderActivePoints({item:E,activePoint:fe,basePoint:ie,childIndex:C,isRange:M})))}else{var ee,K=(ee=w.getItemByXY(w.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:re},X=K.graphicalItem,H=X.item,Y=H===void 0?S:H,se=X.childIndex,ce=he(he(he({},E.props),ue),{},{activeIndex:se});return[N.cloneElement(Y,ce),null,null]}return M?[re,null,null]:[re,null]}),Me(w,"renderCustomized",function(S,A,_){return N.cloneElement(S,he(he({key:"recharts-customized-".concat(_)},w.props),w.state))}),Me(w,"renderMap",{CartesianGrid:{handler:sv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:sv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:sv},YAxis:{handler:sv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:oy("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=fz(w.triggeredAfterMouseMove,(k=b.throttleDelay)!==null&&k!==void 0?k:1e3/60),w.state={},w}return Qke(y,v),Xke(y,[{key:"componentDidMount",value:function(){var x,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,k=x.children,w=x.data,S=x.height,A=x.layout,_=Wr(k,Zi);if(_){var E=_.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,R=QA(this.state,w,E,O),P=this.state.tooltipTicks[E].coordinate,L=(this.state.offset.top+S)/2,C=A==="horizontal",F=C?{x:P,y:L}:{y:P,x:L},q=this.state.formattedGraphicalItems.find(function(W){var G=W.item;return G.type.name==="Scatter"});q&&(F=he(he({},F),q.props.points[E].tooltipPosition),R=q.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:O,activePayload:R,activeCoordinate:F};this.setState(B),this.renderCursor(_),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){T_([Wr(x.children,Zi)],[Wr(this.props.children,Zi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Wr(this.props.children,Zi);if(x&&typeof x.props.shared=="boolean"){var k=x.props.shared?"axis":"item";return o.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var k=this.container,w=k.getBoundingClientRect(),S=Wde(w),A={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},_=w.width/k.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,_);if(!E)return null;var O=this.state,R=O.xAxisMap,P=O.yAxisMap,L=this.getTooltipEventType(),C=zR(this.state,this.props.data,this.props.layout,E);if(L!=="axis"&&R&&P){var F=uo(R).scale,q=uo(P).scale,B=F&&F.invert?F.invert(A.chartX):null,W=q&&q.invert?q.invert(A.chartY):null;return he(he({},A),{},{xValue:B,yValue:W},C)}return C?he(he({},A),C):null}},{key:"inRange",value:function(x,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=x/w,_=k/w;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,O=A>=E.left&&A<=E.left+E.width&&_>=E.top&&_<=E.top+E.height;return O?{x:A,y:_}:null}var R=this.state,P=R.angleAxisMap,L=R.radiusAxisMap;if(P&&L){var C=uo(P);return AN({x:A,y:_},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,k=this.getTooltipEventType(),w=Wr(x,Zi),S={};w&&k==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=$b(this.props,this.handleOuterEvent);return he(he({},A),S)}},{key:"addListener",value:function(){W1.on(V1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){W1.removeListener(V1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,k,w){for(var S=this.state.formattedGraphicalItems,A=0,_=S.length;A<_;A++){var E=S[A];if(E.item===x||E.props.key===x.key||k===Ns(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,k=this.state.offset,w=k.left,S=k.top,A=k.height,_=k.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:x},ne.createElement("rect",{x:w,y:S,height:A,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(k,w){var S=$R(w,2),A=S[0],_=S[1];return he(he({},k),{},Me({},A,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(k,w){var S=$R(w,2),A=S[0],_=S[1];return he(he({},k),{},Me({},A,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(x){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[x])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(x){var k=this.state,w=k.formattedGraphicalItems,S=k.activeItem;if(w&&w.length)for(var A=0,_=w.length;A<_;A++){var E=w[A],O=E.props,R=E.item,P=R.type.defaultProps!==void 0?he(he({},R.type.defaultProps),R.props):R.props,L=Ns(R.type);if(L==="Bar"){var C=(O.data||[]).find(function(W){return T0e(x,W)});if(C)return{graphicalItem:E,payload:C}}else if(L==="RadialBar"){var F=(O.data||[]).find(function(W){return AN(x,W)});if(F)return{graphicalItem:E,payload:F}}else if(fw(E,S)||pw(E,S)||_m(E,S)){var q=Mxe({graphicalItem:E,activeTooltipItem:S,itemData:P.data}),B=P.activeIndex===void 0?q:P.activeIndex;return{graphicalItem:he(he({},E),{},{childIndex:B}),payload:_m(E,S)?P.data[q]:E.props.data[q]}}}return null}},{key:"render",value:function(){var x=this;if(!mI(this))return null;var k=this.props,w=k.children,S=k.className,A=k.width,_=k.height,E=k.style,O=k.compact,R=k.title,P=k.desc,L=FR(k,zke),C=Qe(L,!1);if(O)return ne.createElement(xR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(I_,Kc({},C,{width:A,height:_,title:R,desc:P}),this.renderClipPath(),yI(w,this.renderMap)));if(this.props.accessibilityLayer){var F,q;C.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,C.role=(q=this.props.role)!==null&&q!==void 0?q:"application",C.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},C.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return ne.createElement(xR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Kc({className:qe("recharts-wrapper",S),style:he({position:"relative",cursor:"default",width:A,height:_},E)},B,{ref:function(G){x.container=G}}),ne.createElement(I_,Kc({},C,{width:A,height:_,title:R,desc:P,style:i_e}),this.renderClipPath(),yI(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Me(g,"displayName",n),Me(g,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Me(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,k=v.children,w=v.width,S=v.height,A=v.layout,_=v.stackOffset,E=v.margin,O=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var P=UR(v);return he(he(he({},P),{},{updateId:0},f(he(he({props:v},P),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:A,prevStackOffset:_,prevMargin:E,prevChildren:k})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||A!==y.prevLayout||_!==y.prevStackOffset||!uh(E,y.prevMargin)){var L=UR(v),C={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},F=he(he({},zR(y,x,A)),{},{updateId:y.updateId+1}),q=he(he(he({},L),C),F);return he(he(he({},q),f(he({props:v},q),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:S,prevLayout:A,prevStackOffset:_,prevMargin:E,prevChildren:k})}if(!T_(k,y.prevChildren)){var B,W,G,M,V=Wr(k,Od),U=V&&(B=(W=V.props)===null||W===void 0?void 0:W.startIndex)!==null&&B!==void 0?B:O,j=V&&(G=(M=V.props)===null||M===void 0?void 0:M.endIndex)!==null&&G!==void 0?G:R,Q=U!==O||j!==R,ae=!Xe(x),me=ae&&!Q?y.updateId:y.updateId+1;return he(he({updateId:me},f(he(he({props:v},y),{},{updateId:me,dataStartIndex:U,dataEndIndex:j}),y)),{},{prevChildren:k,dataStartIndex:U,dataEndIndex:j})}return null}),Me(g,"renderActiveDot",function(v,y,b){var x;return N.isValidElement(v)?x=N.cloneElement(v,y):Ue(v)?x=v(y):x=ne.createElement(DP,y),ne.createElement(qt,{className:"recharts-active-dot",key:b},x)});var p=N.forwardRef(function(y,b){return ne.createElement(g,Kc({},y,{ref:b}))});return p.displayName=g.displayName,p},p_e=A4({chartName:"LineChart",GraphicalChild:py,axisComponents:[{axisType:"xAxis",AxisComp:$d},{axisType:"yAxis",AxisComp:Bd}],formatAxisMap:H5}),m_e=A4({chartName:"BarChart",GraphicalChild:pc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$d},{axisType:"yAxis",AxisComp:Bd}],formatAxisMap:H5});const E4="csvPrefs";async function g_e(t){return ul(E4,t)}async function y_e(t){await ca(E4,{...t,fileId:t.fileId})}function v_e(t){const n=AQ.parse(t,{skipEmptyLines:!0}).data.filter(r=>r.length>0);return n.length?n.map(r=>r.map(i=>(i??"").trim())):n}function b_e(t){if(t==null||String(t).trim()==="")return!1;const e=Number(t);return Number.isFinite(e)}function WR(t,e){let n=0,r=0;for(const i of t){const a=i[e];a==null||String(a).trim()===""||(r++,b_e(String(a))&&n++)}return r>0&&n>=r/2}function q1(t){if(t==null||String(t).trim()==="")return null;const e=Number(t);return Number.isFinite(e)?e:null}function x_e(t){const e=String(t).trim();return/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d+$/.test(e)}function w_e(){const{items:t,getItem:e}=oC(),n=t.filter(O=>Gc(O)&&O.fileType==="csv"),[r,i]=N.useState(null),[a,s]=N.useState(null),[o,l]=N.useState([]),u=r?e(r):null,c=u&&Gc(u)?u:null;N.useEffect(()=>{if(!r){l([]);return}g_e(r).then(O=>s(O??{fileId:r}))},[r]),N.useEffect(()=>{if(!c){l([]);return}l(v_e(c.content))},[c]);const h=N.useCallback(async O=>{if(!r)return;const R={...a,...O,fileId:r};s(R),await y_e(R)},[r,a]),d=o[0]??[],f=o.slice(1),g=a!=null&&a.xColumn&&d.includes(a.xColumn)?a.xColumn:d[0],p=a!=null&&a.yColumn&&d.includes(a.yColumn)?a.yColumn:d[1],v=(a==null?void 0:a.chartType)??"bar",y=(a==null?void 0:a.aggregation)??"sum",b=d.indexOf(g),x=d.indexOf(p),k=x>=0&&WR(f,x),w=b>=0&&WR(f,b),S=f.map(O=>{const R={};return d.forEach((P,L)=>{const C=O[L]??"",F=q1(String(C));R[P]=F!==null?F:C||""}),R}),A=S.some(O=>{const R=O[p];return R!=null&&R!==""&&(typeof R=="number"||!Number.isNaN(Number(R)))}),_=k||A;let E;if(v==="line"){if(E=[...S].map(O=>({...O,[p]:typeof O[p]=="number"?O[p]:q1(String(O[p]??""))})),g&&E.length>0){const O=E[0][g];w&&typeof O=="number"?E.sort((R,P)=>(Number(R[g])??0)-(Number(P[g])??0)):typeof O=="string"&&x_e(O)&&E.sort((R,P)=>String(R[g]).localeCompare(String(P[g])))}}else{const O=new Map;for(const P of S){const L=String(P[g]??""),F=(typeof P[p]=="number"?P[p]:q1(String(P[p]??"")))??0,q=O.get(L);q?(q.sum+=F,q.count+=1):O.set(L,{sum:F,count:1})}E=[...new Set(S.map(P=>String(P[g]??"")))].map(P=>{const L=O.get(P),C=y==="average"?L.sum/L.count:L.sum;return{[g]:P,[p]:C}})}return n.length===0?T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-8 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"CSV Visualizer"}),T.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"No CSV files in your workspace. Import a CSV file from the Workspace section first."})]}):T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("label",{htmlFor:"csv-file-select",className:"mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Select CSV file"}),T.jsxs("select",{id:"csv-file-select",className:"rounded-lg border border-slate-300 bg-white px-3 py-2 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:r??"",onChange:O=>i(O.target.value||null),children:[T.jsx("option",{value:"",children:"Choose a file..."}),n.map(O=>T.jsx("option",{value:O.id,children:O.name},O.id))]})]}),c&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart options"}),T.jsxs("div",{className:"flex flex-wrap gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"csv-x",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"X axis"}),T.jsx("select",{id:"csv-x",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:g,onChange:O=>h({xColumn:O.target.value}),children:d.map(O=>T.jsx("option",{value:O,children:O},O))})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"csv-y",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Y axis"}),T.jsx("select",{id:"csv-y",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:p,onChange:O=>h({yColumn:O.target.value}),children:d.map(O=>T.jsx("option",{value:O,children:O},O))})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"csv-type",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Chart type"}),T.jsxs("select",{id:"csv-type",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:v,onChange:O=>h({chartType:O.target.value}),children:[T.jsx("option",{value:"bar",children:"Bar"}),T.jsx("option",{value:"line",children:"Line"})]})]}),v==="bar"&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"csv-agg",className:"mr-2 text-sm text-slate-600 dark:text-slate-400",children:"Aggregation"}),T.jsxs("select",{id:"csv-agg",className:"rounded border border-slate-300 bg-white px-2 py-1 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-200",value:y,onChange:O=>h({aggregation:O.target.value}),children:[T.jsx("option",{value:"sum",children:"Sum"}),T.jsx("option",{value:"average",children:"Average"})]})]})]})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Table"}),T.jsxs("div",{className:"overflow-x-auto",children:[T.jsxs("table",{className:"w-full min-w-[400px] text-left text-sm",children:[T.jsx("thead",{children:T.jsx("tr",{className:"border-b border-slate-200 dark:border-slate-600",children:d.map(O=>T.jsx("th",{className:"px-2 py-1.5 font-medium text-slate-800 dark:text-slate-100",children:O},O))})}),T.jsx("tbody",{children:f.slice(0,50).map((O,R)=>T.jsx("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:d.map((P,L)=>T.jsx("td",{className:"px-2 py-1.5 text-slate-600 dark:text-slate-400",children:O[L]},L))},R))})]}),f.length>50&&T.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Showing first 50 rows."})]})]}),T.jsxs("div",{className:"h-[300px] rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"mb-2 text-sm font-medium text-slate-800 dark:text-slate-100",children:"Chart"}),g&&p&&!_?T.jsx("p",{className:"text-amber-600 dark:text-amber-400",children:"Selected Y column has no numeric data."}):g&&p&&E.length>0&&_?T.jsx(Dde,{width:"100%",height:"90%",children:v==="bar"?T.jsxs(m_e,{data:E,children:[T.jsx(zA,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),T.jsx($d,{dataKey:g,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),T.jsx(Bd,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),T.jsx(Zi,{}),T.jsx(pc,{dataKey:p,fill:"#3b82f6"})]}):T.jsxs(p_e,{data:E,children:[T.jsx(zA,{strokeDasharray:"3 3",className:"stroke-slate-200 dark:stroke-slate-600"}),T.jsx($d,{dataKey:g,className:"text-xs",tickFormatter:O=>String(O).length>12?String(O).slice(0,10)+"":O}),T.jsx(Bd,{className:"text-xs",tickFormatter:O=>typeof O=="number"&&(O>=1e6||O<=-1e6||O<.01&&O>-.01&&O!==0)?O.toExponential(1):String(O)}),T.jsx(Zi,{}),T.jsx(py,{type:"monotone",dataKey:p,stroke:"#3b82f6",connectNulls:!1})]})}):T.jsx("p",{className:"text-slate-500",children:"Select X and Y columns to show a chart."})]})]}),r&&!c&&T.jsx("p",{className:"text-slate-500",children:"File not found. It may have been deleted."})]})}function S_e(){const{theme:t,setTheme:e,compact:n,setCompact:r,sidebarCollapsed:i}=_D();return T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Settings"}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Theme"}),T.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Choose Light, Dark, or Sepia."}),T.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:mH.map(a=>T.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 text-sm font-medium capitalize ${t===a?"bg-blue-600 text-white":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"}`,onClick:()=>e(a),children:a},a))})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Compact mode"}),T.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Reduce padding and font size across the app."}),T.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[T.jsx("button",{type:"button",role:"switch","aria-checked":n,className:`relative inline-flex h-6 w-11 flex-shrink-0 rounded-full transition-colors ${n?"bg-blue-600":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>r(!n),children:T.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${n?"translate-x-5":"translate-x-0.5"}`,style:{marginTop:2}})}),T.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:n?"On":"Off"})]})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[T.jsx("h3",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:"Sidebar"}),T.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["Sidebar is ",i?"collapsed":"expanded",". Use the collapse/expand button on the sidebar to change it."]})]})]})}const k_e={workspace:Z3,study:XZ,media:kQ,csv:w_e,settings:S_e};function __e(){const{section:t}=QE(),n=k_e[t??"workspace"]??Z3;return T.jsx(n,{})}function A_e(){const[t]=hH(),e=Xd(),[n,r]=N.useState("pending"),[i,a]=N.useState("");return N.useEffect(()=>{const s=t.get("code"),o=t.get("state"),l=t.get("error");if(l){const c=t.get("error_description")??l;a(c==="access_denied"?"You denied access. You can connect again from Media.":c),r("error");const h=setTimeout(()=>e("/app/media",{replace:!0,state:{spotifyError:!0}}),2500);return()=>clearTimeout(h)}if(!s||!o){a("Missing code or state. Try connecting again from Media."),r("error");const c=setTimeout(()=>e("/app/media",{replace:!0}),2500);return()=>clearTimeout(c)}let u=!1;return YZ(s,o).then(c=>{if(!u)if(c.ok)r("ok"),e("/app/media",{replace:!0,state:{spotifyConnected:!0}});else{a(c.error??"Token exchange failed."),r("error");const h=setTimeout(()=>e("/app/media",{replace:!0,state:{spotifyError:!0}}),3e3);return()=>clearTimeout(h)}}),()=>{u=!0}},[t,e]),T.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:[n==="pending"&&T.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Connecting to Spotify"}),n==="ok"&&T.jsx("p",{className:"text-green-600 dark:text-green-400",children:"Connected. Redirecting"}),n==="error"&&T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"text-red-600 dark:text-red-400",role:"alert",children:i}),T.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Redirecting to Media."})]})]})}function E_e(){return T.jsxs(JU,{children:[T.jsx(wl,{path:"/",element:T.jsx(WH,{})}),T.jsxs(wl,{path:"/app",element:T.jsx(cW,{}),children:[T.jsx(wl,{index:!0,element:T.jsx(hW,{})}),T.jsx(wl,{path:"spotify-callback",element:T.jsx(A_e,{})}),T.jsx(wl,{path:":section",element:T.jsx(__e,{})})]}),T.jsx(wl,{path:"*",element:T.jsx(JE,{to:"/",replace:!0})})]})}aD(document.getElementById("root")).render(T.jsx(N.StrictMode,{children:T.jsx(FH,{children:T.jsx(PH,{children:T.jsx(NH,{children:T.jsx(LH,{children:T.jsx(oH,{children:T.jsx(E_e,{})})})})})})}));
